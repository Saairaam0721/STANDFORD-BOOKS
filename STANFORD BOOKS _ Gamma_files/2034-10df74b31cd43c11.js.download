"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2034],{2318:(e,n,i)=>{i.d(n,{Hz:()=>t});let s=e=>(n,i)=>n.id===e?1:i.id===e?-1:0,t=(e,n)=>[...e].sort(s(n))},8909:(e,n,i)=>{i.d(n,{q:()=>T});var s=i(81278),t=i.n(s),a=i(55729),l=i(39892),r=i(15342),o=i(95889),d=i(82927),c=i(20939),x=i(68422),u=i(38944),h=i(6029),p=i(46898),j=i(26385),m=i(48810),b=i(49611),g=i(19564),v=i(88586),f=i(73616);let C=e=>{let{currentChannelId:n,activeChannel:i,workspaceId:s}=e,l=(0,p.d)(),r="channel-preview",{joinChannel:o}=(0,f.Z)(),{data:d,called:c,error:x,loading:C}=(0,v.pc2)({variables:{id:n,workspaceId:s},skip:i||!n||!s}),y=n&&!i&&(null==d?void 0:d.channel)?d.channel:null;return(0,a.useEffect)(()=>{x&&console.error("[useChannelsData] Error fetching channelPreview",x),(x||c&&y&&y.archived)&&t().replace("/#".concat(u.Jj))},[x,y,c,C]),(0,a.useEffect)(()=>{let e=n&&y;if(e||l.close(r),e){let e=y.name;l.isActive(r)||l({id:r,duration:null,position:"top",isClosable:!0,title:(0,h.jsxs)(j.B,{direction:"row",children:[(0,h.jsx)(m.E,{flex:1,children:(0,h.jsx)(g.x6,{id:"REl4b1",values:{channelName:e}})}),(0,h.jsx)(b.$,{size:"sm",width:"fit-content",display:"block",onClick:()=>{if(!n||!y)return void console.error("No active channel id");o({channel:{...y},workspaceId:s}).then(()=>{l.close(r)})},variant:"solid",children:(0,h.jsx)(g.x6,{id:"0wdd7X"})})]})})}return()=>{l.close(r)}},[n,y,o,l,s]),{channelPreview:y}},y=e=>{let{workspaceId:n,user:i}=e,{query:t}=(0,s.useRouter)(),l=Array.isArray(t.channelSlug)?t.channelSlug[0]:t.channelSlug,r=l?l.slice(-15):null,{data:o,loading:d,subscribeToMore:c}=(0,v.oXG)({variables:{workspaceId:n},skip:!i||!i.workspaceMemberships||!n,returnPartialData:!0});(0,a.useEffect)(()=>{if(c&&n)return c({document:v.U1V,variables:{workspaceId:n},onError:e=>{}})},[c,n]);let x=((null==o?void 0:o.channels)||[]).filter(e=>e.isMember&&!e.archived).sort((e,n)=>e.slug.localeCompare(n.slug,"en")),u=x.find(e=>e.id===r),{channelPreview:h}=C({currentChannelId:r,activeChannel:u,workspaceId:n});return{channelPreview:h,currentChannelId:r,channels:x,isChannelsLoading:d,activeChannel:u}},E=e=>{let{currentChannel:n,currentWorkspaceId:i}=e,{replace:t}=(0,s.useRouter)();(0,a.useEffect)(()=>{i&&n&&n.workspaceId!==i&&t("/")},[n,i,t])};var w=i(95975),A=i(70006);let S=e=>Object.values(x.n8).find(n=>n===e),T=()=>{let{user:e,currentWorkspace:n}=(0,d.ur)(),{isReady:i,route:h}=(0,s.useRouter)(),p=(0,l.Fd)(),j=!!(e&&0===e.workspaceMemberships.length),m=S((0,A.M$)()),{channelPreview:b,channels:g,activeChannel:v,currentChannelId:f,isChannelsLoading:C}=y({workspaceId:null==n?void 0:n.id,user:e});E({currentChannel:b||v,currentWorkspaceId:null==n?void 0:n.id});let{state:T,dispatch:_}=(0,c.YR)(),I=T.activeTab,R=(0,r.jL)(),k=(0,r.GV)(w.kx),O=(0,a.useCallback)(e=>{R((0,w.aL)({isSidebarVisible:e}))},[R]);return(0,a.useEffect)(()=>{let e=f?x.n8.CHANNEL:m||("/settings"===h?"settings":void 0)||u.Jj;e!==I&&_({type:"SET_ACTIVE_TAB",payload:e})},[I,f,_,h,m]),(0,a.useEffect)(()=>{p||"sites"!==I||t().replace("/")},[p,I]),(0,a.useEffect)(()=>{O(!1)},[]),(0,a.useEffect)(()=>{i&&(j?t().replace("/#".concat(x.n8.SHARED_WITH_YOU)):setTimeout(()=>{R((0,w.aL)({isSidebarVisible:!1}))},150))},[R,m,f,j,i]),(0,o.JQ)(e=>{e.track(o.VV.HOME_TAB_VIEWED,{tab:I})},[I]),{channelPreview:b,channels:g,activeChannel:v,currentChannelId:f,isChannelsLoading:C,activeTab:I,isSidebarVisible:k,setIsSidebarVisible:O,sitesEnabled:p,userHasNoWorkspaces:j,user:e,currentWorkspace:n}}},17206:(e,n,i)=>{i.d(n,{n:()=>B,j:()=>G});var s=i(6029),t=i(12514),a=i(40452),l=i(64268),r=i(26385),o=i(48810),d=i(49611),c=i(77364),x=i(99492),u=i(48621),h=i(55729),p=i(5061),j=i(15342),m=i(43634),b=i(29608),g=i(28615),v=i(11403),f=i(6807),C=i(85732),y=i(68986),E=i(19564),w=i(68301),A=i(70006),S=i(99038),T=i(80314),_=i(67604),I=i(47117),R=i(86025),k=i(14900),O=i(95889),N=i(82927),M=i(74003),P=i(86992),D=i(14322),L=i(65148);let z=[{Component:()=>{let e=(0,w.u)("outageButterbar");if(!e.enabled)return null;let{header:n,text:i,buttonLink:t,buttonText:a,key:l,pathnameRegexp:r}=e;return(0,s.jsx)(G,{definition:{key:l,header:n,text:i,buttonText:a,buttonLink:t,conditions:()=>!r||null!==window.location.pathname.match(new RegExp(r))}})},key:"outage-butterbar"},{Component:()=>"NORMAL"===(0,w.u)("openAiStatus")?null:(0,s.jsx)(G,{definition:{key:"ai-service-status",header:(0,s.jsx)(E.x6,{id:"1Agl06"}),text:(0,s.jsx)(E.x6,{id:"cCl6WD"}),ttl:86400,conditions:()=>(0,A.a5)(window.location.pathname)}}),key:"ai-service-status-butterbar"},{Component:()=>{var e,n,i;let{user:t,currentWorkspace:a}=(0,N.ur)(),{subscription:l,product:r}=(0,M.I)(),{launchFailedPaymentFlow:o,failedPaymentFlowEnabled:d}=(0,R.yf)({subscription:l,workspace:a,autoLaunch:!1});if(!l||!r)return null;let{name:c,dontChurnMessage:x}=(0,P.O)()[r],{status:u,expirationTime:h,id:p}=l,j=(0,k.Yq)(h,"MMMM do, yyyy"),m=(null==l||null==(e=l.createdByUser)?void 0:e.id)===(null==t?void 0:t.id),b=(0,D.AY)(),g=h>Date.now();if("unpaid"!==u&&"past_due"!==u&&!g)return null;let v=b&&(m||!(null==l?void 0:l.createdByUser))?(0,s.jsx)(E.x6,{id:"velw1T",values:{expirationFormatted:j,GAMMA_PROPER_NOUN:S.On,productName:c},components:{0:(0,s.jsx)(T.N,{href:d?void 0:b,onClick:d?o:void 0,isExternal:!0,textDecoration:"underline"})}}):(0,s.jsx)(E.x6,{id:"9aBOfk",values:{expirationFormatted:j,GAMMA_PROPER_NOUN:S.On,productName:c,0:null==(n=l.createdByUser)?void 0:n.displayName,1:null==(i=l.createdByUser)?void 0:i.email},components:{0:(0,s.jsx)("b",{}),1:(0,s.jsx)("b",{})}});return(0,s.jsx)(G,{definition:{key:"payment-overdue-".concat(p),header:(0,s.jsx)(E.x6,{id:"Lac1Vj",values:{GAMMA_PROPER_NOUN:S.On,productName:c}}),text:(0,s.jsxs)(s.Fragment,{children:[x," ",v]}),buttonText:(0,s.jsx)(E.x6,{id:"WLvqZR"}),buttonLink:d?void 0:b,buttonOnClick:d?o:void 0}})},key:"payment-overdue-butterbar"},{Component:()=>{let{subscription:e,openUpsellModal:n}=(0,M.I)();if(!e)return null;let{status:i,expirationTime:t,id:a}=e;if(!(new Date>(0,_.A)(t)&&new Date<(0,I.A)((0,_.A)(t),{days:10})))return null;let l=()=>n({segmentEvent:O.VV.GAMMA_PRO_UPSELL_SUBSCRIPTION_EXPIRED_BUTTERBAR}),r=(0,s.jsx)(T.N,{onClick:l,isExternal:!0,textDecoration:"underline",children:(0,s.jsx)(E.x6,{id:"mj68q/"})});return(0,s.jsx)(G,{definition:{key:"subscription-expired-".concat(a),header:(0,s.jsx)(E.x6,{id:"0hHZEf",values:{GAMMA_PROPER_NOUN:S.On}}),text:(0,s.jsxs)(s.Fragment,{children:["unpaid"===i||"past_due"===i?(0,s.jsx)(E.x6,{id:"QdgXJv"}):""," ",r]}),buttonText:(0,s.jsx)(E.x6,{id:"kwkhPe"}),buttonOnClick:l}})},key:"subscription-expired-butterbar"},{Component:()=>{var e,n,i;let{user:t}=(0,N.ur)(),{subscription:a,product:l}=(0,M.I)();if(!a||!l)return null;let{status:r,expirationTime:o,id:d,cancellationRequestedTime:c}=a;if(!("canceled"!=r&&c&&new Date<(0,_.A)(o)&&new Date>(0,I.A)((0,_.A)(o),{days:-7})))return null;let x=(null==a||null==(e=a.createdByUser)?void 0:e.id)===(null==t?void 0:t.id),u=(0,D.AY)(),h=(0,k.Yq)(o,"MMMM do, yyyy"),{name:p,dontChurnMessage:j}=(0,P.O)()[l],m=!x&&(null==a?void 0:a.createdByUser)?(0,s.jsx)(E.x6,{id:"z4DeyC",values:{expirationFormatted:h,GAMMA_PROPER_NOUN:S.On,productName:p,0:null==(n=a.createdByUser)?void 0:n.displayName,1:null==(i=a.createdByUser)?void 0:i.email},components:{0:(0,s.jsx)("b",{}),1:(0,s.jsx)("b",{})}}):(0,s.jsx)(E.x6,{id:"qP91+f",values:{expirationFormatted:h,GAMMA_PROPER_NOUN:S.On,productName:p},components:{0:(0,s.jsx)(T.N,{href:u,isExternal:!0,textDecoration:"underline"})}});return(0,s.jsx)(G,{definition:{key:"subscription-ending-soon-".concat(d),header:(0,s.jsx)(E.x6,{id:"66dedh",values:{GAMMA_PROPER_NOUN:S.On,productName:p}}),text:(0,s.jsxs)(s.Fragment,{children:[j," ",m]}),buttonText:(0,s.jsx)(E.x6,{id:"3jHA5d"}),buttonLink:u}})},key:"upcoming-cancellation-butterbar"},{key:"tablet-browser-warning",header:(0,s.jsx)(E.x6,{id:"JAtlMu",values:{GAMMA_PROPER_NOUN:S.On}}),text:(0,s.jsx)(E.x6,{id:"9JlCFS",values:{GAMMA_PROPER_NOUN:S.On}}),conditions:()=>(0,b.Pg)(),dismissKey:L.E.lastDismissedPreferredBrowserMessage},{key:"desktop-browser-warning",header:(0,s.jsx)(E.x6,{id:"3S0+Wy",values:{GAMMA_PROPER_NOUN:S.On}}),text:(0,s.jsx)(E.x6,{id:"Tf7VpJ"}),conditions:()=>U()&&(0,b.bh)(),dismissKey:L.E.lastDismissedPreferredBrowserMessage}],U=()=>(0,b.z3)()||!(0,b.H8)()&&!(0,b.nr)()&&!(0,b.yE)(),B=e=>{let{isViewOnly:n}=e,i=(0,v.En)(),l=(0,j.GV)(m.VJ);if(n||!i||(0,b.rA)()||g.D1||(0,C.NF)()||l)return null;let r=z.map(e=>"Component"in e?(0,s.jsx)(e.Component,{},e.key):(0,s.jsx)(G,{definition:e},e.key));return(0,s.jsx)(t.Z,{children:(0,s.jsx)(a.s,{"data-testid":"butterbar",direction:"column",top:2,pos:"absolute",zIndex:"toast",sx:{"> *:not(:first-child)":{display:"none"}},children:r})})},G=e=>{let{definition:n}=e,i=(0,p.fW)(),{key:t,dismissKey:j="butterbar-dismiss-".concat(t),header:m,text:b,buttonText:g,buttonLink:v,buttonOnClick:C=v?()=>window.open(v,"_blank"):void 0,conditions:E,ttl:w}=n,[A,S]=(0,f.M)(j,!1);if((0,h.useEffect)(()=>{if(w&&A)new Date().getTime()-new Date(A).getTime()>1e3*w&&y.x.removeItem(j)},[j,A,w]),E&&!E()||A)return null;let T=g&&C;return(0,s.jsxs)(l.F,{gap:4,position:"fixed",insetStart:"50%",transform:"translateX(".concat(i?"50%":"-50%",")"),shadow:"lg",width:{base:"calc(100% - 1rem)",md:"auto"},flexDirection:{base:"column",lg:"row"},alignItems:{base:"flex-start",lg:"center"},colorScheme:"pink",variant:"solid",children:[(0,s.jsxs)(r.B,{spacing:0,flex:1,pe:{base:12,lg:0},children:[(0,s.jsx)(o.E,{fontWeight:"bold",children:m}),(0,s.jsx)(o.E,{opacity:"0.7",fontSize:"xs",children:b})]}),T&&(0,s.jsx)(d.$,{flexShrink:0,variant:"plain",size:"sm",rightIcon:v?(0,s.jsx)(u.g,{icon:x.Ju_}):void 0,onClick:C,children:g}),(0,s.jsx)(a.s,{alignSelf:"flex-start",position:{base:"absolute",lg:"static"},insetEnd:4,top:4,children:(0,s.jsx)(c.J,{variant:"solid-alert",size:"sm",onClick:()=>{S(String(new Date))}})})]})}},20939:(e,n,i)=>{i.d(n,{Je:()=>c,TQ:()=>d,YR:()=>o});var s=i(6029),t=i(55729);let a={activeTab:i(68422).n8.ALL,activeTabBgColor:void 0},l=(0,t.createContext)({state:a,dispatch:()=>{throw Error("dispatch function must be overridden")}}),r=(e,n)=>{switch(n.type){case"SET_ACTIVE_TAB":return{...e,activeTab:n.payload,activeTabBgColor:void 0};case"SET_ACTIVE_TAB_BG_COLOR":return{...e,activeTabBgColor:n.color};default:return e}},o=()=>{let e=(0,t.useContext)(l);if(void 0===e)throw Error("useActiveTabContext must be used within a ActiveTabProvider");return e},d=e=>{let{children:n}=e,[i,o]=(0,t.useReducer)(r,a);return(0,s.jsx)(l.Provider,{value:{state:i,dispatch:o},children:n})},c=()=>{let{state:e,dispatch:n}=o(),i=(0,t.useCallback)(e=>n({type:"SET_ACTIVE_TAB_BG_COLOR",color:e}),[n]);return[e.activeTabBgColor,i]}},26545:(e,n,i)=>{i.d(n,{e:()=>s.e});var s=i(65100)},38944:(e,n,i)=>{i.d(n,{CW:()=>o,Hd:()=>x,Jj:()=>d,Zv:()=>r,eT:()=>c});var s=i(6029),t=i(19564),a=i(88586),l=i(68422);let r=[{key:a.vY2.EditedTime,label:(0,s.jsx)(t.x6,{id:"acZeX2"})},{key:a.vY2.CreatedTime,label:(0,s.jsx)(t.x6,{id:"u46WEi"})}],o=[{key:a.vY2.LastViewed,label:(0,s.jsx)(t.x6,{id:"UOgIR2"})},{key:a.vY2.LastEdited,label:(0,s.jsx)(t.x6,{id:"acZeX2"})},{key:a.vY2.Favorited,label:(0,s.jsx)(t.x6,{id:"2TANrw"})}],d=l.n8.ALL,c=a.vY2.EditedTime,x=[a.vY2.LastViewed,a.vY2.LastEdited,a.vY2.Favorited]},41974:(e,n,i)=>{i.d(n,{Z:()=>c});var s=i(6029),t=i(5858),a=i(21938),l=i(81340),r=i(45460),o=i(8527),d=i(2241);let c=(0,r.R)(function(e,n){let{className:i,children:r,direction:c="column",justify:x,align:u,...h}=(0,t.M)(e),p=(0,o.o)("Card",e);return(0,s.jsx)(d.B.div,{ref:n,className:(0,a.cx)("chakra-card",i),__css:{display:"flex",flexDirection:c,justifyContent:x,alignItems:u,position:"relative",minWidth:0,wordWrap:"break-word",...p.container},...h,children:(0,s.jsx)(l.s,{value:p,children:r})})})},63315:(e,n,i)=>{i.d(n,{M:()=>np});var s=i(6029),t=i(40452),a=i(83004),l=i(17206),r=i(55729),o=i(29608),d=i(28615),c=i(11403),x=i(85732),u=i(68301),h=i(6807),p=i(68986);let j=e=>{let{definition:n,onClose:i}=e,{key:t,dismissKey:a="modal-dismiss-".concat(t),ttl:l,conditions:o,featureFlag:d,Modal:c}=n,[x,j]=(0,h.M)(a,!1);(0,r.useEffect)(()=>{if(l&&x)new Date().getTime()-new Date(x).getTime()>1e3*l&&p.x.removeItem(a)},[a,x,l]);let m=(0,r.useCallback)(()=>{j(String(new Date)),null==i||i()},[i,j]);return!(0,u.WK)(d)||o&&!o()||x?null:(0,s.jsx)(c,{onClose:m})};var m=i(67909),b=i(36071),g=i(54731),v=i(3674),f=i(40691),C=i(57405),y=i(23293),E=i(33787),w=i(48810),A=i(49611),S=i(19564);let T=[{key:"rebrand-announcement",Modal:e=>{let{onClose:n}=e;return(0,s.jsxs)(m.aF,{isOpen:!0,onClose:n,isCentered:!0,size:"3xl",children:[(0,s.jsx)(b.m,{backdropFilter:"blur(10px)",bg:"whiteAlpha.800"}),(0,s.jsxs)(g.$,{overflow:"hidden",backgroundColor:"transparent",children:[(0,s.jsx)(v.s,{color:"white",_hover:{backgroundColor:"whiteAlpha.200"}}),(0,s.jsx)(f.c,{p:0,m:0,bgImage:'url("https://cdn.gamma.app/zc87vhr30n8uf3n/131a545a28d849a68b996324291ba114/original/rebrand-modal-bg.png")',bgSize:"cover",bgPosition:"top center",bgRepeat:"no-repeat",children:(0,s.jsxs)(C.T,{flex:1.618,h:"100%",p:12,spacing:8,color:"white",children:[(0,s.jsx)(y.D,{size:"lg",color:"white",fontWeight:"regular",children:(0,s.jsx)(S.x6,{id:"Y1sJ8Q"})}),(0,s.jsx)(E._,{src:"https://cdn.gamma.app/zc87vhr30n8uf3n/e4c93febd19a4043b4fc86acb7a21581/optimized/announcement-logo-final.svg",w:"30em"}),(0,s.jsx)(w.E,{textAlign:"center",color:"white",children:(0,s.jsx)(S.x6,{id:"7TTkKB",components:{0:(0,s.jsx)("br",{})}})}),(0,s.jsx)(A.$,{variant:"plain",size:"lg",onClick:n,children:(0,s.jsx)(S.x6,{id:"0ugVVL"})})]})})]})]})},dismissKey:i(65148).E.lastDismissedRebrandModal,featureFlag:"gammaRebrandModal"}],_=e=>{let{isViewOnly:n}=e,i=(0,c.En)(),[t,a]=(0,r.useState)(0);return n||!i||(0,o.rA)()||d.D1||(0,x.NF)()||t>=T.length?null:(0,s.jsx)(j,{definition:T[t],onClose:()=>{a(e=>e+1)}})};var I=i(20939),R=i(27828),k=i(95669),O=i.n(k),N=i(81061),M=i(58853),P=i(82328),D=i(81043),L=i(85328),z=i(99038),U=i(24573),B=i(82062),G=i(50979),F=i(72104),W=i(26420),V=i(96500),H=i(29810),Q=i(26385),Y=i(41781);let K=({size:e="2rem",...n})=>(0,s.jsx)(Y.E,{borderRadius:"full",boxSize:e,...n});K.displayName="SkeletonCircle";var $=i(16936),Z=i(99492),X=i(47412),J=i(77650),q=i(19783),ee=i(55597),en=i(48621),ei=i(74003),es=i(95889),et=i(73);let ea=()=>{let{hasUnlimitedCredits:e,onAICreditsModalOpen:n,onAICreditsModalClose:i}=(0,et.x)(),{openUpsellModal:t,product:a}=(0,ei.I)();return e&&null!==a?null:(0,s.jsx)(A.$,{variant:"ghost",size:"sm",width:"fit-content",onClick:()=>{t({onOpenCallback:n,onCloseCallback:i,segmentEvent:es.VV.GAMMA_PRO_UPSELL_CALLOUT_UNLIMITED_AI})},leftIcon:(0,s.jsx)(en.g,{icon:ee._$C,size:"sm"}),children:(0,s.jsx)(S.x6,{id:"WF3ztB"})})};var el=i(1079),er=i(5061),eo=i(49337),ed=i(89942),ec=i(75748),ex=i(80812),eu=i(21490);let eh=e=>{let{isDisabled:n}=e,i=(0,er.fW)();return(0,r.useEffect)(()=>{(0,eu.a)({align:i?"left":"right"})},[i]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.mL,{styles:{".Canny_BadgeContainer .Canny_Badge":{position:"absolute",top:"4px",right:"4px",borderRadius:"100%",backgroundColor:"var(--chakra-colors-red-500)",padding:"4px",border:"1px solid white"}}}),(0,s.jsx)(X.Tz,{label:(0,s.jsx)(S.x6,{id:"2C1hVA",values:{GAMMA_PROPER_NOUN:z.On}}),placement:"top",children:(0,s.jsx)($.K,{isDisabled:n,shadow:"none",icon:(0,s.jsx)(en.g,{icon:Z.z$e}),height:"40px",width:"40px","aria-label":J.Ru._({id:"2C1hVA",values:{GAMMA_PROPER_NOUN:z.On}}),variant:"ghost",sx:{borderWidth:"1px",borderColor:{base:"gray.200",md:"transparent"}},"data-canny-changelog":!0})})]})};var ep=i(41974),ej=i(41273),em=i(18833),eb=i(88586),eg=i(7726),ev=i(11390),ef=i(79101);let eC=(0,em.P)(E._),ey=()=>{var e,n,i,t;let a=(0,es.st)(),l=(0,eg.U)(),o=null==l?void 0:l.showSubscriptionUpgradeModal,[d,c]=(0,h.M)("upgradeToAnnualBannerDismissed",!1),x=(0,ef.CX)(),{subscription:u,product:p}=(0,ei.I)(),j=(null!=(t=null==u||null==(i=u.products)||null==(n=i[0])||null==(e=n.productPrice)?void 0:e.frequencyUnit)?t:null)===eb.Vd7.Month,m="pro"===p?z.Ol:z.Ft,b=(0,r.useCallback)(()=>{let e=u?(0,ex.tq)(u):null,n=e?Math.round((new Date().getTime()-new Date(e).getTime())/864e5):null;p&&(null==a||a.track(es.VV.UPGRADE_TARGET_POPUP_CLICK,{current_plan:(0,ev.cE)(p,"monthly"),source:"workspace_settings",subscription_tenure_days:n}),null==a||a.track(es.VV.UPGRADE_MODAL_VIEW,{current_plan:(0,ev.cE)(p,"monthly"),modal_source:"dashboard_sidebar"}))},[a,p,u]),g=e=>{e.stopPropagation(),c(!0),b(),p&&(null==o||o({newPlan:p,newFrequency:eb.Vd7.Year}))},v=null==u?void 0:u.createdTime,f=v?(0,ej.A)(new Date,new Date(v)):0,C=!d&&j&&l&&f>=35&&o&&x;if((0,r.useEffect)(()=>{C&&p&&(null==a||a.track(es.VV.UPGRADE_TARGET_POPUP_VIEW,{current_plan:(0,ev.cE)(p,"monthly"),popup_location:"dashboard_sidebar"}))},[a,p,C]),!C)return null;let{savingsPercentage:E}=l;return(0,s.jsx)(W.a,{position:"absolute",bottom:2,me:5,mb:2,onClick:g,cursor:"pointer",bgGradient:"linear(to-l, purple.400, purple.500)",p:"1px",borderRadius:"md",children:(0,s.jsxs)(W.a,{position:"relative",children:[(0,s.jsx)(eC,{src:"https://static.gamma.app/images/mr-peepers-681d3fc7.webp",animate:{top:["0px","-32px"]},transition:{delay:.5,duration:.7,ease:"easeOut"},alt:"Banner",zIndex:99,w:14,insetEnd:3,position:"absolute"}),(0,s.jsx)(ep.Z,{px:4,pt:6,pb:2,bg:"purple.100",shadow:"sm",zIndex:100,_hover:{bgGradient:"linear(-45deg, purple.100, purple.50)"},children:(0,s.jsxs)(Q.B,{spacing:4,children:[(0,s.jsxs)(Q.B,{spacing:2,children:[(0,s.jsx)(y.D,{fontWeight:"bold",size:"sm",color:"purple.700",children:(0,s.jsx)(S.x6,{id:"LoeKh9"})}),(0,s.jsx)(w.E,{fontSize:"sm",children:(0,s.jsx)(S.x6,{id:"k+KViP",values:{savingsPercentage:E,currentPlanName:m}})})]}),(0,s.jsxs)(Q.B,{children:[(0,s.jsx)(A.$,{size:"sm",onClick:g,borderColor:"purple.300",bg:"purple.600",color:"white",_hover:{bg:"purple.700"},children:(0,s.jsx)(S.x6,{id:"v1ql9/"})}),(0,s.jsx)(A.$,{size:"sm",variant:"ghost",onClick:e=>{e.stopPropagation(),c(!0),p&&(null==a||a.track(es.VV.UPGRADE_TARGET_POPUP_DISMISS,{current_plan:(0,ev.cE)(p,"monthly"),modal_source:"dashboard_sidebar"}))},color:"purple.800",_hover:{bg:"purple.200"},children:(0,s.jsx)(S.x6,{id:"1QfxQT"})})]})]})})]})})};var eE=i(82203),ew=i.n(eE);let eA=r.forwardRef((e,n)=>{let{children:i,dataTestId:t,isDisabled:a=!1,isSelected:l,isDropActive:r,href:o,target:d,...c}=e;return(0,s.jsx)(A.$,{ref:n,textDecoration:"none",w:"100%",size:"sm",justifyContent:"flex-start","data-testid":t,py:1.5,mb:1,px:2,fontWeight:l?"bold":"regular",target:d,isDisabled:a,pointerEvents:a?"none":"auto",variant:l||r?"secondarySelected":"secondary",...o?{href:o,as:ew()}:{},...c,children:i})});eA.displayName="SidebarButton";var eS=i(27229),eT=i(58959),e_=i(80314),eI=i(831),eR=i.n(eI),ek=i(8384),eO=i(17920),eN=i(58297),eM=i(16426),eP=i(61204),eD=i(46898),eL=i(38822),ez=i.n(eL),eU=i(82927),eB=i(18351),eG=i(72737),eF=i(2252),eW=i(86574);let eV=e=>{var n,i;let{onClose:t,onSubmit:a,doc:l}=e,o=(0,eU.Iy)("manage",l||void 0),{isConnected:d}=(0,eb.utY)(),[c,x]=(0,r.useState)(eb.aXG.Manage);return l?(0,s.jsxs)(m.aF,{closeOnOverlayClick:!1,isOpen:!0,onClose:t,size:"lg",children:[(0,s.jsx)(b.m,{}),(0,s.jsxs)(g.$,{"data-testid":"workspace-permissions-prompt",children:[(0,s.jsx)(eO.r,{children:(0,s.jsx)(S.x6,{id:"JzTAyU",values:{0:l.title}})}),(0,s.jsx)(v.s,{}),(0,s.jsxs)(f.c,{children:[(0,s.jsx)(w.E,{mb:6,children:(0,s.jsx)(S.x6,{id:"wKPcxh"})}),(0,s.jsx)(eW._,{testId:"workspace",title:(0,s.jsx)(S.x6,{id:"wtxjAY"}),subtitle:(null==l||null==(n=l.organization)?void 0:n.name)?J.Ru._({id:"aC87LX",values:{0:null==l||null==(i=l.organization)?void 0:i.name}}):J.Ru._({id:"ucB1/R"}),isDisabled:!o||!d,img:(0,s.jsx)(eN.j,{color:"gray.700",textAlign:"center",bg:"gray.200",size:"32px",children:(0,s.jsx)(en.g,{size:"1x",icon:Z.URI})}),disabledText:eF.ef[c].title(),permissionsControl:(0,s.jsx)(eF.qk,{selected:c,options:[eb.aXG.Manage,eb.aXG.Edit,eb.aXG.Comment,eb.aXG.View],onClick:e=>{x(e)}})})]}),(0,s.jsx)(eM.j,{children:(0,s.jsxs)(eP.e,{children:[(0,s.jsx)(A.$,{variant:"ghost",onClick:t,children:(0,s.jsx)(S.x6,{id:"dEgA5A"})}),(0,s.jsx)(A.$,{variant:"solid","data-testid":"workspace-permissions-submit",onClick:()=>{a(c),t()},children:(0,s.jsx)(S.x6,{id:"DPfwMq"})})]})})]})]}):(0,s.jsx)(s.Fragment,{})},eH=()=>{let{onOpen:e,isOpen:n,onClose:i}=(0,eS.j)({id:"workspacePermissionPromptDisclosure"}),[s]=(0,eb.Ix6)(),{currentWorkspace:t}=(0,eU.ur)(),a=(0,eD.d)(),{addDocChannel:l}=(0,eB.k)(),[o,d]=(0,r.useState)(null),[c,x]=(0,r.useState)(null),u=(0,eU.IM)(),h=(0,r.useCallback)((e,n)=>{let i=(e.channels||[]).find(e=>e.id===n.id),s=(0,eG.D5)(e,t),l=u.cannot("manage",e)&&ez()(e.orgAccess);return s?(a({description:J.Ru._({id:"doMS3L",values:{GAMMA_ARTIFACT_PROPER_NOUN:z.TP}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1):l?(a({description:J.Ru._({id:"81ZRAa",values:{GAMMA_ARTIFACT_PROPER_NOUN:z.TP}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1):!i||(a({description:J.Ru._({id:"FRsVHP",values:{GAMMA_ARTIFACT_PROPER_NOUN:z.TP}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1)},[u,a,t]),p=(0,r.useCallback)(e=>{if(!o||!c)return;let{id:n}=o;s({variables:{id:n,orgAccess:e},optimisticResponse:{updateDoc:{id:n,orgAccess:e,__typename:"Doc"}}}).then(()=>{l({doc:o,channel:c,existingChannels:null==o?void 0:o.channels})}).catch(e=>{console.error("[useAddDocToChannel.updatedocOrgAccess] Error setting doc orgAccess for doc id",n),a({title:J.Ru._({id:"SlfejT"}),description:J.Ru._({id:"x9Wysy",values:{0:e.message}}),status:"error"})})},[l,o,c,a,s]),j=(0,r.useCallback)((n,i)=>{h(n,i)&&(n.orgAccess?l({doc:n,channel:i,existingChannels:(null==n?void 0:n.channels)||[]}):(d(n),x(i),e()))},[l,e,h]);return{isOpen:n,onClose:(0,r.useCallback)(()=>{x(null),d(null),i()},[i]),doc:o,handleAddDocToChannel:j,updateWorkspacePermissionThenAddToChannel:p}};var eQ=i(24729),eY=i(2318),eK=i(70006),e$=i(98694),eZ=i(96833);let eX=r.forwardRef((e,n)=>{let{tabKey:i,isSelected:t,isDropActive:a=!1,isDisabled:l,href:r,target:o,children:d,...c}=e;return(0,s.jsx)(eA,{ref:n,isSelected:t,isDropActive:a,dataTestId:"sidebar-".concat(i,"-tab").concat(t?"--selected":""),target:o,isDisabled:l,href:r,...c,children:d})});eX.displayName="SidebarItem";var eJ=i(55765);let eq=i.n(eJ)()(e=>{let[n,i,s,t,a]=e.icon,l=encodeURIComponent('\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '.concat(n," ").concat(i,'">\n      <path d="').concat(a,'" />\n    </svg>\n  ').trim()).replace(/'/g,"%27").replace(/"/g,"%22");return"data:image/svg+xml,".concat(l)}),e0=e=>{let{icon:n,title:i,faClassName:t,badge:a,allowGradient:l,iconGap:r=2,fontColor:o}=e;return(0,s.jsxs)(eT.z,{spacing:1.5,justify:"flex-start",w:"100%",paddingInlineEnd:a?3:void 0,color:o,children:[n?l?(0,s.jsx)(W.a,{bg:"gradient.brand.bg",as:"span",display:"inline-block",sx:{marginInlineStart:"2px",width:"var(--fa-fw-width, 1.1em)",height:"var(--fa-fw-width, 1.1em)",maskImage:"url(".concat(eq(n),")"),maskSize:"contain",maskRepeat:"no-repeat"}}):(0,s.jsx)(en.g,{icon:n,fixedWidth:!0,className:t||void 0,size:"1x",style:{color:"inherit"}}):null,(0,s.jsx)(w.E,{flex:1,textOverflow:"ellipsis",overflow:"hidden",ms:r,w:"100%",textAlign:"start",fontWeight:"medium",style:{color:"inherit"},children:i}),a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(H.h,{}),a]})]})};var e1=i(68422);let e2=e=>{let{isSelected:n,hasActivity:i}=e;return i&&Z.qAe,n?eQ.oQ:eQ.$Q},e6=e=>{let{activity:n,user:i}=e;if(!(null==n?void 0:n.activeUsers))return(0,s.jsx)(s.Fragment,{});let t=eR()(n.activeUsers,"id"),a=(0,eY.Hz)(t,null==i?void 0:i.id);return(0,s.jsx)(X.KZ,{overflowTooltipLabel:J.Ru._({id:"25VyZX"}),position:"absolute",right:2,size:"xs",max:3,avatars:a.map(e=>{let{displayName:n,profileImageUrl:i,id:s}=e;return{name:n||"",id:s,profileImageUrl:i,color:"white",badge:{color:"green.500",size:"1em"}}}),onClick:e=>{e.preventDefault(),e.stopPropagation()}})},e8=e=>{var n,i;let{isPreview:t,channel:a,activeTab:l,currentChannelId:r,addDocToChannel:o,user:d,isDisabled:c}=e,x=(0,u.u)("channelActivity"),[{canDrop:h,isOver:p},j]=(0,ek.H)(()=>({accept:e$.v,drop:e=>{o(e,a)},collect:e=>({isOver:e.isOver(),canDrop:e.canDrop()})})),m=l===e1.uL.CHANNEL&&a.id===r,b=x&&!!((null==a||null==(n=a.activity)?void 0:n.activeUsers)&&(null==a||null==(i=a.activity)?void 0:i.activeUsers.length)>0),g=e2({isSelected:m,hasActivity:b});return(0,s.jsxs)(eX,{ref:j,"data-testid":"sidebar-item",tabKey:"".concat(e1.uL.CHANNEL,"-").concat(a.id),isDropActive:p&&h,isSelected:m,href:(0,eK.gU)({id:a.id,slug:a.slug}),opacity:t?"0.5":void 0,justifyContent:"space-between",w:"100%",isDisabled:c,children:[(0,s.jsx)(e0,{icon:g,title:a.name,faClassName:m&&b?"fa-beat-fade":void 0}),b&&(0,s.jsx)(e6,{activity:null==a?void 0:a.activity,user:d})]},a.id)},e5=e=>{let{channelPreview:n,channels:i,activeTab:t,currentChannelId:a,isChannelsLoading:l,isOffline:r}=e,{user:o,currentWorkspace:d}=(0,eU.ur)(),{isOpen:c,onClose:x,doc:u,handleAddDocToChannel:h,updateWorkspacePermissionThenAddToChannel:p}=eH(),{isOpen:j,onOpen:m,onClose:b}=(0,eS.j)({id:"manageChannelsModalDisclosure"});return l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Y.E,{h:"30px",w:"100%"}),(0,s.jsx)(Y.E,{h:"30px",w:"100%"}),(0,s.jsx)(Y.E,{h:"30px",w:"100%"})]}):(0,s.jsxs)(W.a,{"data-testid":"sidebar-channels",w:"100%",children:[(0,s.jsxs)(eT.z,{justify:"space-between",children:[(0,s.jsx)(X._x,{textAlign:"left",mt:4,mb:3,paddingInlineStart:1,children:(0,s.jsx)(S.x6,{id:"HSh8u/"})}),(0,s.jsx)(X.Tz,{label:(0,s.jsx)(S.x6,{id:"Mxy55o"}),children:(0,s.jsx)($.K,{"aria-label":J.Ru._({id:"Mxy55o"}),size:"xs",isRound:!0,variant:"plain",icon:(0,s.jsx)(en.g,{icon:Z.QLR}),onClick:m,isDisabled:r})})]}),n&&!r&&(0,s.jsx)(e8,{isPreview:!0,channel:n,activeTab:t,currentChannelId:a,addDocToChannel:h,user:o,isDisabled:!1},n.id),i.map(e=>(0,s.jsx)(e8,{channel:e,activeTab:t,currentChannelId:a,addDocToChannel:h,user:o,isDisabled:r},e.id)),!r&&0===i.length&&(0,s.jsxs)(W.a,{bgColor:"gray.50",textAlign:"center",p:4,mb:2,borderRadius:"md",children:[(0,s.jsx)(w.E,{fontSize:"sm",children:(0,s.jsx)(S.x6,{id:"4G3U4C",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:z.Ix}})}),(0,s.jsx)(w.E,{fontSize:"sm",mt:2,fontWeight:"bold",children:(0,s.jsx)(e_.N,{color:"trueblue.600",href:"#",onClick:m,children:(0,s.jsx)(S.x6,{id:"Mxy55o"})})})]}),j&&(0,s.jsx)(eZ.z,{isOpen:j,onClose:b,workspaceId:null==d?void 0:d.id}),c&&(0,s.jsx)(eV,{doc:u,onSubmit:p,onClose:x})]})},e4=e=>{let{setIsSidebarVisible:n}=e,i=(0,c.En)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(Q.B,{spacing:2,children:[(0,s.jsx)(Q.B,{pt:2,children:(0,s.jsx)(W.a,{display:{sm:"lg",md:"none"},children:(0,s.jsx)($.K,{"aria-label":"Close Sidebar",size:"sm",variant:"ghost",icon:(0,s.jsx)(en.g,{icon:Z.GRI}),onClick:()=>n(!1)})})}),(0,s.jsxs)(Q.B,{spacing:2,children:[(0,s.jsx)(Y.E,{w:"100%",height:"32px",borderRadius:"md"}),(0,s.jsx)(Y.E,{w:"100%",height:"32px",borderRadius:"md"}),(0,s.jsx)(Y.E,{w:"100%",height:"32px",borderRadius:"md"}),(0,s.jsx)(Y.E,{w:"100%",height:"32px",borderRadius:"md"})]})]}),(0,s.jsx)(H.h,{}),(0,s.jsx)(t.s,{justify:"center",align:"flex-end",children:i&&(0,s.jsx)(X.uh,{w:"30px"})})]})},e3=e=>{let{channelPreview:n,isSidebarVisible:i,setIsSidebarVisible:a,isReady:l,activeTab:r,currentChannelId:o,channels:d,isChannelsLoading:c,isOffline:x}=e,h=(0,er.fW)(),p=(0,u.u)("changelog"),j=(0,u.u)("intercom"),m=(0,u.u)("shareFeedback"),b=(0,eo.k)({initializeViaQuery:!0});return(0,s.jsxs)(t.s,{direction:"column",zIndex:"overlay",h:"var(--100vh)",position:{base:"fixed",md:"sticky"},top:0,w:"300px",minW:"300px",bg:"white",shadow:{base:i?"xl":"none",md:"none"},transform:i?{base:"translate(0,0px)",md:"translate(0,0)"}:{base:"translate(".concat(h?"100%":"-100%",",0px)"),md:"translate(0,0)"},transition:"transform .2s ease",children:[(0,s.jsx)(W.a,{display:{base:"none",md:"block"},children:(0,s.jsx)(e7,{isOffline:x,isChangelogEnabled:p,setIsSidebarVisible:a,isReady:l})}),(0,s.jsx)(t.s,{overflowY:"auto",h:"100vh",p:5,pt:0,pb:4,direction:"column",alignContent:"space-between",children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(W.a,{display:{base:"block",md:"none"},children:(0,s.jsx)(e7,{isOffline:x,isChangelogEnabled:p,setIsSidebarVisible:a,isReady:l})}),(0,s.jsx)(ne,{channelPreview:n,activeTab:r,currentChannelId:o,channels:d,isChannelsLoading:c,isOffline:x}),(0,s.jsx)(W.a,{w:"100%",pt:1,pb:3,children:(0,s.jsx)(V.c,{})}),(0,s.jsx)(eX,{tabKey:e1.n8.SETTINGS,isSelected:r===e1.n8.SETTINGS,href:"/".concat(e1.n8.SETTINGS),children:(0,s.jsx)(e0,{icon:e1.mQ[e1.n8.SETTINGS].icon,title:e1.mQ[e1.n8.SETTINGS].displayName})}),j&&(0,s.jsx)(eA,{dataTestId:"contact-button",onClick:b,isDisabled:x,children:(0,s.jsx)(e0,{icon:Z.gSF,title:(0,s.jsx)(S.x6,{id:"mpby9d"})})}),!j&&(0,s.jsx)(eA,{dataTestId:"contact-button",href:"mailto:".concat(el.J),isDisabled:x,children:(0,s.jsx)(e0,{icon:Z.y_8,title:(0,s.jsx)(S.x6,{id:"A0C9La"})})}),m&&(0,s.jsx)(eA,{dataTestId:"feedback-button",href:"https://ideas.gamma.app/ideas",target:"_blank","data-canny-link":!0,isDisabled:x,children:(0,s.jsx)(e0,{icon:Z.O3E,title:(0,s.jsx)(S.x6,{id:"u5hSeG"})})}),(0,s.jsx)(H.h,{}),(0,s.jsx)(t.s,{justify:"center",align:"flex-end",width:"100%",my:6,children:(0,s.jsx)(X.uh,{w:"30px"})}),(0,s.jsx)(ey,{})]}):(0,s.jsx)(e4,{setIsSidebarVisible:a})})]})},e9=()=>(0,s.jsxs)(Q.B,{pt:4,spacing:4,children:[(0,s.jsxs)(Q.B,{w:"100%",px:2,pb:1,direction:"row",alignItems:"center",children:[(0,s.jsx)(K,{size:"36px"}),(0,s.jsxs)(Q.B,{spacing:2,flex:1,children:[(0,s.jsx)(Y.E,{width:"100%",height:"20px"}),(0,s.jsx)(Y.E,{width:"60%",height:"16px"})]})]}),(0,s.jsx)(Y.E,{width:"100%",height:"42px",borderRadius:"md"})]}),e7=e=>{let{isOffline:n,isChangelogEnabled:i,setIsSidebarVisible:a,isReady:l}=e,r=(0,c.En)();return(0,s.jsx)(Q.B,{overflowY:"auto",px:{base:0,md:5},pt:2,pb:{base:4,md:4},direction:"column",alignContent:"space-between",overflow:"hidden",children:l&&r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.s,{alignItems:"flex-start",justify:"flex-end",children:(0,s.jsx)(W.a,{display:{base:"block",md:"none"},children:(0,s.jsx)($.K,{size:"sm","aria-label":J.Ru._({id:"62Ciis"}),variant:"ghost",icon:(0,s.jsx)(F.U,{w:3}),onClick:()=>a(!1),isRound:!0})})}),(0,s.jsx)(ex.bx,{}),!n&&(0,s.jsxs)(W.a,{flexDirection:"column",alignItems:"flex-start",borderRadius:"xl",ms:-2,mt:2,display:{base:"flex",lg:"none"},gap:0,children:[(0,s.jsx)(ea,{}),(0,s.jsx)(q.f,{segmentEvent:es.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_DASHBOARD_CREDITS_COUNT})]}),(0,s.jsx)(ec.r,{size:"sm",description:(0,s.jsx)(S.x6,{id:"+QNhGE"}),isConnected:!n,maxWidth:"300px",mt:3}),(0,s.jsxs)(Q.B,{direction:"row",justifyContent:"center",alignItems:"center",mt:4,children:[(0,s.jsx)(U.Vb,{isDisabled:n}),i&&(0,s.jsx)(W.a,{display:{base:"block",md:"none"},children:(0,s.jsx)(eh,{isDisabled:n})})]})]}):(0,s.jsx)(e9,{})})},ne=e=>{let{channelPreview:n,activeTab:i,currentChannelId:t,channels:a,isChannelsLoading:l,isOffline:r}=e,d=(0,ed.Fd)();return(0,s.jsxs)(Q.B,{my:{base:0,md:2},"data-testid":"sidebar-tablist",w:"100%",spacing:1,children:[(0,s.jsxs)(Q.B,{spacing:0,w:"100%",children:[(0,s.jsx)(eX,{tabKey:e1.n8.ALL,isSelected:i===e1.n8.ALL,href:"/#".concat(e1.n8.ALL),children:(0,s.jsx)(e0,{icon:e1.mQ[e1.n8.ALL].icon,title:e1.mQ[e1.n8.ALL].displayName})}),(0,s.jsx)(eX,{tabKey:e1.n8.SHARED_WITH_YOU,isSelected:i===e1.n8.SHARED_WITH_YOU,href:"/#".concat(e1.n8.SHARED_WITH_YOU),isDisabled:r,children:(0,s.jsx)(e0,{icon:e1.mQ[e1.n8.SHARED_WITH_YOU].icon,title:e1.mQ[e1.n8.SHARED_WITH_YOU].displayName})}),d&&(0,s.jsx)(eX,{paddingInlineEnd:-1,tabKey:e1.n8.SITES,isSelected:i===e1.n8.SITES,href:"/#".concat(e1.n8.SITES),isDisabled:r,children:(0,s.jsx)(e0,{icon:e1.mQ[e1.n8.SITES].icon,title:e1.mQ[e1.n8.SITES].displayName})}),(0,s.jsx)(eX,{paddingInlineEnd:-1,tabKey:e1.n8.IMAGES,isSelected:i===e1.n8.IMAGES,href:"/#".concat(e1.n8.IMAGES),isDisabled:r,children:(0,s.jsx)(e0,{icon:e1.mQ[e1.n8.IMAGES].icon,title:e1.mQ[e1.n8.IMAGES].displayName})})]}),(0,s.jsx)(e5,{channelPreview:n,isChannelsLoading:l,channels:a,currentChannelId:t,activeTab:i,isOffline:r}),(0,s.jsx)(W.a,{w:"100%",pt:1,pb:2,children:(0,s.jsx)(V.c,{})}),(0,s.jsxs)(Q.B,{spacing:0,w:"100%",children:[!(0,o.Xb)()&&(0,s.jsx)(eX,{tabKey:e1.n8.TEMPLATES,isSelected:i===e1.n8.TEMPLATES,href:"/#".concat(e1.n8.TEMPLATES),isDisabled:r,children:(0,s.jsx)(e0,{icon:e1.mQ[e1.n8.TEMPLATES].icon,title:e1.mQ[e1.n8.TEMPLATES].displayName})}),(0,s.jsx)(eX,{tabKey:e1.n8.INSPIRATION,isSelected:i===e1.n8.INSPIRATION,href:"/#".concat(e1.n8.INSPIRATION),isDisabled:r,children:(0,s.jsx)(e0,{icon:e1.mQ[e1.n8.INSPIRATION].icon,title:e1.mQ[e1.n8.INSPIRATION].displayName})}),!(0,o.Xb)()&&(0,s.jsx)(eX,{tabKey:e1.n8.THEMES,isSelected:i===e1.n8.THEMES,href:"/#".concat(e1.n8.THEMES),isDisabled:r,children:(0,s.jsx)(e0,{icon:e1.mQ[e1.n8.THEMES].icon,title:e1.mQ[e1.n8.THEMES].displayName})}),!(0,o.Xb)()&&(0,s.jsx)(eX,{tabKey:e1.n8.FONTS,isSelected:i===e1.n8.FONTS,href:"/#".concat(e1.n8.FONTS),isDisabled:r,children:(0,s.jsx)(e0,{icon:e1.mQ[e1.n8.FONTS].icon,title:e1.mQ[e1.n8.FONTS].displayName})}),(0,s.jsx)(eX,{tabKey:e1.n8.TRASH,isSelected:i===e1.n8.TRASH,href:"/#".concat(e1.n8.TRASH),children:(0,s.jsx)(e0,{icon:e1.mQ[e1.n8.TRASH].icon,title:e1.mQ[e1.n8.TRASH].displayName})})]})]})};var nn=i(91938);let ni={fontWeight:"bold",backgroundImage:"linear-gradient(50deg, #F658A8, #ff5b8a 49%, #ff5b8a 53%, #ff5b8a 55%, #fba64b 77%, #f99b52)",backgroundClip:"text",color:"transparent"},ns=()=>(0,s.jsx)(t.s,{bg:"#1A013F",direction:"column",mb:4,children:(0,s.jsxs)(t.s,{py:4,px:8,direction:["column","row"],children:[(0,s.jsxs)(Q.B,{mr:[0,4],children:[(0,s.jsx)(w.E,{fontSize:"xl",sx:ni,children:"Meet Gamma, the fast alternative to slides"}),(0,s.jsx)(w.E,{color:"gray.200",children:"Write like a doc, present like a deck."})]}),(0,s.jsx)(H.h,{}),(0,s.jsxs)(eT.z,{mt:[2,0],children:[(0,s.jsx)(A.$,{as:"a",href:"/signup",children:"Make your own"}),(0,s.jsx)(A.$,{as:"a",cursor:"pointer",variant:"ghost",colorScheme:"whiteAlpha",onClick:()=>{window.location.href="".concat(nn.$.API_HOST,"/logout")},children:"Sign out"})]})]})});var nt=i(96441),na=i(26814),nl=i(8909);let nr=e=>{let{ariaLabel:n,displayName:i,icon:t,channel:a,containerPadding:l}=e,r=(null==a?void 0:a.name)||i;return(0,s.jsxs)(eT.z,{h:"1.5em",ps:l,ms:2,children:[(0,s.jsxs)(y.D,{size:"sm","data-testid":"sticky-topbar-header",children:[t&&(0,s.jsx)(en.g,{icon:t,"aria-label":n()}),(0,s.jsx)(w.E,{as:"span",ms:2,children:r})]}),(0,s.jsx)(H.h,{})]})},no="50px",nd=e=>{let{containerPadding:n,isOffline:i,hasScrolledBeyondThreshold:a}=e,l=(0,u.u)("changelog"),r=(0,ed.ez)("unlimited_credits"),{isCreditsReady:o}=(0,na.B9)(),{activeTab:d,channelPreview:c,activeChannel:x}=(0,nl.q)(),{displayName:h,ariaLabel:p,icon:j}=e1.mQ[d];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(nc,{hasScrolled:a,containerPadding:n,width:a?"auto":"fit-content",children:a&&(0,s.jsx)(nr,{ariaLabel:p,displayName:h,icon:j,channel:c||x,containerPadding:n})}),(0,s.jsxs)(nx,{containerPadding:n,width:a?"100%":"fit-content",alignSelf:"flex-end",children:[(0,s.jsx)(X.Tz,{label:i?J.Ru._({id:"ysdDIA"}):"","aria-label":i?J.Ru._({id:"ysdDIA"}):"",placement:"bottom",children:(0,s.jsxs)(W.a,{display:"flex",flexDirection:"row",alignItems:"center",children:[o&&!r&&(0,s.jsxs)(t.s,{display:{base:"none",lg:"flex"},cursor:i?"not-allowed":"pointer",flexDirection:"row",children:[(0,s.jsx)(ea,{}),(0,s.jsx)(q.f,{segmentEvent:es.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_DASHBOARD_CREDITS_COUNT})]}),l&&(0,s.jsx)(eh,{isDisabled:i})]})}),(0,s.jsx)(nt.X,{showCreditsBadge:!1})]})]})},nc=e=>{let{children:n,containerPadding:i,hasScrolled:t,...a}=e,l=(0,er.fW)();return(0,s.jsx)(eT.z,{bg:t?"white":"transparent",borderBottomWidth:t?"1px":"0px",borderBottomColor:t?"gray.50":"transparent",borderTopWidth:"0px",borderTopColor:t?"transparent":"gray.200",borderInlineStartWidth:"0px",borderInlineStartColor:"gray.50",zIndex:"sticky",top:0,right:l?-5:0,left:l?0:-5,alignItems:"center",p:2,py:1.5,paddingInlineEnd:6,gap:2,h:no,transitionProperty:"common",transitionDuration:"normal","data-print-hidden":!0,justifyContent:"flex-start",position:"sticky",display:{base:"none",md:"flex"},m:-i,"data-sticky-topbar-wrapper":!0,...a,children:n})},nx=e=>{let{children:n,containerPadding:i,...t}=e;return(0,s.jsx)(eT.z,{justifyContent:"flex-end","data-topbar-wrapper":!0,zIndex:"sticky",position:"sticky",top:0,insetStart:0,insetEnd:0,py:1.5,alignItems:"center",gap:2,my:-i,display:{base:"none",md:"flex"},...t,children:n})},nu=e=>{let{children:n}=e,{isInOfflineMode:i,isConnected:a}=(0,P.u)(),l=(0,u.u)("onboardingV3")?G.P:B.P,{user:d,activeChannel:x,activeTab:h,userHasNoWorkspaces:p,currentChannelId:j,channelPreview:m,channels:b,isChannelsLoading:g,isSidebarVisible:v,setIsSidebarVisible:f}=(0,nl.q)(),C=(0,c.En)(),y=C&&(0,o.Xb)()?4:6,E=C&&(0,o.Xb)()?2:void 0,[w,A]=(0,r.useState)(!1),S=(0,r.useCallback)(()=>{A(window.scrollY>50)},[]),T=(0,c.wb)(S,100);(0,r.useEffect)(()=>{if(!(0,o.Xb)())return window.addEventListener("scroll",T),()=>window.removeEventListener("scroll",T)},[T]);let _=h?h===e1.uL.CHANNEL&&(null==x?void 0:x.name)?"".concat(null==x?void 0:x.name," - ").concat(z.On):"".concat(e1.mQ[h].ariaLabel()," - ").concat(z.On):"".concat(z.On),[k]=(0,I.Je)();return(0,s.jsxs)(N.Q,{backend:M.t2,children:[(0,s.jsxs)(t.s,{"data-testid":"home",width:"100%",height:"100%",position:"relative",children:[(0,s.jsx)(O(),{children:(0,s.jsx)("title",{children:_})}),(0,s.jsx)(U.X2,{}),p?null:(0,s.jsx)(e3,{channelPreview:m,isSidebarVisible:v,setIsSidebarVisible:f,user:d,isReady:!!d,activeTab:h,currentChannelId:j,channels:b,isChannelsLoading:g,isOffline:i}),(0,s.jsx)(t.s,{transition:"margin .2s ease",width:"100%",bg:"gray.200",sx:{"&::before":{content:'""',position:"absolute",left:0,top:w&&C?no:0,bottom:0,width:"1px",background:"var(--chakra-colors-gray-50)",transition:"top 0.2s ease"}},position:"relative",children:(0,s.jsxs)(t.s,{"data-testid":"doc-root-main",flex:"1",px:y,py:y,w:"100%",bg:null!=k?k:"gray.50",direction:"column",marginInlineStart:{base:"0"},minH:"var(--100vh)",pb:"10em",transition:"margin .2s ease, background-color .5s ease",children:[C&&!(0,o.Xb)()&&(0,s.jsx)(nd,{containerPadding:y,isOffline:!a,hasScrolledBeyondThreshold:w}),p&&(0,s.jsx)(ns,{}),(0,s.jsx)(R.m,{maxW:"80em",p:E,h:"100%",children:n})]})})]}),(0,s.jsx)(L.x,{children:(0,s.jsx)(D.P,{showShortcuts:!1})}),!i&&(0,s.jsx)(l,{})]})},nh=e=>{let{children:n}=e;return(0,s.jsxs)(t.s,{width:"100%",height:"100%",direction:"column",minHeight:"var(--100vh)",bgColor:"gray.50",color:"gray.700",p:0,children:[(0,s.jsx)(a.mL,{styles:{body:{overflowY:"scroll"}}}),(0,s.jsx)(l.n,{}),(0,s.jsx)(_,{}),(0,s.jsx)(I.TQ,{children:(0,s.jsx)(nu,{children:n})})]})};function np(e){let n=n=>(0,s.jsx)(nh,{children:(0,s.jsx)(e,{...n})});return"getInitialProps"in e&&(n.getInitialProps=e.getInitialProps),n}},65100:(e,n,i)=>{i.d(n,{e:()=>p});var s=i(6029),t=i(26420),a=i(40452),l=i(16936),r=i(48810),o=i(29810),d=i(96500),c=i(99492),x=i(48621),u=i(96441),h=i(82927);let p=e=>{let{setIsSidebarVisible:n,isSidebarVisible:i,children:p}=e,{currentWorkspace:j}=(0,h.ur)();return(0,s.jsxs)(t.a,{w:"100%",mb:6,maxW:"100%",children:[(0,s.jsxs)(t.a,{w:"100%",display:{sm:"block",md:"none"},mb:4,children:[(0,s.jsxs)(a.s,{align:"center",w:"100%",mb:2,justify:"space-between",children:[(0,s.jsx)(l.K,{"aria-label":"Open Sidebar",variant:"ghost",icon:(0,s.jsx)(x.g,{icon:c.ckx}),size:"sm",marginInlineEnd:2,marginInlineStart:-2,onClick:()=>n(!i),isRound:!0}),(0,s.jsxs)(a.s,{flex:"1",w:"100%",justify:"space-between",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:[(0,s.jsx)(r.E,{fontSize:"lg",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:null==j?void 0:j.name}),(0,s.jsx)(o.h,{}),(0,s.jsx)(u.X,{})]})]}),(0,s.jsx)(d.c,{})]}),p]})}},68422:(e,n,i)=>{i.d(n,{mQ:()=>p,n8:()=>h,uL:()=>u});var s=i(6029),t=i(99492),a=i(55597),l=i(19564),r=i(77650),o=i(21157),d=i.n(o),c=i(99038),x=i(24729);let u={ALL:"all",SHARED_WITH_YOU:"shared-with-you",CHANNEL:"channel",TRASH:"trash",TEMPLATES:"templates",INSPIRATION:"inspiration",THEMES:"themes",FONTS:"fonts",SITES:"sites",SETTINGS:"settings",IMAGES:"images"},h={...u},p={[u.ALL]:{displayName:d()(c.Ix),ariaLabel:()=>d()(c.Ix),icon:t.vGi,showCreateButton:!0},[u.SHARED_WITH_YOU]:{displayName:(0,s.jsx)(l.x6,{id:"z/ZgK/"}),ariaLabel:()=>r.Ru._({id:"z/ZgK/"}),icon:t.USd,showCreateButton:!1},[u.SITES]:{displayName:(0,s.jsx)(l.x6,{id:"QHZRmq"}),ariaLabel:()=>r.Ru._({id:"QHZRmq"}),icon:t.Bwz,showCreateButton:!0},[u.IMAGES]:{displayName:(0,s.jsx)(l.x6,{id:"Q+Vsar"}),ariaLabel:()=>r.Ru._({id:"lv+fWg"}),icon:a._$C,showCreateButton:!0},[u.CHANNEL]:{displayName:(0,s.jsx)(l.x6,{id:"HSh8u/"}),ariaLabel:()=>r.Ru._({id:"HSh8u/"}),icon:x.$Q,showCreateButton:!0},[u.TRASH]:{displayName:(0,s.jsx)(l.x6,{id:"GQ3O42"}),ariaLabel:()=>r.Ru._({id:"GQ3O42"}),icon:t.yLS,showCreateButton:!1},[u.TEMPLATES]:{displayName:(0,s.jsx)(l.x6,{id:"iTylMl"}),ariaLabel:()=>r.Ru._({id:"iTylMl"}),icon:t.qIE,showCreateButton:!1},[u.INSPIRATION]:{displayName:(0,s.jsx)(l.x6,{id:"K2fjhl"}),ariaLabel:()=>r.Ru._({id:"K2fjhl"}),icon:t.ReK,showCreateButton:!1},[u.THEMES]:{displayName:(0,s.jsx)(l.x6,{id:"fJ3EbT"}),ariaLabel:()=>r.Ru._({id:"fJ3EbT"}),icon:t.fyG,showCreateButton:!1,description:(0,s.jsx)(l.x6,{id:"VLAmF4",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:c.Ix}})},[u.FONTS]:{displayName:(0,s.jsx)(l.x6,{id:"E3KfxC"}),ariaLabel:()=>r.Ru._({id:"E3KfxC"}),icon:t.A1G,showCreateButton:!1,description:(0,s.jsx)(l.x6,{id:"b73++j",values:{GAMMA_PROPER_NOUN:c.On},components:{0:(0,s.jsx)("b",{})}})},[u.SETTINGS]:{displayName:(0,s.jsx)(l.x6,{id:"0dbeO4"}),ariaLabel:()=>r.Ru._({id:"0dbeO4"}),icon:t.Ubc,showCreateButton:!1}}},73616:(e,n,i)=>{i.d(n,{Z:()=>x});var s=i(6029),t=i(46898),a=i(19564),l=i(81278),r=i.n(l),o=i(55729),d=i(88586),c=i(70006);let x=()=>{let e=(0,t.d)(),[n]=(0,d.nbV)(),[i]=(0,d.WYu)(),[l,{loading:x,error:u}]=(0,d.ugr)(),h=(0,o.useCallback)(i=>{let{channel:t}=i;return n({variables:{channelId:t.id}}).then(()=>{e({title:(0,s.jsx)(a.x6,{id:"GCUxja",values:{0:null==t?void 0:t.name}}),description:(0,s.jsx)(a.x6,{id:"SQY08b",values:{0:null==t?void 0:t.name}}),status:"success",duration:3e3,isClosable:!0,position:"top"})})},[n,e]);return{joinChannel:(0,o.useCallback)(n=>{let{channel:t,workspaceId:l}=n,{name:r}=t;return i({variables:{channelId:t.id},update:(e,n)=>{let{data:i}=n;(null==i?void 0:i.joinChannel)&&e.writeQuery({query:d.SlU,variables:{workspaceId:l},data:{channels:[i.joinChannel]}})},optimisticResponse:{joinChannel:{...t}}}).then(()=>{e({title:(0,s.jsx)(a.x6,{id:"WpOdvg",values:{name:r}}),description:(0,s.jsx)(a.x6,{id:"/IOSvX",values:{name:r}}),status:"success",duration:3e3,isClosable:!0,position:"top"})}).catch(n=>{e({title:(0,s.jsx)(a.x6,{id:"bLRa0l",values:{name:r}}),description:n.message,status:"error",duration:3e3,isClosable:!0,position:"top"})})},[i,e]),leaveChannel:h,createChannel:(0,o.useCallback)(n=>{let{input:i}=n;return l({variables:{input:i},update:(e,n)=>{let{data:s}=n;(null==s?void 0:s.createChannel)&&e.writeQuery({query:d.SlU,variables:{workspaceId:i.workspaceId},data:{channels:[s.createChannel]}})}}).then(n=>{var i;let t=null==n||null==(i=n.data)?void 0:i.createChannel;(null==t?void 0:t.name)&&e({title:(0,s.jsx)(a.x6,{id:"EbT81q",values:{0:t.name}}),status:"success",duration:3e3,isClosable:!0,position:"top"}),(null==t?void 0:t.id)&&(null==t?void 0:t.slug)?r().push((0,c.gU)({id:t.id,slug:t.slug})):console.error('[CreateChannelModal] Error generating channel URL. ID: "'.concat(null==t?void 0:t.id,'". Slug: "').concat(null==t?void 0:t.slug,'"'))}).catch(n=>{e({title:(0,s.jsx)(a.x6,{id:"YeikaQ"}),description:n.message,status:"error",duration:3e3,isClosable:!0,position:"top"})})},[l,e]),createChannelLoading:x,createChannelError:u}}},81340:(e,n,i)=>{i.d(n,{Q:()=>t,s:()=>s});let[s,t]=(0,i(59436).Wh)("Card")},92816:(e,n,i)=>{i.d(n,{u:()=>s});let s=(0,i(30477).w)({displayName:"WarningTwoIcon",d:"M23.119,20,13.772,2.15h0a2,2,0,0,0-3.543,0L.881,20a2,2,0,0,0,1.772,2.928H21.347A2,2,0,0,0,23.119,20ZM11,8.423a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Zm1.05,11.51h-.028a1.528,1.528,0,0,1-1.522-1.47,1.476,1.476,0,0,1,1.448-1.53h.028A1.527,1.527,0,0,1,13.5,18.4,1.475,1.475,0,0,1,12.05,19.933Z"})},96833:(e,n,i)=>{i.d(n,{S:()=>es,z:()=>B});var s=i(6029),t=i(78686),a=i(26385),l=i(40452),r=i(58959),o=i(26420),d=i(48810),c=i(29810),x=i(49611),u=i(67909),h=i(36071),p=i(54731),j=i(17920),m=i(3674),b=i(40691),g=i(83638),v=i(72470),f=i(77979),C=i(38036),y=i(3276),E=i(5091),w=i(41781),A=i(53996),S=i(16426),T=i(99492),_=i(48621),I=i(47412),R=i(19564),k=i(77650),O=i(55729),N=i(24351),M=i(88586),P=i(99038),D=i(24729),L=i(73616);let z=e=>{let{channelName:n,onCreateClick:i}=e;return(0,s.jsx)(A.o,{minH:"sm",children:(0,s.jsx)(l.s,{direction:"column",justify:"center",align:"center",w:["100%","80%"],children:(0,s.jsx)(N.p,{size:"md",title:(0,s.jsx)(R.x6,{id:"aywdyd"}),description:(0,s.jsx)(R.x6,{id:"RHyKK4",values:{channelName:n}}),primaryActionLabel:(0,s.jsx)(R.x6,{id:"Oo7YVo"}),onPrimaryAction:i})})})},U=e=>{let{channels:n,workspaceId:i}=e,{leaveChannel:t,joinChannel:u}=(0,L.Z)(),h=(0,O.useCallback)((e,n)=>{e?u({channel:n,workspaceId:i}):t({channel:n})},[u,t,i]);return(0,s.jsxs)(a.B,{spacing:0,children:[0===n.length&&(0,s.jsx)(l.s,{direction:"column",justify:"center",align:"center",w:"100%",my:6,children:(0,s.jsx)(N.p,{size:"md",title:(0,s.jsx)(R.x6,{id:"4sY+E7"}),description:(0,s.jsx)(R.x6,{id:"F4lcOJ",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:P.Ix}})})}),n.length>0&&n.map(e=>{let{members:n,isMember:i,memberCount:t,name:l}=e;return(0,s.jsxs)(r.z,{spacing:4,px:4,py:2,_hover:{bg:"gray.50"},borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",children:[(0,s.jsx)(o.a,{p:2,color:i?"":"gray.400",children:(0,s.jsx)(_.g,{icon:i?T.QRE:D.$Q})}),(0,s.jsxs)(r.z,{flex:1,children:[(0,s.jsxs)(a.B,{spacing:0,children:[(0,s.jsx)(d.E,{children:l}),(0,s.jsx)(d.E,{fontSize:"sm",color:"gray.400",children:e.isMember?(0,s.jsx)(R.x6,{id:"tWPlLK",values:{0:t||0}}):(0,s.jsx)(R.x6,{id:"pkIIls",values:{0:t||0}})})]}),(0,s.jsx)(c.h,{}),(0,s.jsx)(I.KZ,{size:"xs",overflowTooltipLabel:k.Ru._({id:"25VyZX"}),avatars:n||[],max:3})]}),(0,s.jsx)(x.$,{w:20,variant:i?"ghost":"plain",size:"sm",onClick:()=>{h(!i,e)},children:i?(0,s.jsx)(R.x6,{id:"Mv8CyJ"}):(0,s.jsx)(R.x6,{id:"0wdd7X"})})]},e.id)})]})},B=e=>{var n;let{isOpen:i,onClose:l,workspaceId:o}=e,[c,T]=(0,O.useState)(""),[_,N]=(0,O.useState)(!1),[P,D]=(0,O.useState)(!1),B=(0,O.useRef)(null),{createChannel:G,createChannelLoading:F,createChannelError:W}=(0,L.Z)(),[V,H]=(0,O.useState)(null),[Q,Y]=(0,O.useState)(!1),[K,$]=(0,O.useState)(!1),{data:Z,loading:X,called:J,fetchMore:q}=(0,M.NVU)({variables:{workspaceId:o,first:20,sortBy:{field:M.ei5.MemberCount,direction:M.UEL.Desc},query:c},skip:!o}),ee=(0,O.useCallback)(e=>{let{value:n}=e.target;Y(!1),H(null),n?T(n):T("")},[]),en=!!(c&&(null==Z?void 0:Z.workspaceChannels.edges.length)===0),ei=()=>{if(o){if(!c)return void Y(!0);G({input:{name:c,workspaceId:o}}).then(()=>{l()}).catch(e=>{H(e.message)})}};(0,O.useEffect)(()=>{X||N(en)},[X,en]),(0,O.useEffect)(()=>{!J||X||P||D(!0)},[J,X,P]);let es=_&&en,et=(null==Z?void 0:Z.workspaceChannels.edges.map(e=>e.node))||[],ea=!c,el=null==Z||null==(n=Z.workspaceChannels)?void 0:n.pageInfo,er=P&&(null==el?void 0:el.hasNextPage)&&(null==el?void 0:el.endCursor);return(0,s.jsxs)(u.aF,{isOpen:i,onClose:l,lockFocusAcrossFrames:!1,returnFocusOnClose:!1,size:"2xl",initialFocusRef:B,children:[(0,s.jsx)(h.m,{}),(0,s.jsxs)(p.$,{children:[(0,s.jsx)(j.r,{pb:0,children:(0,s.jsx)(R.x6,{id:"Mxy55o"})}),(0,s.jsxs)(d.E,{px:6,color:"gray.500",mb:2,children:[(0,s.jsx)(R.x6,{id:"/eBcp2"}),"."]}),(0,s.jsx)(m.s,{}),(0,s.jsx)(b.c,{children:(0,s.jsxs)(a.B,{spacing:5,children:[(0,s.jsxs)(r.z,{align:"flex-start",children:[(0,s.jsxs)(g.MJ,{isInvalid:!!W&&c.length>0||!!V||Q,children:[(0,s.jsxs)(v.M,{size:"md",children:[(0,s.jsx)(f.W,{pointerEvents:"none",color:"gray.300",children:(0,s.jsx)(t.W,{})}),(0,s.jsx)(C.p,{value:c,onChange:ee,placeholder:k.Ru._({id:"iwm5Y3"}),_placeholder:{opacity:1},ref:B}),X&&(0,s.jsx)(f.t,{pointerEvents:"none",color:"gray.500",transitionProperty:"common",transitionDuration:"normal",children:(0,s.jsx)(y.y,{size:"sm"})})]}),V&&(0,s.jsx)(E.Wt,{children:V}),Q&&(0,s.jsx)(E.Wt,{children:(0,s.jsx)(R.x6,{id:"/Lrnb5"})})]}),(0,s.jsx)(x.$,{w:"300px",variant:"plain",onClick:ei,isLoading:F,children:(0,s.jsx)(R.x6,{id:"Oo7YVo"})})]}),(0,s.jsxs)(I._x,{children:[ea&&(0,s.jsx)(R.x6,{id:"LOzhoI"}),c&&(0,s.jsx)(R.x6,{id:"mjEyky",values:{0:et.length}})]}),es&&(0,s.jsx)(z,{channelName:c,onCreateClick:ei}),!P&&(0,s.jsxs)(a.B,{children:[(0,s.jsx)(w.E,{height:"55px"}),(0,s.jsx)(w.E,{height:"55px"}),(0,s.jsx)(w.E,{height:"55px"}),(0,s.jsx)(w.E,{height:"55px"}),(0,s.jsx)(w.E,{height:"55px"})]}),P&&o&&!es&&(0,s.jsx)(U,{channels:et,workspaceId:o}),er&&(0,s.jsx)(A.o,{p:6,children:(0,s.jsx)(x.$,{isLoading:K,onClick:()=>{$(!0),q({variables:{...0===c.length?{first:50}:{},after:null==el?void 0:el.endCursor}}).finally(()=>{$(!1)})},size:"sm",children:(0,s.jsx)(R.x6,{id:"yQ2kGp"})})})]})}),(0,s.jsx)(S.j,{children:(0,s.jsx)(x.$,{variant:"solid",onClick:l,children:(0,s.jsx)(R.x6,{id:"DPfwMq"})})})]})]})};var G=i(27229),F=i(46898),W=i(90394),V=i(78140),H=i(36999),Q=i(16936),Y=i(41283),K=i(85595),$=i(6760),Z=i(81278),X=i.n(Z),J=i(82328),q=i(70006),ee=i(61204);let en=e=>{let{channel:n,workspaceId:i,onClose:t}=e,[a]=(0,M.YYU)(),l=(0,F.d)(),r=(0,O.useCallback)(()=>{if(!i||!(null==n?void 0:n.id))return void console.error('[onDeleteChannelClick] Cannot delete channel. OrgId: "'.concat(i,'" channelId: "').concat(null==n?void 0:n.id,'"'));a({variables:{channelId:n.id,workspaceId:i}}).then(()=>{l({title:(0,s.jsx)(R.x6,{id:"j4JrT0"}),status:"success",duration:3e3,position:"top"})})},[n,l,a,i]);return(0,s.jsxs)(u.aF,{closeOnOverlayClick:!1,isOpen:!0,onClose:t,size:"lg",children:[(0,s.jsx)(h.m,{}),(0,s.jsxs)(p.$,{children:[(0,s.jsxs)(j.r,{children:["Delete ",n.name,"?"]}),(0,s.jsx)(m.s,{}),(0,s.jsxs)(b.c,{children:[(0,s.jsx)(d.E,{mb:2,children:(0,s.jsx)(R.x6,{id:"IkJ0gO"})}),(0,s.jsx)(d.E,{mb:2,children:(0,s.jsx)(R.x6,{id:"r5GL8F",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:P.Ix}})}),(0,s.jsx)(d.E,{color:"red.500",children:(0,s.jsx)(R.x6,{id:"2xOCJW"})})]}),(0,s.jsx)(S.j,{children:(0,s.jsxs)(ee.e,{children:[(0,s.jsx)(x.$,{variant:"ghost",onClick:t,children:(0,s.jsx)(R.x6,{id:"dEgA5A"})}),(0,s.jsx)(x.$,{variant:"hazardous",onClick:()=>{r(),t()},children:(0,s.jsx)(R.x6,{id:"NbFtQm"})})]})})]})]})},ei=e=>{let{channel:n,workspaceId:i,onClose:t}=e,a=(0,F.d)(),[r,o]=(0,O.useState)(()=>null==n?void 0:n.name),[d,{loading:c}]=(0,M.t1M)(),[v,f]=(0,O.useState)(null),y=(0,O.useCallback)(e=>{o(e.target.value)},[]),w=(0,O.useRef)(null),A=!!v,T=(0,O.useCallback)(()=>{if(!i||!(null==n?void 0:n.id))return void console.error('[onRenameChannel] Cannot rename channel. OrgId: "'.concat(i,'" channelId: "').concat(null==n?void 0:n.id,'"'));d({variables:{input:{id:null==n?void 0:n.id,workspaceId:i,name:r}}}).then(e=>{var i;let{data:l}=e;X().replace((0,q.gU)({id:null==n?void 0:n.id,slug:null==l?void 0:l.updateChannel.slug})),a({title:(0,s.jsx)(R.x6,{id:"QJd4OZ",values:{0:null==l||null==(i=l.updateChannel)?void 0:i.name}}),status:"success",duration:3e3,position:"top",isClosable:!0}),t()}).catch(e=>{f(e.message)})},[i,null==n?void 0:n.id,d,r,a,t]);return(0,s.jsxs)(u.aF,{closeOnOverlayClick:!1,isOpen:!0,initialFocusRef:w,onClose:t,children:[(0,s.jsx)(h.m,{}),(0,s.jsxs)(p.$,{children:[(0,s.jsx)(j.r,{children:(0,s.jsx)(R.x6,{id:"NZgZhv"})}),(0,s.jsx)(m.s,{}),(0,s.jsx)(b.c,{children:(0,s.jsx)(l.s,{mt:4,w:"100%",direction:"column",children:(0,s.jsxs)(g.MJ,{isInvalid:A,children:[(0,s.jsx)(C.p,{value:r,ref:w,onChange:y,onKeyDown:e=>{"Enter"===e.key&&T()}}),A&&(0,s.jsx)(E.Wt,{children:v})]})})}),(0,s.jsx)(S.j,{children:(0,s.jsxs)(ee.e,{children:[(0,s.jsx)(x.$,{variant:"ghost",onClick:t,children:(0,s.jsx)(R.x6,{id:"dEgA5A"})}),(0,s.jsx)(x.$,{isLoading:c,variant:"solid",onClick:T,children:(0,s.jsx)(R.x6,{id:"2wxgft"})})]})})]})]})},es=e=>{let{channel:n,workspaceId:i}=e,{isOpen:t,onOpen:a,onClose:l}=(0,G.j)({id:"deleteChannelModalDisclosure"}),{isOpen:r,onOpen:o,onClose:d}=(0,G.j)({id:"renameChannelModalDisclosure"}),{push:c}=(0,Z.useRouter)(),{leaveChannel:x}=(0,L.Z)(),u=(0,F.d)(),{onCopy:h}=(0,W.i)((0,q.gU)({id:null==n?void 0:n.id,slug:null==n?void 0:n.slug},!1)),{isInOfflineMode:p}=(0,J.u)();return(0,s.jsxs)(V.W,{closeOnSelect:!1,isLazy:!0,children:[(0,s.jsx)(H.I,{as:Q.K,variant:"ghost",fontWeight:"600",color:"gray.600",icon:(0,s.jsx)(_.g,{icon:T.Dwc})}),(0,s.jsxs)(Y.c,{zIndex:"popover",children:[(0,s.jsx)(K.D,{icon:(0,s.jsx)(_.g,{fixedWidth:!0,icon:T.tAZ}),onClick:o,isDisabled:p,children:(0,s.jsx)(R.x6,{id:"NZgZhv"})}),(0,s.jsx)($.N,{}),(0,s.jsx)(K.D,{onClick:()=>{h(),u({title:(0,s.jsx)(R.x6,{id:"h5GS+N"}),status:"success",duration:3e3,position:"top"})},icon:(0,s.jsx)(_.g,{fixedWidth:!0,icon:T.Exz}),children:(0,s.jsx)(R.x6,{id:"alYpud"})}),(0,s.jsx)(K.D,{icon:(0,s.jsx)(_.g,{fixedWidth:!0,icon:T._S}),onClick:()=>{x({channel:n}).then(()=>{c("/")})},isDisabled:p,children:(0,s.jsx)(R.x6,{id:"jC8TAY"})}),(0,s.jsx)($.N,{}),(0,s.jsx)(K.D,{color:"red.500",onClick:a,icon:(0,s.jsx)(_.g,{fixedWidth:!0,icon:T.yLS}),isDisabled:p,children:(0,s.jsx)(R.x6,{id:"NbFtQm"})})]}),r&&(0,s.jsx)(ei,{channel:n,workspaceId:i,onClose:d}),t&&(0,s.jsx)(en,{channel:n,workspaceId:i,onClose:l})]})}},98694:(e,n,i)=>{i.d(n,{v:()=>s});let s="ChannelDocDragItemType"}}]);
//# sourceMappingURL=2034-10df74b31cd43c11.js.map