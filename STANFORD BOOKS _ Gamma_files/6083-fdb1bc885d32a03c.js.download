(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6083],{41:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});let i=new(n(83747)).b},73:(e,t,n)=>{"use strict";n.d(t,{x:()=>l});var i=n(27229),a=n(26814),r=n(39892);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ai-credits-modal",t=(0,r.ez)("unlimited_credits"),{lowCreditStatus:n,credits:l,isCreditsReady:s}=(0,a.B9)(),{onOpen:o,onClose:c,isOpen:d}=(0,i.j)({id:e});return{hasUnlimitedCredits:t,lowCreditStatus:n,credits:l,onAICreditsModalOpen:o,onAICreditsModalClose:c,isAICreditsModalOpen:d,isCreditsReady:s}}},216:(e,t,n)=>{"use strict";n.d(t,{M:()=>o,u:()=>c});var i=n(6029),a=n(53996),r=n(47412),l=n(55729),s=n(26053);let o={width:"16px",height:"22px"},c=(0,l.forwardRef)((e,t)=>{let{icon:n="⋮",isVisible:l,isSelected:c,label:d,onClick:u,onDragStart:p,...h}=e,{color:g,bg:m,hoverColor:x,hoverBg:f,borderColor:b}=(0,s.Nb)(c);return(0,i.jsx)(r.Tz,{placement:"top",label:c?void 0:d,children:(0,i.jsx)(a.o,{ref:t,position:"absolute",width:o.width,height:o.height,fontWeight:"900",fontFamily:"body",background:m,backdropFilter:"blur(8px)",border:"1px solid",borderColor:b,color:g,borderRadius:"sm",boxShadow:"sm",fontSize:"16px",cursor:"pointer",opacity:c||l?1:0,_hover:{color:x,background:f,opacity:1},...h,className:"drag-handle",onClick:u,onDragStart:p,draggable:!0,contentEditable:!1,_after:{position:"absolute",content:'""',inset:-2},children:n})})});c.displayName="BaseDragHandle"},404:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var i=n(6029),a=n(24302),r=n(40452),l=n(49611),s=n(26420);let o=e=>{let{badge:t,label:n,leftIcon:o,isSticky:c,onClick:d,isDisabled:u}=e,p=(0,a.dU)("gray.50","gray.700");return(0,i.jsx)(r.s,{bg:p,position:c?"sticky":"static",bottom:c?-2:"auto",children:(0,i.jsxs)(l.$,{colorScheme:"gray",variant:"link",size:"sm",mx:"auto",leftIcon:o,onClick:d,isDisabled:u,w:"100%",py:3,children:[n,t&&(0,i.jsx)(s.a,{ms:2,children:t})]})})}},1636:(e,t,n)=>{"use strict";n.d(t,{o:()=>U});var i=n(37243),a=n(63867),r=n(71029),l=n(41896),s=n(15607),o=n(38934),c=n(92938),d=n(46957),u=n(3298),p=n(55424),h=n(28700),g=n(53138),m=n(36145),x=n(55847),f=n(90278);class b{constructor(e=null){this.dragging=e}}let y=new a.hs("smartLayoutPlugin"),v=e=>new a.k_({key:y,state:{init:()=>new b,apply:(e,t)=>t},props:{decorations:e=>(0,x.r$)(e),handleDOMEvents:{drop(e){var t;let n=null==(t=e.dragging)?void 0:t.annotations,i=y.getState(e.state);if(!i)return!1;i.dragging=n}},handleDrop:(t,n,i)=>{let a=y.getState(t.state),r=null==a?void 0:a.dragging;return a&&(a.dragging=null),!!(w(e,t,n,i)||A(e,t,n,i,r)||C(e,t,n,i))},handlePaste:(t,n,i)=>{let{selection:r}=t.state;if(!(r instanceof a.nh&&(0,p.q)(r.node)))return!1;let l=(0,m.bC)(e,n,i),s=(0,h.H)(i);if(s&&"image"!==s.type.name&&!l)return!1;let o=l?l.attrs:null==s?void 0:s.attrs;return e.commands.updateNestedAttributesAtPos(r.from,{image:o}),l&&l.upload(),!0}}}),C=(e,t,n,i)=>{let a=(0,f.fc)(t,n,i);if(!a)return!1;let r=(0,f.oO)(n),l=null,s=a.image;r&&(s=(l=(0,g.YC)(r,e)).content.attrs);let o=t.state.tr;return o.setNodeAttribute(a.pos,"image",s),null==l||l.upload(),o.deleteSelection(),t.dispatch(o),!0},w=(e,t,n,i)=>{let a=(0,f.TS)(t,n,i);if(!a)return!1;let r=t.state.tr;return r.setNodeAttribute(a.pos,"variantKey",a.variantKey),t.dispatch(r),e.commands.selectNodeAtPos(a.pos),!0},A=(e,t,n,i,a)=>{let r=null;try{if(!(r=(0,f.eL)(t,n,i)))return!1}catch(e){return!1}try{let{selection:n}=t.state,l=!n.empty,{node:s,pos:o,side:c}=r;if(o>n.from&&o<n.to)return!0;let d=i.content.toJSON(),u="left"===c||"top"===c?o:o+s.nodeSize;e.chain().insertContentAt({from:u,to:u},d,{updateSelection:!1}).command(e=>{let{tr:t}=e;return l&&t.deleteSelection(),a&&t.setMeta("annotationEvent",{type:"drop",dragging:a,droppedBlockPos:u+1}),!0}).focusMapped(u,1).run()}catch(e){console.error("(caught) [SmartLayoutPlugin] handleDrop error:",e)}return!0};var j=n(6029),k=n(21938),S=n(77650),L=n(55729),I=n(22115),E=n(15342),D=n(78893),M=n(43634),R=n(84886),_=n(43216);n(66082);var z=n(10500),N=n(51684),T=n(99492),P=n(19564),H=n(95889),F=n(70015),B=n(86687),O=n(77071);let V=e=>{let{editor:t,node:n,getPos:i,options:a}=e,{variantKey:r}=n.attrs,l=(0,O.BJ)(r),s=(0,L.useCallback)(e=>{let n=i();"number"==typeof n&&t.commands.updateNestedAttributesAtPos(n,e)},[t,i]),o=(0,L.useCallback)(e=>{H.zS.track(H.VV.SMART_LAYOUT_VARIANT_CHANGED,{previousVariant:r,newVariant:e,method:"context-menu"}),s({variantKey:e})},[s,r]),c=(0,L.useCallback)(()=>{t.chain().deleteSelectionAndSelectNear().run()},[t]),d=(0,L.useMemo)(()=>{let e=n.attrs;return l.options.map(l=>{var o,c;if(l.checkEnabled&&!l.checkEnabled({options:a,attrs:e,node:n}))return null;let d=null!=(c=a[l.key])?c:null==(o=l.defaultValue)?void 0:o.call(l,{ctx:"menu"});return l.ControlMenu?l.ControlMenu(d,(e,o)=>{s({options:{...a,[l.key]:e}}),H.zS.track(H.VV.SMART_LAYOUT_OPTION_UPDATED,{variantKey:r,optionKey:l.key,previousValue:d,newValue:e,updateChildren:o,method:"context-menu"});let c=i();o&&"number"==typeof c&&n.forEach((n,i)=>{t.commands.updateNestedAttributesAtPos(c+i+1,{options:{...n.attrs.options,[l.key]:e}})})},l):null}).filter(e=>null!==e)},[l.options,r,n,a,s,t.commands,i]),u=(0,F.d)({editor:t,getPos:i,node:n,includeCut:!1}),p=(0,L.useMemo)(()=>(0,B.ML)().map(e=>({key:"family-".concat(e.family.key),label:e.family.name(),icon:e.family.icon,items:e.variants.map(e=>{let t=e.variant,n=r===t.key;return{key:"variant-".concat(t.key),label:t.name(),icon:n?(0,j.jsx)(z.S,{}):void 0,onClick:()=>o(t.key)}})})),[r,o]);return{contextMenuItems:[{key:"title",title:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(P.x6,{id:"kLxOTV"}),"\xa0",l.name()]})},{divider:!0},...u,{divider:!0},...d.length?[...d,{key:"divider",divider:!0}]:[],{key:"switch-layout",label:(0,j.jsx)(P.x6,{id:"FRoFGK"}),icon:N.swh,items:p},{divider:!0},{key:"delete",label:(0,j.jsx)(P.x6,{id:"cnGeoo"}),icon:T.yLS,onClick:c,color:"red.500"}]}},W=e=>{let{node:t,decorations:n,editor:i,getPos:a}=e,r=t.attrs,s=(0,O.BJ)(r.variantKey),{Wrapper:o}=s,c=(0,x.Rv)(n),d=(0,f.aG)(r,c.direction),u=(0,E.GV)(M.nD),p=(0,E.GV)(M.SJ),{onOpenContextMenu:h,onCloseContextMenu:g,menuProps:m}=(0,D.$)({editor:i,getPos:a}),{contextMenuItems:b}=V({editor:i,node:t,getPos:a,options:d}),y=(0,L.useMemo)(()=>({onClick:e=>{let t=a();e.currentTarget===e.target&&"number"==typeof t&&i.commands.selectNodeAtPos(t)},cursor:u?"pointer":"default"}),[i,a,u]);return(0,j.jsxs)(R.u,{...e,dir:c.direction,className:(0,k.cx)(u&&"is-editable"),style:{position:"relative",display:"grid",gridTemplateColumns:"100%"},children:[(0,j.jsx)(o,{...c,onContextMenu:h,options:d,theme:p,variant:s,node:t,selectLayoutForElementProps:y,children:(0,j.jsx)(l.$p,{"data-node-view-content-outer":"smartLayout"})}),(0,j.jsx)(_.A,{...e,handlePlacement:"outside",label:S.Ru._({id:"Szg6OU"}),"data-testid":"smart-layout-drag-handle"}),(0,j.jsx)(I.tz,{isOpen:m.isOpen,onClose:g,menuItems:b,position:m.position,size:"small"})]})},U=i.bP.create({name:"smartLayout",group:"cardBlock layoutBlock",content:"smartLayoutCell+",isolating:!0,containerHandle:!0,defining:!0,priority:o.y.SmartLayout,addAttributes:()=>({variantKey:{default:void 0},options:{default:{},...(0,s.tb)("options")},fullWidthBlock:{default:!1}}),parseHTML:()=>[{tag:"div[class=smart-layout]"},...Object.values((0,O.aQ)()).map(e=>({tag:[e.htmlTag].filter(Boolean).join(", "),getAttrs:t=>({variantKey:e.key,options:G(t,e)})})),{tag:"smart-layout[variant]",getAttrs:e=>{let t=e.getAttribute("variant"),n=(0,O.BJ)(t);return{variantKey:n.key,options:G(e,n)}}}],renderHTMLforAI(e){let{node:t}=e,n=(0,O.BJ)(t.attrs.variantKey),i={};return n.options.forEach(e=>{var n,a;let r=null!=(a=t.attrs.options[e.key])?a:null==(n=e.defaultValue)?void 0:n.call(e);i[e.key]=null===r?void 0:"string"==typeof r?r:JSON.stringify(r)}),["smart-layout",{...i,variant:n.key},0]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,i.KV)(t,{class:"smart-layout"}),0]},addNodeView:()=>(0,l.gu)(W,{update:d.z0,ignoreMutation:r.I}),addProseMirrorPlugins(){return[v(this.editor)]},addCommands:()=>({insertSmartLayoutCell:e=>t=>{var n,a;let{chain:r,state:l}=t,s=l.doc.resolve(e),o=(0,i.eL)(s,e=>"smartLayout"===e.type.name),c=null==o?void 0:o.node.lastChild;if(!o||!c)return!1;let d=c.attrs,p=(0,u.Hg)(null==(n=c.firstChild)?void 0:n.attrs.level);return r().insertContentAt(e,{type:"smartLayoutCell",content:p,attrs:{image:{source:null==(a=d.image)?void 0:a.source}}}).selectInsertedNode().run(),!0},handleSmartLayoutDelete:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return n=>{let{dispatch:r,state:l,tr:s,chain:o}=n;if(!r)return!0;let{selection:d}=l,u=d instanceof a.nh&&(0,p.q)(d.node)?{node:d.node,pos:d.from}:(0,i.KP)(e=>"smartLayoutCell"===e.type.name)(l.selection);if(e&&u&&u.pos!==d.from)return!1;let h=(0,i.KP)(e=>"smartLayout"===e.type.name)(l.selection);if(!u||!h)return!1;if(1==h.node.childCount)o().selectNodeAtPos(h.pos).deleteSelectionAndSelectNear(t?1:-1).run();else{let e=s.doc.resolve(u.pos);(0,c.K)(s,e,t)}return!0}},handleEmphasizeCell:(e,t)=>n=>{let{chain:a,state:r}=n,l=r.doc.resolve(e),s=(0,i.eL)(l,e=>"smartLayout"===e.type.name),o=null==s?void 0:s.pos;return null==s||s.node.forEach((n,i)=>{if(!o)return!1;let r=n.attrs.options,l=o+1+i;return a().updateNestedAttributesAtPos(l,{options:{...r,isEmphasized:l===e&&t}}).run(),!0}),!0}})}),G=(e,t)=>{let n=t.defaultOptions||{};return t.options.forEach(t=>{let i=e.getAttribute(t.key);if(i){let a;try{a=JSON.parse(i)}catch(e){a=i}return t.validator&&!t.validator(a)?void console.error("Invalid value for ".concat(t.key,": ").concat(a),e.outerHTML):void(n[t.key]=a)}if(t.getDefaultOnParse&&void 0===n[t.key]){n[t.key]=t.getDefaultOnParse(e);return}}),n}},1739:(e,t,n)=>{"use strict";n.d(t,{Hf:()=>w,mk:()=>A});var i=n(6029),a=n(37243),r=n(63867),l=n(55729),s=n(47317),o=n(15607),c=n(38934),d=n(59712);let u=(e,t)=>(n,i)=>{let a={...n.getState(e.view.state)};a.active=!0,a.key=i,a.query="",t.setMeta(n,a)};var p=n(58809),h=n(15342),g=n(82927),m=n(80180);let x=e=>{let{ref:t,pickerInstance:n}=e;(0,l.useImperativeHandle)(t,()=>{let e=e=>{var t,i,a;let r=null==(a=n.component)||null==(i=a.refs)||null==(t=i.searchInput)?void 0:t.current;if(r){let{key:t,code:n}=e;r.dispatchEvent(new KeyboardEvent("keydown",{key:t,code:n}))}return e.stopPropagation(),e.preventDefault(),!0};return{onKeyDown:t=>{let{event:n}=t;return!!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter"].includes(n.key)&&e(n)}}})},f=(0,l.forwardRef)((e,t)=>{let{query:n,onSelect:a}=e,r=(0,h.GV)(p.Jo),o=(0,g.Iy)("edit",r),[c,d]=(0,l.useState)(null),u=(0,l.useCallback)(e=>{if(d(e),e.shadowRoot){let t=document.createElement("style");t.innerHTML="nav + div.padding-lr { display: none }",e.shadowRoot.appendChild(t)}e.addEventListener("mousedown",m.Fw)},[]);x({ref:t,pickerInstance:c}),(0,l.useEffect)(()=>{var e,t,i;if(!c)return;let a=null==(i=c.component)||null==(t=i.refs)||null==(e=t.searchInput)?void 0:e.current;a&&(a.value=n,a.dispatchEvent(new Event("input",{bubbles:!0})))},[c,n]);let f=(0,l.useCallback)(e=>{let t=(0,s.F8)(e.id);t&&a(t)},[a]);return o?(0,i.jsx)(s.pP,{onCreate:u,perLine:9,searchPosition:"sticky",handlePick:f,shouldFocusSearch:!1,dataTargetName:"emoji-list"}):(0,i.jsx)(i.Fragment,{})});var b=n(28603);let y=/:([a-zA-Z0-9_+-]+):$/,v=new r.hs("EmojiMenu"),C=e=>{let t=(0,s.$n)(e);return{id:e.id,native:t}},w=a.bP.create({name:"emoji",group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes:()=>({id:{},native:{}}),addStorage:()=>({hasMigrated:!1,isMigrationScheduled:!1}),parseHTML:()=>[{tag:"span.emoji:not([id])",skip:!0},{tag:"span[class=emoji]"}],addCommands(){return{openEmojiPicker:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return t=>{let{commands:n,tr:i,editor:a}=t;return u(a,i)(v,":"),!e||n.insertContent(":")}},migrateNativeEmojis:()=>e=>{let{editor:t}=e;return!this.storage.hasMigrated&&!this.storage.isMigrationScheduled&&(this.storage.isMigrationScheduled=!0,s.eX.then(()=>{t.commands.command(e=>{let{tr:t,state:n}=e,{doc:i,schema:a}=n;return i.descendants((e,n,i)=>{j({node:e,pos:n,parent:i,tr:t,schema:a})}),this.storage.hasMigrated=!0,this.storage.isMigrationScheduled=!1,!0})}),!0)}}},addInputRules:()=>[new a.fV({find:y,handler:e=>{let{range:t,match:n,commands:i}=e,a=n[1],r=(0,s.F8)(a);if(!r)return;let l=C(r);i.insertContentAt(t,{type:"emoji",attrs:l})}})],renderHTML(e){let{HTMLAttributes:t,node:n}=e;return["span",(0,a.KV)(t,{class:"emoji"}),"".concat(n.attrs.native||"�")]},renderHTMLforAI(e){let{node:t}=e;return t.attrs.native||""},renderText(e){let{node:t}=e;return"".concat(t.attrs.native||"�")},addProseMirrorPlugins:()=>[new r.k_({key:new r.hs("emojiTransform"),appendTransaction:(e,t,n)=>(0,o.g4)(e,n,j)})]}),A=(0,d.e$)({name:"emojiShortcuts",char:":",pluginKey:v,MenuComponent:(0,l.forwardRef)((e,t)=>{let{query:n,editor:a}=e;return a.isEditable?(0,i.jsx)(f,{ref:t,query:n,onSelect:e=>{let{id:t}=e,i=(0,s.$n)(e),r=a.state.selection;a.chain().deleteRange({from:r.from-n.length-1,to:r.to}).insertContent({type:"emoji",attrs:{id:t,native:i}}).insertContent(" ").run()}}):null}),priority:c.y.EmojiShortcuts}),j=e=>{let{node:t,pos:n,tr:i,schema:a}=e;if(!(0,s.Gm)())return!1;if(!t.isText||!t.text)return!0;let r=t.marks.map(e=>e.toJSON()),{replaced:l,nodes:o}=(0,b.Z)(t.text,r);try{l&&i.replaceWith(i.mapping.map(n),i.mapping.map(n+t.nodeSize),o.map(e=>a.nodeFromJSON(e)))}catch(e){console.error("[migratePlugin] Error migrating emoji",{err:e,pos:n,text:t.text,node:t,nodes:o})}return!0}},2002:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var i=n(6029),a=n(19564);let r={originalTitle:(0,i.jsx)(a.x6,{id:"0oUc2U"}),title:(0,i.jsx)(a.x6,{id:"0MyRmc"}),description:(0,i.jsx)(a.x6,{id:"s3XYLh"}),image:"https://cdn.gamma.app/zc87vhr30n8uf3n/9f0b4d71d10f4d388e50febe89bb1853/optimized/Sal-Chill-Cloud.svg"}},2067:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});let i={".is-selecting-node, .sal-selection-node, .sal-selection-card":{"[data-selection-ring]":{_before:{content:'""',position:"absolute",inset:0,borderRadius:"inherit",outline:"2px solid",outlineColor:"trueblue.300",pointerEvents:"none",zIndex:1}},'[data-selection-ring="inside"]':{_before:{zIndex:10,outlineOffset:"-2px"}},'[data-selection-ring="padded"]':{_before:{outlineOffset:"0.25em"}},".react-renderer [data-selection-ring]":{_before:{content:"none"}}},".is-selecting-around":{"[data-selection-background]":{_after:{content:'""',position:"absolute",inset:0,backgroundColor:"var(--chakra-ring-color)",borderRadius:"inherit",opacity:.75}},".react-renderer:not(.is-selecting-around) [data-selection-ring]":{_after:{content:"none"}}}}},2196:(e,t,n)=>{"use strict";n.d(t,{q:()=>x});var i=n(6029),a=n(10500),r=n(83743),l=n(26420),s=n(33787),o=n(58959),c=n(48810),d=n(47412),u=n(12364),p=n.n(u),h=n(55729),g=n(24171),m=n(13080);let x=(0,h.memo)(e=>{let{selectedPreset:t,onSelectPreset:n,columns:a}=e,l=(0,h.useRef)(function(e){return[[e,m.ll[e]],...Object.entries(m.ll).filter(t=>{let[n]=t;return n!==e})]}((0,g.b)()));return(0,i.jsx)(r.r,{columns:null!=a?a:{base:3,md:5},spacing:1,children:l.current.map(e=>{let[a,{label:r,imageUrl:l}]=e;return(0,i.jsx)(f,{stylePreset:a,label:r,imageUrl:l,isSelected:a===t,onSelectPreset:n},a)})})});x.displayName="ImageArtStyleGrid";let f=e=>{let{stylePreset:t,label:n,imageUrl:r,isSelected:u,onSelectPreset:g}=e,[m,x]=(0,h.useState)(!0),f=(0,h.useRef)(null);return(0,h.useEffect)(()=>{let e=p()(()=>{f.current&&x(f.current.scrollWidth>f.current.clientWidth)},200,{leading:!1,trailing:!0});return e(),window.addEventListener("resize",e),()=>{e.cancel(),window.removeEventListener("resize",e)}},[]),(0,i.jsx)(d.Tz,{label:n(),hasArrow:!0,placement:"bottom",isDisabled:!m,children:(0,i.jsx)(l.a,{position:"relative",cursor:"pointer",onClick:()=>g(t),borderRadius:"md",borderColor:u?"deepocean.600":"transparent",borderWidth:2,overflow:"hidden",aspectRatio:"1/1",_hover:{"& img":{filter:"brightness(60%)",transition:"filter 0.3s ease-in-out"}},children:(0,i.jsxs)(l.a,{children:[(0,i.jsxs)(l.a,{position:"relative",children:[(0,i.jsx)(s._,{src:r,alt:n(),width:"100%",height:"100%",objectFit:"cover",draggable:!1}),(0,i.jsx)(l.a,{position:"absolute",top:0,insetStart:0,insetEnd:0,bottom:0,background:"linear-gradient(to bottom, transparent 60%, rgba(0, 0, 0, 0.2) 70%, rgba(0, 0, 0, 0.55) 80%, rgba(0, 0, 0, 0.6) 100%)",pointerEvents:"none"})]}),(0,i.jsxs)(o.z,{position:"absolute",bottom:1,insetStart:2,insetEnd:2,spacing:1,children:[u&&(0,i.jsx)(a.S,{w:2,color:"white"}),(0,i.jsx)(c.E,{fontSize:"2xs",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"white",ref:f,children:n()})]})]})},t)})}},2320:(e,t,n)=>{"use strict";n.d(t,{A:()=>U,c:()=>G});var i=n(63867),a=n(6029),r=n(48810),l=n(58959),s=n(96990),o=n(40452),c=n(3276),d=n(99492),u=n(55597),p=n(48621),h=n(47412),g=n(19564),m=n(97139),x=n.n(m),f=n(21157),b=n.n(f),y=n(55729),v=n(88586),C=n(39247),w=n(58809),A=n(99038),j=n(75748),k=n(15342),S=n(24573),L=n(59712),I=n(82927),E=n(80180),D=n(82328);let M=(e,t,n)=>RegExp(t?e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):e,n?"gu":"gui"),R=()=>(0,a.jsx)(g.x6,{id:"eZHH8X",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP}}),_=e=>{let{html:t}=e;return(0,a.jsx)(r.E,{paddingInlineStart:"0.2rem",wordBreak:"break-word",noOfLines:1,maxW:300,lineHeight:"1.5",dangerouslySetInnerHTML:{__html:t?x().sanitize(t):""}})},z=e=>e.replace(/(<em>|<\/em>)/g,""),N=e=>{let{result:t}=e,{__typename:n}=t;return"User"===n?(0,a.jsxs)(l.z,{children:[(0,a.jsx)(s.e,{size:"2xs",minWidth:4,m:0,name:t.displayName&&z(t.displayName),src:t.profileImageUrl}),(0,a.jsx)(_,{html:t.displayName})]}):"Card"===n?(0,a.jsxs)(l.z,{children:[(0,a.jsx)(o.s,{color:"gray.600",minWidth:4,justifyContent:"flex-end",children:(0,a.jsx)(p.g,{icon:u.ZPt,transform:{size:6}})}),(0,a.jsx)(_,{html:t.title})]}):"DocResult"===n?(0,a.jsx)(S.xT,{result:t,context:"mentionsList"}):(console.warn("[MentionList] Invalid __typename for search result:",t.__typename),null)},T=(0,y.forwardRef)((e,t)=>{let{result:n,index:i,selectedIndex:r,selectItem:l,...s}=e;return(0,a.jsx)(h.nh,{ref:t,tabIndex:i===r?0:-1,onClick:()=>l(i),onMouseDown:E.Fw,...s,children:(0,a.jsx)(N,{result:n})},i)}),P=(0,a.jsx)(p.g,{icon:d.vti}),H=(0,a.jsx)(p.g,{icon:d.vGi}),F=(0,a.jsx)(p.g,{icon:d.hP6}),B={Card:{title:(0,a.jsx)(g.x6,{id:"gXnPmp",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP}}),iconComponent:P},DocResult:{title:b()(A.Ix),iconComponent:H},User:{title:(0,a.jsx)(g.x6,{id:"1wdjme"}),iconComponent:F}},O=(0,y.forwardRef)((e,t)=>{var n,i,s;let{editor:d,query:u,command:p}=e,{isConnected:m}=(0,v.utY)(),x=(0,k.GV)(w.Jo),f=(0,y.useMemo)(()=>{let e=null==x?void 0:x.collaborators;return(null==e?void 0:e.map(e=>e.user))||[]},[x]),{user:b,currentWorkspace:A}=(0,I.ur)(),{data:S,previousData:E,loading:_}=function(e,t){let{isConnected:n}=(0,D.u)(),i=!e||!t||!n;var a=[(0,v.SzF)({variables:{workspaceId:t,types:[v.nXf.User],query:e},skip:i}),(0,v.SzF)({variables:{workspaceId:t,types:[v.nXf.Doc],query:e},skip:i})];function r(e,t,n){n&&(e[t]||(e[t]={search:[]}),e[t].search=[...e[t].search,...n.search])}return a.reduce((e,t)=>{let{data:n,previousData:i,error:a,loading:l}=t;return!n&&l&&i&&(n=i),r(e,"data",n),r(e,"previousData",i),l&&(e.loading=!0),a&&(e.error=a),e},{})}(u,(null==b||null==(s=b.workspaceMemberships)||null==(i=s.find(e=>{var t;return(null==(t=e.workspace)?void 0:t.id)===d.gammaOrgId}))||null==(n=i.workspace)?void 0:n.id)||(null==A?void 0:A.id)),{searchDocs:N,searchUsers:P}=(0,y.useMemo)(()=>{let e=M(u,!0,!1),t=(S?S.search:E?E.search:[]).filter(e=>"User"===e.__typename),n=(S?S.search:E?E.search:[]).filter(e=>"DocResult"===e.__typename),i=f.filter(e=>!t.find(t=>t.id===e.id)).filter(e=>{var t,n;return(null==(t=e.email)?void 0:t.startsWith(u.toLowerCase()))||(null==(n=e.displayName)?void 0:n.toLowerCase().includes(u.toLowerCase()))}),a=[...t,...i].map(t=>{var n;return{...t,displayName:null==(n=t.displayName)?void 0:n.replace(e,"<em>$&</em>")}});return{searchDocs:u?[...n]:[],searchUsers:u?a:[]}},[S,E,u,f]),H=(0,k.GV)(C.rZ),F=[...P,...(0,y.useMemo)(()=>{let e=M(u,!0,!1);return u?H.map(t=>{let n=t.title||"";if(n.match(e)){let i=n.replace(e,"<em>$&</em>");return{...t,title:i,__typename:"Card"}}return null}).filter(Boolean):[]},[H,u]),...N],O=e=>{let t=F[e]?{...F[e]}:null;t&&("User"===t.__typename&&t.displayName&&(t.displayName=z(t.displayName)),"Card"===t.__typename&&(t.docId=d.gammaDocId),p({item:t,user:b}))},{selectedIndex:V,selectedItemEl:W}=(0,L.Rj)({ref:t,selectItem:O,options:F}),G=d.state.selection,Z=!G.$anchor.parent.isLeaf&&G.$anchor.parent.textContent===U;return 0===u.length&&Z?(0,a.jsx)(o.s,{w:"100%",p:1,align:"flex-start",justify:"flex-start",flex:"1",mt:-9,marginStart:3,"data-testid":"mention-list-empty",children:(0,a.jsx)(r.E,{fontSize:"md",color:"gray.400",children:(0,a.jsx)(R,{})})}):(0,a.jsx)(h.qF,{"data-testid":"mention-list",children:(0,a.jsxs)(h.QE,{"data-target-name":"mention-list",w:"540px",maxW:"90vw",overflowY:"auto",maxH:"65vh",sx:{em:{bg:"var(--chakra-colors-trueblue-100)",fontStyle:"normal",borderRadius:"base",display:"inline-block",padding:"0px 2px",margin:"0px -2px"}},children:[(0,a.jsx)(j.r,{isConnected:m,description:(0,a.jsx)(g.x6,{id:"KnLL/m"})}),0===u.length?(0,a.jsx)(o.s,{p:1,align:"center",justify:"center",flex:"1",minH:12,"data-testid":"mention-list-empty",children:(0,a.jsx)(r.E,{fontSize:"md",color:"gray.400",children:(0,a.jsx)(R,{})})}):!_&&u.length>1&&0===F.length?(0,a.jsx)(o.s,{p:1,align:"center",justify:"center",flex:"1",minH:12,children:(0,a.jsx)(r.E,{fontSize:"sm",color:"gray.500",children:(0,a.jsx)(g.x6,{id:"0+jt9a"})})}):null,F.map((e,t)=>{let n=F.findIndex(t=>t.__typename===e.__typename)===t&&e.__typename?B[e.__typename]:null;return(0,a.jsxs)(y.Fragment,{children:[n&&(0,a.jsxs)(l.z,{mt:4,mb:2,color:"gray.500",children:[n.iconComponent,(0,a.jsx)(h._x,{children:n.title})]}),(0,a.jsx)(T,{"data-testid":"mention-list-item-".concat(e.id),ref:t===V?W:null,result:e,index:t,selectedIndex:V,selectItem:O},t)]},e.id)}),_&&(0,a.jsx)(o.s,{p:1,align:"center",justify:"center",flex:"1",minH:12,children:(0,a.jsx)(c.y,{opacity:"0.8",size:"xs"})})]})})});var V=n(38934);let W=new i.hs("MentionGamma"),U="@",G=(0,L.e$)({name:"GammaMention",char:U,pluginKey:W,allowSpaces:!0,MenuComponent:O,priority:V.y.MentionSuggestionMenu,command:e=>{let{editor:t,range:n,props:i}=e,{item:a,user:r}=i;if("User"===a.__typename){let{id:e,displayName:i,profileImageUrl:l}=a,{id:s}=r;t.commands.addUserMention({id:e,label:i,profileImageUrl:l,mentionedById:s},n)}else if("Card"===a.__typename){let{id:e,docId:i}=a,{id:l}=r;t.commands.addCardMention({id:e,docId:i,mentionedById:l},n)}else if("DocResult"===a.__typename){let{id:e}=a,{id:i}=r;t.commands.addDocMention({id:e,mentionedById:i},n)}}})},2362:(e,t,n)=>{"use strict";n.d(t,{X:()=>g});var i=n(6029),a=n(90394),r=n(46898),l=n(34807),s=n(49611),o=n(38036),c=n(26385),d=n(72470),u=n(77979),p=n(19564),h=n(55729);let g=e=>{let{url:t,placeholder:n,isDisabled:g=!1,variant:m="plain",customLabel:x,onClick:f,paddingLeft:b=4,...y}=e,[v,C]=(0,h.useState)(!1),{hasCopied:w,onCopy:A}=(0,a.i)(t),j=(0,h.useRef)(null),k=(0,r.d)(),S="link-copied-toast",L=(0,l.A)({base:!0,sm:!1},{fallback:"sm"});(0,h.useEffect)(()=>{j.current&&v&&(j.current.focus(),j.current.select())},[v]);let I=(0,h.useCallback)(()=>C(!0),[]),E=(0,h.useCallback)(()=>C(!1),[]),D=(0,h.useCallback)(()=>{A(),k.isActive(S)||k({id:S,title:(0,i.jsx)(p.x6,{id:"pQjjYo"}),status:"success",duration:5e3}),null==f||f()},[f,A,k]),M=x||(0,i.jsx)(p.x6,{id:"he3ygx"}),R=!!(L&&void 0!==x),_=(0,i.jsx)(s.$,{isDisabled:g,onClick:D,variant:m,w:"100%",...R?{}:{height:"2rem",margin:2},...g?{opacity:"1 !important",color:"gray.400",_hover:{opacity:"1"},_active:{boxShadow:"0 none"}}:{},children:w?(0,i.jsx)(p.x6,{id:"6V3Ea3"}):M}),z=(0,i.jsx)(o.p,{ref:j,type:"text",variant:"filled",paddingLeft:b,direction:"ltr",value:t,isReadOnly:!0,isDisabled:g,placeholder:n||void 0,onClick:I,onBlur:E,pointerEvents:g?"none":void 0,h:"3rem",...y});return R?(0,i.jsxs)(c.B,{w:"100%",children:[z,_]}):(0,i.jsxs)(d.M,{dir:"ltr",children:[z,(0,i.jsx)(u.t,{h:"3rem",zIndex:1,w:"unset",children:_})]})}},2426:(e,t,n)=>{"use strict";n.d(t,{bY:()=>u,dX:()=>c});var i=n(37243),a=n(63867),r=n(67733),l=n(23460),s=n(15607),o=n(8098);let c=new a.hs("menuFormattingBubble");class d{initialize(e){let{element:t,tippyOptions:n,panelLifecycle:i,onHide:a,targetElement:r}=e;if(!t)return void console.warn("[FormattingBubbleMenuView] initialize. No element provided");this.onHide=a,this.element=t,this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.view.dom.addEventListener("dragend",this.dragendHandler),this.view.dom.addEventListener("drop",this.dragendHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.createTooltip(n,r),this.element.style.visibility="visible",document.addEventListener("mousedown",this.mousedownDocumentHandler,!0),document.addEventListener("mouseup",this.mouseupDocumentHandler,!0),this.boundHideHandler=this.hide.bind(this),o.q.on("hide",this.boundHideHandler),i&&(this.cleanupPanelLifecycle=i.on("resize",()=>{var e;null==(e=this.tippy.popperInstance)||e.update()}))}createTooltip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t||this.view.dom.parentElement;this.tippy=(0,r.Ay)(n,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...e}),this.editor.commands.command(e=>{let{tr:t}=e;return t.setMeta(c,{tippyInstance:this.tippy}),!0})}update(e,t){let n=t&&c.getState(t),a=c.getState(e.state),{state:r,composing:o}=e,{doc:d,selection:u}=r,h=t&&t.doc.eq(d)&&t.selection.eq(u)&&this.isEditable===this.editor.isEditable&&(null==n?void 0:n.forceHide)===a.forceHide;if(!this.element){if(!a.element)return;this.initialize(a)}if(this.isEditable=this.editor.isEditable,!this.editor.isEditable||!0===a.forceHide)return void this.hide();if(o||h)return;let{empty:g,ranges:m}=u,x=Math.min(...m.map(e=>e.$from.pos)),f=Math.max(...m.map(e=>e.$to.pos)),b=!d.textBetween(x,f).length&&(0,i.eE)(e.state.selection);if(g||b){let e=u.$anchor.marks().some(e=>"link"===e.type.name)||"button"===u.$anchor.parent.type.name,t=(0,i.Nx)(d,{from:x,to:f},e=>"emoji"===e.type.name);if(!e&&(null==t?void 0:t.length)===0)return void this.hide()}this.tippy.setProps({getReferenceClientRect:()=>{if(!(0,i.BQ)(e.state.selection))return(0,i.MG)(e,x,f);let t=e.nodeDOM(x);return t&&(0,l.sb)(t)?(p(t,".drag-handle")||p(t,"[data-content-reference]")||t).getBoundingClientRect():(0,i.MG)(e,x,f)}}),!this.isMouseDownOutsideMenu&&(0,s.We)(this.editor)&&this.show()}show(){this.tippy.show(),document.body.classList.add("formatting-menu-open")}hide(){this.onHide&&"function"==typeof this.onHide&&this.onHide(),this.tippy.hide(),document.body.classList.remove("formatting-menu-open")}destroy(){var e,t;null==(e=this.tippy)||e.destroy(),null==(t=this.element)||t.removeEventListener("mousedown",this.mousedownHandler),document.removeEventListener("mousedown",this.mousedownDocumentHandler,!0),document.removeEventListener("mouseup",this.mouseupDocumentHandler,!0),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.boundHideHandler&&o.q.off("hide",this.boundHideHandler),this.cleanupPanelLifecycle&&this.cleanupPanelLifecycle()}constructor({editor:e,view:t}){this.preventHide=!1,this.mousedownDocumentHandler=e=>{this.element.contains(e.target)?this.isMouseDownOutsideMenu=!1:this.isMouseDownOutsideMenu=!0},this.mouseupDocumentHandler=()=>{this.isMouseDownOutsideMenu=!1,this.update(this.editor.view)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.dragendHandler=()=>{this.isMouseDownOutsideMenu=!1,setTimeout(()=>this.update(this.editor.view))},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=e=>{var t;let{event:n}=e;if(this.preventHide){this.preventHide=!1;return}(null==n?void 0:n.relatedTarget)&&(null==(t=this.element.parentNode)?void 0:t.contains(n.relatedTarget))||this.hide()},this.editor=e,this.isEditable=e.isEditable,this.view=t}}let u=i.YY.create({name:"formattingBubbleMenu",addCommands:()=>({forceHideBubbleMenu:e=>t=>{let{tr:n}=t;return n.setMeta(c,{forceHide:e}),!0},refreshBubbleMenu:()=>e=>{var t;let{state:n}=e,{tippyInstance:i}=c.getState(n);return null==i||null==(t=i.popperInstance)||t.forceUpdate(),!0}}),addProseMirrorPlugins(){let{editor:e}=this;return[new a.k_({key:c,state:{init:()=>({element:null,forceHide:!1,onHide:()=>{},tippyOptions:{},tippyInstance:null}),apply(e,t){let n=e.getMeta(c);return n?{...t,...n}:t}},view:t=>new d({view:t,editor:e})})]}}),p=(e,t)=>{let n=e.querySelector(t),i=e.querySelector("[data-node-view-wrapper]");return n&&i&&(0,l.xX)(n,e,e=>e.hasAttribute("data-node-view-wrapper"))===i?n:null}},2681:(e,t,n)=>{"use strict";n.d(t,{Q5:()=>y,gf:()=>b,ms:()=>f,tJ:()=>v});var i=n(6029),a=n(27229),r=n(8527),l=n(21152),s=n(49611),o=n(2241),c=n(54578),d=n(87613),u=n(47412),p=n(55729);let[h,g]=(0,c.q)({strict:!1,name:"DropdownContext"}),[m,x]=(0,c.q)({name:"DropdownStylesContext",errorMessage:"useDropdownStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Dropdown />\" "}),f=e=>{let{isOpen:t,onClose:n,onToggle:s}=(0,a.j)(),o=(0,r.o)("Dropdown",e),c=(0,l.E)({placement:"bottom-start"}),d=(0,p.useMemo)(()=>({isOpen:t,onClose:n,onToggle:s,popper:c}),[t,n,s,c]);return(0,i.jsx)(h,{value:d,children:(0,i.jsx)(m,{value:o,children:(0,i.jsx)(u.qF,{...e})})})},b=e=>{let{children:t,as:n,...a}=e,{popper:r,onToggle:l}=g(),c=n||s.$;return(0,i.jsx)(c,{...a,ref:r.referenceRef,onClick:(0,d.H)(e.onClick,l),children:(0,i.jsx)(o.B.span,{__css:{pointerEvents:"none",flex:"1 1 auto",justifyContent:"flex-start",display:"flex",minW:0},children:t})})},y=e=>{var t,n;let{children:a,...r}=e,{isOpen:l,popper:s}=g(),c=x();if(!l)return null;let d=s.getPopperProps({...e,style:{visibility:l?"visible":"hidden",...e.style}});return(0,i.jsx)(o.B.div,{...r,mt:2,minWidth:"var(--chakra-sizes-48)",ref:s.popperRef,...d,__css:{zIndex:null!=(n=e.zIndex)?n:null==(t=c.list)?void 0:t.zIndex},children:(0,i.jsx)(u.QE,{children:a})})},v=e=>{let{onToggle:t}=g();return(0,i.jsx)(u.nh,{...e,onClick:(0,d.H)(e.onClick,t)})}},3239:(e,t,n)=>{"use strict";n.d(t,{s:()=>p,u:()=>h});var i=n(63867),a=n(80116),r=n(39247),l=n(43634),s=n(15607),o=n(56603),c=n(92397),d=n(47665);let u=(e,t)=>{let{content:n}=e.state.doc.slice(t.from,t.to);return(0,a.KC)(e,n)},p=(e,t)=>{let{selection:n}=e.state,a=(0,s.IV)(n.$from,d.jg)[0],r=a&&(0,c.Ub)(a.node,a.pos);if(!a||!r)throw Error("Cant find parent card for selection ".concat(n));let p={from:a.pos,to:a.pos+a.node.nodeSize},g={from:r.pos+1,to:r.pos+r.node.nodeSize-1},m=n.$from.blockRange(n.$to),x={from:m.start,to:m.end},f={range:(0,o.w8)(e.state,g),html:u(e,g)},b={range:(0,o.w8)(e.state,n),html:u(e,n)},y={range:(0,o.w8)(e.state,x),html:u(e,x)},v=n instanceof i.nh&&(0,d.jg)(n.node)||n.empty||0===b.html.trim().length||n instanceof i.nh&&n.node.isAtom,C=!n.$from.parent.eq(n.$to.parent)||0===m.$from.parentOffset&&m.$to.parentOffset===m.$to.parent.content.size,w=b,A="selectionRange";v?(w=f,A="cardContent"):C&&(w=y,A="blockRange");let j=h(t),k=(0,l.SJ)(t.getState());return{card:{cardId:a.node.attrs.id,range:(0,o.w8)(e.state,p),html:u(e,p),attrs:a.node.attrs},cardContent:f,blockRange:y,selectionRange:b,defaultRange:w,selection:n,outline:j,selectedDefaultRange:A,theme:k}},h=e=>{let t=e.getState(),n=(0,l.Ev)(t),i=(0,r.ow)(t);return Object.keys(n.tree).map(e=>{var t;return null==(t=i[e])?void 0:t.title}).filter(e=>!!e).join("\n")}},3298:(e,t,n)=>{"use strict";n.d(t,{Ab:()=>o,Hg:()=>l,xb:()=>s});var i=n(99492),a=n(77650),r=n(17633);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return[r.w.heading(a.Ru._({id:"HX5SVx"}),{level:e}),r.w.paragraph(a.Ru._({id:"Nu4oKW"}))]},s="1em",o={boxes:{name:()=>a.Ru._({id:"61H/21"}),icon:i.n2$},bullets:{name:()=>a.Ru._({id:"RYtHky"}),icon:i.ITF},sequence:{name:()=>a.Ru._({id:"ipQKNM"}),icon:i.dmS},images:{name:()=>a.Ru._({id:"an5hVd"}),icon:i.Cyq},numbers:{name:()=>a.Ru._({id:"3xKsW7"}),icon:i.Bi7},circles:{name:()=>a.Ru._({id:"pzzFVX"}),icon:i.yNr},quotes:{name:()=>a.Ru._({id:"eWLklq"}),icon:i.$7g},steps:{name:()=>a.Ru._({id:"A9onc2"}),icon:i.UER}}},3383:(e,t,n)=>{"use strict";n.d(t,{ay:()=>S,ds:()=>k,ze:()=>L});var i=n(37243),a=n(55729),r=n(81807),l=n(14994),s=n(34832),o=n(17859),c=n(83605),d=n(82592),u=n(13559),p=n(9118),h=n(82328),g=n(6018),m=n(58809),x=n(66380),f=n(11390),b=n(15342),y=n(3239),v=n(90010),C=n(22529),w=n(47665),A=n(22539);let j={language:"English (US)",textAmount:"md",tone:"",audience:"",format:"deck",imageProvider:"aiGenerated"},k=e=>{var t,n;let{editor:l,getPos:h,theme:y,input:k}=e,S=(0,b.GV)(m.Jo),I=S.organization.id,E=(0,b.GV)((0,C.d8)(I)),[D,M]=(0,a.useState)(!1),R=(0,b.CU)(),{imageProvider:_,imageOptions:z}=(0,x.V)(),{template:N,settings:T}=k,P=(0,a.useCallback)(async e=>{if(!S||!S.organization)throw Error("Doc or organization not found");let{templateText:t,input:n="",interactionId:i}=e,a=performance.now(),d=(0,u.h)(l,R),p={...j,...d,...e.settings,input:n,templateText:t,previous:e.previous,textMode:"generate",imageOptions:z,imageProvider:_},h={interface:"add-card",interactionId:i,inputContent:n,inputData:{...e.settings,template:N},product:(0,f.A4)(S.organization),docId:S.id};(0,o.rl)(h);let m=await (0,s.K8)({promptKey:"GenerateCardWithLayout",variables:p,workspaceId:E.id,interactionId:i}),x=(0,r.DB)(m),b=(0,c.dE)(x);return(0,o.Yh)({...h,outputContent:x,latency:performance.now()-a}),(0,g.w)("generateCard",E,i),b},[S,R,E,_,z,N,l]),H=(0,p.xt)(T.locale||(0,v.nM)(l.state.doc)||(null==S||null==(n=S.docGenerateInput)||null==(t=n.settings)?void 0:t.locale)||"en");return{isGenerating:D,getContextAndGenerate:(0,a.useCallback)(async e=>{if(!l)return;let t=h(),n=l.view.state.doc.nodeAt(t);if(!n)return void console.error("[AICard] Cannot append card. Node unknown");let a=L(l,t);M(!0);try{var r;let s=(0,o.$F)(),c=null==(r=(0,A.W)().find(e=>e.key===N))?void 0:r.aiDescription,u=await P({input:e,templateText:c,previous:a,settings:{language:H.englishName},interactionId:s});u.attrs={...n.attrs,...u.attrs,container:{...n.attrs.container,...u.attrs.container},generatorInput:{...n.attrs.generatorInput,prompt:e,template:N,settings:T,status:"done",interactionId:s}};let p=(0,i.xe)(l.state.doc,e=>(0,w.jg)(e)&&e.attrs.id===n.attrs.id)[0];if(!p)return void console.warn("[useGenerateCard] Card not found. It may have been deleted while generating.");l.chain().insertContentAt({from:p.pos,to:p.pos+p.node.nodeSize},u).setMeta("isGenerateCard",!0).selectInsideCardBody(t).run(),(0,d.Sg)({editor:l,content:u,theme:y,interactionId:s})}catch(e){console.error("[GenerateCard] Error generating card",e)}M(!1)},[l,h,P,N,H.englishName,T,y]),updateInput:(0,a.useCallback)(e=>{let t=h(),n=l.view.state.doc.nodeAt(t);(null==n?void 0:n.attrs.generatorInput)&&l.commands.updateNestedAttributesAtPos(t,{generatorInput:e})},[l,h]),locale:H}},S=(e,t)=>{let{isInOfflineMode:n}=(0,h.u)(),[i,r]=(0,a.useState)([]),[l,o]=(0,a.useState)("ready"),{generate:c}=(0,s.pt)("SuggestCardTopics",{onStart(){o("generating"),r([])},onContent(e){r(e.split("\n").filter(Boolean))},onComplete(e){r(e.split("\n").filter(Boolean)),o("done")},onError(e){console.error("Error generating suggestions",e),o("error")},timeout:3e4}),d=(0,b.GV)(m.Jo),u=d.organization.id,p=(0,b.GV)((0,C.d8)(u)),g=(0,v.lI)(e),x=(0,v.zK)(g),f=(0,b.CU)();return(0,a.useEffect)(()=>{if(!n&&t&&"ready"===l){let e=(0,y.u)(f);e.trim().split("\n").length<3||c({variables:{outline:e,format:x},workspaceId:p.id})}},[l,c,n,t,f,x,d,p]),{suggestions:i,generateSuggestionsStatus:l}},L=(e,t)=>(0,l._)(e,Math.max(t-5e3,0),t)},3864:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});var i=n(45143);let a={base:"md","2xl":"lg"},r=()=>(0,i.h5)(a)},4097:(e,t,n)=>{"use strict";n.d(t,{c:()=>r,e:()=>a});var i=n(55729);let a=(0,i.createContext)({onDragStart:void 0}),r=()=>(0,i.useContext)(a)},4522:(e,t,n)=>{"use strict";n.d(t,{Ud:()=>L,VM:()=>S,Hy:()=>A.Hy,Pf:()=>A.Pf,Td:()=>A.Td});var i=n(37243),a=n(63867),r=n(89703),l=n(55978),s=n(41896),o=n(38934),c=n(98088),d=n(50861),u=n(6029),p=n(40452),h=n(51684),g=n(55729),m=n(59230),x=n(15342),f=n(43634),b=n(84886),y=n(28647),v=n(66082),C=n(98968),w=n(66079),A=n(21982),j=n(62917);let k=e=>(0,u.jsx)(b.u,{...e,as:"div",children:(0,u.jsx)(S,{...e})}),S=e=>{var t;let{node:n,decorations:i,editor:a}=e,{source:l,horizontalAlign:s,uploadStatus:o,loadImageParams:c,loadImageStatus:d}=n.attrs,{getPos:b}=e,{isFullWidth:k}=(0,y.D)(i),S=(null==(t=w.Fn[l])?void 0:t.icon)||h.Cyq,L=(0,C.NZ)(e),I=(0,j.j8)(a,b),E=(0,x.GV)(f.nD),D=(0,r.f)(),M=(0,g.useCallback)(()=>{D({isOpen:!0})},[D]);return(0,u.jsx)(p.s,{w:"100%",h:"100%",dir:(0,v.fZ)(i,s),direction:"column",sx:(0,v.yp)(s),children:(0,u.jsx)(A.Pf,{hasUploadError:o===m.A.Error&&!a.isThumbnail,isUploading:o===m.A.Uploading,isLoading:"queued"===d&&!a.isThumbnail,loadingProvider:null==c?void 0:c.provider,"data-content-reference":!0,icon:S,width:k||L?"100%":"18em",maxW:"100%",h:L?"100%":"10em",maxH:"100%",onSelectAndFocus:I,defaultSource:l,"data-drag-handle":!0,"data-selection-ring":!0,"data-selection-background":!0,borderRadius:"var(--box-border-radius)",hasQuickActions:!a.isThumbnail,handleDoubleClick:E?M:void 0})})},L=i.bP.create({name:"mediaPlaceholder",group:"block media",atom:!0,selectable:!0,draggable:!0,priority:o.y.MediaPlaceholder,addNodeView:()=>(0,s.gu)(k),addAttributes:()=>({id:(0,l.e)(c.z),source:{},fullWidthBlock:{default:!1}}),addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e,n=t.state.selection;return!!(n instanceof a.nh&&(0,d.Bv)(n.node))&&((0,r.G)(),!0)}}),addCommands:()=>({insertMediaBlock:e=>t=>{let{commands:n}=t;return n.insertContentAndSelect({type:"mediaPlaceholder",attrs:{source:e}}),requestAnimationFrame(()=>{(0,r.G)()}),!0}}),parseHTML:()=>[{tag:"img[placeholder=true]",priority:60}],renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,i.KV)(t,{placeholder:"true"})]}})},4913:(e,t,n)=>{"use strict";n.d(t,{I6:()=>u,JP:()=>p,hn:()=>m,lX:()=>h,mE:()=>g});var i=n(33750),a=n.n(i),r=n(50333),l=n.n(r),s=n(95197),o=n(19705);let c=e=>{let t={min:1,max:4.5},n={min:.6,max:1},i=(a()(e,t.min,t.max)-t.min)/(t.max-t.min);return n.max-i*(n.max-n.min)},d=e=>{let t;return t=((null==e?void 0:e.type)==="image"||(null==e?void 0:e.type)==="themeLogo")&&e.imageSize||"md",o.rP[t].height},u=(e,t)=>e?d(e)*c(null!=t?t:1):o.rP.md.height,p=(e,t)=>{let n=o.KU[e||"md"],i=(t-o.S2)*.2;return l()(n+Math.max(0,i),2)},h=(e,t,n,i,a)=>{if(!t)return{start:0,end:0};let r=(null==t?void 0:t.type)==="image"||(null==t?void 0:t.type)==="themeLogo",s=(null==t?void 0:t.type)==="text"||(null==t?void 0:t.type)==="cardNumbers",c=p(n,e),h=r?u(t,i):o.Vn,g=r?d(t):o.Vn,m=(e-h)*c/2,x=Math.max(0,(1-h/g)*c)+Math.max(0,m);return{start:l()(x+("flex-start"===a&&s?.3:0),2),end:l()(x+("flex-end"===a&&s?.3:0),2)}},g=e=>{let{hideFromFirst:t,hideFromLast:n,...i}=e,a=o.S2;return Object.values(i).forEach(e=>{if(e&&("image"===e.type||"themeLogo"===e.type)&&!(0,s.M3)(e)){let t=d(e);t>a&&(a=t)}}),a},m=(e,t)=>{let n=g(e),i=p(t,n);return n+2*i}},4967:(e,t,n)=>{"use strict";n.d(t,{_:()=>x,n:()=>g});var i=n(21938),a=n(63867),r=n(97255),l=n(15342),s=n(17928),o=n(43634),c=n(33201),d=n(67200),u=n(15607),p=n(21699),h=n(60300);let g=new a.hs("spotlight"),m=(e,t,n)=>{if(null===t.pos)return r.zF.create(e.doc,[]);let a=[],l=e.doc.nodeAt(t.pos);l&&(0,c.jg)(l)&&!n(l,t.cardId)?a.push(r.NZ.node(t.pos,t.pos+l.nodeSize,{class:"presenting-card"})):l&&n(l,t.cardId)&&a.push(r.NZ.node(t.pos,t.pos+l.nodeSize,{class:"spotlight-block"}));let s=t.pos;return e.doc.descendants((e,l)=>(n(e,t.cardId)&&a.push(r.NZ.node(l,l+e.nodeSize,{class:(0,i.cx)("spotlightable",l>s&&"after-spotlight")})),(0,h.I2)(e)||(0,c.jg)(e))),r.zF.create(e.doc,a)},x=(e,t)=>new a.k_({key:g,state:{init:(t,n)=>{let i={pos:null,cardId:""};return{...i,decorations:m(n,i,e)}},apply(t,n,i,a){let r=t.getMeta(g),l=(0,d.he)(t);if(r||l){let t=r||n;return{...t,decorations:m(a,t,e)}}let s=n.decorations.map(t.mapping,t.doc);return{...n,decorations:s}}},props:{attributes:t=>{let n=g.getState(t);if(!n||null===n.pos)return{class:""};let i=t.doc.nodeAt(n.pos);return i&&e(i,n.cardId)?{class:"spotlight-active"}:{class:""}},decorations:e=>{let t=g.getState(e);return t?t.decorations:null},handleDOMEvents:{click(e,n){if(n.detail>1||(0,p.Qj)(e))return;let i=(0,l.KA)(),a=i.getState(),r=(0,o.FI)(a);if(!(r&&(0,h.UE)(t,r))||(0,o.QF)(a))return;if((0,o.YL)(a))return void i.dispatch((0,o.tB)());let s=g.getState(e.state);if(!(null==s?void 0:s.cardId))return;let c=e.posAtDOM(n.target,0);if(null===c||c<1)return;if(!e.state.doc.nodeAt(c))return void t.commands.turnOffSpotlight();let[d]=(0,u.TK)(e.state.doc.resolve(c),e=>(0,h.Rj)(e));d?t.commands.spotlightNodeAtPos(c):t.commands.turnOffSpotlight()},contextmenu(e,n){let i=g.getState(e.state);if(!(null==i?void 0:i.cardId))return;let a=(0,l.KA)().getState();if((0,o.QF)(a))return;let r=e.posAtDOM(n.target,0),c=t.state.doc.resolve(r),d=e.state.doc.nodeAt(r),[p]=d&&(0,h.Rj)(d)?[{pos:r,start:c.start(c.depth+1)}]:(0,u.TK)(t.state.doc.resolve(r),e=>(0,h.Rj)(e));s.LF.emit(s.DN.OPEN_PRESENT_MODE_CONTEXT_MENU,{e:n,cardId:i.cardId,pos:p?p.start:null})}}}})},5380:(e,t,n)=>{"use strict";n.d(t,{c:()=>p,m:()=>h});var i=n(55729),a=n(35292),r=n(15342),l=n(12354),s=n(49249),o=n(90278),c=n(77071),d=n(60908),u=n(89703);let p=e=>{let{editor:t,getPos:n,backgroundRemovalId:a}=e,o=(0,r.jL)(),c=(0,u.f)(),d=(0,i.useCallback)(function(e){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];t.view.focus(),c({isOpen:!0,shouldResetSourceKey:n}),e.stopPropagation()},[t,c]),{startRemoveBg:p,isRemovingBg:h}=(0,s.D)({editor:t,id:a});return{changeFocalPoint:(0,i.useCallback)(e=>{t.commands.selectNodeAtPos(n()),o((0,l.sI)({id:e}))},[t,n,o]),editImage:d,startRemoveBg:p,isRemovingBg:h}},h=e=>{let{editor:t,node:n,parentNode:r}=e,l=(0,i.useCallback)(e=>{t.chain().insertSmartLayoutCell(e).run()},[t]),s=(0,i.useCallback)(e=>{t.chain().insertSmartLayoutCell(e).run()},[t]),u=(0,i.useCallback)(e=>{t.chain().insertContentAt(e,n.toJSON()).selectInsertedNode().run()},[t,n]),p=(0,i.useCallback)(()=>{t.chain().handleSmartLayoutDelete().run()},[t]),h=(0,i.useCallback)((e,n)=>{t.commands.updateNestedAttributesAtPos(e,n)},[t]),g=(0,i.useCallback)(e=>{t.chain().updateNestedAttributesAtPos(e,{image:null}).run()},[t]),m=n.attrs.options,x=n.attrs.image,f=r&&(0,o.$o)(r.attrs),b=r?(0,c.BJ)(r.attrs.variantKey):null,{imageSlot:y,imageType:v}=null!=b?b:{},C=y&&!!(null==x?void 0:x.src),w=(0,d.SV)((null==x?void 0:x.src)||(null==x?void 0:x.tempUrl)),A=(0,d.v7)(null==x?void 0:x.src);return{addColumnBefore:l,addColumnAfter:s,canChangeFocusPointAndRemoveBackground:"image"===v&&!w&&(null==x?void 0:x.src)&&!A,canEditImageWithAI:(0,a.l)(x)&&C&&"image"===v,hasImage:C,imageSlot:y,imageType:v,addDirection:f,parentVariant:b,cellOptions:m,handleDelete:p,selectParent:e=>{t.commands.selectNodeAtPos(e),t.chain().selectParentNode().run()},duplicateNode:u,updateAttributes:h,resetImage:g}}},5872:(e,t,n)=>{"use strict";n.d(t,{E:()=>l,S:()=>r});var i=n(33170),a=n(45002);let r="gamma-moveable-wrapper",l={...i.BT,...a.X0}},6018:(e,t,n)=>{"use strict";n.d(t,{R:()=>h,w:()=>p});var i=n(88586),a=n(68301),r=n(89942),l=n(11390),s=n(15342),o=n(95889),c=n(42721),d=n(779),u=n(62826);let p=async(e,t,n)=>{var p,g;let m=(0,r.vT)("unlimited_credits",t),x=null!=(g=a.of.get("aiDebits")[e])?g:d.rA[e];if(h(e,t,n),0===x)return;let f=(null==t?void 0:t.id)||(0,c.gx)();if(!f)return;let b=(0,i.H4n)(),y=null==(p=(await b.mutate({mutation:i.lgx,variables:{value:x,workspaceId:f}})).data)?void 0:p.deductCredits;return y?(o.zS.track(o.VV.AI_CREDITS_DEDUCTED,{operation:e,used:m?0:x,remaining:y.credits,interactionId:n,workspaceId:f,plan:(0,l.A4)(t)}),(0,s.KA)().dispatch((0,u.z0)({availableCredits:y.credits})),y.credits):null},h=(e,t,n)=>{var i;let s=(0,r.vT)("unlimited_credits",t),c=null!=(i=a.of.get("aiDebits")[e])?i:d.rA[e];o.zS.track(o.VV.AI_CREDITS_USED,{operation:e,used:c,has_unlimited_ai:s,interactionId:n,workspaceId:null==t?void 0:t.id,plan:(0,l.A4)(t)})}},6046:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var i=n(6029),a=n(55729),r=n(56760);let l=e=>{let{renderers:t}=e;return(0,i.jsx)(i.Fragment,{children:Object.entries(t).map(e=>{let[t,n]=e;return r.createPortal(n.reactElement,n.element,t)})})};class s extends a.Component{componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;let t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?(0,r.flushSync)(e):e()}setRenderer(e,t){this.maybeFlushSync(()=>{this.setState(n=>{let{renderers:i}=n;return{renderers:{...i,[e]:t}}})})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(t=>{let{renderers:n}=t,i={...n};return delete i[e],{renderers:i}})})}componentWillUnmount(){let{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;let t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){let{editor:e,portalComponent:t,...n}=this.props;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:this.editorContentRef,...n}),(0,i.jsx)(this.portalComponent,{renderers:this.state.renderers})]})}constructor(e){super(e),this.editorContentRef=a.createRef(),this.initialized=!1,this.portalComponent=e.portalComponent||l,this.state={renderers:{}}}}let o=a.memo(s)},6700:(e,t,n)=>{"use strict";var i=Object.create?function(e,t,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,a)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)}(n(84169),t)},6845:(e,t,n)=>{"use strict";n.d(t,{Wq:()=>g,iM:()=>p,jL:()=>h,nO:()=>x,wE:()=>m,wV:()=>f});var i=n(37243),a=n(38822),r=n.n(a),l=n(63867),s=n(15342),o=n(43634),c=n(85235),d=n(33201),u=n(61385);let p=i.YY.create({name:"cardCollapse",addKeyboardShortcuts:()=>({Escape:e=>{let{editor:t}=e,n=(0,s.KA)();if((0,o.wC)(n.getState())===c.w.SLIDE_VIEW)return!1;let{selection:a}=t.state;if(!a.empty)return!1;let r=(0,i.KP)(d.jg)(a);return!(!r||!(r.depth>u.$x)||g(r.node))&&(m(r.node.attrs.id,!0),!0)}}),addProseMirrorPlugins:()=>[new l.k_({key:new l.hs("cardCollapse"),appendTransaction:(e,t,n)=>{if(n.selection.eq(t.selection)||!n.selection.empty)return;let a=(0,i.KP)(d.jg)(n.selection);if(!a)return;let{node:r,pos:s}=a;if(g(r))try{let{tr:e}=n,t=l.nh.create(e.doc,s);if(!t)return;return e.setSelection(t)}catch(e){console.error("Error moving selection out of collapsed card",{node:r,pos:s},e)}}})]}),h=(e,t)=>{let n=[],i=[];e.descendants((e,t,a)=>{if(!(0,d.jg)(e))return;let{id:r}=e.attrs;a&&"document"===a.type.name?n.push(r):i.push(r)}),t((0,o.ln)({cardIds:n,isCollapsed:!1})),t((0,o.ln)({cardIds:i,isCollapsed:!0}))},g=e=>{let t="string"==typeof e?e:e.attrs.id;if(!t)return;let n=(0,s.KA)().getState();return(0,o.WS)(t)(n)},m=(e,t)=>{if(r()(e))return void console.error("[setCardCollapsed] Input is unexpectedly not string | string[]: ",e);let n=Array.isArray(e)?e:[e],i=(0,s.KA)();(1!==n.length||(0,o.WS)(n[0])(i.getState())!==t)&&i.dispatch((0,o.ln)({cardIds:n,isCollapsed:t}))},x=e=>{let t=[];e.state.doc.descendants(e=>{if(!(0,d.jg)(e))return;let{id:n}=e.attrs;t.push(n)}),m(t,!1)},f=e=>{let t=(0,s.KA)();void 0===t.getState().TipTap.memoState.expandedCards[e]&&t.dispatch((0,o.ln)({cardIds:[e],isCollapsed:!1}))}},7158:(e,t,n)=>{"use strict";n.d(t,{V1:()=>p,wo:()=>d});var i=n(59684),a=n(88586),r=n(38907),l=n(17789),s=n(42721);let o=e=>!(0,r.vI)(e).some(e=>["BAD_USER_INPUT"].includes(e)),c=async e=>{let{fn:t,retries:n,backoff:i=1e3,timeout:a}=e;try{return await Promise.race([t(),new Promise((e,t)=>{setTimeout(()=>t(Error("Request timeout (".concat(a,"ms)"))),a)})])}catch(s){var r;let e=null==(r=s.message)?void 0:r.startsWith("Request timeout");e&&console.debug("[AI] Request timeout. Not retrying");let l=o(s)&&!e;if(n>0&&l)return await new Promise(e=>setTimeout(e,i)),c({fn:t,retries:n-1,backoff:2*i,timeout:a});throw s}},d=async e=>{var t;let n=await u({messages:e.messages,maxTokens:null!=(t=e.params.maxTokens)?t:null,models:["gpt-3.5-turbo","gpt-3.5-turbo-16k"]});return{...e,params:{...e.params,model:n}}},u=async e=>{var t;let{messages:n,maxTokens:r,models:s}=e,{data:o}=await (0,a.H4n)().query({query:l.l3I,returnPartialData:!1,variables:{input:{messages:n,maxTokens:r,models:s}}}),c=null==o?void 0:o.canRunChatCompletion;if(!c||0===c.length)throw Error("No response received");let d=null==(t=c.find(e=>!!e.canRun))?void 0:t.model;if(!d)throw new i.tq("Input too long for models: "+JSON.stringify(s));return d},p=async function(e){var t,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeout:6e4,retries:0};return console.debug("[AI][fetchChatCompletion]",e.messages,e.params),c({fn:()=>(0,a.H4n)().mutate({mutation:l.aA3,variables:{input:{...e,workspaceId:(0,s.gx)()}}}).then(e=>{let{data:t}=e,n=null==t?void 0:t.chatCompletion;if(!n||0===n.length)throw Error("No response received");return console.debug("[AI] Got chat completion",n),t}),timeout:null!=(t=i.timeout)?t:6e4,retries:null!=(n=i.retries)?n:0})}},7270:(e,t,n)=>{"use strict";n.d(t,{W:()=>l});var i=n(6029),a=n(96500),r=n(88055);let l=e=>{let{accessLink:t,doc:n,className:l,showDivider:s=!0}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.jI,{accessLink:t,doc:n,p:6,spacing:4,className:l}),s&&(0,i.jsx)(a.c,{})]})}},7631:(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var i=n(37243),a=n(63867),r=n(91242),l=n(23513);let s=i.YY.create({name:"focusHelpers",addCommands:()=>({focusDelayed:()=>e=>{let{editor:t}=e;return requestAnimationFrame(()=>t.commands.focus()),!0},insertContentAndSelect:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n=>{let{chain:i,state:a}=n,{from:r,$from:l}=a.selection;return 0===l.parentOffset?i().insertContentAt({from:r-1,to:r},e,{updateSelection:!1}).selectInsertedNode(t).run():i().insertContent(e,{updateSelection:!1}).selectInsertedNode(t).run()}},focusMapped:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return i=>{let{tr:a,view:l}=i,s=a.mapping.map(e,n)+t;try{let e=(0,r.s)(a.doc.resolve(s));e&&a.setSelection(e),l.focus()}catch(e){console.error("[focusMapped] error selecting pos",s,e)}return!0}},selectInsertedNode:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t=>{let{tr:n,view:i}=t,a=(0,r.t)(n);if(!a)return!1;let l=(0,r.s)(a,e);return!!l&&(n.setSelection(l),i.focus(),!0)}},selectNodeAtPos:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let{state:i,tr:r,view:l}=n;try{r.setSelection(a.nh.create(i.doc,e)),t&&r.scrollIntoView(),l.focus()}catch(t){console.warn("[selectNodeAtPos] Error selecting node",e,t)}return!0}},selectInsideNodeAtPos:(e,t)=>n=>{let{tr:i,state:a}=n,l=a.doc.resolve(e),s=(0,r.s)(l,t);return!!s&&(i.setSelection(s),!0)},deleteSelectionAndSelectNear:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t=>{let{tr:n,state:i}=t,{selection:a}=i;if(a.empty)return!1;n.deleteSelection().scrollIntoView();let r=(0,l.n)(n.doc.resolve(a.from),e);return r&&n.setSelection(r),!0}}})})},7915:(e,t,n)=>{"use strict";n.d(t,{l:()=>y,y:()=>x});var i=n(37243),a=n(63867),r=n(5061),l=n(15342),s=n(70703),o=n(91242),c=n(23460),d=n(87379),u=n(39822),p=n(61766),h=n(61250),g=n(8376),m=n(16264);let x="data-drag-handle-hovering";class f{constructor(e=null){this.dragging=e}}let b=new a.hs("globalDragHandle"),y=e=>{let t,n,y,v,C=document.querySelector(e.scrollerSelector),w=e.editor,A=()=>{L()},j=()=>{if(!y||!y.el)return;let{pos:e,node:t}=y;"table"===t.type.name?w.chain().focus(void 0,{scrollIntoView:!1}).selectTable(e+2).run():t.isTextblock&&!(0,p.J)(t)?w.chain().focus(void 0,{scrollIntoView:!1}).setTextSelection({from:e+1,to:e+t.nodeSize-1}).run():w.chain().focus(void 0,{scrollIntoView:!1}).command(t=>{let{tr:n,state:i}=t,r=i.doc.resolve(e),l=new a.nh(r);return n.setSelection(l),!0}).run()},k=e=>{if(!y||!y.el)return;let{el:t,pos:n}=y;(0,s.b)(w,e,n,t)},S=()=>{},L=()=>{document.querySelectorAll("[".concat(x,"]")).forEach(e=>e.removeAttribute(x)),t&&(t.style.display="none")},I=()=>{t&&(t.style.display="block")},E=n=>{if(!w.isEditable||!v||!t||!e.storage.enabled||!(y=(0,m.lA)(v,n))||!y.el)return void L();if("image"===y.node.type.name){let e=(0,l.KA)().getState();if((0,h.iZ)(y.node.attrs.id)(e))return void L()}document.querySelectorAll("[".concat(x,"]")).forEach(e=>e.removeAttribute(x));let{el:a,node:s}=y,o=(0,m.uf)(s,a),c=a.closest(".block-gridLayout, .block-gallery, .block-smartLayout");c&&c.setAttribute(x,"true");let d=w.state.doc.resolve(y.pos),u=(0,i.eL)(d,e=>!!e.type.spec.isolating),p=(null==u?void 0:u.node.type.name)||"";try{let{top:e,left:n,right:i}=a.getBoundingClientRect();e+=window.pageYOffset+o.top,n+=window.pageXOffset+o.left,i+=window.pageXOffset+o.right,t.setAttribute("data-isolating-parent",p),("tableCell"===p||"gridCell"===p)&&(n+=12,i-=12),t.style.top="".concat(e,"px"),(0,r.ix)()?(t.style.left="",t.style.right="".concat(-m.sn+window.innerWidth-i,"px")):(t.style.right="",t.style.left="".concat(-m.sn+n,"px")),I()}catch(e){console.warn("[GlobalDragHandle] Error showing drag handle",e),L()}};return new a.k_({key:b,state:{init:()=>new f,apply:(e,t)=>t},view(){let e;return(0,c._1)("#editor-core-root").then(i=>{n=i,t=document.createElement("div"),null==n||n.appendChild(t),t.draggable=!0,t.classList.add("global-drag-handle"),t.addEventListener("dragstart",k),t.addEventListener("dragend",S),t.addEventListener("click",j),null==C||C.addEventListener("scroll",A),e=e=>{v={left:e.clientX,top:e.clientY},(0,d.b)().push(()=>{E(w.view)},"moveDragHandle")},document.addEventListener("mousemove",e)}).catch(()=>{console.error("[GlobalDragHandlePlugin.view] Could not find editor-core-root element. This is highly unexpected.")}),{update(e){(0,d.b)().push(()=>{E(e)},"moveDragHandle")},destroy(){var i;n=null==(i=document)?void 0:i.querySelector("#editor-core-root"),e&&t&&(null==C||C.removeEventListener("scroll",A),null==n||n.removeChild(t),t.removeEventListener("dragstart",k),t.removeEventListener("dragend",S),t.removeEventListener("click",j),t=void 0,document.removeEventListener("mousemove",e))}}},props:{handleDOMEvents:{drop(e){var t;let n=null==(t=e.dragging)?void 0:t.annotations,i=b.getState(e.state);if(!i)return!1;i.dragging=n}},handleDrop(e,t,n,i){let r=b.getState(e.state),l=null==r?void 0:r.dragging;r&&(r.dragging=null),t.preventDefault();let s=(0,g.M)(e,t,n);if(!s)return!0;let c=e.state.tr;i&&c.deleteSelection();let d=c.mapping.map(s),p=0==n.openStart&&0==n.openEnd&&1==n.content.childCount,h=c.doc;if(p?c.replaceRangeWith(d,d,n.content.firstChild):c.replaceRange(d,d,n),c.doc.eq(h))return!0;let m=c.doc.resolve(d);if(p&&m.nodeAfter&&m.nodeAfter.sameMarkup(n.content.firstChild)){let e=(0,o.s)(m);e&&c.setSelection(e)}else{let e=c.mapping.map(s);c.mapping.maps[c.mapping.maps.length-1].forEach((t,n,i,a)=>e=a);let t=a.U3.between(m,c.doc.resolve(e));c.setSelection(t)}return(0,u.zZ)(w,c),e.focus(),l&&c.setMeta("annotationEvent",{type:"drop",dragging:l,droppedBlockPos:d}),e.dispatch(c.setMeta("uiEvent","drop")),!0}}})}},7957:(e,t,n)=>{"use strict";n.d(t,{A3:()=>s,Tg:()=>l,_w:()=>r,i:()=>o});var i=n(99492),a=n(77650);let r=()=>({note:{name:a.Ru._({id:"KiJn9B"}),commandName:()=>a.Ru._({id:"Cq+sLh"}),description:a.Ru._({id:"ooy/OF"}),icon:i.jyJ,colors:"accent"},info:{name:a.Ru._({id:"CE+M2e"}),commandName:()=>a.Ru._({id:"1E4ojF"}),description:a.Ru._({id:"NfbNtV"}),icon:i.iW_,colors:{light:{backgroundColor:"#b6d6fc",iconColor:"#006ED6"},dark:{backgroundColor:"#022349",iconColor:"#8DD4FB"}}},warning:{name:a.Ru._({id:"r6y+jM"}),commandName:()=>a.Ru._({id:"xb1fsI"}),icon:i.JAe,description:a.Ru._({id:"tpYgEx"}),colors:{light:{backgroundColor:"#fcf2b5",iconColor:"#B29500"},dark:{backgroundColor:"#4b3f02",iconColor:"#F5F380"}}},caution:{name:a.Ru._({id:"VvjZ7K"}),commandName:()=>a.Ru._({id:"tC/T1p"}),description:a.Ru._({id:"nbib7S"}),icon:i.rfe,colors:{light:{backgroundColor:"#ffb3b4",iconColor:"#EB0000"},dark:{backgroundColor:"#450707",iconColor:"#EF8784"}}},success:{name:a.Ru._({id:"zzDlyQ"}),commandName:()=>a.Ru._({id:"Vv+D/T"}),description:a.Ru._({id:"pqvop4"}),icon:i.SGM,colors:{light:{backgroundColor:"#b6fcb8",iconColor:"#008545"},dark:{backgroundColor:"#183a13",iconColor:"#8CE29F"}}},question:{name:a.Ru._({id:"bfgr/e"}),commandName:()=>a.Ru._({id:"Ev0Vqt"}),description:a.Ru._({id:"IsUqRH"}),icon:i.wRm,colors:{light:{backgroundColor:"#d9d9d9",iconColor:"#7A7A7A"},dark:{backgroundColor:"#262626",iconColor:"#AFAFAF"}}}}),l=e=>r()[e]||r().note,s=()=>Object.entries(r()).map(e=>{let[t,{commandName:n,icon:i}]=e;return{key:"calloutBox-".concat(t),name:n,nodeName:"calloutBox",icon:i,shortcut:"/".concat(t),keywords:["callout","box"],execute:e=>e.chain().focus().insertContent([{type:"calloutBox",attrs:{variant:t},content:[{type:"paragraph"}]}]).run()}}),o=()=>Object.fromEntries(Object.keys(r()).map(e=>["calloutBox-".concat(e),{type:"calloutBox",attrs:{variant:e},content:[{type:"paragraph"}]}]))},8064:(e,t,n)=>{"use strict";n.d(t,{o:()=>e1});var i=n(6029),a=n(10945),r=n(57405),l=n(64268),s=n(51504),o=n(99745),c=n(58959),d=n(48810),u=n(26420),p=n(36218),h=n(61491),g=n(25223),m=n(80314),x=n(49611),f=n(99492),b=n(48621),y=n(47412),v=n(19564),C=n(77650),w=n(55729),A=n(57963),j=n(2196),k=n(17859),S=n(88586),L=n(19783),I=n(90184),E=n(26814),D=n(68301),M=n(58809),R=n(65421),_=n(83638),z=n(78140),N=n(36999),T=n(40452),P=n(41283),H=n(37930),F=n(48478),B=n(28630);let O={square:f.Nfw,portrait:f.b0A,landscape:f.Cpz},V={square:()=>C.Ru._({id:"1DA6ap"}),portrait:()=>C.Ru._({id:"3bV9gD"}),landscape:()=>C.Ru._({id:"XxIeKn"})},W=(0,w.memo)(e=>{let{value:t,setValue:n,isDisabled:a,model:r}=e,l=(0,B.pH)(r);return(0,i.jsx)(_.MJ,{children:(0,i.jsxs)(z.W,{isLazy:!0,children:[(0,i.jsx)(N.I,{as:x.$,variant:"plain",isDisabled:a,w:"100%",textAlign:"start",justifyContent:"space-between",rightIcon:(0,i.jsx)(b.g,{icon:f.Jt$}),boxShadow:"none",size:"sm",children:(0,i.jsxs)(c.z,{spacing:2,children:[(0,i.jsx)(T.s,{width:"24px",height:"24px",align:"center",justify:"center",children:(0,i.jsx)(b.g,{icon:O[t],fixedWidth:!0})}),(0,i.jsx)(d.E,{as:"span",flex:1,children:V[t]()})]})}),(0,i.jsx)(P.c,{minWidth:"240px",maxH:"290px",overflowY:"auto",overflowX:"hidden",children:(0,i.jsx)(H.i,{value:t,type:"radio",onChange:e=>{n(e)},children:Object.values(l).map(e=>(0,i.jsx)(F.k,{value:e,children:(0,i.jsxs)(c.z,{spacing:2,children:[(0,i.jsx)(T.s,{width:"24px",height:"24px",align:"center",justify:"center",children:(0,i.jsx)(b.g,{icon:O[e],fixedWidth:!0})}),(0,i.jsx)(d.E,{as:"span",flex:1,children:V[e]()})]})},e))})})]})})});W.displayName="AspectRatioSelect";var U=n(44798),G=n(38062),Z=n(42938),K=n(24142),Q=n(15342),q=n(37605),J=n(99552),$=n(17928),Y=n(26006),X=n(22529),ee=n(11403),et=n(60908),en=n(41781),ei=n(33787);let ea={src:"/_next/static/media/polar-bear.fcdec9ca.webp"};var er=n(70967),el=n(82927),es=n(58568),eo=n(72104),ec=n(46898),ed=n(27229),eu=n(61204),ep=n(16936),eh=n(67909),eg=n(36071),em=n(54731),ex=n(83143),ef=n(80180);let eb=e=>{var t;let{currentAttributes:n,deleteImage:a,showDelete:r=!0,...l}=e;(0,ec.d)();let s=C.Ru._({id:"cnGeoo"}),{isOpen:o,onOpen:c,onClose:d}=(0,ed.j)();return(0,i.jsxs)(eu.e,{size:"sm",...l,children:[(0,i.jsx)(y.Tz,{label:(0,i.jsx)(v.x6,{id:"niRN2H"}),placement:"top",children:(0,i.jsx)(ep.K,{"aria-label":"download image",borderWidth:"1px",icon:(0,i.jsx)(b.g,{icon:f.a_I}),onClick:()=>{var e;return(0,ex.lE)(null!=(e=n.src)?e:"")}})}),(0,i.jsx)(y.Tz,{label:(0,i.jsx)(v.x6,{id:"GpbSs9"}),placement:"top",children:(0,i.jsx)(ep.K,{"aria-label":"zoom in",borderWidth:"1px",icon:(0,i.jsx)(b.g,{icon:f.bMI}),onClick:e=>{e.stopPropagation(),c()}})}),o&&(0,i.jsxs)(eh.aF,{isOpen:o,size:"6xl",onClose:d,isCentered:!0,children:[(0,i.jsx)(eg.m,{bg:"blackAlpha.900"}),(0,i.jsxs)(em.$,{width:"fit-content",children:[(0,i.jsx)(u.a,{position:"absolute",right:2,top:2,zIndex:"toast",contentEditable:!1,suppressContentEditableWarning:!0,children:(0,i.jsx)(ep.K,{"aria-label":C.Ru._({id:"8qZ5De"}),colorScheme:"gray",size:"md",onClick:d,onMouseDown:ef.Fw,icon:(0,i.jsx)(eo.U,{})})}),(0,i.jsx)(ei._,{src:null!=(t=n.src)?t:"",objectFit:"contain",rounded:"lg",maxH:"90vh",maxW:"90vw"})]})]}),r&&a&&(0,i.jsx)(y.Tz,{label:s,placement:"top",children:(0,i.jsx)(ep.K,{"aria-label":s,color:"red.500",borderWidth:"1px",icon:(0,i.jsx)(b.g,{icon:f.yLS}),onClick:async e=>{var t;e.stopPropagation(),await a(null!=(t=n.savedMediaId)?t:"")}})})]})};var ey=n(69388),ev=n(1139),eC=n(53996),ew=n(96990),eA=n(43634);let ej=(0,w.memo)(e=>{let{image:t,currentAttributes:n,onImageClick:a,resizeThumbnail:r,h:l,deleteImage:s,isDeleting:o,showQuickActions:c=!0,showAvatar:d=!0}=e,[p,h]=(0,w.useState)(!0),{user:g}=(0,el.ur)(),m=(0,Q.GV)(eA.zB),C=null==m?void 0:m.find(e=>e.user.id===t.userId),A=(0,w.useMemo)(()=>(null==g?void 0:g.id)===t.userId,[null==g?void 0:g.id,t.userId]),j=(0,w.useMemo)(()=>(null==n?void 0:n.savedMediaId)===t.id,[null==n?void 0:n.savedMediaId,t.id]),k=r?(0,et.Ub)(t.attrs.src,et.p7,t.attrs.meta):t.attrs.src,{ref:S,width:L}=(0,es.Lh)(),I=C&&m&&m.length>1&&d;return(0,i.jsx)(ey.E,{children:(0,i.jsxs)(x.$,{borderRadius:"base",display:"block",variant:"ghost",opacity:1,width:"100%",ref:S,height:"100%",minHeight:"0",textAlign:"left",pos:"relative",overflow:"hidden",p:0,_hover:{shadow:"outline"},_active:{shadow:"outline"},transition:"box-shadow .2s ease",cursor:"pointer",onClick:()=>a(t),sx:{_focusVisible:{".attribution-container":{opacity:1}},_hover:{".attribution-container":{opacity:1}}},isDisabled:o,"data-testid":"image-search-grid-item",role:"group",children:[(0,i.jsx)(ei._,{w:"100%",h:l||"100%",src:k,borderRadius:"base",objectFit:"cover",onLoad:()=>h(!1)}),!p&&(0,i.jsx)(ev.z,{in:j,children:(0,i.jsx)(u.a,{pointerEvents:"none",color:"white",pos:"absolute",inset:0,bg:"rgba(0,0,0,.5)",borderRadius:"base",children:(0,i.jsx)(eC.o,{h:"100%",w:"100%",children:(0,i.jsx)(b.g,{icon:f.e68})})})}),L>=125&&c&&(0,i.jsx)(u.a,{position:"absolute",bottom:-2,left:"50%",transform:"translate(-50%, -50%)",display:"none",_groupHover:{display:"block"},children:(0,i.jsx)(eb,{showDelete:A,currentAttributes:t.attrs,deleteImage:s})}),I&&(0,i.jsx)(y.Tz,{label:(0,i.jsx)(v.x6,{id:"RMBnNX",values:{0:C.user.displayName,1:A?"(You)":""}}),placement:"top",children:(0,i.jsx)(ew.e,{size:"sm",src:C.user.profileImageUrl,name:C.user.displayName,position:"absolute",top:2.5,right:2.5,borderWidth:"2px",borderColor:"gray.200",_hover:{cursor:"pointer"}})}),!t.attrs.src&&(0,i.jsx)(ey.E,{width:"100%",children:(0,i.jsx)(en.E,{height:"80px",borderRadius:"base"})})]})},t.id)});ej.displayName="AIImageHistoryItem";var ek=n(12417);let eS=(0,w.memo)(e=>{var t;let{attrs:n,onRateImage:a}=e,r=null==(t=n.aiParams)?void 0:t.interactionId,[l,s]=(0,w.useState)(null);(0,w.useEffect)(()=>{n.savedMediaId&&s(null)},[n.savedMediaId]);let o=(0,w.useCallback)((e,t,i)=>{var a;(null==(a=n.aiParams)?void 0:a.interactionId)&&(0,k.XD)({feedback:t,rating:e,tags:i,aiParams:n.aiParams,imageUrl:n.src,interactionId:n.aiParams.interactionId})},[n]),c=(0,w.useCallback)(e=>{s(e),a(e)},[a]);return r?(0,i.jsx)(u.a,{position:"absolute",bottom:2,zIndex:"sticky",right:2,children:(0,i.jsx)(ek.f3,{trackFeedback:o,rating:l||void 0,setRating:c,RatingButtons:ek.Ep,feedbackTags:eL},n.savedMediaId)}):null});eS.displayName="AIImageRating";let eL=[{key:"bad-people",label:(0,i.jsx)(v.x6,{id:"eft1Pc"})},{key:"bad-text",label:(0,i.jsx)(v.x6,{id:"BNmAIN"})},{key:"didnt-follow-prompt",label:(0,i.jsx)(v.x6,{id:"Tq32Jp"})},{key:"wrong-colors",label:(0,i.jsx)(v.x6,{id:"Lx0mWG"})},{key:"wrong-style",label:(0,i.jsx)(v.x6,{id:"HG712W"})},{key:"low-res",label:(0,i.jsx)(v.x6,{id:"i6Gj9B"})},{key:"inappropriate",label:(0,i.jsx)(v.x6,{id:"i/9pR4"})}];var eI=n(13080);let eE=e=>{let t,{imagesMatchingInteractionId:n,currentAttributes:a,isGenerating:r,isDeleting:l,selectedSavedMediaId:s,selectImage:o,onRateImage:c,deleteImage:d,canShowEmptyState:u}=e,{user:p}=(0,el.ur)(),[h,g]=(0,w.useState)({wA:0,hA:0,wBCD:0,hBCD:0}),m=(0,w.useMemo)(()=>(0,er.X)(),[]),{ref:x,width:f}=(0,es.Lh)(),b=(0,w.useMemo)(()=>!!r||!!n&&!(n.length<=1)&&!eM([...n.map(e=>e.attrs),a]),[r,n,a]),y=(0,w.useMemo)(()=>{let e=(null==n?void 0:n.length)>0,t=e?n.find(e=>e.id===s):null,i=(null==t?void 0:t.userId)===(null==p?void 0:p.id);return e&&i},[n,s,p]),v=b?100/3:0;(0,ee.Vg)(()=>{var e,t,i,l;if(r||u||(null==a||null==(e=a.meta)?void 0:e.width)&&(null==a||null==(t=a.meta)?void 0:t.height)){let e=eD({vpWidth:f||624,gap:8,ratioW:(null==a||null==(i=a.meta)?void 0:i.width)||1024,ratioH:(null==a||null==(l=a.meta)?void 0:l.height)||1024,thumbCount:(null==n?void 0:n.length)||3});(Math.abs(e.wA-h.wA)>=m||Math.abs(e.hA-h.hA)>=m||Math.abs(e.wBCD-h.wBCD)>=m||Math.abs(e.hBCD-h.hBCD)>=m)&&g(e)}},[a,n,f,h,m,r,u],[a,n,f,r]);let C=r||!!a.src||u;return r?t=(0,i.jsx)(en.E,{w:"100%",h:h.hA}):a.src&&"image.ai-generated"===a.source?t=(0,i.jsx)(ei._,{h:h.hA,w:"100%",objectFit:b?"cover":"contain",src:a.src||void 0,fallbackSrc:a.tempUrl||void 0,alt:"",borderRadius:"md"}):u&&(t=(0,i.jsx)(e_,{height:h.hA})),(0,i.jsx)(T.s,{dir:"row",w:"100%",ref:x,overflow:"hidden",alignItems:"center",justifyContent:"center",gap:"".concat(8,"px"),children:C&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(T.s,{justifyContent:"center",position:"relative",overflow:"hidden",h:h.hA,w:"".concat(100-v,"%"),children:[t,!r&&a.src&&(0,i.jsx)(eb,{currentAttributes:a,position:"absolute",bottom:2,zIndex:"sticky",left:2,deleteImage:d,showDelete:y}),!r&&a.src&&(0,i.jsx)(eS,{attrs:a,onRateImage:c})]}),b&&(0,i.jsx)(T.s,{alignItems:"center",justifyContent:"center",direction:"column",overflow:"hidden",gap:"".concat(8,"px"),h:h.hA,borderRadius:"base",children:r?Array.from({length:3},(e,t)=>(0,i.jsx)(en.E,{w:h.wBCD,h:h.hBCD},t)):(0,i.jsx)(i.Fragment,{children:n.slice(0,3).map(e=>(0,i.jsx)(ej,{image:e,currentAttributes:a,onImageClick:o,resizeThumbnail:!0,deleteImage:d,isDeleting:l,h:"".concat(h.hBCD,"px"),showQuickActions:!1,showAvatar:!1},e.id))})})]})})},eD=e=>{let{vpWidth:t,gap:n,ratioW:i,ratioH:a,thumbCount:r}=e,l=i/a,s=l>eI.C1.square?eI.C1.landscape:l<eI.C1.square?eI.C1.portrait:eI.C1.square,o=t*(s===eI.C1.portrait?.6:.7),c=o/s;return{wA:Math.floor(o),hA:Math.floor(c),wBCD:Math.floor(t-o-n),hBCD:Math.floor((c-n*(r-1))/r)}},eM=e=>{if(e.length<=1)return!1;let t=eR(e[0]);return e.some(e=>eR(e)!==t)},eR=e=>{var t,n,i,a;let r=null!=(i=null==e||null==(t=e.meta)?void 0:t.width)?i:1,l=null!=(a=null==e||null==(n=e.meta)?void 0:n.height)?a:1;return r>l?"landscape":l>r?"portrait":"square"},e_=(0,w.memo)(e=>{let{height:t}=e;return(0,i.jsx)(u.a,{bg:"gray.50",w:"100%",h:t,borderRadius:"md",display:"flex",alignItems:"center",justifyContent:"center",children:(0,i.jsxs)(T.s,{alignItems:"center",justifyContent:"center",w:"50%",direction:"column",textAlign:"center",children:[(0,i.jsx)(ei._,{alt:"",src:ea.src,height:"160px",mb:4}),(0,i.jsx)(d.E,{fontSize:"2xl",fontWeight:"bold",mb:2,color:"deepocean.950",children:(0,i.jsx)(v.x6,{id:"MK/c3O"})}),(0,i.jsx)(d.E,{fontSize:"md",color:"gray.600",children:(0,i.jsx)(v.x6,{id:"ztxdaf"})})]})})});e_.displayName="EmptyState";var ez=n(3276),eN=n(99038);let eT=e=>{let{isEnhancingPrompt:t,isGenerating:n,runEnhancePrompt:a}=e;return(0,i.jsx)(c.z,{position:"absolute",bottom:2,right:2,children:(0,i.jsx)(y.Tz,{placement:"top",label:(0,i.jsx)(v.x6,{id:"LwcIt2",values:{GAMMA_PROPER_NOUN:eN.On}}),children:(0,i.jsx)(x.$,{variant:"ghost",rightIcon:(0,i.jsx)(b.g,{icon:f.uts}),isLoading:t,isDisabled:n,"aria-label":C.Ru._({id:"eoAiXB"}),onClick:a,zIndex:"sticky",size:"sm",loadingText:C.Ru._({id:"6xU0OU"}),spinner:(0,i.jsx)(ez.y,{size:"sm",right:2,alignSelf:"flex-end"}),spinnerPlacement:"end",children:(0,i.jsx)(v.x6,{id:"Uehxdq"})})})})};var eP=n(38420);let eH=e=>{let{onSelectImage:t,currentAttributes:n,resizeThumbnails:a,history:r,canLoadMore:l,loadMore:s,isLoadingMore:o,isDeleting:c,deleteImage:p,helpText:h}=e,g=w.useMemo(()=>r.map(e=>e.attrs?(0,i.jsx)(u.a,{position:"relative",children:(0,i.jsx)(ej,{image:e,deleteImage:p,isDeleting:c,currentAttributes:n,onImageClick:t,resizeThumbnail:a,showQuickActions:!0})},e.id):(console.log("Image is missing attrs",e),null)),[r,p,c,n,t,a]);return(0,i.jsxs)(T.s,{direction:"column",align:"stretch",children:[h&&(0,i.jsx)(d.E,{fontSize:"xs",color:"gray.500",mb:4,children:h}),(0,i.jsx)(eP.A,{columnsCount:3,gutter:"0.5rem",children:g}),l&&(0,i.jsx)(x.$,{variant:"plain",onClick:s,mt:4,isLoading:o,children:(0,i.jsx)(v.x6,{id:"yQ2kGp"})})]})};var eF=n(49146),eB=n(23908),eO=n(36693),eV=n(20061),eW=n(3448),eU=n(24351),eG=n(2002);let eZ=e=>{let{onSelectImage:t,savedMediaId:n,currentAttributes:a,scope:r,setScope:l,canLoadMore:s,loadMore:o,isLoading:c,isLoadingMore:p,history:h,deleteImage:g,isDeleting:m}=e,x=()=>c?(0,i.jsx)(eQ,{}):0===h.length?(0,i.jsx)(u.a,{mt:10,children:(0,i.jsx)(eK,{})}):(0,i.jsx)(eH,{onSelectImage:t,currentAttributes:a,savedMediaId:n,canLoadMore:s,loadMore:o,isLoadingMore:p,history:h,deleteImage:g,isDeleting:m,helpText:"doc"===r?(0,i.jsx)(v.x6,{id:"uNPCE+",values:{GAMMA_ARTIFACT_PROPER_NOUN:eN.TP}}):(0,i.jsx)(v.x6,{id:"+MrfBb"}),resizeThumbnails:!0});return(0,i.jsxs)(eF.t,{size:"sm",variant:"soft-rounded",onChange:e=>{l&&l(1===e?"user":"doc")},isFitted:!0,children:[(0,i.jsxs)(eB.w,{children:[(0,i.jsx)(eO.o,{children:(0,i.jsx)(d.E,{children:(0,i.jsx)(v.x6,{id:"emHsgB",values:{GAMMA_ARTIFACT_PROPER_NOUN:eN.TP}})})}),(0,i.jsx)(eO.o,{children:(0,i.jsx)(d.E,{children:(0,i.jsx)(v.x6,{id:"4FBm2s"})})})]}),(0,i.jsxs)(eV.T,{children:[(0,i.jsx)(eW.K,{children:x()}),(0,i.jsx)(eW.K,{children:x()})]})]})},eK=()=>(0,i.jsx)(r.T,{spacing:6,children:(0,i.jsx)(eU.p,{size:"md",title:eG.G.title,description:eG.G.description})}),eQ=w.memo(()=>(0,i.jsx)(c.z,{spacing:"4",children:(0,i.jsx)(eP.A,{columnsCount:3,gutter:"0.5rem",children:[void 0,void 0,void 0].map((e,t)=>(0,i.jsx)(en.E,{height:{base:"125px",lg:"200px"},width:"100%"},t))})}));eQ.displayName="AIImageHistorySkeleton";var eq=n(53756),eJ=n(6018),e$=n(91264),eY=n(82960);let eX=e=>{let t,{selectImage:n,savedMediaContext:i}=e,a=(0,Q.GV)(eA.sX),r=(0,Q.GV)(e$.TJ),l=(0,eY.x)(i);"new"===r&&(r=void 0,t=S.rWX.Theme);let[s,o]=(0,w.useState)(""),[c,d]=(0,w.useState)(!1),[u,p]=(0,w.useState)(!1),[h,g]=(0,w.useState)("");return{generate:(0,w.useCallback)(async e=>{let i=(0,k.$F)();o(e.prompt),d(!0),p(!1),g("");let s={...e,stylePreset:e.stylePreset||eI.nv.Theme,stylePrompt:e.stylePrompt||"",docId:e.docId||a,themeId:e.themeId||r,context:e.context||t};try{let e=await (0,B.hU)({interactionId:i,workspaceId:l,...s});if(d(!1),0===e.length)throw Error("No images generated");e.length>0&&n(e[0]),(0,eJ.w)("generateImage",void 0,i)}catch(e){p(!0),g((0,B.yC)(e)),d(!1)}d(!1)},[a,r,t,l,n]),isGenerating:c,hasError:u,errorMessage:h,searchQuery:s}};var e0=n(66048);let e1=e=>(0,i.jsx)(e2,{...e}),e2=e=>{var t,n,_,z;let{currentAttributes:N,updateAttributes:T,editor:P,contextualTheme:H,savedMediaContext:F,closeDrawer:B,canShowEmptyState:O=!1}=e,V=(0,w.useRef)(null),en=(0,Q.GV)(J.Gd),ei=(0,Q.GV)(M.Jo),ea=null==ei?void 0:ei.id,{isInOfflineMode:er}=(0,S.utY)(),el=(0,Q.GV)((0,X.A1)(null==ei||null==(t=ei.organization)?void 0:t.id)),es=(0,D.u)("visualsMenuEnabled"),eo=(0,w.useMemo)(()=>P?"doc":"user",[P]),[ec,ed]=(0,w.useState)(eo),eu=null==P||null==(_=P.getAttributes("document"))||null==(n=_.aiOptions)?void 0:n.imageOptions,{prompt:ep,addPrompt:eh,promptPageInfo:eg,nextPrompt:em,prevPrompt:ex,model:ef,setModel:eb,stylePreset:ey,setStylePreset:ev,stylePrompt:eC,setStylePrompt:ew,aspectRatio:eA,setAspectRatio:ej,getStylePromptFromPreset:ek,stylePresetOptions:eS,getPresetDisplayMetadata:eL,getThemeNameFromStylePrompt:eD,imageGenerateConfig:eM,loadImageAiParams:eR,resetImageAiParams:e_,isPromptDirty:ez,artStylePreset:eN,setArtStylePreset:eP,artStylePrompt:eF,setCustomArtStylePrompt:eB,shouldUseThemeColors:eO,setShouldUseThemeColors:eV,modelAutoselect:eW,enableModelAutoselect:eU}=(0,G.S6)({contextualTheme:H,lastUsedImageGenerationSettingsInDoc:eu,aiParams:null==N?void 0:N.aiParams,savedMediaContext:F,visualsMenuEnabled:es}),eG=ez(N),eK=(0,Y.M)(P),{isEnhancing:eQ,setIsEnhancing:eJ,runEnhanceImagePrompt:e$}=(0,U.Z8)({editor:(null==P?void 0:P.parentEditor)||P,prompt:(null==P?void 0:P.isSiteNavbarEditor)?"Logo for ".concat(null==en?void 0:en.name):ep,stylePrompt:eC,addPrompt:eh}),{history:eY,loadMore:e1,canLoadMore:e2,isLoading:e4,isLoadingMore:e5,deleteImage:e6,isDeleting:e3}=(0,eq.X)({docId:ea,scope:ec,savedMediaContext:F}),e9=(0,w.useCallback)(e=>{e.attrs.src&&(0,k.Sf)({imageUrl:e.attrs.src,interactionId:e.interactionId,image:e.attrs})},[]),e7=(0,ee.lW)(e9,2e3),e8=(0,w.useCallback)(e=>{eR(e.attrs,"select"),T({tempUrl:(0,et.Ub)(e.attrs.src,et.p7,e.attrs.meta),showPlaceholder:!1,...e.attrs}),P&&eK(P.state.selection.from),e7(e)},[P,eR,eK,T,e7]),{generate:te,isGenerating:tt,hasError:tn,errorMessage:ti}=eX({selectImage:e8,savedMediaContext:F}),ta=(0,a.m)(),tr=(null==N?void 0:N.source)==="image.ai-generated"&&!!(null==N?void 0:N.src),tl=null==N?void 0:N.savedMediaId;(0,ee.Vg)(()=>{var e;!tt&&(tr&&(null==N||null==(e=N.aiParams)?void 0:e.prompt)?eR(N,"load"):!tr&&(null==N?void 0:N.query)&&eh(N.query,"load"))},[eh,N,tr,eR,tt],[N]),(0,w.useEffect)(()=>{setTimeout(()=>{var e;er||null==(e=V.current)||e.focus()},200)},[]);let ts=(0,w.useMemo)(()=>{var e;return(null==N||null==(e=N.aiParams)?void 0:e.interactionId)||""},[N]),{savedMedia:to}=(0,U.B7)(ts,(null==N||null==(z=N.aiParams)?void 0:z.prompt)||""),tc=(0,w.useCallback)(()=>{var e,t,n;if(!P)return null;let{stylePreset:i,model:a,stylePrompt:r,modelAutoselect:l,artStylePreset:s,artStylePrompt:o}=eM,c=P.getAttributes("document"),d={stylePreset:i,model:a,stylePrompt:i===eI.nv.Custom?r:null!=(n=null==(t=c.aiOptions)||null==(e=t.imageOptions)?void 0:e.stylePrompt)?n:"",artStylePreset:s,artStylePrompt:o,modelAutoselect:l};P.commands.updateNestedAttributesAtPos(0,{aiOptions:{imageOptions:d}})},[P,eM]);(0,w.useEffect)(()=>{tt&&!(null==N?void 0:N.showPlaceholder)&&(null==N?void 0:N.src)?T({showPlaceholder:!0,loadImageStatus:"queued",loadImageParams:{provider:"aiGenerated",query:ep,options:eM}}):!tt&&(null==N?void 0:N.loadImageStatus)==="queued"&&(null==N?void 0:N.src)&&T({...N,loadImageStatus:"done"})},[tt]);let td=(0,w.useCallback)(async()=>{if(!eQ&&!tt)try{let e={...eM,prompt:ep};if(eW&&(e.model=(0,R._)()),0===ep.trim().length){let t=await e$();t&&(e.prompt=t)}await te(e),tc()}catch(e){console.error("Error generating AI image",e)}finally{ta.refetchQueries({include:["GetSavedMedia","GetWorkspaceSavedMedia","GetUserSavedMedia"]}),eJ(!1)}},[eQ,tt,ep,tc,e$,te,eM,ta,eJ,eW]);(0,w.useEffect)(()=>{(null==N?void 0:N.query)||eQ||e$()},[]);let tu=(0,E.tO)(td,"generateImage",q.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGES),tp=(0,w.useCallback)(e=>{"Enter"===e.key&&e.metaKey&&(e.preventDefault(),tu()),e.stopPropagation()},[tu]),{saveImageRating:th}=(0,U.RM)(),tg=(0,w.useCallback)(e=>{var t;(null==N||null==(t=N.aiParams)?void 0:t.interactionId)&&((0,k.WN)({rating:e,aiParams:N.aiParams,imageUrl:N.src,interactionId:N.aiParams.interactionId}),th(N,e))},[N,th]),tm=(0,w.useCallback)(async e=>{if(await e6(e),e===tl){let t=to.filter(t=>t.id!==e);t.length>0?e8(t[0]):T({...N,savedMediaId:"",src:"",tempUrl:""})}},[e6,N,to,e8,tl,T]),tx=(null==N?void 0:N.source)==="image.ai-generated";return(0,i.jsxs)(r.T,{spacing:4,align:"stretch",translate:"no",children:[(tx||tt||O)&&(0,i.jsx)(eE,{imagesMatchingInteractionId:ts?to:[],currentAttributes:N,isGenerating:tt,isDeleting:e3,selectedSavedMediaId:null!=tl?tl:"",selectImage:e8,onRateImage:tg,deleteImage:tm,canShowEmptyState:O}),tn&&(0,i.jsxs)(l.F,{status:"error",flexDirection:"row",alignItems:"start",justifyContent:"start",borderRadius:"md",children:[(0,i.jsx)(s._,{}),(0,i.jsx)(o.T,{children:ti})]}),(0,i.jsxs)(r.T,{align:"stretch",spacing:4,children:[(0,i.jsxs)(r.T,{align:"stretch",spacing:1,children:[(0,i.jsx)(c.z,{position:"relative",align:"center",justify:"space-between",children:(0,i.jsx)(d.E,{fontSize:"sm",fontWeight:"semibold",color:tt?"gray.500":"",children:(0,i.jsx)(v.x6,{id:"sU1/3l"})})}),(0,i.jsxs)(u.a,{position:"relative",children:[(0,i.jsx)(A._,{ref:V,isDisabled:tt,placeholder:eQ||F===S.rWX.Theme?"":F===S.rWX.Dashboard?C.Ru._({id:"+VHqP0"}):C.Ru._({id:"6RfNWb"}),onKeyDown:tp,value:ep,onChange:e=>eh(e.target.value,"update"),"data-testid":"image-search-input",rows:5,initialHeight:"65px",bottomSpacing:35}),P&&(0,i.jsx)(eT,{isEnhancingPrompt:eQ,isGenerating:tt,runEnhancePrompt:e$})]}),eg.total>1&&(0,i.jsx)(Z.M,{alignSelf:"end",promptPageInfo:eg,nextPrompt:em,prevPrompt:ex,isDisabled:tt||eQ})]}),(0,i.jsxs)(r.T,{align:"stretch",gap:4,children:[(0,i.jsx)(r.T,{align:"stretch",children:es?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.E,{fontSize:"sm",fontWeight:"semibold",color:tt?"gray.500":"",children:(0,i.jsx)(v.x6,{id:"WpXFiB"})}),(0,i.jsx)(j.q,{selectedPreset:eN,onSelectPreset:eP}),"custom"===eN&&(0,i.jsx)(p.T,{value:eF,onChange:e=>eB(e.target.value),placeholder:C.Ru._({id:"zPao75"}),fontSize:"sm",rows:2,resize:"none"}),P&&(0,i.jsxs)(c.z,{spacing:2,align:"start",alignItems:"center",gap:2,children:[(0,i.jsx)(h.S,{id:"use-theme-colors",isChecked:eO,onChange:e=>eV(e.target.checked)}),(0,i.jsx)(g.l,{htmlFor:"use-theme-colors",mb:0,me:0,children:(0,i.jsx)(d.E,{fontSize:"xs",children:(0,i.jsx)(v.x6,{id:"ge5rTg"})})}),(0,i.jsx)(y.Tz,{label:C.Ru._({id:"DOIHaY"}),children:(0,i.jsx)(b.g,{size:"xs",icon:f.mEO})}),(0,i.jsx)(d.E,{fontSize:"xs",children:(0,i.jsx)(m.N,{color:"deepocean.600",onClick:()=>{null==B||B(),$.LF.emit($.DN.OPEN_THEME_DRAWER,{})},children:(0,i.jsx)(v.x6,{id:"dIM+cw"})})})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.E,{fontSize:"sm",fontWeight:"semibold",color:tt?"gray.500":"",children:(0,i.jsx)(v.x6,{id:"0P2jsg"})}),(0,i.jsx)(K.y,{stylePreset:ey,stylePrompt:eC,setStylePrompt:ew,setStylePreset:ev,presetOptions:eS,isDisabled:tt,contextualTheme:H,getThemeNameFromStylePrompt:eD,getPresetDisplayMetadata:eL,onKeyDown:tp,getStylePromptFromPreset:ek})]})}),(0,i.jsxs)(c.z,{w:"100%",children:[(0,i.jsxs)(r.T,{w:"100%",align:"stretch",children:[(0,i.jsx)(d.E,{fontSize:"sm",fontWeight:"semibold",color:tt?"gray.500":"",children:(0,i.jsx)(v.x6,{id:"iKM2jY"})}),(0,i.jsx)(W,{value:eA,setValue:ej,model:ef,isDisabled:tt})]}),(0,i.jsxs)(r.T,{w:"100%",align:"stretch",children:[(0,i.jsx)(d.E,{fontSize:"sm",fontWeight:"semibold",color:tt?"gray.500":"",children:(0,i.jsx)(v.x6,{id:"scu3wk"})}),ef&&(0,i.jsx)(e0.o,{value:ef,setValue:eb,isDisabled:tt,autoselect:es?{isActive:eW,onChooseAutoselect:eU}:void 0})]})]})]}),(0,i.jsxs)(r.T,{spacing:1,align:"stretch",children:[(0,i.jsxs)(x.$,{variant:"solid",isLoading:tt,isDisabled:eQ,onClick:tu,px:12,children:[(0,i.jsx)(v.x6,{id:"OSaxlZ"}),(0,i.jsx)(I.G,{type:"generateImage",position:"absolute",insetEnd:4})]}),P&&(0,i.jsx)(x.$,{onClick:()=>e_(N),leftIcon:(0,i.jsx)(b.g,{icon:f.ub2}),isDisabled:!eG||tt,sx:{opacity:eG?1:.5,transition:"opacity 0.2s ease-in-out",_hover:{color:eG?"trueblue.500":""}},children:(0,i.jsx)(v.x6,{id:"L+rMC9"})}),(0,i.jsx)(L.f,{modalId:"ai-credits-modal-message-list",variant:"ghost",justify:"flex-end",segmentEvent:q.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGES})]})]}),P&&(el?(0,i.jsx)(eZ,{onSelectImage:e8,savedMediaId:tl,currentAttributes:N,scope:ec,setScope:ed,canLoadMore:e2,loadMore:e1,isLoading:e4,isLoadingMore:e5,history:eY,deleteImage:tm,isDeleting:e3,resizeThumbnails:!0}):(0,i.jsx)(eH,{onSelectImage:e8,savedMediaId:tl,currentAttributes:N,scope:ec,setScope:ed,canLoadMore:e2,loadMore:e1,isLoading:e4,isLoadingMore:e5,history:eY,deleteImage:tm,isDeleting:e3,resizeThumbnails:!0}))]})};e1.key="image.ai-generated"},8075:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});let i={generate:(0,n(58495).d_)("0123456789abcdefghijklmnopqrstuvwxyz",15)}},8098:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});let i=new(n(83747)).b},8255:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});let i=new(n(83747)).b},8376:(e,t,n)=>{"use strict";n.d(t,{M:()=>d});var i=n(62040),a=n(15607),r=n(55424),l=n(94922),s=n(47665);let o=(e,t)=>!!c(e),c=e=>{if(!(e.parent&&(0,s.jg)(e.parent)))return!0;let t=(0,a.TK)(e,s.jg)[0];if(!t)return!0;let n=e.doc.resolve(t.pos);return 0===Object.keys((0,l.l0)(n)).length},d=(e,t,n)=>{var l;let s=e.posAtCoords({left:t.clientX,top:t.clientY});if(!s||s.inside<0||!e.state.doc.resolve(s.pos))return null;let c=s.pos,d=e.state.doc.resolve(s.inside),u=e.state.doc.nodeAt(s.inside),p=e.state.doc.nodeAt(s.pos);if((null==u?void 0:u.type.name)==="smartLayout"&&(null==p?void 0:p.type.name)==="smartLayoutCell")return null;let h=(0,a.IV)(d,r.q)[0];return h&&(c=s.inside,h.pos===c)||!c||n&&null==(c=(0,i.Um)(e.state.doc,c,n))?null:o(e.state.doc.resolve(c),null==(l=e.dragging)?void 0:l.slice)?c:null}},8584:(e,t,n)=>{"use strict";n.d(t,{m:()=>d});var i=n(9922),a=n.n(i),r=n(63867),l=n(92397),s=n(15607),o=n(33201),c=n(63562);class d{isApplied(e){let t=e.state.tr,n=null;try{n=this.transact(e,t,!1)}catch(e){return console.error("[isModificationActive] Could not transact modificatioon, returning false",e.message),!1}if(!n)return!1;let i=(0,c.oR)(e,this.rangeId);if(!i)return!1;try{let a=e.state.doc.slice(i.from,i.to),r=t.doc.slice(i.from,i.to),l=n.from===i.from&&n.to===i.to;return a.eq(r)&&l}catch(e){}return!1}getPreviewJson(e){let t=e.state.tr;this.transact(e,t);let n=this.getParentCardId(e,t),i=a()(t.doc.toJSON());return(0,c.sT)(i,n)}getParentCardId(e,t){let n=(0,c.oR)(e,this.rangeId);if(!n)return null;let i=t.doc.resolve(n.from),a=(0,s.IV)(i,o.jg)[0];if(!a)return null;let r=a.node.attrs.id;return r||null}apply(e){let t=e.state.tr;this.transact(e,t),console.debug("[ReplaceContentModification] Applying modification",{modification:this,range:(0,c.oR)(e,this.rangeId)}),e.view.dispatch(t);let n=this.getParentCardId(e,t);(0,l.OM)({editor:e,cardId:n})}transact(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=(0,c.oR)(e,this.rangeId);if(!i)return null;let{state:a}=e;t.replace(i.from,i.to,this.slice).setMeta("applyingAiModification",{rangeId:this.rangeId});let l=t.mapping.map(i.to),s={from:i.from,to:l};if(n){if(a.selection.empty)return t.setSelection(r.LN.near(t.doc.resolve(i.from))),s;if(a.selection instanceof r.nh)return t.setSelection(r.nh.create(t.doc,i.from)),s;let e=r.U3.between(t.doc.resolve(i.from),t.doc.resolve(l));t.setSelection(e)}return s}getContentForTracking(){return this.content}constructor(e,t){this.type="replace-content",this.description=t.description,this.rangeId=t.rangeId,this.content=t.content,this.slice=(0,c.ni)(e,t.content)}}},8763:(e,t,n)=>{"use strict";n.d(t,{C:()=>I,D:()=>L});var i=n(6029),a=n(26420),r=n(41885),l=n(76931),s=n(70375),o=n(28548),c=n(91892),d=n(58497),u=n(99696),p=n(55729),h=n(40077),g=n(36464),m=n(87140),x=n(1739),f=n(12117),b=n(2426),y=n(24392),v=n(70815),C=n(66082),w=n(9893),A=n(22004),j=n(95663),k=n(97984),S=n(41896);let L=()=>[s.y.extend({content:"block+"}),o.B,m.a,A.f,d.E,x.Hf,v.DZ.configure({HTMLAttributes:{class:h.U6}}),y.B,f.Z4,r.yN,u.z,c.J2,k.r,k.f,C.wq,j.n,w.N.extend({excludes:"underline link",renderHTML(e){let{HTMLAttributes:t}=e,{href:n}=t;return["a",{...this.options.HTMLAttributes,href:n,class:"link"},0]}}).configure({openOnClick:!1}),l.Cy,b.bY,x.mk],I=e=>{let{isEditing:t,disableGradients:n,...r}=e,l=(0,p.useMemo)(()=>L(),[]),s=(0,S.hG)({extensions:l,parseOptions:{preserveWhitespace:"full"},...r,editable:!0});return(0,p.useEffect)(()=>{t?(null==s||s.commands.focus(),s.setEditable(!0)):(null==s||s.commands.blur(),s.setEditable(!1))},[t,s]),s.isThumbnail=!0,s.shouldUseLiteMenus=!0,(0,i.jsxs)(a.a,{sx:{width:"100%"},className:n?h.Dv:void 0,children:[(0,i.jsx)(S.$Z,{style:{width:"100%"},className:"text",editor:s}),(0,i.jsx)(g.Ht,{editor:s,appendToSelector:"[data-tldraw-menu-root]"})]})}},9100:(e,t,n)=>{"use strict";n.d(t,{Dn:()=>o,r4:()=>l,vf:()=>s});var i=n(99492),a=n(55597),r=n(77650);let l=3,s=()=>[{name:r.Ru._({id:"bjuYAW"}),key:"solid",icon:a.Cpz},{name:r.Ru._({id:"bCuf07"}),key:"outline",icon:i.Cpz},{name:r.Ru._({id:"1lWK8g"}),key:"link",icon:i.CQO}],o={buttonGroup:{alignEnabled:!0,colorEnabled:!0,linkDropdownEnabled:!0,variants:["solid","outline"],defaultVariant:"solid"},navbarButtons:{alignEnabled:!1,colorEnabled:!0,linkDropdownEnabled:!1,variants:["solid","outline"],defaultVariant:"solid"},navbarLinks:{alignEnabled:!0,colorEnabled:!1,linkDropdownEnabled:!1,variants:["link"],defaultVariant:"link"}}},9118:(e,t,n)=>{"use strict";n.d(t,{Mo:()=>x,ZD:()=>d,xt:()=>h});var i=n(50729),a=n(77650),r=n(26194),l=n.n(r),s=n(99767),o=n(73247);let c={en:{displayName:"English (US)",displayNameLocalized:()=>a.Ru._({id:"cJWHou"})},"en-gb":{displayName:"English (UK)",displayNameLocalized:()=>a.Ru._({id:"KDEMVl"})},"en-in":{displayName:"English (India)",displayNameLocalized:()=>a.Ru._({id:"mqnttg"})},es:{displayName:"Espa\xf1ol",displayNameLocalized:()=>a.Ru._({id:"65A04M"})},"es-es":{displayName:"Espa\xf1ol (Espa\xf1a)",displayNameLocalized:()=>a.Ru._({id:"UYPXPZ"})},"es-mx":{displayName:"Espa\xf1ol (M\xe9xico)",displayNameLocalized:()=>a.Ru._({id:"CdooNf"})},"es-419":{displayName:"Espa\xf1ol (Latinoam\xe9rica)",displayNameLocalized:()=>a.Ru._({id:"Ni47Oh"})},ca:{displayName:"Catal\xe0",displayNameLocalized:()=>a.Ru._({id:"M1RLfx"})},fr:{displayName:"Fran\xe7ais",displayNameLocalized:()=>a.Ru._({id:"nLC6tu"})},"zh-cn":{displayName:"简体中文",displayNameLocalized:()=>a.Ru._({id:"QBySSi"})},"zh-tw":{displayName:"繁體中文",displayNameLocalized:()=>a.Ru._({id:"Mpms0p"})},ko:{displayName:"한국어",displayNameLocalized:()=>a.Ru._({id:"h6S9Yz"})},ja:{displayName:"日本語 (です/ます体)",displayNameLocalized:()=>a.Ru._({id:"I9nscg"})},"ja-da":{displayName:"日本語 (だ/である体)",displayNameLocalized:()=>a.Ru._({id:"GMG8Tf"})},"pt-br":{displayName:"Portugu\xeas (Brasil)",displayNameLocalized:()=>a.Ru._({id:"R7+D0/"})},"pt-pt":{displayName:"Portugu\xeas (Portugal)",displayNameLocalized:()=>a.Ru._({id:"512Uma"})},de:{displayName:"Deutsch",displayNameLocalized:()=>a.Ru._({id:"DDcvSo"})},it:{displayName:"Italiano",displayNameLocalized:()=>a.Ru._({id:"Lj7sBL"})},ru:{displayName:"Русский",displayNameLocalized:()=>a.Ru._({id:"nji0/X"})},pl:{displayName:"Polski",displayNameLocalized:()=>a.Ru._({id:"trnWaw"})},uk:{displayName:"Українська",displayNameLocalized:()=>a.Ru._({id:"V9+2pH"})},ro:{displayName:"Rom\xe2nă",displayNameLocalized:()=>a.Ru._({id:"uJc01W"})},hu:{displayName:"Magyar",displayNameLocalized:()=>a.Ru._({id:"mkWad2"})},cs:{displayName:"Čeština",displayNameLocalized:()=>a.Ru._({id:"w9VTXG"})},el:{displayName:"Ελληνικά",displayNameLocalized:()=>a.Ru._({id:"CZXzs4"})},tr:{displayName:"T\xfcrk\xe7e",displayNameLocalized:()=>a.Ru._({id:"Kz91g/"})},ar:{displayName:"العربية",displayNameLocalized:()=>a.Ru._({id:"8HV3WN"})},"ar-sa":{displayName:"العربية (السعودية)",displayNameLocalized:()=>a.Ru._({id:"9E6cqp"})},he:{displayName:"עברית",displayNameLocalized:()=>a.Ru._({id:"3oTCgM"})},fa:{displayName:"فارسی",displayNameLocalized:()=>a.Ru._({id:"JFI3iH"})},nl:{displayName:"Nederlands",displayNameLocalized:()=>a.Ru._({id:"KIjvtr"})},sv:{displayName:"Svenska",displayNameLocalized:()=>a.Ru._({id:"UaISq3"})},da:{displayName:"Dansk",displayNameLocalized:()=>a.Ru._({id:"Fo2vDn"})},nb:{displayName:"Norsk",displayNameLocalized:()=>a.Ru._({id:"1IipHp"})},fi:{displayName:"Suomi",displayNameLocalized:()=>a.Ru._({id:"USZ2N6"})},id:{displayName:"Bahasa Indonesia",displayNameLocalized:()=>a.Ru._({id:"BQukYF"})},vi:{displayName:"Tiếng Việt",displayNameLocalized:()=>a.Ru._({id:"fROFIL"})},hi:{displayName:"हिन्दी",displayNameLocalized:()=>a.Ru._({id:"tGjibo"})},gu:{displayName:"ગુજરાતી",displayNameLocalized:()=>a.Ru._({id:"sGpqyx"})},mr:{displayName:"मराठी",displayNameLocalized:()=>a.Ru._({id:"vKSpmV"})},te:{displayName:"తెలుగు",displayNameLocalized:()=>a.Ru._({id:"2SnOmG"})},bn:{displayName:"বাংলা",displayNameLocalized:()=>a.Ru._({id:"Hds3Bq"})},ta:{displayName:"தமிழ்",displayNameLocalized:()=>a.Ru._({id:"fb427h"})},ur:{displayName:"اردو",displayNameLocalized:()=>a.Ru._({id:"tmwuH9"})},kn:{displayName:"ಕನ್ನಡ",displayNameLocalized:()=>a.Ru._({id:"ffJEXe"})},ml:{displayName:"മലയാളം",displayNameLocalized:()=>a.Ru._({id:"WQrafy"})},th:{displayName:"ภาษาไทย",displayNameLocalized:()=>a.Ru._({id:"SUr44j"})},sr:{displayName:"Српски",displayNameLocalized:()=>a.Ru._({id:"9aBtdW"})},hr:{displayName:"Hrvatski",displayNameLocalized:()=>a.Ru._({id:"0aMWde"})},sq:{displayName:"Shqip",displayNameLocalized:()=>a.Ru._({id:"pVxf7b"})},bg:{displayName:"Български",displayNameLocalized:()=>a.Ru._({id:"KhEBDR"})},sl:{displayName:"Slovenščina",displayNameLocalized:()=>a.Ru._({id:"LSdcWW"})},bs:{displayName:"Bosanski",displayNameLocalized:()=>a.Ru._({id:"oI7LTM"})},mk:{displayName:"Македонски",displayNameLocalized:()=>a.Ru._({id:"0MMlCU"})},sw:{displayName:"Kiswahili",displayNameLocalized:()=>a.Ru._({id:"Yz+oFV"})},ha:{displayName:"Hausa",displayNameLocalized:()=>a.Ru._({id:"MvvYTW"})},yo:{displayName:"Yor\xf9b\xe1",displayNameLocalized:()=>a.Ru._({id:"FcCBes"})},tl:{displayName:"Tagalog",displayNameLocalized:()=>a.Ru._({id:"ISVD3+"})},ms:{displayName:"Bahasa Melayu",displayNameLocalized:()=>a.Ru._({id:"tF97tn"})},kk:{displayName:"Қазақ тілі",displayNameLocalized:()=>a.Ru._({id:"F/vx72"})},uz:{displayName:"O'zbek tili",displayNameLocalized:()=>a.Ru._({id:"b1dG47"})},af:{displayName:"Afrikaans",displayNameLocalized:()=>a.Ru._({id:"1Cox/a"})},lv:{displayName:"Latviešu",displayNameLocalized:()=>a.Ru._({id:"/0YsGP"})},lt:{displayName:"Lietuvių",displayNameLocalized:()=>a.Ru._({id:"Ot2qtY"})},et:{displayName:"Eesti",displayNameLocalized:()=>a.Ru._({id:"l2pzUk"})},is:{displayName:"\xcdslenska",displayNameLocalized:()=>a.Ru._({id:"rJl8hp"})},cy:{displayName:"Cymraeg",displayNameLocalized:()=>a.Ru._({id:"4w9b2x"})}},d=Object.keys(i.AI_LOCALES).map(e=>{let t=c[e];return{key:e,englishName:i.AI_LOCALES[e].englishName,displayName:t.displayName,displayNameLocalized:t.displayNameLocalized}}),u=e=>{let t=null==e?void 0:e.toLowerCase();return d.find(e=>e.key.toLowerCase()===t)||null},p=e=>{let t=u(e);if(t)return t;let n=s.tF[e],i=n&&u(n);if(i)return i;let[a]=e?e.toLowerCase().split("-"):[],r=a&&u(a);return r||null},h=e=>{let t=p(e);if(t)return t;let n=m(e);if(n)return n;let i=p((0,o.J)());return i||g},g={key:"en",englishName:"English (US)",displayName:"English (US)",displayNameLocalized:()=>a.Ru._({id:"cJWHou"})},m=e=>{let t=(0,o.J)();try{let n=new Intl.DisplayNames([t],{type:"language",fallback:"none"}),i=new Intl.DisplayNames(["en"],{type:"language",fallback:"none"}).of(e),a=n.of(e);if(!i||!a)return null;return{key:e.toLowerCase(),englishName:i,displayName:a,displayNameLocalized:()=>a}}catch(e){return null}},x=()=>l()(d,e=>e.displayNameLocalized())},9131:(e,t,n)=>{"use strict";n.d(t,{UU:()=>o,bX:()=>c});var i=n(6029),a=n(55729),r=n(56711);let l=(0,a.createContext)({}),s=e=>{window.open(e,"_blank","noopener")},o=e=>{let{children:t}=e,[n,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(""),[u,p]=(0,a.useState)(()=>s),h=(0,a.useCallback)((e,t)=>{d(e),t&&p(()=>()=>t(e)),o(!0)},[]),g=(0,a.useCallback)(()=>{d(""),p(()=>s),o(!1)},[]),[m,x]=(0,a.useState)({showLinkInterstitial:h,hideLinkInterstitial:g});return(0,i.jsxs)(l.Provider,{value:m,children:[n&&(0,i.jsx)(r.M,{link:c,confirmFunction:u,onClose:g}),t]})},c=()=>(0,a.useContext)(l)},9343:(e,t,n)=>{"use strict";n.d(t,{J:()=>p,r:()=>u});var i=n(6029),a=n(40452),r=n(43607),l=n(41896),s=n(84886),o=n(66082),c=n(43828),d=n(9100);let u=e=>{let{decorations:t,node:n}=e,{horizontalAlign:u}=n.attrs,h=(0,r.FX)(),g=h?"column":"row";return(0,i.jsx)(s.u,{...e,children:(0,i.jsxs)(a.s,{dir:(0,o.fZ)(t,u),w:"100%","data-selection-ring":"padded",borderRadius:"var(--box-border-radius)",direction:g,justify:(0,o.lI)(u)||"var(--flex-align)",sx:p(h),gap:"0.5em",alignItems:"center",children:[(0,i.jsx)(l.$p,{}),(0,i.jsx)(c.k,{...e,direction:g,maxButtons:d.r4})]})})},p=e=>({"> [data-node-view-content]":{display:"contents","> [data-node-view-content-inner]":{display:"contents"}},"--button-width":e?"100%":"auto",".node-button":{width:"var(--button-width)",".button":{width:"100%"}},_hover:{".add-button":{opacity:1}}})},9455:(e,t,n)=>{"use strict";n.d(t,{dG:()=>J,LK:()=>Y});var i=n(6029),a=n(26420),r=n(55729);let l=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!t||!t.type)return(0,i.jsx)(r.Fragment,{},o);if("text"===t.type)return(0,i.jsx)(r.Fragment,{},"text-".concat(o));let c=e.nodes[t.type];if(!c)return(0,i.jsx)(r.Fragment,{});let d=null==(n=t.content)?void 0:n.map((n,i)=>l(e,n,t,s+1,i));return r.createElement(c.component,{key:"".concat(c.type,"-").concat(o),node:t,depth:s,parent:a,index:o},d)};var s=n(58297),o=n(26385),c=n(58959);let d=e=>{let{children:t,orientation:n="vertical",...a}=e,r="vertical"===n?o.B:c.z;return(0,i.jsx)(r,{spacing:"var(--block-spacing)",...a,children:t})},u=e=>(0,i.jsx)(a.a,{bg:"var(--main-color)",h:"var(--paragraph-height)",w:"100%",borderRadius:"var(--text-border-radius)",...e}),p=e=>{let{style:t="solid",children:n,...a}=e;return(0,i.jsx)(d,{w:"100%",bg:"solid"===t?"var(--main-color)":"transparent",minH:"2em",borderRadius:"var(--box-border-radius)",border:"outline"===t?"var(--border-width) solid var(--main-color)":"none",...a,children:n&&n})};var h=n(40452),g=n(53996),m=n(99492),x=n(48621);let f=e=>{let{iconSize:t="2x",icon:n,...a}=e;return(0,i.jsx)(g.o,{minH:"4em",bg:"var(--box-background-color)",color:"var(--accent-color)",borderRadius:"var(--box-border-radius)",...a,children:n||(0,i.jsx)(x.g,{icon:m.Cyq,size:t})})},b={top:{grid:{gridTemplateColumns:"1fr",gridTemplateRows:"auto 1fr",gridTemplateAreas:'"accent" "body"'},items:{accent:{type:"accent"},body:{type:"body"}},allowFit:!1},behind:{grid:{gridTemplateColumns:"1fr",gridTemplateRows:"auto"},items:{accent:{type:"accent",style:{gridArea:"1 / 1"}},body:{type:"body",style:{gridArea:"1 / 1",zIndex:1}}},allowFit:!1},blank:{grid:{gridTemplateColumns:"1fr",gridTemplateRows:"1fr",gridTemplateAreas:'"body"'},items:{body:{type:"body"}},allowFit:!1},left:{grid:{gridTemplateColumns:"".concat(37.5,"% ").concat(62.5,"%"),gridTemplateRows:"auto ",gridTemplateAreas:'"accent body"'},items:{accent:{type:"accent"},body:{type:"body"}},allowFit:!0},right:{grid:{gridTemplateColumns:"".concat(62.5,"% ").concat(37.5,"%"),gridTemplateRows:"auto",gridTemplateAreas:'"body accent"'},items:{accent:{type:"accent"},body:{type:"body"}},allowFit:!0}},y=e=>b[null!=e?e:"blank"]||b.blank,v=e=>{var t;let{node:n}=e;return(null==(t=n.attrs)?void 0:t.itemId)==="accent"?(0,i.jsx)(w,{...e}):(0,i.jsx)(C,{...e})},C=e=>{let{node:t,children:n}=e;return(0,i.jsx)(d,{className:"thumbnail-node-".concat(t.type),spacing:"1em",p:"1em",alignSelf:"center","data-testid":"card-layout-thumbnail",children:n})},w=e=>{var t;let{node:n,parent:a}=e,r=n.attrs,l=null==a?void 0:a.attrs,s=y(null!=(t=null==l?void 0:l.layout)?t:"blank");if(!((null==r?void 0:r.itemId)&&s.items[r.itemId]))return null;let o=s.allowFit&&(null==r?void 0:r.fitType)==="fit";return(0,i.jsx)(h.s,{className:"thumbnail-node-".concat(n.type),children:o?(0,i.jsx)(h.s,{flexDirection:"column",justifyContent:"center",alignItems:"center",bg:"var(--box-background-color)",flex:1,h:"100%",children:(0,i.jsx)(f,{w:"70%",minH:"55%",bg:"var(--main-color)"})}):(0,i.jsx)(f,{w:"100%",h:"auto",borderRadius:"none"})})};var A=n(21938);let j=e=>{var t,n,r,l,s;let{node:o,isCollapsed:c=!1,children:d}=e,p=o.attrs,g=y(null!=(r=null==p?void 0:p.layout)?r:"blank"),m=g.items;return(0,i.jsx)(h.s,{className:(0,A.cx)("thumbnail-node-".concat(o.type),c&&"collapsed"),"data-testid":"card-thumbnail",minH:c?"2.5em":"var(--card-template-min-height)",w:c?"100%":"var(--card-template-width)",h:"auto",border:"2px solid",borderColor:"var(--main-color)",borderRadius:"base",flexDirection:"column",overflow:"hidden",children:(0,i.jsxs)(h.s,{flexDirection:"column",fontSize:"".concat(.375,"em"),flex:1,justifyContent:"center",children:[!c&&(0,i.jsx)(a.a,{display:"grid",flex:1,sx:{...g.grid,...m.body?{"> .thumbnail-node-cardLayoutItem":null!=(l=null==(t=m.body)?void 0:t.style)?l:{gridArea:"body"}}:{},...m.accent?{"> .thumbnail-node-cardAccentLayoutItem":null!=(s=null==(n=m.accent)?void 0:n.style)?s:{gridArea:"accent"}}:{}},children:d}),c&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(u,{w:"50%",mx:"1em",h:"2em",borderRadius:"calc(var(--text-border-radius) * 2)"})})]})})},k={bar:m.s67,pie:m.W1p,line:m.gK3,donut:m.oDg,"horizontal-bar":m.Mkm};var S=n(56570),L=n(80274),I=n(58964),E=n(83743),D=n(66082);let M=e=>({"--flex-align":(0,D.lI)(e)}),R=e=>({["& .thumbnail-node-paragraph > div:nth-of-type(1n+".concat(e+1,")")]:{display:"none"}});var _=n(79018);let z=e=>{let{children:t,...n}=e;return(0,i.jsx)(a.a,{boxSize:"var(--bullet-size)",borderRadius:"0.25em",bg:"var(--main-color)",...n,children:t})},N="0.5em";var T=n(55597),P=n(17485);let H={xs:"sm",sm:"sm",md:"lg",lg:"xl",xl:"2x",full:"2x"},F=e=>{var t,n,a,r,l,s,o,c,u;let{node:p,parent:g,children:m}=e,b=M(null!=(c=null==g||null==(n=g.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)?c:"center"),y=null!=(u=null==g||null==(r=g.attrs)||null==(a=r.options)?void 0:a.imageShape)?u:"square",v=P.zF[y],C=(null==g||null==(l=g.attrs)?void 0:l.variantKey)==="iconsText",w=(null==g||null==(o=g.attrs)||null==(s=o.options)?void 0:s.shapeSize)||"lg",A=R(2);return(0,i.jsxs)(h.s,{className:"thumbnail-node-".concat(p.type),gap:"var(--block-spacing)",flexDirection:"column",children:[C?(0,i.jsx)(f,{minH:"0",icon:(0,i.jsx)(x.g,{icon:T.yy,size:H[w]||"lg"}),bg:C?"none":void 0}):(0,i.jsx)(f,{minH:"2em",minW:"2em",sx:v}),(0,i.jsx)(d,{css:b,sx:C?void 0:A,children:m})]})},B=e=>{var t;let{node:n,children:a}=e,r=(null==(t=n.attrs)?void 0:t.variantKey)==="iconsText";return(0,i.jsx)(E.r,{rowGap:"1.5em",columnGap:"1.5em",columns:r?4:3,children:a})};var O=n(48810);let V="0.25em",W=e=>{let{node:t}=e;return(0,i.jsx)(h.s,{className:"thumbnail-node-".concat(t.type),bg:"var(--main-color)",h:"1.25em"})},U=e=>{let{isFunnel:t=!1,children:n}=e;return(0,i.jsx)(E.r,{columns:1,autoRows:"1fr",gap:V,pos:"relative",mx:"auto",w:"min(100%, calc((var(--card-template-width) * 0.5) / ".concat(.375,"))"),clipPath:t?"polygon(50% 100%, 0 0, 100% 0)":"polygon(50% 0%, 0% 100%, 100% 100%)",children:n})},G=(e,t)=>Math.floor(33+67/(t-1)*e),Z={bullets:{Cell:e=>{let{node:t,children:n}=e;return(0,i.jsxs)(h.s,{className:"thumbnail-node-".concat(t.type),pos:"relative",align:"flex-start",gap:"1em",flex:"1 1 auto",w:"calc(".concat(50,"% - ").concat("1em",")"),children:[(0,i.jsx)(z,{}),(0,i.jsx)(d,{flex:"1",children:n})]})},Wrapper:e=>{let{children:t}=e;return(0,i.jsx)(h.s,{gap:"1em",wrap:"wrap",children:t})}},timeline:{Cell:e=>{var t,n;let{node:r,parent:l,children:s}=e,o=(null==l||null==(n=l.attrs)||null==(t=n.options)?void 0:t.orientation)==="horizontal",c="".concat(2,"em");return(0,i.jsxs)(h.s,{className:"thumbnail-node-".concat(r.type),pos:"relative",...o?{gridColumn:"span 2",gridRow:3,align:"flex-start",justify:"center",pt:c}:{gridRow:"span 2",gridColumn:3,align:"flex-start",pl:c},orientation:"horizontal",align:"start",children:[(0,i.jsx)(z,{pos:"absolute",...o?{top:0,transform:"translateY(-50%)"}:{left:0,transform:"translateX(-50%)"},children:(0,i.jsx)(a.a,{position:"absolute",zIndex:"-1",bg:"var(--main-color)",...o?{height:"".concat(1,"em"),width:"var(--border-width)",left:"50%",top:"100%",transform:"translateX(-50%)"}:{width:"".concat(1,"em"),height:"var(--border-width)",top:"50%",transform:"translateY(-50%)",left:"100%"}})}),(0,i.jsx)(d,{flex:"1",children:s})]})},Wrapper:e=>{var t,n;let{children:r,node:l}=e,s=(null==(n=l.attrs)||null==(t=n.options)?void 0:t.orientation)==="horizontal",o=s?(0,i.jsx)(a.a,{gridRow:2,gridColumn:1,children:(0,i.jsx)(a.a,{position:"absolute",height:"var(--border-width)",width:"100%",left:"0",right:"0",bg:"var(--main-color)"})}):(0,i.jsx)(g.o,{gridColumn:2,gridRow:1,children:(0,i.jsx)(a.a,{position:"absolute",width:"var(--border-width)",top:"0",bottom:"0",bg:"var(--main-color)"})});return(0,i.jsxs)(S.x,{...s?{templateRows:"auto 0px auto",autoColumns:"1fr",justifyContent:"center",columnGap:"1em",mt:"var(--bullet-size)"}:{templateColumns:"0px 0px 1fr",autoRows:"auto",justifyContent:"center",rowGap:"1em",ml:"var(--bullet-size)"},pos:"relative","data-testid":"timeline-thumbnail",children:[o,r]})}},imagesText:{Cell:F,Wrapper:B},textBoxes:{Cell:e=>{var t,n;let{node:a,parent:r,children:l}=e,s=M((null==r||null==(n=r.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)||"center");return(0,i.jsx)(p,{className:"thumbnail-node-".concat(a.type),bg:"var(--box-background-color)",p:"var(--box-padding)",css:s,children:l})},Wrapper:e=>{let{children:t}=e;return(0,i.jsx)(h.s,{gap:"var(--block-spacing)",children:t})}},stats:{Cell:e=>{var t,n,a;let{children:r,node:l,parent:s}=e,o=M((null==s||null==(n=s.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)||"center");return(0,i.jsxs)(d,{className:"thumbnail-node-".concat(l.type),align:"center",justify:"start",children:[(0,i.jsx)(O.E,{color:"var(--accent-color)",fontSize:"1.5em",children:(null==(a=l.attrs)?void 0:a.label)||"X%"}),(0,i.jsx)(d,{w:"100%",css:o,children:r})]})},Wrapper:e=>{let{children:t,parent:n}=e,a=(null==n?void 0:n.type)==="gridCell"?1:3;return(0,i.jsx)(E.r,{columns:a,columnGap:"1.5em",rowGap:"1.5em",children:t})}},barStats:{Cell:e=>{var t,n,r;let{node:l,parent:s,children:o}=e,c=(0,_.dD)({label:(null==(t=l.attrs)?void 0:t.label)||null}),u=M((null==s||null==(r=s.attrs)||null==(n=r.options)?void 0:n.horizontalAlign)||"center");return(0,i.jsxs)(d,{className:"thumbnail-node-".concat(l.type),align:"center",justify:"start",children:[(0,i.jsxs)(d,{borderRadius:"calc(var(--box-border-radius) / 2)",overflow:"hidden",orientation:"horizontal",flex:1,w:"100%",bg:"var(--main-color)",children:[(0,i.jsx)(a.a,{w:"100%",bg:"var(--accent-color)",pos:"relative",h:"1.25em",children:(0,i.jsx)(a.a,{pos:"absolute",inset:0})}),(0,i.jsx)(a.a,{w:"".concat(100*c,"%"),pos:"relative"})]}),(0,i.jsx)(d,{w:"100%",css:u,children:o})]})},Wrapper:e=>{let{children:t,parent:n}=e,a=(null==n?void 0:n.type)==="gridCell"?1:2;return(0,i.jsx)(E.r,{columns:a,columnGap:"1.5em",rowGap:"1em",children:t})}},staircase:{Cell:e=>{var t,n;let{node:a,parent:r,index:l}=e,s=G(l,null!=(n=null==r||null==(t=r.content)?void 0:t.length)?n:1);return(0,i.jsx)(h.s,{className:"thumbnail-node-".concat(a.type),borderRadius:"2px",bg:"var(--main-color)",h:"1.25em",w:"".concat(s,"%")})},Wrapper:e=>{var t,n,a;let{node:r,children:l}=e,s=null!=(a=null==r||null==(n=r.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)?a:"center",o=(0,D.lI)(s);return(0,i.jsx)(d,{align:o,gap:V,mx:"auto",w:"min(100%, calc((var(--card-template-width) * 0.5) / ".concat(.375,"))"),children:l})}},pyramid:{Cell:W,Wrapper:U},funnel:{Cell:e=>(0,i.jsx)(W,{...e}),Wrapper:e=>{let{children:t,...n}=e;return(0,i.jsx)(U,{isFunnel:!0,...n,children:t})}},circleStats:{Cell:e=>{var t,n,r,l;let{node:s,parent:o,children:c}=e,u=(0,D.lI)((null==o||null==(n=o.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)||"center"),p=(0,_.dD)({label:null!=(l=null==(r=s.attrs)?void 0:r.label)?l:"50"});return(0,i.jsxs)(h.s,{className:"thumbnail-node-".concat(s.type),gap:"var(--block-spacing)",flexDirection:"column",children:[(0,i.jsx)(a.a,{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",w:"80%",alignSelf:"center",aspectRatio:"1 / 1",_before:{content:'""',position:"absolute",top:"0",left:"0",right:"0",bottom:"0",borderRadius:"50%",background:"conic-gradient(var(--accent-color) ".concat(100*p,"%, var(--main-color) 0 ").concat((100-p)*100,"%)"),zIndex:1},_after:{content:'""',position:"absolute",top:N,left:N,right:N,bottom:N,background:"var(--card-background)",borderRadius:"50%",zIndex:2},children:(0,i.jsx)(a.a,{zIndex:"100",bg:"var(--main-color)",h:"0.5em",pos:"absolute",borderRadius:"var(--text-border-radius)",w:"40%"})}),(0,i.jsx)(d,{css:u,children:c})]})},Wrapper:e=>{let{children:t}=e;return(0,i.jsx)(E.r,{gap:"1.5em",columns:3,children:t})}},arrows:{Cell:e=>{var t,n,r,l;let{node:s,parent:o,children:c}=e,u=M((null==o||null==(n=o.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)||"left"),p=(null==o||null==(l=o.attrs)||null==(r=l.options)?void 0:r.orientation)==="vertical";return(0,i.jsxs)(h.s,{className:"thumbnail-node-".concat(s.type),gap:"var(--block-spacing)",flexDirection:p?"row":"column",children:[(0,i.jsx)(a.a,{width:p?"1.5em":"100%",height:p?"100%":"1.25em",bg:"var(--accent-color)",clipPath:p?"polygon(50% 10%, 100% 0, 100% 90%, 50% 100%, 0 90%, 0% 0%)":"polygon(90% 0, 100% 50%, 90% 100%, 0% 100%, 10% 50%, 0% 0%)"}),(0,i.jsx)(d,{flex:1,css:u,p:"0.5em",px:p?0:"0.5em",pt:p?void 0:0,children:c})]})},Wrapper:e=>{var t,n;let{node:a,children:r}=e,l=(null==(n=a.attrs)||null==(t=n.options)?void 0:t.orientation)==="vertical";return(0,i.jsx)(E.r,{columns:l?1:3,rowGap:l?void 0:"1.5em",children:r})}},iconsText:{Cell:F,Wrapper:B}},K=e=>{let{children:t}=e;return(0,i.jsx)(p,{p:"var(--box-padding)",bg:"var(--box-background-color)",w:"100%",children:t})},Q=e=>{let{children:t}=e;return(0,i.jsx)(p,{p:"var(--box-padding)",bg:"var(--box-background-color)",w:"100%",children:t})},q={nodes:{card:{type:"card",component:e=>{let{depth:t,...n}=e;return t>2?(0,i.jsx)(i.Fragment,{}):t>1?(0,i.jsx)(j,{...n,isCollapsed:!0}):(0,i.jsx)(j,{...n})}},cardLayoutItem:{type:"cardLayoutItem",component:v},cardAccentLayoutItem:{type:"cardAccentLayoutItem",component:v},title:{type:"title",component:e=>{let{node:t}=e;return(0,i.jsx)(a.a,{className:"thumbnail-node-".concat(t.type),w:"50%",bg:"var(--main-color)",h:"".concat((0,L.o)("title").size/2,"em"),borderRadius:"var(--text-border-radius)"})}},paragraph:{type:"paragraph",component:e=>{let{node:t}=e;return(0,i.jsxs)(o.B,{className:"thumbnail-node-".concat(t.type),"data-testid":"paragraph-thumbnail",spacing:"var(--line-spacing)",align:"var(--flex-align)",children:[(0,i.jsx)(u,{}),(0,i.jsx)(u,{}),(0,i.jsx)(u,{w:"85%"})]})}},heading:{type:"heading",component:e=>{var t;let{node:n}=e;return(0,i.jsx)(a.a,{className:"thumbnail-node-".concat(n.type),"data-testid":"heading-thumbnail",bg:"var(--main-color)",h:"".concat((0,L.o)((0,L.bZ)(null==(t=n.attrs)?void 0:t.level)).size/2,"em"),borderRadius:"var(--text-border-radius)"})}},bullet:{type:"bullet",component:e=>{let{node:t}=e;return(0,i.jsxs)(d,{className:"thumbnail-node-".concat(t.type),orientation:"horizontal",align:"start",pl:"0.5em",color:"var(--main-color)",children:[(0,i.jsx)(s.j,{size:"var(--block-spacing)",bg:"var(--main-color)"}),(0,i.jsx)(d,{orientation:"horizontal",flex:"1",children:(0,i.jsx)(u,{w:"75%"})})]})}},gridLayout:{type:"gridLayout",component:e=>{var t,n;let{node:a,children:r}=e;return(0,i.jsx)(S.x,{className:"thumbnail-node-".concat(a.type),templateColumns:"repeat(".concat((null==(n=a.attrs)||null==(t=n.colWidths)?void 0:t.length)||2,", 1fr)"),gap:"var(--block-spacing)",children:r})}},gridCell:{type:"gridCell",component:e=>{var t;let{node:n,children:a}=e,r=null==(t=n.attrs)?void 0:t.verticalAlign;return(0,i.jsx)(d,{className:"thumbnail-node-".concat(n.type),justifyContent:r,flex:1,children:a})}},image:{type:"image",component:e=>{let{node:t}=e;return(0,i.jsx)(f,{className:"thumbnail-node-".concat(t.type)})}},mediaPlaceholder:{type:"mediaPlaceholder",component:e=>{var t;let{node:n}=e,a=n.attrs,r=null==a?void 0:a.source,l=r&&(null==(t=I.Dc[r])?void 0:t.icon)||null;return(0,i.jsx)(f,{className:"thumbnail-node-".concat(n.type),icon:l?(0,i.jsx)(x.g,{icon:l,size:"2x"}):void 0})}},buttonGroup:{type:"buttonGroup",component:e=>{let{node:t,children:n}=e;return(0,i.jsx)(d,{className:"thumbnail-node-".concat(t.type),orientation:"horizontal",children:n})}},button:{type:"button",component:e=>{var t;let{node:n}=e,a=(null==(t=n.attrs)?void 0:t.variant)||"solid";return(0,i.jsx)(p,{className:"thumbnail-node-".concat(n.type),minH:"1.5em",w:"25%",style:a})}},gallery:{type:"gallery",component:e=>{let{node:t}=e;return(0,i.jsxs)(p,{className:"thumbnail-node-".concat(t.type),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",bg:"var(--box-background-color)",p:"0.5em",children:[(0,i.jsx)(f,{flex:2,minH:"3.5em",bg:"var(--main-color)",iconSize:"xl"}),(0,i.jsx)(f,{flex:1,minH:"3.5em",bg:"var(--main-color)",iconSize:"xl"}),(0,i.jsx)(f,{flex:2,minH:"3.5em",bg:"var(--main-color)",iconSize:"xl"})]})}},toggle:{type:"toggle",component:e=>{let{node:t,children:n}=e;return(0,i.jsx)(a.a,{className:"thumbnail-node-".concat(t.type),pl:"0.5em","data-open":"false",sx:{'&[data-open="false"]':{"> :not(:first-of-type)":{display:"none"}}},children:n})}},toggleSummary:{type:"toggleSummary",component:e=>{let{node:t}=e;return(0,i.jsxs)(d,{className:"thumbnail-node-".concat(t.type),orientation:"horizontal",color:"var(--main-color)",maxH:"1em",children:[(0,i.jsx)(x.g,{icon:T.fU5,size:"xl"}),(0,i.jsx)(u,{w:"75%"})]})}},smartLayout:{type:"smartLayout",component:e=>{var t,n;let{node:a,children:r,...l}=e,s=Q;if(null==(t=a.attrs)?void 0:t.variantKey){let e=null==(n=Z[a.attrs.variantKey])?void 0:n.Wrapper;e&&(s=e)}return(0,i.jsx)(S.x,{className:"thumbnail-node-".concat(a.type),gridTemplateColumns:"100%",children:(0,i.jsx)(s,{node:a,...l,children:r})})}},smartLayoutCell:{type:"smartLayoutCell",component:e=>{var t,n;let{children:a,parent:r,...l}=e,s=K;if(r&&(null==(t=r.attrs)?void 0:t.variantKey)){let e=null==(n=Z[r.attrs.variantKey])?void 0:n.Cell;e&&(s=e)}return(0,i.jsx)(s,{parent:r,...l,children:a})}},diagram:{type:"diagram",component:e=>{let{node:t}=e;return(0,i.jsx)(f,{className:"thumbnail-node-".concat(t.type),icon:(0,i.jsx)(x.g,{icon:m.qTS,size:"2x"})})}},chart:{type:"chart",component:e=>{var t;let{node:n}=e;return(0,i.jsx)(f,{className:"thumbnail-node-".concat(n.type),icon:(0,i.jsx)(x.g,{icon:k[(null==(t=n.attrs)?void 0:t.chartType)||"bar"],size:"2x"})})}},table:{type:"table",component:e=>{let{node:t,children:n}=e;return(0,i.jsx)(a.a,{flex:1,className:"thumbnail-node-".concat(t.type),bg:"var(--box-background-color)",borderRadius:"var(--text-border-radius)",p:"0.25em",children:(0,i.jsx)(a.a,{border:"1px solid var(--main-color)",borderRadius:"var(--text-border-radius)",children:n})})}},tableRow:{type:"tableRow",component:e=>{let{node:t,children:n}=e;return(0,i.jsx)(h.s,{className:"thumbnail-node-".concat(t.type),borderBottom:"1px solid var(--main-color)",sx:{"&:last-of-type  ":{borderBottom:"none"}},children:n})}},tableCell:{type:"tableCell",component:e=>{let{node:t}=e;return(0,i.jsx)(a.a,{flex:1,className:"thumbnail-node-".concat(t.type),height:"1em",borderRight:"1px solid var(--main-color)",sx:{"&:last-of-type":{borderRight:"none"}}})}}}},J={md:"6em",lg:"8em"},$={md:"4em",lg:"5em"},Y=e=>{let{templateContent:t,isDark:n,size:r="md",...s}=e;return(0,i.jsx)(a.a,{css:{"--box-background-color":n?"var(--chakra-colors-gray-600)":"var(--chakra-colors-gray-50)","--main-color":n?"var(--chakra-colors-gray-500)":"var(--chakra-colors-gray-200)","--accent-color":n?"var(--chakra-colors-gray-300)":"var(--chakra-colors-gray-400)","--box-border-radius":"0.5em","--box-padding":"0.75em","--text-border-radius":"0.25em","--block-spacing":"0.75em","--bullet-size":"1em","--line-spacing":"calc(1 / 3 * 1em)","--paragraph-height":"0.5em","--border-width":"0.25em","--card-template-width":J[r],"--card-template-min-height":$[r],"--card-background":n?"var(--chakra-colors-gray-600)":"white"},bg:"var(--card-background)",h:"auto",...s,children:l(q,t)})}},9893:(e,t,n)=>{"use strict";n.d(t,{N:()=>G});var i=n(37243),a=n(70787),r=n(94289),l=n(63867),s=n(15342),o=n(76083),c=n(71753),d=n(43634),u=n(15607),p=n(22529),h=n(28615),g=n(65674),m=n(38194),x=n(38934),f=n(66079),b=n(50861),y=n(64811),v=n(19546);let C=e=>new l.k_({key:new l.hs("handleCmdClickLink"),props:{handleDOMEvents:{click:(t,n)=>{var i;let a=(0,s.KA)(),r=(0,d.nD)(a.getState()),l=null==(i=n.target)?void 0:i.closest("a"),o=null==l?void 0:l.href;if(!o||(null==l?void 0:l.closest("[data-comments-wrapper]")))return!1;n.preventDefault();let c=n.ctrlKey||n.metaKey,p=(0,u.Ww)(o),h=(0,d.bO)(a.getState()),g=(0,u.Cf)(o,h);if(r){if(!c)return!1;if(g)return(0,v.T)(e,n,p),!1}else if(!c&&g)return(0,v.T)(e,n,p),!1;return window.open(o,"_blank"),!1}}}}),w=new l.hs("linkKeyboardNav"),A=()=>new l.k_({key:w,props:{handleKeyDown(e,t){let n,i;if("ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return!1;let{state:a}=e,{selection:r}=a;if(!(r instanceof l.U3))return!1;let s="ArrowLeft"===t.key?-1:1,o=t.metaKey||t.ctrlKey,c=t.shiftKey,d=t.altKey,u=a.schema.marks.link,p=r.head,h=j(a,p,u),g=j(a,p-s,u),m=j(a,p+s,u);if(!(h||g||m))return!1;if(o)n=function(e,t,n){let i=e.resolve(t);return n>0?i.end(i.depth):i.start(i.depth)}(a.doc,p,s);else if(d){let e="ArrowLeft"===t.key?p-1:p+1,i=function(e,t,n){let i=e.resolve(t).marks().find(e=>e.type===n);if(!i)return null;let a=t-1,r=t+1;for(let r=t-1;r>=0;r--)try{if(!e.resolve(r).marks().some(e=>e.type===n&&e.eq(i))){a=r;break}0===r&&(a=0)}catch(e){break}for(let a=t;a<=e.content.size;a++)try{if(!e.resolve(a).marks().some(e=>e.type===n&&e.eq(i))){r=a;break}a===e.content.size&&(r=e.content.size)}catch(e){r=a;break}return{from:a,to:r}}(a.doc,e,u);if(!i)return!1;n="ArrowLeft"===t.key?i.from:i.to}else n=p+s;return n=Math.max(0,Math.min(n,a.doc.content.size)),i=c?l.U3.create(a.doc,r.anchor,n):l.U3.create(a.doc,n),e.dispatch(a.tr.setSelection(i).scrollIntoView()),!0}}});function j(e,t,n){if(t<0||t>e.doc.content.size)return!1;let i=e.doc.resolve(t);return!!n.isInSet(i.marks())}var k=n(6029),S=n(26420),L=n(48810),I=n(12514),E=n(36062),D=n(19564),M=n(18833),R=n(42328),_=n(55729),z=n(91938),N=n(92739),T=n(48932),P=n(63902),H=n(41896),F=n(29608),B=n(11403),O=n(42276);let V=(0,M.P)(S.a),W=e=>{let{node:t,children:n}=e,{href:i,meta:a}=t.attrs,r=(0,P.oR)(),{linkUrl:l,handleClick:s}=(0,T.c)({url:i||""}),{interceptLinkClick:o,linkUrlSafe:c,isUntrusted:d,linkInterceptEnabled:u}=(0,N.i)(l),p=(0,_.useCallback)(e=>{if(null==s||s(e),u)return o(e)},[s,o,u]),{popperRef:h,referenceRef:g,isHovering:m,onMouseOver:x,onMouseOut:f,getPopperProps:b}=(0,B.bf)({disabled:(0,F.mG)()}),y=!r&&!z.$.GAMMA_CYPRESS_TEST&&(0,F.H8)();return(0,k.jsxs)(H.VR,{as:"span",children:[d?(0,k.jsx)(L.E,{as:"span",textDecoration:"underline",color:"gray.500",children:(0,k.jsx)(D.x6,{id:"b7jHrl"})}):(0,k.jsxs)(L.E,{as:"a",className:"link",rel:"noopener nofollow",href:u?c||"":l,onClick:p,onMouseOver:x,onMouseOut:f,ref:g,children:[y&&(0,k.jsx)("span",{contentEditable:!1,children:"​"}),r?n:(0,k.jsx)(H.$p,{as:"span"}),y&&(0,k.jsx)("span",{contentEditable:!1,children:"​"})]}),!1===r&&m&&l&&a?(0,k.jsx)(I.Z,{children:(0,k.jsx)(R.N,{children:(0,k.jsx)(V,{position:"relative",zIndex:"popover",ref:h,onMouseOver:x,onMouseOut:f,className:"link-preview-hover",...b(),...B._w,w:"min(500px, 80vw)",minW:"auto !important",children:(0,k.jsxs)(E.Q,{backgroundColor:"white",border:"1px solid",borderColor:"gray.200",shadow:"lg",borderRadius:"lg",_hover:{backgroundColor:"trueblue.50"},children:[(0,k.jsx)(O.Ch,{node:t}),(0,k.jsx)(E.r,{href:l,target:"_blank",rel:"noopener nofollow",onClick:p})]})})})}):null]})};var U=n(37327);let G=a.Ay.extend({priority:x.y.Link,inclusive:!1,excludes:"underline footnoteLabel link",addAttributes:()=>({href:{default:""},source:{},thumbnail:{...(0,u.tb)("thumbnail")},embed:{...(0,u.tb)("embed")},meta:{...(0,u.tb)("meta")}}),onCreate(){let e=(0,s.KA)().getState(),t=(0,d.nD)(e),n=(0,p.mB)(e);if(!(t&&n))return;let{view:i,state:a}=this.editor,{doc:r,schema:l,tr:o}=a;try{let e=!1;(0,c.Zo)(r,l.marks.link).forEach(t=>{let{node:n,pos:i}=t,a=n.marks.find(e=>"link"===e.type.name);a&&"string"!=typeof a.attrs.href&&(e=!0,o.removeMark(i,i+n.nodeSize,a).addMark(i,i+n.nodeSize,l.marks.link.create({...a.attrs,href:String(a.attrs.href)})))}),e&&i.dispatch(o)}catch(e){console.error("[Link.onCreate] error",e)}},renderHTML(e){var t;let{HTMLAttributes:n}=e;return"string"==typeof n.href&&(null==(t=n.href)?void 0:t.startsWith("javascript:"))?["a",(0,i.KV)(this.options.HTMLAttributes,{...n,href:""}),0]:n.href?["a",(0,i.KV)(this.options.HTMLAttributes,n),0]:["a",(0,i.KV)(this.options.HTMLAttributes,{...n,href:null}),0]},renderHTMLforAI(e){let{mark:t,disableBookmarks:n}=e,i=t.attrs.href;return n?["a",{href:t.attrs.href},0]:["a",{bookmark:(0,m.vL)(t),href:i},0]},parseHTML:()=>[{tag:'a[href]:not([href *= "javascript:" i])'},{tag:"a[bookmark]",getAttrs:m.Ll}],addCommands(){var e;return{...null==(e=this.parent)?void 0:e.call(this),convertLinkToMedia:e=>t=>{let{chain:n,editor:i}=t,{href:a,...r}=i.getAttributes("link");if(!a||(0,U.hc)(a))return!1;if(!r.source)return n().extendMarkRange("link").insertEmbedAndFetchMetadata(a,e,!1).run(),!0;let l=f.Fn[r.source],s=(null==l?void 0:l.nodeName)||"embed";return n().extendMarkRange("link").insertContent({type:s,attrs:{...r,sourceUrl:a,url:a,displayStyle:e}}).selectInsertedNode().run(),!0},convertMediaToLink:()=>e=>{let{state:t,chain:n}=e;if(!(t.selection instanceof l.nh))return!1;let{from:i,to:a,node:r}=t.selection;if(!(0,b._Y)(r))return!1;let{sourceUrl:s,meta:o}=r.attrs,c=(null==o?void 0:o.title)||s||"link",d={from:i+1,to:i+1+c.length};return n().insertContentAt({from:i,to:a},[{type:"paragraph",attrs:{},content:[{type:"text",text:c}]}],{updateSelection:!0}).setTextSelection(d).setMark(G.name,{...r.attrs,href:s}).run(),!0},convertLinkToButton:()=>e=>{let{editor:t,chain:n}=e,{href:i=""}=t.getAttributes("link");return n().extendMarkRange("link").deleteSelection().insertContentAndSelect((0,o.GO)().buttonGroup).updateAttributes("button",{href:i}).run(),!0},convertButtonToLink:()=>e=>{let{chain:t,state:n,editor:a}=e,{selection:l}=n,s=(0,i.KP)(e=>"button"===e.type.name)(l),o=(0,i.KP)(e=>"buttonGroup"===e.type.name)(l);if(!o||!s)return!1;let{node:c,pos:d}=s,{node:u,pos:p}=o;if(!c)return!1;let h={type:"paragraph",content:c.content.toJSON()},g=u.maybeChild(0)===c,m=g?p:d,x=m+(g?1:2),f=x+r.bP.fromJSON(a.schema,h).content.size,b=t();return 1===u.childCount?b.deleteNode("buttonGroup"):b.deleteNode("button"),b.insertContentAt(m,h,{updateSelection:!1}).setTextSelection({from:x,to:f}).setMark(G.name,{href:c.attrs.href}).focus().run(),!0},convertButtonToMedia:e=>t=>{let{chain:n,state:a}=t,{selection:r}=a,l=(0,i.KP)(e=>"button"===e.type.name)(r),s=(0,i.KP)(e=>"buttonGroup"===e.type.name)(r);if(!l||!s)return!1;let{node:o,pos:c}=l,{node:d,pos:u}=s;if(!o||!d)return!1;let{href:p}=o.attrs;if(!p||(0,U.hc)(p))return!1;if(d.maybeChild(0)===o){let t=[];d.forEach(e=>{"button"===e.type.name&&e!==o&&t.push(e.toJSON())});let i=n();i.setNodeSelection(u).deleteNode("buttonGroup").insertEmbedAndFetchMetadata(p,e,!1),1!==d.childCount&&t.length>0&&i.insertContentAt(u+1,{type:"buttonGroup",content:t},{updateSelection:!1}),i.focus().run()}else n().setNodeSelection(c).insertEmbedAndFetchMetadata(p,e,!1).selectInsertedNode().focus().run();return!0},convertMediaToButton:()=>e=>{let{chain:t,state:n}=e;if(!(n.selection instanceof l.nh))return!1;let{node:i}=n.selection;if(!(0,b._Y)(i))return!1;let{sourceUrl:a=""}=i.attrs;return t().deleteSelection().insertContentAt(n.selection.from,(0,o.GO)().buttonGroup).updateAttributes("button",{href:a}).focus().run(),!0},updateSurroundingLink:e=>t=>{let{state:n,chain:i,editor:a}=t,{from:r,to:l}=n.selection;return(0,U.uI)(e,a),i().extendMarkRange(G.name).unsetMark(G.name).setMark(G.name,{href:e}).setMeta("preventAutolink",!0).setTextSelection({from:r,to:l}),!0},removeSurroundingLink:()=>e=>{let{state:t,chain:n}=e,{from:i,to:a}=t.selection;return n().extendMarkRange("link").unsetMark("link").setMeta("preventAutolink",!0).setTextSelection({from:i,to:a}).focus(),!0}}},addKeyboardShortcuts(){return{"Mod-k":e=>{let{editor:t}=e,{selection:n}=t.state;return!n.empty&&t.commands.toggleMark(this.name)}}},addProseMirrorPlugins(){var e;let t=(null==(e=this.parent)?void 0:e.call(this))||[];return h.D1||t.push((0,g.f)(this,W)),t.push(C(this.editor)),t.push(A()),t}}).configure({HTMLAttributes:{target:void 0,rel:"noopener noreferrer",class:"link"},validate:U.KB,protocols:y.r,linkOnPaste:!1})},10139:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AI_LOCALES=t.AI_LOCALE_KEYS=void 0,t.AI_LOCALE_KEYS=["en","en-gb","en-in","es","es-es","es-mx","es-419","ca","fr","zh-cn","zh-tw","ko","ja","ja-da","pt-br","pt-pt","de","it","ru","pl","uk","ro","hu","cs","el","tr","ar","ar-sa","he","fa","nl","sv","da","nb","fi","id","vi","hi","gu","mr","te","bn","ta","ur","kn","ml","th","sr","hr","sq","bg","sl","bs","mk","sw","ha","yo","tl","ms","kk","uz","af","lv","lt","et","is","cy"],t.AI_LOCALES={en:{englishName:"English (US)"},"en-gb":{englishName:"English (UK)"},"en-in":{englishName:"English (India)"},es:{englishName:"Spanish"},"es-es":{englishName:"Spanish (Spain)"},"es-mx":{englishName:"Spanish (Mexico)"},"es-419":{englishName:"Spanish (Latin America)"},ca:{englishName:"Catalan"},fr:{englishName:"French"},"zh-cn":{englishName:"Simplified Chinese"},"zh-tw":{englishName:"Traditional Chinese"},ko:{englishName:"Korean"},ja:{englishName:"Japanese (です/ます style)"},"ja-da":{englishName:"Japanese (だ/である style)"},"pt-br":{englishName:"Portuguese (Brazil)"},"pt-pt":{englishName:"Portuguese (Portugal)"},de:{englishName:"German"},it:{englishName:"Italian"},ru:{englishName:"Russian"},pl:{englishName:"Polish"},uk:{englishName:"Ukrainian"},ro:{englishName:"Romanian"},hu:{englishName:"Hungarian"},cs:{englishName:"Czech"},el:{englishName:"Greek"},tr:{englishName:"Turkish"},ar:{englishName:"Arabic"},"ar-sa":{englishName:"Arabic (Saudi Arabia)"},he:{englishName:"Hebrew"},fa:{englishName:"Persian"},nl:{englishName:"Dutch"},sv:{englishName:"Swedish"},da:{englishName:"Danish"},nb:{englishName:"Norwegian"},fi:{englishName:"Finnish"},id:{englishName:"Indonesian"},vi:{englishName:"Vietnamese"},hi:{englishName:"Hindi"},gu:{englishName:"Gujarati"},mr:{englishName:"Marathi"},te:{englishName:"Telugu"},bn:{englishName:"Bengali"},ta:{englishName:"Tamil"},ur:{englishName:"Urdu"},kn:{englishName:"Kannada"},ml:{englishName:"Malayalam"},th:{englishName:"Thai"},sr:{englishName:"Serbian"},hr:{englishName:"Croatian"},sq:{englishName:"Albanian"},bg:{englishName:"Bulgarian"},sl:{englishName:"Slovenian"},bs:{englishName:"Bosnian"},mk:{englishName:"Macedonian"},sw:{englishName:"Swahili"},ha:{englishName:"Hausa"},yo:{englishName:"Yoruba"},tl:{englishName:"Tagalog"},ms:{englishName:"Malay"},kk:{englishName:"Kazakh"},uz:{englishName:"Uzbek"},af:{englishName:"Afrikaans"},lv:{englishName:"Latvian"},lt:{englishName:"Lithuanian"},et:{englishName:"Estonian"},is:{englishName:"Icelandic"},cy:{englishName:"Welsh"}}},11215:(e,t,n)=>{"use strict";n.d(t,{KF:()=>m,P3:()=>g,WP:()=>h});var i=n(13731),a=n.n(i),r=n(29452),l=n.n(r),s=n(76083),o=n(82172),c=n(3298),d=n(90278),u=n(77071);let p=()=>(0,u.aQ)().filter(e=>!e.disabled),h=()=>p().map(e=>{let{key:t,name:n,description:i,icon:a,keywords:r=[],defaultAttrs:o,defaultOptions:u,featureFlag:p,family:h}=e,g={type:"smartLayout",attrs:{variantKey:t,options:u},content:l()(3).map(()=>({type:"smartLayoutCell",content:(0,c.Hg)(),attrs:o}))};return{key:"smartLayout-".concat(t),name:n,keywords:[...r,"layout","smart"],description:i,nodeName:"smartLayout",icon:a,execute:e=>{e.chain().focus().insertContentAndSelect(g).run()},dragStartFn:e=>(0,s.fS)(e,g),dragEndFn:e=>{(0,d.tN)(e,e.state.selection.$from)},featureFlag:p,family:h}}),g=()=>p().map(e=>{let{key:t,name:n,description:i,icon:a,featureFlag:r}=e;return{key:"listToSmartLayout-".concat(t),name:n,icon:a,description:i,group:"list",apply:e=>e.commands.listToSmartLayout(t),checkDisabled:e=>!(0,o.Jx)(e),featureFlag:r}}),m=()=>{let e=a()(h(),"family");return Object.keys(c.Ab).filter(t=>e[t]&&e[t].length>0).map(t=>({subcategory:c.Ab[t].name(),items:e[t]}))}},11235:(e,t,n)=>{"use strict";n.d(t,{f:()=>m});var i=n(15342),a=n(63902),r=n(43607),l=n(43634),s=n(85235),o=n(90010),c=n(86932),d=n(21699),u=n(59824),p=n(16309),h=n(58082),g=n(54604);let m=e=>{var t;let{node:n,decorations:o,editor:m}=e,f=n.attrs,{id:b,previewContent:y}=f,v=(0,r.FX)(),C=(0,a.oR)(),w=m.isThumbnail,A=(0,i.GV)(l.jO),[j,k]=(0,g.E)(b),S=(0,i.GV)(l.mA)?s.w.DOC_PREVIEW:"doc"===j?s.w.DOC_VIEW:s.w.SLIDE_VIEW,L=(0,i.GV)(e=>(0,l.nD)(e,S)),I=S===s.w.SLIDE_VIEW,E=(0,i.GV)(l.eo),D=(0,i.GV)(l.We),M=(0,i.GV)(l.yh),R=(0,i.GV)((0,l.tC)(b)),_=(0,d.Ms)(o),z=(0,i.GV)((0,l.WS)(b)),N=(0,c.A3)(o),{isNested:T,nestedDepth:P,isFirstCard:H,isLastCard:F,inheritContainerWidth:B,displayLayout:O,insideSideLayout:V,cardAccentBackgroundMaskEffect:W,cardAccentBackgroundMaskIntensity:U,hasLayoutItem:G,cardContentType:Z,hasNonEmptyCardNotes:K}=(0,p.tg)(o),{theme:Q,isDark:q}=(0,h.a)(o),{cardDimensions:J,defaultFullBleed:$,defaultContentWidth:Y,presentBackdrop:X=!1,verticalAlign:ee,fontSize:et,scaleContentToFit:en}=x(m),ei=(0,u.iI)(J),ea="default"===f.cardSize?"full"===$:"full"===f.cardSize,er=f.verticalAlign||ee||ei.defaultVerticalAlign,el=I&&!T&&!!ei.aspectRatio&&!X,es=null!=(t=f.container.width)?t:B;return{hasNonEmptyCardNotes:K,isCollapsed:z,isEditable:L,isFirstCard:H,isFocused:_,isExpandableSelected:N,isLastCard:F,isLetterboxed:el,isMobileDevice:v,isNested:T,isPresenting:"doc"!==j&&"presentCollapsed"!==j,isPresentingCurrent:"presentCurrent"===j,isPresentingParent:"presentParent"===j,isPresentMode:I,isPublished:C,isStatic:A,isDark:q,isThumbnail:w,mode:S,nestedDepth:P,presentVariant:j,prevPresentVariant:k,previewContent:y,theme:Q,attrs:f,cardId:b,isFullBleed:ea,displayFullBleed:w||!T&&(ea||I&&!X),defaultContentWidth:Y,contentWidth:es,verticalAlign:er,isWideContent:(null!=es?es:Y)==="lg",displayLayout:O,insideSideLayout:V,cardAccentBackgroundMaskEffect:W,cardAccentBackgroundMaskIntensity:U,cardDimensions:ei,cardDimensionsKey:J,showPresentBackdrop:X,hasLayoutItem:G,cardContentType:Z,userZoomLevel:E,docZoomLevel:D,fontSize:et,docZoomToFit:M,scaleContentToFit:en,isCommentOpenOnCard:R}},x=e=>{let t=(0,i.GV)(l.Uu);if(e.isStatic)try{return(0,o.lI)(e).settings}catch(e){console.error("[caught] useDocSettings: ".concat(e))}return t}},11324:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});let i=new(n(83747)).b},11496:(e,t,n)=>{"use strict";n.d(t,{P:()=>c,S:()=>o});var i=n(84462),a=n.n(i),r=n(28615),l=n(36512),s=n(33424);let o=e=>{var t;let{theme:n,fontSize:i,isMobileDevice:a,contentWidth:r,nestedDepth:o=0}=e,c=(0,s.Qo)(i||"md"),d="lg"===r?l.br:"sm"===r?l.lA:l.Vy,u=null!=(t=n.config.fontSize)?t:1,p=u*c,h=d*(l.IM/u)/c,g=(0,s._F)(o);return{baseFontSize:p,contentWidthEms:h,themeFontSize:u,cardWidthEms:h+2*(0,s.mn)({isMobileDevice:a,numericFontSize:c})+2*g}},c=a()(e=>{let{isPresentMode:t,isNested:n,nestedDepth:i,isFullBleed:a,isThumbnail:l,theme:s,cardDimensions:c,defaultContentWidth:g,contentWidth:m,showPresentBackdrop:x,isMobileDevice:f,docZoomLevel:b,fontSize:y,cardFontScale:v=1}=e,{baseFontSize:C,contentWidthEms:w,cardWidthEms:A}=o({theme:s,fontSize:y,isMobileDevice:f,contentWidth:null!=m?m:g,nestedDepth:i});return{...(t||l?c.aspectRatio&&!r.LD?h:p:f?u:d)({baseFontSize:C,contentWidthEms:w,cardWidthEms:A,cardAspectRatio:c.aspectRatio,showPresentBackdrop:x,isNested:n,isFullBleed:a,isThumbnail:l,docZoomLevel:b,nestedDepth:i,cardFontScale:v})}}),d=e=>{let{cardWidthEms:t,cardAspectRatio:n,isNested:i,baseFontSize:a,docZoomLevel:r,cardFontScale:l,contentWidthEms:s}=e;return{"--font-size":"calc(".concat(a," * var(--card-font-scale, 1) * var(--editor-font-size, 1rem) * ").concat(r," * var(--viewport-scale-factor, 1.125))"),"--card-font-scale":"".concat(l||1),"--card-width":"calc(".concat(t,"em / var(--card-font-scale, 1))"),"--card-min-height":n&&!i?"calc(min(var(--card-width), var(--editor-width)) / ".concat(n,")"):"0px","--max-content-width":"calc(".concat(s,"em / var(--card-font-scale, 1))"),"--card-max-width":"var(--editor-width)","--media-scale":"min(1, var(--card-font-scale, 1))"}},u=e=>{let{cardWidthEms:t,baseFontSize:n,isNested:i,cardAspectRatio:a}=e;return{"--font-size":"".concat(n,"rem"),"--card-width":"".concat(t,"em"),"--card-min-height":a&&!i?"calc(min(var(--card-width), var(--editor-width)) / ".concat(a,")"):"0px","--card-max-width":"var(--editor-width)","--media-scale":"1"}},p=e=>{let{contentWidthEms:t,cardWidthEms:n,showPresentBackdrop:i,isFullBleed:a,baseFontSize:l,isNested:s,isThumbnail:o}=e,c=r.rS||r.GC?"calc(".concat(l,"rem * var(--viewport-scale-factor, 1.125))"):"calc(var(--zoom-level) * clamp(".concat(o?"0rem":"1rem",", var(--card-max-width) / ").concat(n,", 3vh))"),d=!i||a;return{"--font-size":c,"--card-width":d?"var(--editor-width)":"".concat(n,"em"),"--card-max-width":"calc(var(--editor-width) - 2 * var(--card-outer-padding-x))","--card-min-height":o?"var(--thumbnail-min-height, 0px)":d&&!s?"100vh":"0vh","--max-content-width":"calc(".concat(1.15*t,"em / var(--zoom-level))"),"--media-scale":"1"}},h=e=>{let{cardAspectRatio:t,cardWidthEms:n,isNested:i,cardFontScale:a}=e,l=r.rS||r.GC?"calc(var(--card-max-width) / ".concat(t,")"):"calc(100vh - 2 * var(--card-outer-padding-y))",s="min(var(--card-max-width), calc(var(--card-max-height) * ".concat(t,"))"),o=i?"0px":"calc(".concat(s," / ").concat(t,")"),c="calc(var(--zoom-level) * var(--card-font-scale, 1) * ".concat(s," / ").concat(n,")");return{"--card-width":s,"--card-font-scale":"".concat(a||1),"--font-size":c,"--card-max-width":"calc(var(--editor-width) - 2 * var(--card-outer-padding-x))","--card-max-height":l,"--card-min-height":o,"--media-scale":"min(1, var(--card-font-scale, 1))"}}},11618:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var i=n(6029),a=n(26420),r=n(99492),l=n(55597),s=n(48621);let o=(0,n(55729).memo)(e=>{let{isLocked:t,isDark:n=!1}=e;return(0,i.jsxs)(a.a,{as:"span",className:"fa-layers fa-fw",children:[(0,i.jsx)(s.g,{icon:r.CQO}),t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.g,{icon:l.GEE,color:n?"var(--chakra-colors-gray-800)":"var(--chakra-colors-gray-50)",transform:"shrink-3 right-6 down-6"}),(0,i.jsx)(s.g,{icon:l.DW4,transform:"shrink-8 right-6 down-6"})]})]})});o.displayName="CardLinkIcon"},11916:(e,t,n)=>{"use strict";n.d(t,{Is:()=>j,QH:()=>w,Up:()=>A});var i=n(6029),a=n(46898),r=n(80314),l=n(48810),s=n(24926),o=n(19564),c=n(77650),d=n(55452),u=n(59018),p=n.n(u),h=n(55729),g=n(91938),m=n(15342),x=n(95889),f=n(43634),b=n(29608),y=n(56801);let v=(e,t)=>"".concat(g.$.API_HOST||"","/export/docs/").concat(e,"/").concat(t),C=(e,t)=>"".concat(g.$.API_HOST||"","/share/docs/").concat(e,"/").concat(t),w=async function(e,t,n,i,a,r,l,s){let o=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0,u=o?C(e,d):v(e,n),p=new AbortController;return setTimeout(()=>p.abort(),6e4),fetch(u,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":g.$.SHARE_TOKEN||""},body:JSON.stringify({docContent:t,fileName:a,cardIds:r,cardRanges:l,isCardExport:i,shareMessage:c,googleOauthToken:"google_slides"===n?s:void 0}),signal:p.signal})},A=e=>{let{doc:t,source:n,editor:u,format:p="pdf",formatLabel:g,fileName:m,cardIds:f,cardRanges:v,socialPost:C=!1,socialPlatform:A,shareMessage:j,interceptFileExport:k}=e,S=(0,a.d)(),L=(0,h.useRef)(null),I=(0,x.st)(),[E,D]=(0,h.useState)(!1);if(C&&!A)throw console.error("Unable to export since no social platform provided for the post"),Error("Unable to share post");let M=(0,h.useCallback)(()=>{L.current=S({id:"export-toast-".concat(t.id,"-").concat(p),isClosable:!1,position:"top",duration:null,status:"loading",colorScheme:"gray",title:C?(0,i.jsx)(o.x6,{id:"jQGAZQ",values:{formatLabel:g}}):(0,i.jsx)(o.x6,{id:"eWt/TT",values:{formatLabel:g}})})},[null==t?void 0:t.id,S,p,g,C]),R=(0,h.useCallback)(()=>{L.current&&S.update(L.current,{status:"loading",colorScheme:"gray",title:C?(0,i.jsx)(o.x6,{id:"iPHeYN"}):(0,i.jsx)(o.x6,{id:"eJOEBy"}),description:(0,i.jsx)(o.x6,{id:"3xBuWT"}),isClosable:!0})},[S,C]),_=(0,h.useCallback)(()=>{L.current&&S.update(L.current,{status:"info",colorScheme:"gray",title:(0,i.jsx)(o.x6,{id:"eJOEBy"}),description:C?(0,i.jsx)(o.x6,{id:"c5plBG"}):"google_slides"===p?(0,i.jsx)(o.x6,{id:"/CtF0l"}):(0,i.jsx)(o.x6,{id:"W4zgCP"}),isClosable:!0})},[S,C,p]),z=(0,h.useCallback)(e=>{if(L.current){let t;t=C?"REVOKED_ACCESS_TOKEN"===e?(0,i.jsx)(o.x6,{id:"zK8Tsy",values:{formatLabel:g}}):(0,i.jsx)(o.x6,{id:"sBE71M",values:{formatLabel:g}}):"INSUFFICIENT_SPACE"===e?(0,i.jsx)(o.x6,{id:"+ope9f",values:{formatLabel:g}}):(0,i.jsx)(o.x6,{id:"walT1X"}),S.update(L.current,{title:t,status:"error",duration:null,isClosable:!0})}},[S,g,C]),N=(0,h.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"download";if(L.current){let a,s;switch(n){case"download":a=c.Ru._({id:"aVmJex",values:{formatLabel:g}}),s=(0,i.jsx)(o.x6,{id:"VkeGn4",components:{0:(0,i.jsx)(r.N,{textDecoration:"underline",target:"_blank",href:e||void 0,onClick:()=>L.current&&S.close(L.current)})}});break;case"social":a=c.Ru._({id:"027pS1",values:{formatLabel:g,0:t.title}}),s=(0,i.jsx)(o.x6,{id:"nManvG",components:{0:(0,i.jsx)(r.N,{textDecoration:"underline",target:"_blank",href:e||void 0,onClick:()=>L.current&&S.close(L.current)})}});break;case"web":a=c.Ru._({id:"eLTtkg"}),s=(0,i.jsx)(o.x6,{id:"8hY871",values:{formatLabel:g},components:{0:(0,i.jsx)(r.N,{textDecoration:"underline",target:"_blank",href:e||void 0})}})}S.update(L.current,{status:"success",title:a,description:(0,i.jsx)(l.E,{children:s}),isClosable:!0})}},[t,g,S]);return{handleExport:(0,h.useCallback)(()=>{let e=null==u?void 0:u.getJSON();D(!0),M();let i=setTimeout(R,3e4);null!=k&&k({format:p,exportWaitWarnTimeout:i,showErrorToast:z,showEmailToast:_,showSuccessToast:N,setExportInProgress:D})||w(t.id,e,p,"card_export_menu"===n,m,f,v,void 0,C,j,A).then(async e=>{var i;if(!e.ok){let t=await e.json();if(console.error("Export failed:",{status:e.status,statusText:e.statusText}),"REVOKED_ACCESS_TOKEN"===t.error)throw new y.P("Posting to LinkedIn failed due to revoked access token",t.error);throw Error("Fetching export failed: ".concat(e.status," ").concat(e.statusText))}let a="linkedin"===A?x.VV.LINKEDIN_POST:"pdf"===p?x.VV.PDF_EXPORTED:"pptx"===p?x.VV.PPTX_EXPORTED:"image"===p?x.VV.PNG_EXPORTED:void 0,r=decodeURIComponent(e.headers.get("x-gamma-download-url")||"")||void 0;if(C&&(r=(await e.json()).url),a&&(null==I||I.track(a,{doc_id:t.id,source:n,device:(0,b.ZI)(),...C&&{postUrl:r}})),N(r,C?"social":"download"),C)return;let l=await e.blob(),s=window.URL.createObjectURL(l),o=document.createElement("a");o.download=decodeURIComponent((null==(i=(e.headers.get("Content-Disposition")||"").split(";").find(e=>e.includes("filename=")))?void 0:i.replace("filename=","").trim())||"".concat(t.id,".").concat(p)),o.href=s,o.style.display="none",document.body.appendChild(o),o.click(),o.remove()}).catch(e=>{"AbortError"===e.name?_():(d.Cp(e,{extra:{docId:t.id,format:p,source:n}}),s.yf.logger.error("[useHandleExport] Error exporting doc",{docId:t.id,format:p,source:n},e),z(null==e?void 0:e.code))}).finally(()=>{D(!1),clearTimeout(i)})},[I,null==t?void 0:t.id,u,n,p,m,k,f,v,j,z,M,R,_,N,A,C]),exportInProgress:E}},j=e=>{let t=(0,m.GV)(f.SJ),n=e.theme||t;return(0,h.useMemo)(()=>{let e=n.fonts?[...n.fonts]:[];return e.length<2&&e.push({id:"Inter",name:"Inter",url:"https://fonts.googleapis.com/css2?family=Inter"}),p()(e).map(e=>{var t;return(null==(t=e.url)?void 0:t.includes("fonts.googleapis.com"))?{name:e.name,url:"https://fonts.google.com/specimen/".concat(e.name)}:{name:e.name}}).filter(e=>!!e)},[n])}},12180:(e,t,n)=>{"use strict";n.d(t,{PH:()=>d,UG:()=>c,XD:()=>h,fA:()=>u,gb:()=>p});var i=n(6029),a=n(2241),r=n(99492),l=n(55597),s=n(48621),o=n(77650);let c=.25*!n(28615).D1,d={top:0,right:0,bottom:0,left:0},u={monochrome:{label:()=>o.Ru._({id:"VvdC4u"})},spin:{label:()=>o.Ru._({id:"0LFzg9"})},complement:{label:()=>o.Ru._({id:"2HDXEj"})},complement2:{label:()=>o.Ru._({id:"XTxqsS"})},alternating:{label:()=>o.Ru._({id:"K+2OGd"})}},p="monochrome",h=Object.freeze({pie:{icon:(0,i.jsx)(s.g,{icon:r.W1p}),selectedIcon:(0,i.jsx)(s.g,{icon:l.W1p}),label:()=>o.Ru._({id:"RT6aCN"})},donut:{icon:(0,i.jsxs)(a.B.span,{className:"fa-layers fa-fw",children:[(0,i.jsx)(s.g,{icon:r.xD0}),(0,i.jsx)(s.g,{icon:r.ZPt})]}),selectedIcon:(0,i.jsxs)(a.B.span,{className:"fa-layers fa-fw",children:[(0,i.jsx)(s.g,{icon:l.xD0}),(0,i.jsx)(s.g,{icon:r.ZPt})]}),label:()=>o.Ru._({id:"Cn5cfQ"})},line:{icon:(0,i.jsx)(s.g,{icon:r.gK3}),selectedIcon:(0,i.jsx)(s.g,{icon:l.gK3}),label:()=>o.Ru._({id:"MZW+2G"})},bar:{icon:(0,i.jsx)(s.g,{icon:r.s67}),selectedIcon:(0,i.jsx)(s.g,{icon:l.s67}),label:()=>o.Ru._({id:"EzalDc"})},"horizontal-bar":{icon:(0,i.jsx)(s.g,{icon:r.Mkm}),selectedIcon:(0,i.jsx)(s.g,{icon:l.Mkm}),label:()=>o.Ru._({id:"CeeoKy"})}})},12258:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});let i={src:"/_next/static/media/empty-state.1b05b2ca.png",height:374,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAbFBMVEWBcJMWe74Adr2xtNuzxu0Jdr0Peb4Acr/CvOSHo8+OsOu4xvDisZ70f3c3cbjhfHUGesLOzur/uYJskKqRVWjylI28x+qYpanyzLrlw66fuvDqnJUCeMMnf78AestFlNH/pXbqxrNypMH/0aDe9pQ0AAAAHHRSTlMC/Tr87Vyf/f38/v79etP8xiX8/f6S0vvQvf/+8rlLWgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEFJREFUeJwFwQcCgCAMBLBTgRYX7tECrv//0QQAxrUDUFq76dIPiPFqNKQMKirReyaQ57qddkJiked7Mzwbc5zO/WPeA3VDv5HzAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:7}},12354:(e,t,n)=>{"use strict";n.d(t,{FQ:()=>J.F,_V:()=>eD,zs:()=>ed.zs,uy:()=>ed.uy,N2:()=>ed.N2,RR:()=>w.R,$k:()=>ed.$k,CU:()=>ed.CU,iZ:()=>ed.iZ,No:()=>ed.No,F8:()=>ed.F8,GP:()=>ed.GP,BS:()=>ed.BS,sI:()=>ed.sI,Zu:()=>ed.Zu,WE:()=>ed.WE});var i=n(37243),a=n(59275),r=n(63867),l=n(29614),s=n(45611),o=n(8327),c=n(15342),d=n(55978),u=n(41896),p=n(15607),h=n(38194),g=n(38934),m=n(46957),x=n(97255);let f=new r.hs("convertToGridLayout"),b=()=>new r.k_({key:f,props:{decorations:e=>{let{doc:t}=e,n=[];return t.descendants((e,t,i)=>{"image"===e.type.name&&"cardLayoutItem"===i.type.name&&n.push(x.NZ.node(t,t+e.nodeSize,{},{isTopLevel:!0}))}),x.zF.create(t,n)}}});var y=n(98088),v=n(50861),C=n(84979),w=n(86364),A=n(6029),j=n(26420),k=n(74676),S=n(48810),L=n(97481),I=n.n(L),E=n(55729),D=n(68301),M=n(59230),R=n(14122),_=n(89703),z=n(43634),N=n(11403),T=n(60908),P=n(61679),H=n(84886),F=n(28647),B=n(58082),O=n(24903),V=n(66082),W=n(25600),U=n(14389),G=n(98968),Z=n(4522),K=n(45002),Q=n(71093),q=n(33170),J=n(38636),$=n(66824),Y=n(26006),X=n(45460),ee=n(40452),et=n(19564),en=n(77650),ei=n(22115),ea=n(5061),er=n(78893),el=n(33201),es=n(5872),eo=n(46510),ec=n(64056),ed=n(61250),eu=n(99492),ep=n(55597),eh=n(84130),eg=n(35292),em=n(92137),ex=n(90184),ef=n(70015),eb=n(49249),ey=n(83143);let ev=e=>{let{editor:t,node:n,getPos:a}=e,r=(0,i.eL)(t.state.doc.resolve(a()),G.Pb),l=!!r,{resize:s,fullWidthBlock:o,id:c,clickBehavior:d}=n.attrs,{startRemoveBg:u,isRemovingBg:p}=(0,eb.D)({editor:t,id:c}),h=(0,v.gk)(d),{startCrop:g}=(0,$.E)(t),m=(0,E.useCallback)(()=>{t.commands.selectNodeAtPos(a()),p&&w.R.emit("cancelRemoveBg",{id:c}),t.chain().deleteSelectionAndSelectNear().run()},[t,c,p,a]),x=(0,_.f)(),f=(0,E.useCallback)(e=>{t.commands.updateAttributes(eD.name,{clickBehavior:e})},[t]),b=(0,ef.d)({editor:t,node:n,getPos:a,imageSrc:n.attrs.src}),y=(0,D.u)("disableRemoveBackground"),C=(0,eg.l)(n.attrs),{toggleBuddyChatPanel:j,isBuddyChatPanelOpen:k}=(0,em.n)();return{contextMenuItems:[...b,{divider:!0},{key:"edit-image",label:(0,A.jsx)(et.x6,{id:"9IrgTy"}),icon:eu.MT7,onClick:()=>{t.view.focus(),x({isOpen:!0})}},...C?[{key:"ask-ai",label:(0,A.jsx)(et.x6,{id:"vKZEFh"}),icon:ep.p7g,onClick:()=>{k||j(),setTimeout(()=>{eh.W.emit("prefillMessage",{message:""})},200)}}]:[],...y?[]:[{key:"remove-background",label:p?(0,A.jsx)(et.x6,{id:"RdqLb7"}):(0,A.jsx)(et.x6,{id:"ylbfBl"}),icon:p?eu.z1G:eu.sAw,rightIcon:p?void 0:(0,A.jsx)(ex.G,{type:"removeBackground",ms:2,color:"gray.400"}),disabled:p,onClick:u}],...l?[]:[{key:"crop",label:(0,A.jsx)(et.x6,{id:"qKx+US"}),icon:eu.K1P,onClick:()=>{t.commands.selectNodeAtPos(a()),g({id:c,clipType:null==s?void 0:s.clipType})}}],...(0,ey.bT)(n)?[{key:"reset-formatting",label:(0,A.jsx)(et.x6,{id:"5eaf8Z"}),icon:eu.U23,onClick:()=>(0,ey.LQ)(t)}]:[],{divider:!0},{key:"add-comment",label:(0,A.jsx)(et.x6,{id:"oFsfkI"}),icon:eu.DN2,onClick:()=>{t.commands.selectNodeAtPos(a()),(0,G.wG)(t.state.selection)}},{divider:!0},...l?[]:[{key:"align",label:(0,A.jsx)(et.x6,{id:"9ms+e0"}),icon:eu.ecg,disabled:o,items:V.gj.map(e=>{let{name:n,key:i,icon:a,checkActive:r,apply:l}=e;return{key:i,icon:r&&r(t)?eu.e68:a,label:n(),onClick:()=>{l&&l(t),o&&t.commands.updateAttributes(eD.name,{fullWidthBlock:!1,resize:{...s,width:null}})}}})}],{key:"click-action",label:(0,A.jsx)(et.x6,{id:"PWv7TI"}),icon:eu.ii0,items:[{key:"do-nothing",icon:"none"===h?eu.e68:void 0,label:(0,A.jsx)(et.x6,{id:"gIjBW2"}),onClick:()=>f("none")},{key:"expand",icon:"expand"===h?eu.e68:void 0,label:(0,A.jsx)(et.x6,{id:"1A3EXy"}),onClick:()=>f("expand")},{key:"new-tab",icon:"newTab"===h?eu.e68:void 0,label:(0,A.jsx)(et.x6,{id:"Alx2/L"}),onClick:()=>{t.commands.selectNodeAtPos(a()),f("newTab")}}]},...l?[{divider:!0},{key:"edit-gallery",icon:eu.Qyz,label:(0,A.jsx)(et.x6,{id:"uv9eFb"}),onClick:()=>{t.commands.selectNodeAtPos(r.pos)}}]:[],{divider:!0},{key:"delete",label:(0,A.jsx)(et.x6,{id:"cnGeoo"}),icon:eu.yLS,onClick:m,color:"red.500"}]}},eC=e=>e.some(e=>e.spec.isTopLevel),ew=(e,t)=>eC((0,el.j5)(e,t)),eA=e=>{let{node:t}=e;return(0,i.BQ)(e)&&(null==t?void 0:t.type.name)==="image"},ej=e=>{let{editor:t,event:n,isCropping:i}=e,a=t.view,{selection:l}=a.state;if(!(l instanceof r.nh)||!t.isEditable)return!1;let{node:s}=l,o=l.from,c=l.to;if(!eA(l))return!1;let d=n.target,u=d.getAttribute("data-media-add-text"),p=ew(t,o);if(!u||!p||i)return!1;let h=(0,ec.eq)({view:a,from:o,to:c,node:s}),g=(0,ec.Sm)({horizontalAlign:h,eventTarget:d,node:s,editor:t}),m=(0,ec.Cn)({eventTarget:d,horizontalAlign:h,nodeSize:s.nodeSize,editor:t}),x=(0,ec.I4)({horizontalAlign:h,prevPos:o});return t.chain().insertContentAt({from:o,to:c},g,{updateSelection:!1}).setMeta("annotationEvent",{type:"move",insertPos:x,insertPosRaw:x,pos:o,end:c}).focusMapped(o,m).run(),!1},ek=(0,X.R)((e,t)=>{let{children:n,resizeableSx:i,alignStyles:a,horizontalAlign:r,decorations:l,editor:s,node:o,isDark:d,isResizing:u,getPos:p}=e,h=o.attrs.id,g=(0,c.GV)((0,ed.iZ)(h)),m=eC(l),x=(0,c.GV)(z.Cl),f=x&&m&&!g&&("right"===r||"center"===r),b=x&&m&&!g&&(!r||"left"===r||"center"===r),[y,v]=(0,E.useState)({side:null,id:null}),{onOpenContextMenu:C,onCloseContextMenu:w,menuProps:k}=(0,er.$)({editor:s,getPos:p}),{contextMenuItems:S}=ev({editor:s,node:o,getPos:p});return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(ee.s,{dir:(0,V.fZ)(l,r),"data-media-node-wrapper":!0,"data-testid":"image-node-wrapper",onContextMenu:C,ref:t,h:"100%",w:"100%",direction:f||b?"row":"column",className:es.S,sx:{...i},onClick:e=>{ej({editor:s,event:e,isCropping:g})},css:{...a,...f||b?{alignItems:"stretch"}:{}},onDragOver:e=>{if(e.preventDefault(),!y){var t;let n=(0,eo.Vk)(s.view,e,null==(t=s.view.dragging)?void 0:t.slice),i=(0,eo.rj)(e.target,s.view),a=null==n?void 0:n.node.attrs.id;n&&i&&a&&(v({side:i,id:a}),setTimeout(()=>{v(null)},5e3))}},onDragEnd:e=>{e.preventDefault(),y&&v(null)},onDragLeave:e=>{e.preventDefault(),v(null)},children:[f&&(0,A.jsx)(j.a,{"data-media-add-side":"left",flex:"1",pos:"relative",css:{containerType:"size"},children:(null==y?void 0:y.side)==="left"&&(null==y?void 0:y.id)===o.attrs.id?(0,A.jsx)(eL,{me:4}):(0,A.jsx)(eS,{side:"left",me:4,isDark:d,isResizing:u})}),n,b&&(0,A.jsx)(j.a,{"data-media-add-side":"right",flex:"1",pos:"relative",css:{containerType:"size"},children:(null==y?void 0:y.side)==="right"&&(null==y?void 0:y.id)===o.attrs.id?(0,A.jsx)(eL,{ms:4}):(0,A.jsx)(eS,{side:"right",ms:4,isDark:d,isResizing:u})})]}),(0,A.jsx)(ei.tz,{menuItems:S,isOpen:k.isOpen,position:k.position,onClose:w,size:"small"})]})}),eS=e=>{let{side:t,isDark:n,isResizing:i,...a}=e,r=(0,ea.fW)();return(0,A.jsx)(j.a,{p:2,flex:"1",borderRadius:"lg","data-media-add-text":!0,opacity:0,height:"100%",transitionProperty:"common",transitionDuration:"normal",...a,cursor:"text",css:{"@container (width < 150px)":{display:"none"},"&:after":{position:"absolute",top:0,..."left"===t?{right:"var(--chakra-space-4)"}:{left:"var(--chakra-space-4)"},backgroundColor:n?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.1)",color:n?"var(--chakra-colors-whiteAlpha-700)":"var(--chakra-colors-gray-600)",zIndex:1,borderRadius:"var(--chakra-radii-lg)",content:'"'.concat(en.Ru._({id:"HpUrSQ"}),'"'),textAlign:r?"right":"left",fontSize:"var(--chakra-fontSizes-sm)",padding:"var(--chakra-space-2)",width:"calc(100% - var(--chakra-space-4) - var(--chakra-space-2) - var(--chakra-space-2))",height:"calc(100% - var(--chakra-space-2) - var(--chakra-space-2))"},"&:hover":{opacity:+!i}}})},eL=e=>(0,A.jsx)(j.a,{p:2,flex:"1",height:"100%",borderRadius:"lg",transitionProperty:"common",transitionDuration:"normal",background:"var(--chakra-ring-color)",color:"var(--chakra-colors-whiteAlpha-900)",display:"flex",alignItems:"center",justifyContent:"center",...e,css:{"@container (width < 150px)":{display:"none"}},children:(0,A.jsx)(S.E,{fontSize:"sm",fontWeight:"medium",children:(0,A.jsx)(et.x6,{id:"Wv5uRs"})})}),eI=e=>{let{...t}=e,n=(0,c.jL)(),{node:i,editor:a,updateAttributes:r,selected:l,decorations:s,getPos:o}=t,{src:d,tempUrl:u,uploadStatus:p,meta:h,showPlaceholder:g,horizontalAlign:m,resize:x,id:f,href:b,clickBehavior:y,source:k}=i.attrs,S=(null==x?void 0:x.width)||(null==h?void 0:h.width),L=(0,T.SV)(d||u),X=(0,T.y9)(d||u)||(null==h?void 0:h.frame_count)&&h.frame_count>1,ee=null==h?void 0:h.has_transparency,et=(0,P.D)(k),{isFullWidth:en}=(0,F.D)(s),ei=(0,V.yp)(en?"center":m),ea=(0,G.NZ)(t),er=(0,G.ni)(t),el=(0,G.Im)(t),es=(0,W.DM)(s),eo=(0,c.GV)(z.nD),ec=(0,O.Q)(a),{cardColor:eu,bodyColor:ep,isDark:eh}=(0,B.a)(t.decorations),eg=p===M.A.Uploading,em=eo?"expand":(0,v.gk)(y),ex="newTab"===em&&!!b,ef=(0,c.GV)(D.Gm),{isZoomed:ey,enterZoom:ev,exitZoom:eC}=(0,Q.RL)(f),{width:ew,height:eA,aspectRatio:ej,containerWrapperRef:eS,imageRef:eL,setSize:eI}=(0,Y.j)();(0,E.useEffect)(()=>w.R.on("startCrop",e=>{let{id:t}=e;f===t&&(eI(),requestAnimationFrame(()=>{var e,t;null==(e=(t=a.commands).refreshBubbleMenu)||e.call(t)}))}),[f,eI,a]);let eD=(0,E.useCallback)(e=>{r(I()({},i.attrs,e,{meta:{has_transparency:!0}}))},[r,i.attrs]),{bgRemovalInProgress:eM,removeBgUrl:eR}=(0,eb._)({editor:a,id:i.attrs.id,src:i.attrs.src,updateAttributes:eD}),{ref:e_,isResizing:ez,setIsResizing:eN,resizeableSx:eT}=(0,K.Y3)(a),eP=e_.current&&es&&!ea&&!ec,eH=e_.current&&!ea&&!ec,eF=(0,E.useCallback)((e,t)=>{r({...i.attrs,fullWidthBlock:void 0===t?i.attrs.fullWidthBlock:t,resize:{...i.attrs.resize,...e}})},[i.attrs,r]),eB=(0,N.jm)(),eO=(0,c.GV)((0,ed.iZ)(f)),{confirmCrop:eV}=(0,$.E)(a);(0,N.Vg)(()=>{if(eO&&!l&&eV({id:f}),!l){var e,t;eN(!1),null==(e=(t=a.commands).forceHideBubbleMenu)||e.call(t,!1)}},[a,n,l,eO,f,eV,eN],[l]);let eW=!eO&&!ez&&!ea&&!a.isThumbnail,eU=!a.isThumbnail&&"expand"===em,eG=(0,E.useCallback)(()=>{eO||ez||ev()},[ev,eO,ez]),eZ=(0,_.f)(),eK=(0,E.useMemo)(()=>{if(!ea&&eo)return()=>{eZ({isOpen:!0})}},[ea,eo,eZ]),eQ=(0,E.useCallback)(()=>{if(l){var e,t;null==(e=(t=a.commands).refreshBubbleMenu)||e.call(t)}},[l,a]),eq=eR?{...i.attrs,src:eR,tempUrl:i.attrs.src}:i.attrs,eJ=el?{height:(0,G.w5)((0,G.IG)(t),(0,G.yL)(t)),padding:"".concat((0,G.yL)(t)/2,"em ").concat((0,G.yL)(t),"em")}:{};return(0,A.jsxs)(H.u,{...t,as:"div",className:eo||"none"!==em?void 0:C.T,style:{height:ea?"100%":void 0},children:[(g||!d&&!u)&&(0,A.jsx)(Z.VM,{...t}),!g&&(d||u)&&(0,A.jsxs)(ek,{ref:eS,resizeableSx:eT,alignStyles:ei,horizontalAlign:m,editor:a,decorations:s,node:i,isDark:eh,isResizing:ez,getPos:o,children:[eH&&eO&&(0,A.jsx)(q.Ft,{imageWrapperRef:e_,updateResizeAttrs:eF,refreshDeps:[eB],currentWidth:ew,currentHeight:eA,clipPath:null==x?void 0:x.clipPath,clipAspectRatio:null==x?void 0:x.clipAspectRatio,onFinishCrop:()=>{requestAnimationFrame(()=>{var e,t;null==(e=(t=a.commands).refreshBubbleMenu)||e.call(t)})}}),eP&&!eO&&l&&!en&&(0,A.jsx)(K.u4,{imageWrapperRef:e_,setIsResizing:eN,updateResizeAttrs:eF,refreshDeps:[i.attrs,eB]}),(0,A.jsxs)(j.a,{ref:e_,css:{mask:eO?"":"none !important","--media-maxH":!eg||ez||(null==x?void 0:x.width)||ea?void 0:"".concat(100*U.Mg,"vh")},sx:ee?void 0:R.z,"data-drag-handle":!0,"data-image-node-element":!0,"data-selection-ring":"inside","data-selection-background":!0,"data-node-image-testid":f,w:ea?"100%":S?"calc(".concat(S," * var(--font-size) / 16)"):"fit-content",maxW:"100%",position:"relative",overflow:"hidden",...ea?{h:er?"100%":void 0,display:"flex",justifyContent:"center",alignContent:"center"}:{},children:[eU&&(0,A.jsx)(Q.Kc,{enterZoom:eG,doubleClickNonZoomHandler:eK}),ef&&(0,A.jsx)(eE,{imageAttrs:eq}),(0,A.jsx)(J.F,{containerWidth:ew,intrinsicAspectRatio:ej||void 0,isCroppingThisImage:eO,imageAttrs:eq,onLoad:eQ,linkHref:ex?b||"":void 0,filter:et?"url(#theme-body-color-fill)":void 0,ref:eL,width:ea?"auto":S||ez||en||L?"100%":null==h?void 0:h.width,minW:ea?"100%":void 0,objectFit:ea?"cover":"contain",isThumbnail:ea||a.isThumbnail,flex:er?1:void 0,containerProps:{display:er?"flex":"block"},shouldUseImgProxyCrop:er&&!X&&!L,bodyColor:ep,...eJ}),eW&&(0,A.jsx)(Q.Gx,{isZoomed:ey,exitZoom:eC,editor:a,children:(0,A.jsx)(J.F,{imageAttrs:i.attrs,backgroundColor:eu,bodyColor:ep,w:L?"80vw":void 0,isZoomed:!0})}),(eg||eM)&&eo&&(0,A.jsx)(Z.Td,{removeBackground:eM}),p==M.A.Error&&(0,A.jsx)(Z.Hy,{})]})]})]})},eE=e=>{let{imageAttrs:t}=e;return(0,A.jsxs)(j.a,{position:"absolute",as:"span",maxW:"95%",zIndex:1,bottom:0,m:1,children:[(0,A.jsx)(k.E,{maxW:"100%",colorScheme:"green",m:0,children:(0,A.jsxs)(S.E,{isTruncated:!0,whiteSpace:"nowrap",textOverflow:"ellipsis",fontSize:"10px",maxW:"100%",children:["url: ",t.src]})}),(0,A.jsx)(k.E,{maxW:"100%",colorScheme:"yellow",children:(0,A.jsxs)(S.E,{isTruncated:!0,whiteSpace:"nowrap",textOverflow:"ellipsis",fontSize:"10px",maxW:"100%",children:["tempUrl: ",t.tempUrl]})})]})},eD=a.Ay.extend({selectable:!0,draggable:!0,group:"block media",priority:g.y.Image,expandable:!0,addOptions(){var e;return{...null==(e=this.parent)?void 0:e.call(this),placeholders:{}}},addNodeView:()=>(0,u.gu)(eI,{update:m.z0}),extendNodeSchema(e){var t;return{accessoryImageKey:(0,i.gk)((0,i.iI)(e,"accessoryImageKey",e)),imageKeyPath:null!=(t=(0,i.gk)((0,i.iI)(e,"imageKeyPath",e)))?t:""}},parseHTML:()=>[{tag:"img[".concat(l.A,"]"),getAttrs:s.K},{tag:"img[src], img[tempUrl]"},{tag:"img[bookmark]",getAttrs:h.Ll},{tag:"div[class=card-accent-layout-item]",context:"cardLayoutItem//",getAttrs:e=>{try{let t=JSON.parse(e.getAttribute("data-background")||"{}");if("image"!==t.type||!t.image)return!1;let n={...t.image,source:t.source};return(0,v.Ez)(n)}catch(t){return console.error("[Image] Error parsing accent image background",e,t),!1}}}],renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,i.KV)(this.options.HTMLAttributes,t,{loading:"lazy"})]},renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e;return n?["img",{src:t.attrs.src,alt:(0,o.ve)(t.attrs)}]:["img",{bookmark:(0,h.vL)(t),alt:(0,o.ve)(t.attrs)}]},addAttributes:()=>({id:(0,d.e)(y.z),savedMediaId:{},src:{},tempUrl:{},uploadStatus:{},meta:{...(0,p.tb)("meta")},providerMeta:{...(0,p.tb)("providerMeta")},aiParams:{...(0,p.tb)("aiParams")},loadImageParams:{...(0,p.tb)("loadImageParams")},loadImageStatus:{},loadImageId:{},name:{},query:{},source:{},showPlaceholder:{},fullWidthBlock:{default:!1},resize:{...(0,p.tb)("resize"),default:C.P},clickBehavior:{default:null},href:{default:null}}),addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e,n=t.state.selection;if(n instanceof r.nh&&n.node.type.name===a.Ay.name){let e=(0,ed.Hu)((0,c.KA)().getState()),{id:t}=n.node.attrs;if(e)return w.R.emit("endClip",{id:t,confirm:!0}),!0}return!1}}),addProseMirrorPlugins:()=>[new r.k_({key:new r.hs("imageDrag"),props:{handleDOMEvents:{dragstart:(e,t)=>{var n;let{selection:a}=e.state,r=(0,i.BQ)(a)&&(null==(n=a.node)?void 0:n.type.name)==="image"?a.node.attrs.id:null;if(r){let e=(0,c.KA)().getState();if((0,ed.iZ)(r)(e))return t.preventDefault(),!0}return!1}}}}),b()],addCommands(){let e=this.name,t=t=>{let{selection:n}=t;return n instanceof r.nh&&n.node.type.name===e?n.node:void 0};return{resetImageClip:()=>n=>{let{chain:i,state:a}=n,r=t(a);if(!r)return console.warn("[resetImageClip] Selected node is not an image: ",a.selection),!0;let{clipPath:l,clipType:s,clipAspectRatio:o}=C.P;return i().updateAttributes(e,{resize:{...r.attrs.resize,clipPath:l,clipType:s,clipAspectRatio:o}}).run()},resetImageScale:()=>n=>{let{chain:i,state:a}=n,r=t(a);return r?i().updateAttributes(e,{resize:{...r.attrs.resize,width:null,isAuto:null}}).run():(console.warn("[resetImageClip] Selected node is not an image: ",a.selection),!0)}}}});n(58617),n(58638)},12417:(e,t,n)=>{"use strict";n.d(t,{Ep:()=>_,LW:()=>R,f3:()=>M});var i=n(6029),a=n(27229),r=n(46898),l=n(94740),s=n(66199),o=n(12514),c=n(18078),d=n(96430),u=n(26385),p=n(48810),h=n(40162),g=n(61204),m=n(49611),x=n(45460),f=n(16936),b=n(99492),y=n(48621),v=n(47412),C=n(19564),w=n(77650),A=n(97139),j=n.n(A),k=n(55729),S=n(57963),L=n(26053),I=n(56143);let E={bg:"red.100",_hover:{bg:"red.200"},borderColor:"red.600",color:"red.600"},D={bg:"green.100",_hover:{bg:"green.200"},borderColor:"green.600",color:"green.600"},M=e=>{let{rating:t,setRating:n,RatingButtons:x,trackFeedback:f,feedbackTags:b,size:y}=e,{isOpen:v,onOpen:A,onClose:L}=(0,a.j)(),E=(0,k.useCallback)(e=>{n(e),A()},[n,A]),[D,M]=(0,k.useState)(""),[R,_]=(0,k.useState)(new Set),z=(0,k.useCallback)(()=>{M(""),_(new Set),L()},[L]),N=(0,r.d)(),T=(0,k.useCallback)(()=>{null==f||f(t,j().sanitize(D),Array.from(R)),N({title:(0,i.jsx)(C.x6,{id:"+Rq0s/"}),status:"success",position:"top",duration:2e3,isClosable:!0}),z()},[D,R,t,f,N,z]);return(0,i.jsxs)(l.A,{isOpen:v,onOpen:A,onClose:z,placement:"top",closeOnBlur:!0,isLazy:!0,variant:"modal",children:[(0,i.jsx)(s.W,{children:(0,i.jsx)(x,{rating:t,setRating:E,size:y})}),(0,i.jsx)(o.Z,{children:(0,i.jsxs)(c.h,{borderRadius:"lg",borderWidth:"1px",borderColor:"gray.200",shadow:"xl",p:3,"data-rating-popover":!0,children:[(0,i.jsx)(d.q,{}),(0,i.jsxs)(u.B,{alignItems:"flex-end",children:[(0,i.jsx)(p.E,{alignSelf:"flex-start",fontSize:"sm",color:"gray.500",children:"good"===t?(0,i.jsx)(C.x6,{id:"uA8iBc"}):(0,i.jsx)(C.x6,{id:"tq89gP"})}),t&&"good"!==t&&b&&b.length>0&&(0,i.jsx)(h.B,{children:b.map(e=>{let{key:t,label:n}=e;return(0,i.jsx)(h.Q,{onClick:()=>{_(e=>{let n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n})},children:(0,i.jsx)(I.YI,{label:n,isSelected:R.has(t)})},t)})}),(0,i.jsx)(S._,{initialHeight:"4em",value:D,onChange:e=>M(e.target.value),fontSize:"sm",placeholder:w.Ru._({id:"eYeGuP"}),p:1,px:2,borderRadius:"0"}),(0,i.jsxs)(g.e,{size:"sm",children:[(0,i.jsx)(m.$,{variant:"ghost",onClick:z,children:(0,i.jsx)(C.x6,{id:"6Uau97"})}),(0,i.jsx)(m.$,{variant:"solid",onClick:T,children:(0,i.jsx)(C.x6,{id:"1m41/U"})})]})]})]})})]})},R=(0,x.R)((e,t)=>{let{rating:n,setRating:a,size:r}=e,l=(0,L.wP)();return(0,i.jsxs)(g.e,{spacing:0,p:0,isAttached:!0,ref:t,size:r,children:[(0,i.jsx)(v.Tz,{label:(0,i.jsx)(C.x6,{id:"kR82DG"}),placement:"top",children:(0,i.jsx)(f.K,{...l,icon:(0,i.jsx)(y.g,{icon:b.lS9}),"aria-label":w.Ru._({id:"kqV4i0"}),..."poor"===n?E:{},onClick:()=>a("poor"),position:"relative",zIndex:+("poor"===n)})}),(0,i.jsx)(v.Tz,{label:(0,i.jsx)(C.x6,{id:"y1GvbS"}),placement:"top",children:(0,i.jsx)(f.K,{...l,icon:(0,i.jsx)(y.g,{icon:b.Wcv}),"aria-label":w.Ru._({id:"nnIO9F"}),position:"relative",insetStart:"-1px",..."good"===n?D:{},onClick:()=>a("good")})})]})});R.displayName="CardRatingButtons";let _=(0,x.R)((e,t)=>{let{rating:n,setRating:a,size:r="sm"}=e;return(0,i.jsxs)(g.e,{size:r,ref:t,"data-rating-buttons":!0,children:[(0,i.jsx)(v.Tz,{label:(0,i.jsx)(C.x6,{id:"kR82DG"}),placement:"top",children:(0,i.jsx)(f.K,{"aria-label":"thumbs down",color:"poor"===n?"red.600":void 0,borderWidth:"1px",borderColor:"poor"===n?"red.600":"transparent",bg:"poor"===n?"red.100":void 0,_hover:{bg:"poor"===n?"red.200":"red.100"},icon:(0,i.jsx)(y.g,{icon:b.lS9}),onClick:e=>{e.stopPropagation(),a("poor")}})}),(0,i.jsx)(v.Tz,{label:(0,i.jsx)(C.x6,{id:"y1GvbS"}),placement:"top",children:(0,i.jsx)(f.K,{"aria-label":"thumbs up",color:"good"===n?"green.600":void 0,borderWidth:"1px",borderColor:"good"===n?"green.600":"transparent",bg:"good"===n?"green.100":void 0,_hover:{bg:"good"===n?"green.200":"green.100"},icon:(0,i.jsx)(y.g,{icon:b.Wcv}),onClick:e=>{e.stopPropagation(),a("good")}})})]})});_.displayName="ImageRatingButtons"},12419:(e,t,n)=>{"use strict";n.d(t,{aO:()=>s,fY:()=>o,yf:()=>c});var i=n(91938),a=n(86014),r=n(31162),l=n(77833);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.$.API_HOST+"/ai/v2/generation",a={"Content-Type":"application/json"};t.streamId&&(a["gamma-chat-completion-stream-id"]=t.streamId);let l={method:"POST",headers:a,body:JSON.stringify(e)};return(0,r.w)(n,l,t)}async function o(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.$.API_HOST+"/ai/v2/render-generation",r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:null==(t=n.abortController)?void 0:t.signal};return(await u(a,r,n)).result}let c=e=>{let{streamId:t,lastEventId:n,interactionId:a,...l}=e,s=new URL(i.$.API_HOST+"/ai/resumeChatCompletion");return s.searchParams.set("interactionId",a),(0,r.w)(s.toString(),{method:"GET",headers:{"gamma-chat-completion-stream-id":t,"last-event-id":n}},{streamResumingEnabled:!0,...l})},d=e=>new Promise(t=>setTimeout(t,e)),u=async(e,t,n)=>{let{timeout:i=null,maxRetries:r=3,retryAttempts:s=0,abortController:o}=n,c=o||new AbortController,p=null;null!=i&&(p=setTimeout(()=>{c.abort()},i));let h=()=>{p&&clearTimeout(p)},g=await (0,l.X)(e,{credentials:"include",...t,signal:c.signal});if(g.ok){let e=await g.json();return h(),e}if(h(),g.status>=400&&g.status<500&&429!==g.status)throw new a.qh("Unable to complete request");if(s++<r){let n=1e3*Math.pow(2,Math.max(s-1,0));return await d(n),u(e,t,{timeout:i,retryAttempts:s,maxRetries:r,abortController:o})}throw Error("Unable to complete request, status="+g.status)}},12596:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var i=n(6029),a=n(56760),r=n(33201),l=n(94920);let s=e=>{let{renderers:t}=e,{state:{navItemPreviewRefMap:n}}=(0,l.U)();return(0,i.jsx)(i.Fragment,{children:Object.entries(t).map(e=>{let[t,i]=e,l=i.props.node;if("document"===l.type.name)return null;let s=(0,r.jg)(l)?n[l.attrs.id]:null;return a.createPortal(i.reactElement,s||i.element,t)})})}},13357:(e,t,n)=>{"use strict";n.d(t,{BX:()=>f,SS:()=>m,YR:()=>x});var i=n(37243),a=n(83370),r=n(81807),l=n(68469),s=n(34832),o=n(93298),c=n(82592),d=n(9118),u=n(73247),p=n(15342),h=n(47665),g=n(53615);async function m(e){let{prompt:t,language:n,variant:i,context:a}=e,l=JSON.parse(await (0,s.K8)({promptKey:"GenerateDiagram",variables:{variant:i,prompt:t,language:n,blockFlags:(0,r.fc)()},workspaceId:a.workspaceId}));if(!l.variant||!l.data)throw Error("Invalid response format from GenerateDiagram prompt");return l}let x=(e,t)=>{let n=(0,p.KA)().getState(),i=(0,a.Wt)("locale")(n)||(0,u.J)(),r=(0,d.xt)(i),l=t;if(!t){let{state:t}=e,{selection:n}=t,i=(0,g.s6)(t.doc,Math.max(n.from-1e3,0),n.from),a=(0,o.p9)(i).slice(-200);l=(0,o.$0)(a)}return{aiGenerateParams:{prompt:"Generate a smart diagram based on the following text: ".concat(l),language:r.englishName},aiGenerateStatus:"queued"}},f=(e,t,n)=>{let a=(0,i.eL)(t.doc.resolve(n),h.jg);return!!a&&((0,c.CP)({editor:e,rootNode:a.node,interactionId:(0,l.$)()}),!0)}},13559:(e,t,n)=>{"use strict";n.d(t,{h:()=>o,z:()=>c});var i=n(81807),a=n(62452),r=n(3239),l=n(90010),s=n(43634);let o=(e,t)=>{let n=(0,l.lI)(e),a=(0,l.zK)(n),o=(0,i.fc)();return{blockFlags:o,format:a,outline:(0,r.u)(t),theme:c((0,s.SJ)(t.getState()))}},c=e=>({accentColors:(e?(0,a.CD)(e):[]).slice(0,10).map(e=>(0,a.Ik)(e))})},13777:(e,t,n)=>{"use strict";n.d(t,{Y:()=>en});var i=n(33633),a=n(6029),r=n(24302),l=n(40452),s=n(61204),o=n(49611),c=n(77364),d=n(48810),u=n(33787),p=n(26420),h=n(99492),g=n(48621),m=n(19564),x=n(55729),f=n(90184),b=n(26814),y=n(647),v=n(95563),C=n(15342),w=n(90609),A=n(37605),j=n(83049),k=n(94920),S=n(43607),L=n(89481),I=n(78073),E=n(81807),D=n(80116),M=n(34832),R=n(17859),_=n(83605),z=n(82592),N=n(6018),T=n(58809),P=n(66380),H=n(90010),F=n(43634),B=n(82927),O=n(94922),V=n(85829);let W=(e,t)=>{let n=e.node.attrs,i=t.content.find(e=>"cardAccentLayoutItem"===e.type);return i&&"none"!==n.background.type&&(i.attrs={...i.attrs,...n}),t},U=e=>{var t;let{editor:n,start:i,cardId:a,card:r}=e,l=(0,C.GV)(T.Jo),s=(0,C.GV)(F.SJ),o=(0,H.lI)(n),c=(0,H.zK)(o),d=n.state.doc.resolve(i),[u]=(0,x.useState)(r),p=(0,C.CU)(),h=(0,C.GV)((0,I.dJ)(a)),g=(0,C.GV)((0,I.gR)(a)),m=(0,C.GV)((0,I.rT)(a)),f=(0,C.jL)(),[b,y]=(0,x.useState)(null),v=(0,C.GV)(F.Uu),w=(null==l?void 0:l.organization)?(0,B.P9)(l.organization.id):void 0,A=(null==w?void 0:w.id)||(null==l||null==(t=l.organization)?void 0:t.id),{imageProvider:j,imageModel:k,imageStyle:S}=(0,P.V)(),M=(0,x.useCallback)(async e=>{let{variantsWithHtml:t,docId:i,interactionId:a}=e,l=[...t];for(let e=0;e<t.length;e++){let o=t[e];if(!o||!o.isGenerating||!o.html||!A)continue;let c=(0,_.dE)(o.html);c.attrs=(0,L.p5)(null==r?void 0:r.attrs,c.attrs);let u=(0,O.l0)(d).accent;u&&(c=W(u,c)),l[e]={...o,card:c,isGenerating:!1},(0,z.Sg)({editor:n,content:c,theme:s,interactionId:a,workspaceId:A,docId:i})}return l},[A,s,null==r?void 0:r.attrs,d,n]),V=(0,x.useCallback)(e=>{let{content:t,interactionId:i}=e;if(!l)return void console.error("[GenerateCardLayoutVariants] Cannot generate variants. Card or workspace unknown");let r=(0,E.dg)(t),[s,...o]=(0,I.dJ)(a)(p.getState()),c=[],d=o.map((e,t)=>{let n=r[t]||null,i={...e,html:e.html?e.html:n};return n&&!e.html&&c.push(i),i});f((0,I.bL)({cardId:a,variants:[s,...d]})),M({variantsWithHtml:c,docId:l.id,interactionId:i}).then(e=>{let t=(0,I.dJ)(a)(p.getState()).map(t=>{let n=e.find(e=>e.id===t.id);return n?{...t,...n}:t});if(f((0,I.bL)({cardId:a,variants:t})),1===r.length){f((0,I.Ye)({cardId:a,selectedVariantId:t[1].id}));try{(0,L.ck)(n,a,{...t[1].card,attrs:{...t[1].card.attrs,id:a}},i)}catch(e){console.error("[GenerateCardLayoutVariants] Error replacing card with variant",e)}}})},[a,f,l,n,M,p]),U=(0,x.useCallback)(async()=>{if(!u||!A)return void console.error("[GenerateCardLayoutVariants] Cannot generate variants. Card or workspace unknown");f((0,I.Z_)({card:u,docSettings:v}));try{let e=(0,D.KC)(n,u),t=(0,R.$F)();y(t);let i=G({onContent:e=>{V({content:e,interactionId:t})},inputHtml:e,format:c,imageProvider:j||"none",imageOptions:{model:k,stylePrompt:S},workspaceId:A,aiInteractionId:t});(0,N.w)("editCard",w,t),await i}catch(e){console.error("[GenerateCardLayoutVariants] Error generating card variants",e)}},[u,A,f,v,n,V,c,j,k,S,w]),Z=(0,x.useCallback)(()=>{let e=h.find(e=>"original"===e.id);e&&(f((0,I.Ye)({cardId:a,selectedVariantId:e.id})),(0,L.ck)(n,a,e.card,b))},[n,a,h,f,b]);return{generateCardLayoutVariants:U,variants:h,selectedVariantId:g,setSelectedVariantId:I.Ye,revertToOriginalCard:Z,interactionId:b,editorContent:m}},G=e=>{let{onContent:t,inputHtml:n,format:i,imageProvider:a,imageOptions:r,workspaceId:l,aiInteractionId:s}=e,{promise:o}=(0,M.i4)({promptKey:"GenerateCardLayoutVariants",opts:{onContent:t},variables:{inputHtml:n,request:"I dont like this template. Try a different layout or visualization. You can rephrase the text to fit a new template, but don't alter the original voice or make up new details.",format:i,numberOfVariants:V.M,imageProvider:a,imageOptions:r,blockFlags:(0,E.fc)()},workspaceId:l,interactionId:s});return o};var Z=n(12417),K=n(65950),Q=n(58568),q=n(18317);let J=x.memo(e=>{let{item:t,isSelected:n,onClick:i,label:r,interactionId:s}=e,o=t.isGenerating,{ref:c,width:d}=(0,Q.Lh)();return(0,a.jsxs)(l.s,{ref:c,direction:"column",onClick:i,cursor:"pointer",position:"relative",w:"100%",my:2,css:{"--editor-width":"".concat(d&&1!==d?d:365,"px"),"--line-thickness":"1px"},minHeight:"150px",children:[o&&(0,a.jsx)($,{}),(0,a.jsxs)(l.s,{borderRadius:"md",border:"1px solid",borderColor:n?"trueblue.500":"gray.200",outline:n?"1px solid var(--chakra-colors-trueblue-500)":"none",_hover:{borderColor:n?"trueblue.600":"trueblue.300"},boxShadow:"md",overflow:"hidden",role:"group",visibility:o?"hidden":"visible",height:o?"0px":"auto",transitionProperty:"height border",transitionDuration:"0.2s",children:[(0,a.jsx)(l.s,{position:"absolute",top:4,insetEnd:4,bgColor:"trueblue.50",color:"trueblue.600",borderRadius:"md",px:2,py:1,zIndex:V.Ob,fontSize:"xs",border:"1px solid",borderColor:"trueblue.200",children:r}),"original"!==t.id&&(0,a.jsx)(l.s,{position:"absolute",insetEnd:4,bottom:4,zIndex:V.Ob,opacity:0,transitionProperty:"opacity",transitionDuration:"0.2s",_groupHover:{opacity:1},children:(0,a.jsx)(q.E,{interactionId:s||"",operation:"layout.different",RatingButtons:Z.Ep})}),(0,a.jsx)(K.N,{cardId:t.id})]})]})});J.displayName="VariantCard";let $=()=>(0,a.jsx)(l.s,{position:"absolute",inset:0,zIndex:1,w:"100%",h:"150px",minHeight:"150px",borderRadius:"md",align:"center",justify:"center",mb:4,children:(0,a.jsxs)(l.s,{bg:"gradient.secondary-light",h:"100%",borderRadius:"md",mx:4,align:"center",justify:"center",children:[(0,a.jsx)(u._,{src:"/images/ai_sparkle_small.gif",alt:"AI sparkles",objectFit:"cover",width:282,height:280,boxSize:"45px",zIndex:1}),(0,a.jsx)(p.a,{bg:"gradient.secondary-light",bgSize:"cover",bgPosition:"center center",borderRadius:"inherit",pos:"absolute",inset:0,pointerEvents:"none",w:"100%",zIndex:0})]})}),Y=Object.assign(e=>{let{selectedCardRange:t,closePanel:n,cardId:i,editor:r}=e;return((0,S.lC)(r,!0),(0,x.useEffect)(()=>{var e;let i=null==r||null==(e=r.state.selection)?void 0:e.from,{from:a,to:l}=t||{};if(!a||!l||!i)return void n();i===a||i>a&&i<l||n()},[null==r?void 0:r.state.selection,t,n]),r&&i&&t)?(0,a.jsx)(X,{closePanel:n,editor:r,selectedCardPos:t.from,selectedCardId:i}):null},{panelPosition:"right",panelName:"CardLayoutVariants",canCollapse:!1,minWidth:400}),X=x.memo(e=>{let{closePanel:t,editor:n,selectedCardPos:i,selectedCardId:u}=e,p=(0,C.GV)((0,I.dJ)(u)),j=(0,C.GV)((0,I.gR)(u)),k=(0,C.GV)((0,I.rT)(u)),S=(0,C.jL)(),E=(0,b.tO)(void 0,"editCard",A.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD),D=n.view.state.doc.nodeAt(null!=i?i:0),{generateCardLayoutVariants:M,revertToOriginalCard:R,interactionId:_}=U({editor:n,start:null!=i?i:0,cardId:u,card:D}),z=(0,x.useMemo)(()=>p.some(e=>e.isGenerating),[p]),N=(0,x.useCallback)(async()=>{if(!E())return void t();await M()},[E,M,t]);(0,x.useEffect)(()=>{N()},[]),(0,x.useEffect)(()=>()=>{j&&(null===w.z||void 0===w.z||w.z.track(A.VV.AI_CARD_VARIATION_KEPT,{cardId:u,variantId:j,isOriginal:"original"===j,interactionId:_,source:"layout-panel"}))},[u,j,_,p]);let T={bgColor:(0,r.dU)("white","gray.800"),textColor:(0,r.dU)("gray.800","white")},P=(0,x.useCallback)(e=>{let t=p.find(t=>t.id===e);t&&(S((0,I.Ye)({cardId:u,selectedVariantId:t.id})),(0,L.ck)(n,u,t.card,_))},[u,p,n,S,_]),H={dropdownBgColor:(0,r.dU)("blackAlpha.100","whiteAlpha.100"),dropdownBgHoverColor:(0,r.dU)("blackAlpha.300","whiteAlpha.300"),dropdownTextColor:(0,r.dU)("gray.800","white")};return(0,a.jsx)(y.Z,{bgColor:T.bgColor,w:"100%",pt:4,children:(0,a.jsxs)(l.s,{direction:"column",overflowX:"hidden",w:"100%",h:"100%",children:[(0,a.jsxs)(l.s,{position:"relative",pb:1,px:4,children:[(0,a.jsx)(l.s,{flex:1,children:(0,a.jsx)(v.N,{children:(0,a.jsx)(m.x6,{id:"jVFRe1"})})}),(0,a.jsxs)(s.e,{spacing:0,children:["original"!==j&&(0,a.jsx)(o.$,{size:"sm",onClick:R,variant:"ghost",leftIcon:(0,a.jsx)(g.g,{icon:h.LxC,size:"sm"}),children:(0,a.jsx)(m.x6,{id:"9uI/rE"})}),(0,a.jsx)(c.J,{onClick:t})]})]}),!z&&(0,a.jsxs)(l.s,{px:4,gap:2,pb:2,align:"center",children:[(0,a.jsx)(d.E,{fontSize:"xs",color:"gray.500",children:(0,a.jsx)(m.x6,{id:"GhS4Yn"})}),(0,a.jsxs)(o.$,{size:"xs",leftIcon:(0,a.jsx)(g.g,{icon:h.rhK}),textAlign:"start",bgColor:H.dropdownBgColor,color:H.dropdownTextColor,borderRadius:"md",px:2,_hover:{bgColor:H.dropdownBgHoverColor},onClick:()=>{N()},children:[(0,a.jsx)(m.x6,{id:"fMPkxb"}),(0,a.jsx)(f.G,{type:"editCard",colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"xs",ms:2,px:0})]})]}),(0,a.jsx)(ee,{variants:p,editorContent:k,handleSelectVariant:P,selectedVariantId:j,interactionId:_,anyVariantsGenerating:z})]})})}),ee=x.memo(e=>{let{variants:t,editorContent:n,handleSelectVariant:i,selectedVariantId:r,interactionId:s,anyVariantsGenerating:o}=e;return n?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(l.s,{overflowY:"auto",direction:"column",h:"100%",flex:1,children:[o&&(0,a.jsxs)(l.s,{px:4,py:2,borderRadius:"md",align:"center",gap:1,color:"deepocean.900",fontWeight:"bold",alignItems:"center",children:[(0,a.jsx)(d.E,{fontSize:"xs",children:(0,a.jsx)(m.x6,{id:"yARg1X"})}),(0,a.jsx)(u._,{src:"/images/ai_sparkle_small.gif",alt:"AI sparkles",objectFit:"cover",width:282,height:280,boxSize:"20px",zIndex:1})]}),(0,a.jsx)(p.a,{h:"100%",overflowY:"auto",children:(0,a.jsx)(j.q,{initialContent:n,children:(0,a.jsx)(et,{variants:t,interactionId:s,selectedVariantId:r,handleSelectVariant:i})})})]})}):null});ee.displayName="CardLayoutVariantsList";let et=x.memo(e=>{let{variants:t,interactionId:n,selectedVariantId:i,handleSelectVariant:r}=e,{editor:s}=(0,k.U)();return(0,x.useEffect)(()=>{t.forEach(e=>{if(!s||e.isGenerating)return;let t={...e.card,attrs:{...e.card.attrs,id:e.id}};(0,L.ck)(s,e.id,t,n)})},[t,s,n]),(0,a.jsx)(l.s,{direction:"column",w:"100%",px:4,children:t.map(e=>(0,a.jsx)(J,{interactionId:n,label:"original"===e.id?(0,a.jsx)(l.s,{children:(0,a.jsx)(d.E,{children:(0,a.jsx)(m.x6,{id:"HxF6Fk"})})}):(0,a.jsxs)(l.s,{align:"center",gap:1,children:[(0,a.jsx)(g.g,{icon:h.p7g,size:"xs"}),(0,a.jsx)(d.E,{children:(0,a.jsx)(m.x6,{id:"isRobC"})})]}),item:e,isSelected:i===e.id,onClick:()=>{r(e.id)}},e.id))})});et.displayName="CardLayoutVariantsPreviewList";let en=()=>{let{togglePanel:e,isPanelOpen:t}=(0,i.ww)(Y);return{toggleCardLayoutVariantsPanel:e,isCardLayoutVariantsPanelOpen:t}}},14300:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,V:()=>c});var i=n(6029),a=n(10500),r=n(49611),l=n(47412),s=n(30892),o=function(e){return e[e.small=4]="small",e[e.medium=7]="medium",e}({});let c=e=>{let{color:t,setColor:n=()=>{},isActive:o=!1,name:c,size:d=7,tooltipIsDisabled:u=!1}=e,p=(0,s.$p)(t)?"white":"black";return(0,i.jsx)(l.Tz,{label:c||t.toUpperCase(),placement:"top",isDisabled:u,children:(0,i.jsx)(r.$,{display:"inline-block",alignSelf:"center",boxSize:d,borderRadius:"md",border:"1px solid",borderColor:"blackAlpha.300",color:p,bgColor:null!=t?t:"#FFFFFF",onClick:()=>n(t),variant:"unstyled",minW:0,fontSize:"xs",transitionProperty:"border",transitionDuration:"normal",children:o&&(0,i.jsx)(a.S,{})})})}},14389:(e,t,n)=>{"use strict";n.d(t,{Ef:()=>r,MK:()=>a,Mg:()=>s,St:()=>l});var i=n(36512);let a=30,r=16,l=i.s5*r,s=.6},14503:(e,t,n)=>{"use strict";n.d(t,{HF:()=>c,KW:()=>o,NH:()=>p,Pn:()=>f,Ui:()=>y,aH:()=>d,dX:()=>s,fx:()=>h,kV:()=>g,oD:()=>m,ob:()=>x,t6:()=>u,uH:()=>b});var i=n(63867),a=n(46675),r=n(61292),l=n(48413);let s=new i.hs("selectingCells");function o(e){for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function c(e){for(let t=e.depth;t>0;t--){let n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}function d(e){let t=e.$head;for(let e=t.depth;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return!0;return!1}function u(e){return e instanceof a.HT?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e instanceof i.nh&&"cell"==e.node.type.spec.tableRole?e.$anchor:o(e.$head)||function(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){let i=t.type.spec.tableRole;if("cell"==i||"header_cell"==i)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){let i=t.type.spec.tableRole;if("cell"==i||"header_cell"==i)return e.doc.resolve(n-t.nodeSize)}}(e.$head)}function p(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function h(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function g(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function m(e,t,n){let i=e.start(-1),a=l.J.get(e.node(-1)).nextCell(e.pos-i,t,n);return null==a?null:e.node(0).resolve(i+a)}function x(e,t,n){let i={};for(let t in e)i[t]=e[t];return i[t]=n,i}function f(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=x(e,"colspan",e.colspan-n);return i.colwidth&&(i.colwidth=i.colwidth.slice(),i.colwidth.splice(t,n),i.colwidth.some(e=>e>0)||(i.colwidth=null)),i}function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=x(e,"colspan",e.colspan+n);if(i.colwidth){i.colwidth=i.colwidth.slice();for(let e=0;e<n;e++)i.colwidth.splice(t,0,0)}return i}function y(e,t,n){let i=(0,r.e)(t.type.schema).header_cell;for(let a=0;a<e.height;a++)if(t.nodeAt(e.map[n+a*e.width]).type!=i)return!1;return!0}},14753:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var i=n(43607);let a=()=>(0,i.FX)()?1:1.125},14812:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c});var i=n(37243),a=n(59230),r=n(60908),l=n(50861),s=n(36145),o=n(16595);let c=i.YY.create({name:"mediaUpload",addCommands(){return{cancelImageUploadsOnLoad:()=>e=>{let{tr:t,state:n}=e;return!!this.editor.isEditable&&((0,i.xe)(n.doc,e=>{let t=(0,o.um)(e);return!!(t&&t.uploadStatus===a.A.Uploading)}).forEach(e=>{let n=(0,o.um)(e.node),i=(0,o.wH)(e.node,(null==n?void 0:n.src)?{uploadStatus:a.A.Done}:{tempUrl:null,uploadStatus:a.A.Error});t.setNodeMarkup(e.pos,null,i).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0)}),!0)},uploadBlobsOnLoad:()=>e=>{let{tr:t,state:n}=e;return!!this.storage.orgId&&!!this.editor.isEditable&&((0,i.xe)(n.doc,e=>{let t=(0,o.um)(e);return!!(null==t?void 0:t.src)&&t.src.startsWith("blob:")}).forEach(e=>{let n=(0,o.um)(e.node);if(!n)return;let i=n.src,a=(0,o.wH)(e.node,(0,o.F)(i));t.setNodeMarkup(e.pos,null,a).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0),(0,s.xH)(this.editor,i)}),!0)},uploadRemoteUrlsOnLoad:()=>e=>{let{tr:t,state:n}=e;return!!this.storage.orgId&&!!this.editor.isEditable&&((0,i.xe)(n.doc,e=>{let t=(0,o.um)(e);return!!(null==t?void 0:t.src)&&t.src.startsWith("http")&&(0,r.cW)(t.src)&&t.uploadStatus!==a.A.Done}).forEach(e=>{var n;let i=(0,o.um)(e.node);if(!i)return;let r=i.src,l=(0,o.wH)(e.node,{uploadStatus:a.A.Uploading,source:null!=(n=i.source)?n:"image.custom",tempUrl:r});t.setNodeMarkup(e.pos,null,l).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0),(0,s.XE)(this.editor,r,void 0,!0)}),!0)},uploadDataUrlsOnLoad:()=>e=>{let{tr:t,state:n}=e;return!!this.storage.orgId&&!!this.editor.isEditable&&((0,i.xe)(n.doc,e=>{let t=(0,o.um)(e);return!!(null==t?void 0:t.src)&&t.src.startsWith("data:")}).forEach(e=>{let n=(0,o.um)(e.node);if(!n)return;let i=(0,r.Xz)(n.src);if(!i)return;let a=URL.createObjectURL(i),l=(0,o.wH)(e.node,(0,o.F)(a));t.setNodeMarkup(e.pos,null,l).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0),(0,s.XE)(this.editor,a,i)}),!0)},initializeUploadExtension:e=>t=>{let{chain:n}=t;return this.storage.orgId=e,n().cancelImageUploadsOnLoad().uploadBlobsOnLoad().uploadDataUrlsOnLoad().uploadRemoteUrlsOnLoad().revokeAllImageTempURLs().run(),!0},revokeAllImageTempURLs:()=>e=>{let{tr:t,state:n}=e;return(0,i.xe)(n.doc,e=>{let t=(0,o.um)(e);return!!(t&&t.tempUrl&&t.src&&t.uploadStatus===a.A.Done)}).forEach(e=>{let n=(0,o.wH)(e.node,{tempUrl:null});t.setNodeMarkup(e.pos,null,n).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0)}),!0},revokeImageTempURLs:e=>t=>{let{tr:n,state:a}=t;return(0,i.xe)(a.doc,t=>{let n=(0,o.um)(t);return!!n&&n.tempUrl===e}).forEach(e=>{let t=(0,o.wH)(e.node,{tempUrl:null});n.setNodeMarkup(e.pos,null,t).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0)}),URL.revokeObjectURL(e),!0},updateImageOnUploadFailure:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let{tr:i,state:r}=n,l=r.doc.nodeAt(e);if(!l||!l.attrs)return!1;let s=(0,o.um)(l),c=t?{...s,uploadStatus:a.A.Done}:(0,o.yK)({isError:!0}),d=(0,o.wH)(l,c);return i.setNodeMarkup(e,void 0,d).setMeta("imageUploadUpdateAttrs",!0).setMeta("addToHistory",!1).setMeta("annotationEvent",{type:"update-node-attrs",pos:e}),!0}},updateImageOnUploadSuccess:(e,t)=>n=>{let{tr:i,state:a}=n,r=a.doc.nodeAt(e);if(!r||!r.attrs)return!1;let s=(0,o.yK)({isError:!1,result:t,attrs:r.attrs}),c=(0,l.Ez)(s),d=(0,o.wH)(r,c);return i.setNodeMarkup(e,void 0,d).setMeta("imageUploadUpdateAttrs",!0).setMeta("addToHistory",!1).setMeta("annotationEvent",{type:"update-node-attrs",pos:e}),!0}}},addStorage:()=>({orgId:void 0,completedUploads:{}}),addProseMirrorPlugins(){return[(0,s.Qx)(this.editor)]}})},15253:(e,t,n)=>{"use strict";n.d(t,{N:()=>d});var i=n(6029),a=n(37243),r=n(55729),l=n(41896),s=n(4097),o=n(28613);a.KE;class c extends r.Component{componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}init(){let{editor:e}=this.props;if(!e)return;let{doc:t}=e.state;e.contentComponent=this,e.createNodeViews(),this.RootComponent=(0,i.jsx)(u,{editor:e,node:t})}setRenderer(e,t){this.renderers.set(e,t),this.mounted&&this.setState({counter:this.state.counter+1})}removeRenderer(e){this.renderers.delete(e),this.mounted&&this.setState({counter:this.state.counter+1})}render(){let{editor:e}=this.props;return e?(0,i.jsx)("div",{className:"ProseMirror",children:this.RootComponent}):null}constructor(e){super(e),this.RootComponent=null,this.renderers=new Map,this.mounted=!1,this.editorContentRef=r.createRef(),this.editorContentChildren=r.createRef(),this.state={counter:0},this.init()}}let d=r.memo(c),u=e=>{let{node:t,editor:n}=e;return(0,i.jsx)(s.e.Provider,{value:{editor:n,node:t},children:(0,i.jsx)(l.VR,{children:(0,i.jsx)(o.$,{})})})}},15440:(e,t,n)=>{"use strict";n.d(t,{G:()=>s,Z:()=>o});var i=n(63867),a=n(15607),r=n(33201),l=n(56603);let s=new i.hs("aiModifications");class o{getExistingRangeId(e,t){let n=(0,l.GB)(e,t);if(!n)return null;let i=Object.entries(this.ranges).find(t=>{let[i,a]=t,r=(0,l.GB)(e,a);return!!r&&n.from===r.from&&n.to===r.to});return i?i[0]:null}getRangeParentCardId(e,t){let n=this.ranges[t];if(!n)return null;let i=(0,l.GB)(e,n);if(!i)return null;let s=i.from,o=e.doc.nodeAt(s),c=e.doc.resolve(s),d=o&&(0,r.jg)(o)?{node:o,pos:s,start:c.start,depth:c.depth}:(0,a.TK)(c,r.jg)[0];return d?d.node.attrs.id:null}getRange(e,t){let n=this.queuedMoveRanges[t];if(n)return n;let i=this.ranges[t];return i?(0,l.GB)(e,i):null}apply(e,t){let n=e.getMeta("aiModificationAction");n&&"setInteractionRange"===n.type&&this.setInteractionRange(n,t);let i=e.getMeta("applyingAiModification");if(i)return this.handleRangeMapping(t,e,i.rangeId),this;let a=e.getMeta("appendedTransaction");return a&&this.handleAppendedTransaction(t,e,a),this}handleAppendedTransaction(e,t,n){if(n.getMeta("applyingAiModification")){let i=n.getMeta("applyingAiModification");i&&this.handleRangeMapping(e,t,i.rangeId)}}handleRangeMapping(e,t,n){let i=this.getRange(e,n);if(!i)return void console.warn("[AiModificationState] Could not find range for rangeId=".concat(n));let a={from:i.from,to:t.mapping.map(i.to)};(i.from!==a.to||i.to!==a.to)&&this.enqueueMoveInstructions(n,a)}enqueueMoveInstructions(e,t){this.queuedMoveRanges[e]=t}flushMoveInstructionQueue(e){for(let[t,n]of Object.entries(this.queuedMoveRanges))this.ranges[t]=(0,l.w8)(e,n);this.queuedMoveRanges={}}setInteractionRange(e,t){this.ranges[e.rangeId]=e.range}constructor(){this.queuedMoveRanges={},this.ranges={}}}},15587:(e,t,n)=>{"use strict";n.d(t,{h:()=>c,v:()=>d});var i=n(37243),a=n(63867),r=n(97255),l=n(15607),s=n(56124);let o=e=>e.isTextblock||["gallery","cardLayoutItem","buttonGroup","navbarLinks","navbarButtons","toggleSummary"].includes(e.type.name),c=i.YY.create({name:"emptyNodes",addOptions:()=>({emptyNodeClass:"is-empty",showOnlyWhenEditable:!0,showOnlyCurrent:!1}),addProseMirrorPlugins(){return[new a.k_({key:new a.hs("emptyNodes"),props:{decorations:e=>{let{doc:t,selection:n}=e,i=[],a=this.editor.isEditable||!this.options.showOnlyWhenEditable||this.editor.isThumbnail,{anchor:c}=n;if(a)return t.descendants((e,t)=>{if("table"===e.type.name&&(0,s.VM)(e))return!1;if(!o(e))return;let n=c>=t&&c<=t+e.nodeSize,a=(0,l.mf)(e);(n||!this.options.showOnlyCurrent)&&a&&i.push(r.NZ.node(t,t+e.nodeSize,{class:this.options.emptyNodeClass},{isEmpty:!0}))}),r.zF.create(t,i)}}})]}}),d=e=>e.some(e=>e.spec.isEmpty)},16264:(e,t,n)=>{"use strict";n.d(t,{cC:()=>y,lA:()=>f,sn:()=>g,uf:()=>b});var i=n(37243),a=n(5061),r=n(33201),l=n(86958),s=n(6845),o=n(61385),c=n(98968),d=n(50861),u=n(55424),p=n(56124),h=n(53891);let g=24,m=26,x=(e,t,n,i)=>{if(i&&((0,p.ht)(i)||(0,u.q)(i)||(0,l.q)(i))||y(e)||(0,h.Rv)(e)||!(0,r.CD)(e))return!1;if((0,d.Bv)(e)){let e=n.state.doc.resolve(t);return!(0,c.qK)(e)}return!0},f=(e,t)=>{var n,r,l;let s,o=(0,a.ix)()?-m:m,c=Math.max((null==(n=t.posAtCoords(e))?void 0:n.inside)||-1,(null==(r=t.posAtCoords({...e,left:e.left+o}))?void 0:r.inside)||-1,(null==(l=t.posAtCoords({...e,left:e.left+o+22}))?void 0:l.inside)||-1);if(-1==c)return;try{s=t.state.doc.resolve(c)}catch(e){return}let d=s.nodeAfter,u=d&&x(d,c,t,s.parent)?{pos:c,depth:s.depth,node:d}:(0,i.eL)(s,e=>x(e,c,t));if(!u)return;let{pos:p,depth:h,node:g}=u,f=t.nodeDOM(p);if(!(f instanceof HTMLElement))return;let b=f,y=f.querySelector("[data-content-reference]");if(y){let e=t.posAtDOM(y,0);(g.isAtom&&e===p||e===p+1)&&(b=y)}return{pos:p,depth:h,el:b,node:g}},b=(e,t)=>{let n={left:0,right:0,top:0};if(e.isTextblock){let e=t.querySelector("[data-node-view-content]")||t;n.top=(parseInt(window.getComputedStyle(e).lineHeight)-22)/2}else if((0,r.jg)(e))if((0,s.Wq)(e)){let e=t.clientWidth*(o.xS-1)/2;n.left=-e,n.right=e}else n.left=32,n.right=32,n.top=12;else(0,p.hj)(e)&&(n.left=-22,n.right=-22);return n},y=e=>e.type.spec.containerHandle},16309:(e,t,n)=>{"use strict";n.d(t,{qc:()=>v,tg:()=>w});var i=n(37243),a=n(63867),r=n(97255),l=n(8944),s=n(15342),o=n(30892),c=n(62171),d=n(15607),u=n(67864),p=n(94922),h=n(92397),g=n(71737);n(61385);var m=n(47665);class x{constructor(e=null){this.dragging=e}}let f=new a.hs("cardPlugin"),b=["card","calloutBox","image","cardLayoutItem","cardAccentLayoutItem","cardNotes","chart","smartLayoutCell","smartDiagram"],y=(e,t)=>{let n=[];return e.descendants((i,a,u,h)=>{if(t.includes(i.type.name)){var x,f,b,y;let t=e.resolve(a),v=(0,m.jg)(i),C=(0,d.TK)(t,m.jg),w=C.slice(+!v).map(e=>e.node),{node:A,pos:j}=C[0]||{},k=j?e.resolve(j):null,S=v?i:A||i,L=v?u.childCount:null==k?void 0:k.parent.childCount,I=v?h:null==k?void 0:k.index(),E=w.length,D=E>0,M=(0,m.kj)(w,"width"),R=(0,m.g6)(S),_=!!(S.firstChild&&(0,m.sw)(S.firstChild)),z=(0,p.o_)(S),N=null==z||null==(x=z.mask)?void 0:x.effect,T=null==z||null==(f=z.mask)?void 0:f.intensity,P=(0,c.gK)(null==(b=S.attrs.container)?void 0:b.background),H=P?(0,o.$p)(P):void 0,F=(0,l.uw)((0,s.KA)().getState()),B=(0,p.zr)({layout:S.attrs.layout,parentCards:w,isMobileDevice:F}),O=null!==S.lastChild&&(0,g.eh)(S),V=O&&!(0,g.o_)(S.lastChild),W=!!(null==(y=S.attrs.cardMarginSettings)?void 0:y.isHidden),U={isCardDecoration:!0,nestedDepth:E,isNested:D,isFirstCard:!D&&0===I,isLastCard:!D&&"number"==typeof L&&I===L-1,hasLayoutItem:_,cardContentType:R,cardAccentBackgroundMaskEffect:N,cardAccentBackgroundMaskIntensity:T,isCardDark:H,cardColorOverride:P,displayLayout:B,insideSideLayout:(0,p.in)(w),inheritContainerWidth:M,hasCardNotesNode:O,hasNonEmptyCardNotes:V,hasHiddenCardMargins:W};n.push(r.NZ.node(a,a+i.nodeSize,{},U))}}),n},v=e=>new a.k_({key:f,state:{init:()=>new x,apply:(e,t)=>t},props:{decorations:e=>{let{doc:t}=e,n=y(t,b);return n.length>0?r.zF.create(t,n):r.zF.empty},handleDOMEvents:{drop(e){var t;let n=null==(t=e.dragging)?void 0:t.annotations,i=f.getState(e.state);if(!i)return!1;i.dragging=n}},handleDrop:(t,n,i)=>{var a;let r=f.getState(t.state),l=null==r?void 0:r.dragging;r&&(r.dragging=null);let s=(0,h.M7)(t,n,i);if(!s)return!1;let o=i.content.toJSON();if(!o)return!1;let c=(null==(a=o[0])?void 0:a.type)==="card";if(c&&l)return e.commands.rearrangeCards({from:l.origNodePos,to:s.pos,position:"above"});let d=c?o:{type:"card",content:o},{selection:p}=t.state,g=!p.empty;try{return e.chain().insertContentAt(s.pos,d,{updateSelection:!1}).command(n=>{let{tr:i}=n;if(g&&i.deleteSelection(),l){let n=(0,u.nh)({view:t,tr:i,cardWrapOffset:+!c,dragging:l,dropPos:s.pos});requestAnimationFrame(()=>{var t,i;null==(t=(i=e.commands).moveAnnotations)||t.call(i,n)})}return!0}).focusMapped(s.pos,1).run()}catch(e){return console.error("(caught) [Cardplugin] handleDrop error:",e),!0}},handlePaste:(t,n,a)=>{var r;let l=a.content.toJSON();if(!l)return!1;if((null==(r=l[0])?void 0:r.type)==="card"){let r=t.state.selection,l=(0,i.KP)(m.jg)(r);if(l){n.preventDefault();let t=l.pos+l.node.nodeSize;return e.commands.insertContentAt(t,a.content.toJSON()),!0}}return!1}}}),C={isNested:!1,hasLayoutItem:!1,nestedDepth:0,isFirstCard:!1,isCardDecoration:!0,isLastCard:!1,displayLayout:"blank",cardContentType:"responsive",insideSideLayout:!1,hasCardNotesNode:!1,hasNonEmptyCardNotes:!1,hasHiddenCardMargins:!1},w=e=>{let t=e.find(e=>e.spec.isCardDecoration);return t?t.spec:C}},16410:(e,t,n)=>{"use strict";n.d(t,{_:()=>_});var i=n(6029),a=n(27229),r=n(16936),l=n(49611),s=n(46898),o=n(67909),c=n(36071),d=n(54731),u=n(17920),p=n(3674),h=n(40691),g=n(26385),m=n(48810),x=n(13366),f=n(98164),b=n(17496),y=n(36218),v=n(16426),C=n(61204),w=n(55597),A=n(48621),j=n(47412),k=n(19564),S=n(77650),L=n(55729),I=n(17789),E=n(6807),D=n(65148);let M={[I.tiT.DeceptiveOrMisleading]:{title:(0,i.jsx)(k.x6,{id:"Y5QK1F"})},[I.tiT.Explicit]:{title:(0,i.jsx)(k.x6,{id:"Zeb01n"})},[I.tiT.Other]:{title:(0,i.jsx)(k.x6,{id:"/IX/7x"})},[I.tiT.Spam]:{title:(0,i.jsx)(k.x6,{id:"Y5QK1F"})},[I.tiT.Inappropriate]:{title:(0,i.jsx)(k.x6,{id:"Zeb01n"})}},R=[I.tiT.DeceptiveOrMisleading,I.tiT.Explicit,I.tiT.Other],_=e=>{let{docId:t,buttonType:n,onSubmitReport:s,buttonProps:o}=e,[c]=(0,E.M)(D.E.abuseReports,[]),[d,u]=(0,L.useState)(c.includes(t||"")),{isOpen:p,onOpen:h,onClose:g}=(0,a.j)({id:"report-page-modal"}),m=(0,L.useCallback)(()=>{u(!0),g(),null==s||s()},[g,s]);return d||!t?null:(0,i.jsxs)(i.Fragment,{children:[p&&(0,i.jsx)(z,{docId:t,isOpen:!0,onClose:g,onSubmit:m}),"iconRight"===n?(0,i.jsx)(j.Tz,{label:(0,i.jsx)(k.x6,{id:"ch68HI"}),children:(0,i.jsx)(r.K,{"aria-label":S.Ru._({id:"ch68HI"}),borderInlineStartWidth:"0px",variant:"plain",size:"sm",borderInlineStartRadius:0,icon:(0,i.jsx)(A.g,{icon:w.tHS,size:"sm"}),onClick:h,...o})}):"button"===n?(0,i.jsx)(l.$,{marginX:"auto",colorScheme:"gray",color:"gray.500",size:"sm",variant:"ghost",leftIcon:(0,i.jsx)(A.g,{icon:w.tHS}),onClick:h,children:(0,i.jsx)(k.x6,{id:"ch68HI"})}):null]})},z=e=>{let{docId:t,isOpen:n,onClose:a,onSubmit:r}=e,[w,A]=(0,E.M)(D.E.abuseReports,[]),[_,z]=(0,L.useState)(),[N]=(0,I.pZI)(),[T,P]=(0,L.useState)(),H=(0,s.d)(),F=(0,L.useCallback)(()=>{_&&N({variables:{input:{docId:t,reason:_,description:T}}}).then(()=>{A([...w,t]),H({title:(0,i.jsx)(k.x6,{id:"7sBcV9"}),description:(0,i.jsx)(k.x6,{id:"m02YqD"}),status:"success",duration:5e3,isClosable:!0,position:"top"}),r()})},[_,N,t,T,A,w,H,r]);return(0,i.jsx)(j.L8,{isDark:!1,children:(0,i.jsxs)(o.aF,{isOpen:n,onClose:a,trapFocus:!1,children:[(0,i.jsx)(c.m,{}),(0,i.jsxs)(d.$,{children:[(0,i.jsx)(u.r,{children:(0,i.jsx)(k.x6,{id:"ch68HI"})}),(0,i.jsx)(p.s,{}),(0,i.jsx)(h.c,{children:(0,i.jsxs)(g.B,{spacing:0,children:[(0,i.jsx)(m.E,{mb:6,children:(0,i.jsx)(k.x6,{id:"oNyQYO"})}),(0,i.jsx)(x.z,{onChange:e=>{z(e)},value:_,children:(0,i.jsx)(g.B,{children:R.map(e=>{let t=M[e];return(0,i.jsx)(f.s,{value:e,children:null==t?void 0:t.title},e)})})}),(0,i.jsx)(b.S,{in:_===I.tiT.Other,children:(0,i.jsx)(y.T,{onChange:e=>{P(e.target.value)},maxLength:200,placeholder:S.Ru._({id:"1ULmtx"}),mt:4})})]})}),(0,i.jsx)(v.j,{children:(0,i.jsxs)(C.e,{children:[(0,i.jsx)(l.$,{colorScheme:"gray",onClick:a,variant:"ghost",children:(0,i.jsx)(k.x6,{id:"dEgA5A"})}),(0,i.jsx)(j.Tz,{label:(0,i.jsx)(k.x6,{id:"h7+4yF"}),isDisabled:!!_,shouldWrapChildren:!0,children:(0,i.jsx)(l.$,{onClick:F,variant:"hazardous",isDisabled:!_,children:(0,i.jsx)(k.x6,{id:"ovTgfk"})})})]})})]})]})})}},16595:(e,t,n)=>{"use strict";n.d(t,{Df:()=>x,F:()=>h,Ki:()=>y,XJ:()=>w,bY:()=>A,um:()=>m,wH:()=>g,wt:()=>v,yK:()=>p});var i=n(37243),a=n(60449),r=n.n(a),l=n(97481),s=n.n(l),o=n(42725),c=n.n(o),d=n(59230),u=n(46007);let p=e=>{let{result:t,isError:n,attrs:i}=e;if(n)return{uploadStatus:d.A.Error,showPlaceholder:!0,tempUrl:null,src:null};let{fullResults:a,...r}=t;return{uploadStatus:d.A.Done,showPlaceholder:!1,source:(null==i?void 0:i.source)||"image.custom",...r}},h=e=>({tempUrl:e,uploadStatus:d.A.Uploading,src:null,source:"image.custom"}),g=(e,t)=>{let n=e.type.spec.imageKeyPath,i=n?c()({},n,t):t;return s()({},e.attrs,i)},m=e=>{let t=e.type.spec.imageKeyPath;return t||"image"===e.type.name?t?r()(e.attrs,t,e.attrs):e.attrs:null},x=(e,t,n,a)=>{if(null==a?void 0:a.id)return a.id;if("smartLayoutCell"===t.type.name)return t.attrs.id;if("cardAccentLayoutItem"===t.type.name){let t=(0,i.eL)(e.state.doc.resolve(n),e=>"card"===e.type.name);return t?t.node.attrs.id:null}},f=(e,t)=>(0,i.xe)(e.state.doc,e=>{let n=m(e);return[null==n?void 0:n.tempUrl,null==n?void 0:n.src].includes(t)}),b=(e,t)=>(0,i.xe)(e.state.doc,e=>"embed"===e.type.name&&e.attrs.url===t),y=(e,t,n)=>{e.parentEditor&&(e=e.parentEditor),t&&C(e,n,t);let i=f(e,t);if(0==i.length)return void console.warn("[MediaUpload] Couldn't find placeholder node");i.forEach(t=>{let{pos:i}=t;e.commands.updateImageOnUploadSuccess(i,n)}),setTimeout(()=>{e.commands.revokeImageTempURLs(t)},3e4)},v=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.parentEditor&&(e=e.parentEditor);let a=f(e,t);if(0==a.length)return void console.warn("[MediaUpload] Couldn't find placeholder node");a.forEach(t=>e.commands.updateImageOnUploadFailure(t.pos,i)),console.error(n)},C=(e,t,n)=>{e.storage.mediaUpload.completedUploads[n]=t},w=(e,t,n)=>{let i=b(e,t);if(0==i.length)return void console.warn("[MediaUpload] Couldn't find placeholder node");i.forEach(t=>{e.commands.updateAttributesAtPos(t.pos,{url:n.src,sourceUrl:n.src,embed:{url:n.src},thumbnail:{src:n.thumbnail,uploadStatus:d.A.Done,showPlaceholder:!1}})})},A=e=>({meta:{title:e.name,description:(0,u.z3)(e.size,1)},thumbnail:{uploadStatus:d.A.Uploading,showPlaceholder:!0},source:"embed.pdf"})},17074:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var i=n(6029),a=n(55729),r=n(87996);let l={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},s=e=>{let{handleFilesCallback:t,multiple:n=!1,accept:s=r.RH.join(",")}=e,o=(0,a.useRef)(null);return{inputElement:(0,a.useMemo)(()=>(0,i.jsx)("input",{ref:o,className:"gamma-FileInput-input",style:l,type:"file",name:"gamma-file-input",multiple:n,accept:s,onChange:e=>{let n=e.target;n&&n.files&&(t(Array.from(n.files)),n.value=null)}}),[s,t,n]),onClick:(0,a.useCallback)(()=>{var e;null==(e=o.current)||e.click()},[])}}},17226:(e,t,n)=>{"use strict";n.d(t,{B:()=>y,E:()=>v});var i=n(37243),a=n(54348),r=n.n(a),l=n(94289),s=n(63867),o=n(98308),c=n(15607),d=n(23513),u=n(53885),p=n(59080),h=n(83143),g=n(28700),m=n(45943),x=n(53615),f=n(98807),b=n(50535);let y=i.YY.create({name:"clipboard",addProseMirrorPlugins(){let e=this.editor,t=e.state.schema,n=null;return[new s.k_({key:new s.hs("clipboard"),appendTransaction(e,t,n){let i=e.find(e=>"cut"===e.getMeta("uiEvent"));if(!i)return null;let a=(0,d.i)(i);return a?n.tr.setSelection(a):null},props:{handleDOMEvents:{drop(e){n=e.dragging,requestAnimationFrame(()=>{n=null})}},clipboardSerializer:{serializeFragment:e=>(0,b.t8)(e,this.editor.schema)},transformPastedHTML:o.V,transformPasted:i=>{let a=(null==n?void 0:n.slice)?i:(0,f.ne)(i,t);return C(e,a)},handlePaste:(t,n,i)=>(0,m.Mu)(e,n,i)||(0,x.D1)(e,n)||(0,g.j)(t,n,i)}})]},addCommands(){return{insertMarkdownAt:(e,t)=>n=>{let{state:i,tr:a}=n;try{let n=(0,x.os)(t,i.schema);return a.replaceRange(e.from,e.to,n),!0}catch(e){return console.warn("(caught) [Clipboard] insertMarkdownAt error",e),!1}},basicCut:e=>{let{from:t,to:n}=e;return e=>{let{state:i,tr:a}=e;return v(i.doc.slice(t,n).content,this.editor,!0),a.deleteRange(t,n),!0}},copy:e=>{let{from:t,to:n}=e;return e=>{let{state:i}=e;return v(i.doc.slice(t,n).content,this.editor,!1),!0}}}}}),v=(e,t,n)=>{var i,a,l,s;let o=(0,b.$R)(e,t.schema),c=e.firstChild;if(1===e.childCount&&!n){let e,t=(null==c?void 0:c.type.name)==="image",n=(null==c?void 0:c.type.name)==="cardAccentLayoutItem"&&(null==c||null==(l=c.attrs)||null==(a=l.background)?void 0:a.image),i=(null==c?void 0:c.type.name)==="smartLayoutCell"&&(null==c||null==(s=c.attrs)?void 0:s.image);t?e=c.attrs.src:n?e=null==c?void 0:c.attrs.background.image.src:i&&(e=null==c?void 0:c.attrs.image.src),e&&(0,h.qp)(e).catch(e=>{console.warn("Image clipboard copy failed, falling back to HTML:",e)})}null==(i=document.getSelection())||i.removeAllRanges(),r()(o,{format:"text/html"});let d=u.q.getState(t.state);return d&&!n&&d.clearCutData(),o},C=(e,t)=>{var n;let i=(0,p.e)(e.state.doc),a=null==(n=t.toJSON())?void 0:n.content;if(!a||"document"!==a[0].type)return t;let r=(0,p.e)(t.content.firstChild);return i.cardLayoutsEnabled&&!r.cardLayoutsEnabled?((0,c.Sn)(a,e=>{"card"===e.type&&(e.content=[{type:"cardLayoutItem",content:e.content}])}),l.Ji.fromJSON(e.schema,{openStart:t.openStart+1,openEnd:t.openEnd+1,content:a})):t}},17275:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var i=n(52762),a=n(94922);let r=(e,t,n,r,l)=>{let s=t.doc.nodeAt(n);if((null==s?void 0:s.type.name)!=="card")return!1;let o=s.attrs,c=(0,a.lH)(r);if((0,a.Fm)(t,n,e.schema,c),r===o.layout)return!0;t.setNodeAttribute(n,"layout",r);let{accent:d}=(0,a.dg)(t,n);if(l&&d&&d.node.attrs.background.type===i.h.NONE){let e=l();e&&t.setNodeAttribute(d.pos,"background",e)}let{layoutTemplateColumns:u}=s.attrs,p=o.layout;return u&&("left"===p&&"right"===r||"right"===p&&"left"===r)&&t.setNodeAttribute(n,"layoutTemplateColumns",u.split(" ").reverse().join(" ")),!0}},17485:(e,t,n)=>{"use strict";n.d(t,{z_:()=>g,Kl:()=>m,zF:()=>h});var i=n(6029),a=n(99492),r=n(77650),l=n(49611),s=n(48621),o=n(47412),c=n(2681),d=n(80180);let u=e=>{var t;let{value:n,updateValue:r,choices:u,defaultIcon:p,option:h}=e;return(0,i.jsxs)(c.ms,{isLazy:!0,children:[(0,i.jsx)(o.Tz,{placement:"top",label:h.name(),shouldWrapChildren:!0,children:(0,i.jsx)(c.gf,{as:l.$,variant:"toolbar",onMouseDown:d.Fw,rightIcon:(0,i.jsx)(s.g,{icon:a.Jt$,transform:"shrink-6"}),children:(0,i.jsx)(s.g,{icon:(null==(t=u[n])?void 0:t.icon)||p})})}),(0,i.jsx)(c.Q5,{children:Object.entries(u).map(e=>{let[t,{icon:n,name:a,disabled:l}]=e;return l?null:(0,i.jsx)(c.tJ,{icon:(0,i.jsx)(s.g,{icon:n,fixedWidth:!0}),onClick:()=>r(t),children:a},t)})})]})},p=()=>({square:{name:r.Ru._({id:"1DA6ap"}),icon:a.Nfw},circle:{name:r.Ru._({id:"7xMmki"}),icon:a.GEE},landscape:{name:r.Ru._({id:"XxIeKn"}),icon:a.Cpz},portrait:{name:r.Ru._({id:"3bV9gD"}),icon:a.b0A}}),h={square:{aspectRatio:"1 / 1"},circle:{borderRadius:"9999px",aspectRatio:"1 / 1"},landscape:{aspectRatio:"1.618 / 1"},portrait:{aspectRatio:"4 / 5"}},g={square:1,circle:1,landscape:1.618,portrait:.8},m={key:"imageShape",defaultValue:()=>null,Control:e=>{let{value:t,updateValue:n,editor:r,option:l}=e;return(0,i.jsx)(u,{value:t,updateValue:n,editor:r,choices:p(),option:l,defaultIcon:a.Nfw})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:"square"===e?a.Nfw:"circle"===e?a.GEE:"landscape"===e?a.Cpz:a.b0A,items:Object.entries(p()).map(n=>{let[i,{name:r}]=n;return{key:r,label:r,icon:e===i?a.e68:void 0,onClick:()=>t(i)}})}),name:()=>r.Ru._({id:"JbOau/"})}},17928:(e,t,n)=>{"use strict";n.d(t,{DN:()=>a,LF:()=>l});var i=n(83747),a=function(e){return e.CREATE_COMMENT_FROM_SELECTION="createCommentFromSelection",e.OPEN_POPUP_COMMENT="openPopupComment",e.POPUP_COMMENT_TOGGLED="popupCommentToggled",e.OPEN_THEME_DRAWER="openThemeDrawer",e.OPEN_PAGE_SETUP="openPageSetup",e.OPEN_PRESENT_MODE_CONTEXT_MENU="openPresentModeContextMenu",e.Y_DOC_IS_TOO_LARGE="yDocIsTooLarge",e}({});class r extends i.b{}let l=new r},18232:(e,t,n)=>{"use strict";n.d(t,{_:()=>d});var i=n(55729),a=n(95889),r=n(30361),l=n.n(r),s=n(15342),o=n(43634);let c=()=>{let e=(0,s.GV)(o.SJ);return(0,i.useCallback)(()=>l()(e.config.accentBackgrounds),[e])},d=(e,t)=>{let n=c(),r=(0,a.st)();return(0,i.useCallback)(i=>{"blank"===i?e.commands.setCardLayout(t,i):e.commands.setCardLayout(t,i,n),null==r||r.track(a.VV.CARD_LAYOUT_UPDATED,{source:"card-styling-menu",layout:i})},[e,t,n,r])}},18317:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var i=n(6029),a=n(19564),r=n(55729),l=n(12417),s=n(17859);let o=e=>{let{interactionId:t,operation:n,instructions:a,RatingButtons:o=l.LW}=e,[d,u]=(0,r.useState)(null),p=(0,r.useCallback)((e,i,r)=>{(0,s.pS)({feedback:i,tags:r,rating:e,interactionId:t,instructions:a,operation:n})},[t,a,n]),h=(0,r.useCallback)(e=>{u(e),(0,s.D8)({rating:e,interactionId:t,operation:n,instructions:a})},[t,n,a]);return(0,i.jsx)(l.f3,{rating:d||void 0,setRating:h,RatingButtons:o,feedbackTags:c,trackFeedback:p})},c=[{key:"wrong-language",label:(0,i.jsx)(a.x6,{id:"R2Ly6h"})},{key:"wrong-layout",label:(0,i.jsx)(a.x6,{id:"moXJSM"})},{key:"wrong-content",label:(0,i.jsx)(a.x6,{id:"AgLuGi"})},{key:"wrong-images",label:(0,i.jsx)(a.x6,{id:"IAt1qK"})},{key:"too-similar",label:(0,i.jsx)(a.x6,{id:"Np7sCV"})},{key:"too-different",label:(0,i.jsx)(a.x6,{id:"/wLn3u"})},{key:"instructions",label:(0,i.jsx)(a.x6,{id:"Tq32Jp"})},{key:"other",label:(0,i.jsx)(a.x6,{id:"/IX/7x"})}]},18934:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,Q:()=>r});var i=n(55729);let a=(0,i.createContext)(void 0),r=a.Provider,l=()=>(0,i.useContext)(a)},19250:(e,t,n)=>{"use strict";n.d(t,{D:()=>l});var i=n(55786),a=n(89703),r=n(66079);let l=()=>Object.entries(r.Fn).filter(e=>{let[t,n]=e;return n.nodeName&&!n.disabled}).map(e=>{let[t,n]=e;return{key:t,name:n.label,nodeName:n.nodeName||"mediaPlaceholder",execute:e=>e.commands.insertMediaBlock(n.key),dragStartFn:e=>{(0,i.f)(e,{type:"mediaPlaceholder",attrs:{source:n.key}})},dragEndFn:()=>{(0,a.G)()},description:n.description,icon:n.icon,image:n.image,testId:n.key,keywords:n.keywords,featureFlag:n.featureFlag,priority:n.priority,categories:n.categories,checkDisabled:n.checkDisabled,badge:n.badge}})},19297:(e,t,n)=>{"use strict";n.d(t,{DF:()=>f,NJ:()=>c,Ny:()=>m,Ob:()=>b,X6:()=>o,ds:()=>d,nX:()=>v,rP:()=>w,xK:()=>C});var i=n(37243),a=n(15607),r=n(33201);let l=["card","document","gridLayout","gallery"],s=e=>e.isBlock&&!l.includes(e.type.name)&&!(e.isTextblock&&(0,a.Op)(e)),o=e=>"gridLayout"===e.type.name,c=e=>"gridCell"===e.type.name,d=(e,t,n)=>{let i=n&&u(e,n,t);if(i)return i;if(n&&!m(n,e.state.schema))return null;let a=p(e,t,"right")||p(e,t,"left");return!a||n&&n.content.firstChild===a.node?null:a},u=(e,t,n)=>{var r;if(!x(t,e.state.schema))return null;let l=null==(r=e.posAtCoords({left:n.clientX,top:n.clientY}))?void 0:r.inside;if(!l||-1==l)return null;let{doc:s}=e.state,o=s.resolve(l),d=s.nodeAt(l),u=d&&c(d)?{node:d,pos:l}:(0,i.eL)(o,c),p=(null==u?void 0:u.pos)&&(0,a.q0)(u.pos,e);if(!u||!p)return null;let h=n.clientX>p.left+p.width/2?"right":"left";return{pos:u.pos,node:u.node,rect:p,side:h}},p=(e,t,n)=>{var r;let l=null==(r=e.posAtCoords({left:t.clientX+("left"==n?30:-30),top:t.clientY}))?void 0:r.inside;if(!l||-1==l)return null;let{doc:o,schema:c}=e.state,d=o.resolve(l),u=o.nodeAt(l),p=u&&s(u)?{node:u,pos:l}:(0,i.eL)(d,s);if(!p)return null;let m=(0,a.q0)(l,e);if(!m)return null;let x="left"==n?t.clientX-m.left:m.right-t.clientX,f=x<0,b=30*((null==u?void 0:u.type.name)!=="gridCell");if(!(f&&x>-b||"right"==n&&x<(m.right-m.left)*.15))return null;let y=o.resolve(p.pos),v=(null==u?void 0:u.type.name)==="gridCell"&&h(y,c)||g(y,c);if(f||!v){let t=(0,i.eL)(d,e=>"gridCell"===e.type.name);if(t&&h(o.resolve(t.pos),c)){let i=(0,a.q0)(t.pos,e);return i?{pos:t.pos,node:t.node,side:n,rect:i}:null}}return v?{pos:p.pos,rect:m,node:p.node,side:n}:null},h=(e,t)=>e.parent.canReplaceWith(e.index(),e.index(),t.nodes.gridCell),g=(e,t)=>e.parent.canReplaceWith(e.index(),e.indexAfter(),t.nodes.gridLayout),m=(e,t)=>t.nodes.gridCell.validContent(e.content),x=(e,t)=>t.nodes.gridLayout.validContent(e.content),f=e=>y(e,"gridLayout"),b=e=>{let t=y(e,"gridLayout");if(!t||!t.nodeAfter)throw Error();let n=t.nodeAfter,i=[],a=t.start(t.depth+1);for(let e=0;e<n.childCount;e++){let t=n.child(e);a+=0===e?0:n.child(e-1).nodeSize,i.push({node:t,pos:a})}return i},y=(e,t)=>{var n;if((null==(n=e.nodeAfter)?void 0:n.type.name)===t)return e;let i=e.doc;for(let n=e.depth;n>0;n--)if(e.node(n).type.name===t)return i.resolve(e.before(n));return null},v=(e,t)=>{let n=b(e),i=n[-1===t?n.length-1:t];return i?e.doc.resolve(i.pos):null},C=e=>b(e).findIndex(t=>t.pos===e.pos),w=(e,t,n)=>{var a,l;let s=null==(a=(0,r.j5)(n,e).find(e=>e.spec.isLayoutCellDecoration))?void 0:a.spec.colIndex,c=null==(l=(0,r.j5)(n,t).find(e=>e.spec.isLayoutCellDecoration))?void 0:l.spec.colIndex,d=n.state.doc.resolve(e),u=(0,i.eL)(d,o);if(!u)return;let p=n.state.doc.resolve(t),h=(0,i.eL)(p,o);if(!h||h.pos!==u.pos)return;let g=[...u.node.attrs.colWidths],[m]=g.splice(s,1);return g.splice(c,0,m),{colWidths:g,parentPos:u.pos}}},19310:(e,t,n)=>{"use strict";n.d(t,{a:()=>b,B:()=>K});var i=n(6029),a=n(26420),r=n(33787),l=n(74676),s=n(48810),o=n(48621),c=n(47412),d=n(77650),u=n(55729),p=n(82328),h=n(90184),g=n(87827),m=n(95889),x=n(76083),f=n(59712);let b=(0,u.forwardRef)((e,t)=>{let{query:n,editor:s}=e,{isInOfflineMode:d}=(0,p.u)(),b=(0,g.n)(x.E1).filter(e=>{if((0,x.gT)(s,e,void 0,d))return!1;let{name:t,keywords:i=[]}=e;return t().toLowerCase().includes(n.toLowerCase())||i.find(e=>e.startsWith(n.toLowerCase()))}),y=(0,u.useCallback)(e=>{if(!b[e])return;let{execute:t}=b[e],i=s.state.selection;s.chain().deleteRange({from:i.from-n.length-1,to:i.to}).run(),(0,x.Jb)(b[e],m.oU.SLASH_MENU),t(s)},[s,b,n.length]),{selectedIndex:C,selectedItemEl:w}=(0,f.Rj)({ref:t,selectItem:y,options:b});return b.length>0?(0,i.jsx)(a.a,{"data-slash-menu-dropdown":!0,children:(0,i.jsx)(c.qF,{children:(0,i.jsx)(c.QE,{width:"375px",children:b.map((e,t)=>{let{name:n,icon:a,iconStyle:s,image:d,shortcut:u,creditType:p,badge:g,nodeName:m}=e;return(0,i.jsxs)(c.nh,{ref:t===C?w:null,icon:d?(0,i.jsx)(r._,{h:"1.5em",w:"1.25em",objectFit:"contain",src:d.src}):a?(0,i.jsx)(o.g,{icon:a,rotation:null==s?void 0:s.rotation,size:"1x",fixedWidth:!0,color:"var(--chakra-colors-trueblue-600)"}):(0,i.jsx)(i.Fragment,{}),tabIndex:t===C?0:-1,onClick:()=>y(t),command:u,children:[n(),m&&(0,i.jsx)(v,{nodeName:m}),p&&(0,i.jsx)(h.G,{type:p,colorScheme:"blackAlpha",bg:"whiteAlpha.800"}),g&&(0,i.jsx)(l.E,{ms:2,colorScheme:"green",children:g()})]},t)})})})}):(0,i.jsx)(i.Fragment,{})}),y={smartLayout:()=>d.Ru._({id:"Biyg+u"}),smartDiagram:()=>d.Ru._({id:"PgKDOY"}),diagram:()=>d.Ru._({id:"i+ShMB"})},v=e=>{let{nodeName:t}=e,n=y[t];return n?(0,i.jsx)(s.E,{mt:-1,color:"gray.500",fontSize:"xs",children:n()}):null};var C=n(58959),w=n(26476),A=n(61204),j=n(94740),k=n(66199),S=n(49611),L=n(12514),I=n(18078),E=n(51684),D=n(19564),M=n(37243),R=n(66380),_=n(40061),z=n(15342),N=n(62590),T=n(43634),P=n(80180),H=n(42644),F=n(72470),B=n(77979),O=n(38036),V=n(99492);let W=(e,t)=>{let[n,i]=(0,u.useState)(null),[a,r]=(0,u.useState)(!0),l=(0,u.useRef)(null),s=(0,u.useRef)(null),o=(0,u.useRef)("keyboard"),c=(0,u.useRef)(!1),d=(0,u.useRef)(null);(0,u.useEffect)(()=>{"keyboard"===o.current&&null!==n&&s.current&&!a&&(c.current=!0,setTimeout(()=>{if(s.current&&d.current){let e=d.current.getBoundingClientRect(),t=s.current.getBoundingClientRect();(t.bottom>e.bottom||t.top<e.top)&&s.current.scrollIntoView({behavior:"auto",block:"nearest"}),s.current.focus()}setTimeout(()=>{c.current=!1},100)},0))},[n,a]);let p=(0,u.useCallback)(e=>{c.current||(o.current="mouse",i(e),r(!1))},[]),h=(0,u.useCallback)(()=>{i(0)},[]),g=(0,u.useCallback)(n=>{if(o.current="keyboard","Escape"===n.key)return n.currentTarget.value?(n.preventDefault(),n.stopPropagation(),{action:"clearSearch"}):void 0;if("ArrowDown"===n.key){n.preventDefault(),n.stopPropagation(),e.length>0&&(r(!1),i(0));return}if("Enter"===n.key){n.preventDefault(),n.stopPropagation(),e.length>0&&t(0);return}if("Tab"===n.key){e.length>0&&(n.preventDefault(),n.stopPropagation(),r(!1),i(0));return}n.stopPropagation()},[e.length,t]),m=(0,u.useCallback)((n,a)=>{switch(o.current="keyboard",n.key){case"ArrowUp":n.preventDefault(),n.stopPropagation(),0===a?(r(!0),i(null),l.current&&l.current.focus()):i(a-1);break;case"ArrowDown":n.preventDefault(),n.stopPropagation(),a<e.length-1?i(a+1):i(0);break;case"Enter":case"Tab":n.preventDefault(),n.stopPropagation(),t(a);break;case"Escape":break;default:1===n.key.length&&(r(!0),i(null),l.current&&l.current.focus())}},[e.length,t]);return{focusedIndex:n,focusedItemEl:s,searchInputRef:l,handleSearchKeyDown:g,handleSearchFocus:(0,u.useCallback)(()=>{r(!0)},[]),handleSearchChange:h,handleItemKeyDown:m,handleMouseMove:p,listBoxRef:d}},U=e=>{let{editor:t,isCardDark:n}=e,[s,f]=(0,u.useState)(""),{isInOfflineMode:b}=(0,p.u)(),y=(0,g.n)(x.E1).filter(e=>{if((0,x.gT)(t,e,void 0,b))return!1;let{name:n,keywords:i=[]}=e;return!s||n().toLowerCase().includes(s.toLowerCase())||i.find(e=>e.toLowerCase().includes(s.toLowerCase()))}),v=(0,u.useCallback)(e=>{if(!y[e])return;let{execute:n}=y[e],i=t.state.selection;t.chain().deleteRange({from:i.from,to:i.to}).run(),(0,x.Jb)(y[e],m.oU.SLASH_MENU_BLOCK_PROMPT),n(t)},[t,y]),{focusedIndex:C,focusedItemEl:w,searchInputRef:A,handleSearchKeyDown:j,handleSearchFocus:k,handleSearchChange:S,handleItemKeyDown:L,handleMouseMove:I,listBoxRef:E}=W(y,v);(0,u.useEffect)(()=>{A.current&&setTimeout(()=>{var e;null==(e=A.current)||e.focus()},50)},[]);let M=0===y.length;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.a,{p:2,borderBottom:"1px solid",borderColor:n?"titanium.700":"titanium.100",children:(0,i.jsxs)(F.M,{size:"sm",children:[(0,i.jsx)(B.W,{pointerEvents:"none",children:(0,i.jsx)(o.g,{icon:V.MjD})}),(0,i.jsx)(O.p,{ref:A,placeholder:d.Ru._({id:"Mm1grj"}),value:s,onChange:e=>{f(e.target.value),S()},onClick:P.dG,onMouseDown:P.dG,onKeyDown:e=>{let t=j(e);(null==t?void 0:t.action)==="clearSearch"&&f("")},onFocus:k,borderRadius:"md","data-slash-menu-search-input":!0})]})}),M?(0,i.jsx)(a.a,{p:3,color:n?"titanium.300":"deepocean.950",children:(0,i.jsx)(D.x6,{id:"rj6/sx",values:{searchTerm:s}})}):(0,i.jsx)(a.a,{maxH:"50vh",overflowY:"auto",ref:E,children:(0,i.jsx)(c.qF,{children:(0,i.jsx)(c.QE,{border:"none",borderRadius:"none",children:y.map((e,t)=>{let{name:n,icon:a,iconStyle:s,image:d,shortcut:u,creditType:p,badge:g}=e;return(0,i.jsxs)(c.nh,{ref:t===C?e=>{w.current=e}:null,icon:d?(0,i.jsx)(r._,{h:"1.5em",w:"1.25em",objectFit:"contain",src:d.src}):a?(0,i.jsx)(o.g,{icon:a,rotation:null==s?void 0:s.rotation,size:"1x",fixedWidth:!0,color:"var(--chakra-colors-trueblue-600)"}):(0,i.jsx)(i.Fragment,{}),tabIndex:t===C?0:-1,onClick:()=>v(t),onMouseMove:()=>I(t),onMouseDown:P.dG,onKeyDown:e=>L(e,t),command:u,children:[n(),p&&(0,i.jsx)(h.G,{type:p,colorScheme:"blackAlpha",bg:"whiteAlpha.800"}),g&&(0,i.jsx)(l.E,{ms:2,colorScheme:"green",children:g()})]},t)})})})})]})},G=e=>{switch(e){case"aiGenerated":default:return _.L;case"web":return"image.web";case"pictographic":return"image.pictographic";case"giphy":return"image.giphy";case"unsplash":return"image.unsplash"}},Z=e=>(0,H.Vo)()[e],K=e=>{var t;let{editor:n,dir:a,slashMenuOpen:r,setSlashMenuOpen:l}=e,d=(0,R.V)(),u=(0,z.GV)(T.SJ),{selection:p}=n.state;if(!p.empty)return null;let h=(0,M.eL)(n.state.doc.resolve(p.from),e=>"table"===e.type.name),g=null!=(t=(0,N.e)(n,u))&&t;return(0,i.jsx)(c.L8,{isDark:g,children:(0,i.jsx)(C.z,{spacing:2,dir:a,color:"gray.400","data-print-hidden":!0,position:"absolute",inset:"0",contentEditable:!1,overflow:"hidden",fontFamily:"body",fontSize:"0.8em",onMouseDown:P.Fw,pointerEvents:"none",userSelect:"none","data-guider-highlight":"slash-menu-prompt",className:"slash-menu-prompt",children:(0,i.jsxs)(C.z,{spacing:2,width:"100%",children:[(0,i.jsx)(s.E,{whiteSpace:"nowrap",className:"slash-menu-placeholder-long",children:(0,i.jsx)(D.x6,{id:"ll36Dw",components:{0:(0,i.jsx)(w.u,{})}})}),(0,i.jsx)(s.E,{whiteSpace:"nowrap",className:"slash-menu-placeholder-short",children:(0,i.jsx)(D.x6,{id:"RcqUBT",components:{0:(0,i.jsx)(w.u,{})}})}),(0,i.jsxs)(A.e,{variant:"plain",size:"xs",spacing:1,pointerEvents:"auto",children:[(0,i.jsxs)(j.A,{isOpen:r,onClose:()=>{l(!1),n.chain().focus().run()},onOpen:()=>l(!0),isLazy:!0,children:[(0,i.jsx)(c.Tz,{label:(0,i.jsx)(D.x6,{id:"NZGeUO"}),shortcut:"Type '/'",placement:"top",shouldWrapChildren:!0,children:(0,i.jsx)(k.W,{children:(0,i.jsx)(S.$,{color:g?"gray.400":"gray.700",borderColor:g?"gray.600":"gray.300",backgroundColor:"transparent",children:(0,i.jsxs)(C.z,{children:[(0,i.jsx)(o.g,{icon:E.sUV}),(0,i.jsx)("span",{className:"slash-menu-button-text",children:(0,i.jsx)(D.x6,{id:"4gCq8e"})})]})})})}),(0,i.jsx)(L.Z,{children:(0,i.jsx)(I.h,{borderRadius:"lg",boxShadow:"0px 8px 16px rgba(0, 0, 0, 0.15)",children:(0,i.jsx)(U,{isCardDark:g,editor:n})})})]}),(0,i.jsx)(c.Tz,{label:(0,i.jsx)(D.x6,{id:"7PxiS5"}),placement:"top",shouldWrapChildren:!0,shortcut:"/image",children:(0,i.jsx)(S.$,{color:g?"gray.400":"gray.700",borderColor:g?"gray.600":"gray.300",backgroundColor:"transparent",onClick:()=>{let e=Z(G(d.imageProvider));e&&((0,x.Jb)(e,m.oU.BLOCK_PROMPT),e.execute(n))},children:(0,i.jsxs)(C.z,{children:[(0,i.jsx)(o.g,{icon:E.Cyq}),(0,i.jsx)("span",{className:"slash-menu-button-text",children:(0,i.jsx)(D.x6,{id:"P5MuiB"})})]})})}),!h&&(0,i.jsx)(c.Tz,{label:(0,i.jsx)(D.x6,{id:"hLgX3L"}),placement:"top",shouldWrapChildren:!0,shortcut:"/table",children:(0,i.jsx)(S.$,{color:g?"gray.400":"gray.700",borderColor:g?"gray.600":"gray.300",backgroundColor:"transparent",onClick:()=>{let e=Z("table2");e&&((0,x.Jb)(e,m.oU.BLOCK_PROMPT),e.execute(n))},children:(0,i.jsxs)(C.z,{children:[(0,i.jsx)(o.g,{icon:E.w97}),(0,i.jsx)("span",{className:"slash-menu-button-text",children:(0,i.jsx)(D.x6,{id:"ttzhtD"})})]})})})]})]})})})}},19546:(e,t,n)=>{"use strict";n.d(t,{T:()=>l});var i=n(69768),a=n(15607),r=n(53957);let l=(e,t,n)=>{if(!n)return;let l=(0,a.MY)(e,100);l&&(0,i.g5)({data:{fromPos:l.pos,fromPct:l.pct},emitChange:!1}),(0,r.o)({cardId:n,method:"push",data:{fromPos:null,fromPct:null}})}},19705:(e,t,n)=>{"use strict";n.d(t,{$V:()=>r,KU:()=>l,S2:()=>o,Vn:()=>s,rP:()=>c,r_:()=>a});var i=n(77650);let a=40,r={sm:6,md:7,lg:8,xl:10},l={sm:.6,md:.7,lg:.8,xl:.9},s=.7,o=2,c={sm:{name:()=>i.Ru._({id:"4Revpc"}),buttonText:()=>i.Ru._({id:"ZQA8ce"}),height:1.55},md:{name:()=>i.Ru._({id:"agPptk"}),buttonText:()=>i.Ru._({id:"Tmu3kA"}),height:2},lg:{name:()=>i.Ru._({id:"k7rCa/"}),buttonText:()=>i.Ru._({id:"SMwD6s"}),height:2.65},xl:{name:()=>i.Ru._({id:"vp6Yr4"}),buttonText:()=>i.Ru._({id:"ekdhM0"}),height:3.5}}},19783:(e,t,n)=>{"use strict";n.d(t,{f:()=>em});var i=n(6029),a=n(40452),r=n(73),l=n(46091),s=n(74771),o=n(67909),c=n(36071),d=n(54731),u=n(3674),p=n(57405),h=n(48810),g=n(17920),m=n(58959),x=n(26420),f=n(3276),b=n(26385),y=n(40691),v=n(61204),C=n(49611),w=n(74676),A=n(80314),j=n(99492),k=n(48621),S=n(47412),L=n(19564),I=n(77650),E=n(55729),D=n(2362),M=n(68301),R=n(1079),_=n(5061),z=n(99038),N=n(49337),T=n(20845),P=n(89942),H=n(95889),F=n(82927),B=n(70006),O=n(779),V=n(26814),W=n(63111),U=n(67604),G=n(15342),Z=n(62826),K=n(69551);let Q=e=>{let{minsUntilRefill:t,hoursUntilRefill:n}=e;return t&&t<=60?(0,i.jsx)(L.x6,{id:"z8SbRN"}):null!==n?(0,i.jsx)(L.x6,{id:"xVtsV/",values:{hoursUntilRefill:n}}):null},q=e=>{let{credits:t,creditsUsedPercentage:n,minsUntilRefill:a,hoursUntilRefill:r}=e;if(null!==t)if(400===t)return(0,i.jsx)(L.x6,{id:"fv4yIH"});else if(t<400)return(0,i.jsxs)(b.B,{spacing:0,children:[(0,i.jsx)(h.E,{color:"white",children:(0,i.jsx)(L.x6,{id:"WZ4bvD",values:{creditsUsedPercentage:n}})}),(0,i.jsx)(h.E,{color:"gray.400",children:Q({minsUntilRefill:a,hoursUntilRefill:r})})]});else return(0,i.jsx)(L.x6,{id:"IY3q+2"})},J=()=>{let{credits:e}=(0,V.B9)(),t=(0,G.GV)(Z.W8),n=(0,K.Cj)({creditsRemaining:e,creditsToFillTo:400}),i=n?100-n:null,a=null!==t?(0,W.A)((0,U.A)(t),new Date):null,r=(0,K.MK)(a),l=null!==a&&!!t&&a>0&&null!==e&&e<400&&null!==n;return{shouldShowRefreshUI:l,creditRefreshLabel:q({credits:e,creditsUsedPercentage:n,minsUntilRefill:a,hoursUntilRefill:r}),creditsRemainingInPercent:i,creditRefreshModalText:Q({minsUntilRefill:a,hoursUntilRefill:r})}};var $=n(32844),Y=n(31090),X=n(59554),ee=n(6743),et=n(30928),en=n(62117),ei=n(23050);let ea=e=>{let{onContactUsClick:t,...n}=e,a=(0,M.u)("aiDebits"),r=(0,M.u)("ai-credits").enabled,l=a.generateCard,s=a.wizardCreation,o=a.chatSuggestion,c=a.autocomplete,d=a.generateImage,u=(0,M.u)("aiAutocomplete"),p=(0,M.u)("aiGeneratedImages"),h=(0,M.u)("addCard2");return(0,i.jsxs)($.n,{allowMultiple:!0,...n,children:[(0,i.jsx)(er,{accordionLabel:I.Ru._({id:"IVVQ18"}),children:(0,i.jsxs)(Y.Xy,{children:[(0,i.jsxs)(Y.ck,{children:[(0,i.jsx)("strong",{children:(0,i.jsx)(L.x6,{id:"p4u+sD"})})," ",(0,i.jsx)(L.x6,{id:"XSCvWA",values:{aiGeneration:s,GAMMA_ARTIFACT_PROPER_NOUN:z.TP}})]}),h&&(0,i.jsxs)(Y.ck,{children:[(0,i.jsx)("strong",{children:(0,i.jsx)(L.x6,{id:"R8xLRW"})})," ",(0,i.jsx)(L.x6,{id:"M3I7Cf",values:{aiAddCard:l}})]}),(0,i.jsxs)(Y.ck,{children:[(0,i.jsx)("strong",{children:(0,i.jsx)(L.x6,{id:"gPyWmV"})})," ",(0,i.jsx)(L.x6,{id:"eX5Uk8",values:{aiEditing:o}}),(0,i.jsx)(L.x6,{id:"bO6EBT"})]}),p&&(0,i.jsxs)(Y.ck,{children:[(0,i.jsx)("strong",{children:(0,i.jsx)(L.x6,{id:"0jmvoW"})})," ",(0,i.jsx)(L.x6,{id:"OY40J+",values:{aiImages:d}})]}),u&&(0,i.jsxs)(Y.ck,{children:[(0,i.jsx)("strong",{children:(0,i.jsx)(L.x6,{id:"eBVeIQ"})})," ",(0,i.jsx)(L.x6,{id:"AJ11w6",values:{aiAutocomplete:c,AUTOCOMPLETE_SLASH_SHORTCUT:ei.g_,AUTOCOMPLETE_INPUT_SHORTCUT:ei.Hb}})]})]})}),r&&(0,i.jsx)(er,{accordionLabel:I.Ru._({id:"1pwdRz"}),children:(0,i.jsx)(L.x6,{id:"AVeiKc",values:{GAMMA_PROPER_NOUN:z.On}})})]})},er=e=>{let{accordionLabel:t,children:n}=e;return(0,i.jsxs)(X.A,{children:[(0,i.jsx)("h2",{children:(0,i.jsxs)(ee.J,{px:2,py:2,fontSize:"sm",children:[(0,i.jsx)(x.a,{as:"span",flex:"1",textAlign:"left",fontWeight:500,children:t}),(0,i.jsx)(et.Q,{})]})}),(0,i.jsx)(en.v,{pb:4,px:2,fontSize:"sm",children:n})]})},el=()=>({friend:{label:I.Ru._({id:"uU68PM"})},teammate:{label:I.Ru._({id:"O/k8gF"})},buy:{label:I.Ru._({id:"/2RIKE"})}}),es={fontWeight:500,letterSpacing:"normal",color:"gray.600"},eo=e=>{let{onClose:t,onOpen:n,credits:a,segmentEvent:r=H.VV.GAMMA_PRO_UPSELL_CALLOUT_AI_CREDITS}=e,l=(0,_.fW)(),{user:I,currentWorkspace:W}=(0,F.ur)(),U=(0,F.CX)(),G=(0,P.ez)("unlimited_credits"),[Z,K]=(0,E.useState)("buy"),Q=(0,M.u)("ai-credits"),q=(0,M.u)("intercom"),$=(0,N.k)(),{lowCreditStatus:Y}=(0,V.B9)(),X=(0,E.useMemo)(()=>I?"teammate"===Z&&W&&U?(0,B.Fz)({userId:I.id,workspace:W}):"friend"===Z?(0,B.Fz)({userId:I.id}):"":"",[U,W,Z,I]),ee=Q.enabled,et=Q.referralBonus,en=el()[Z],ei=l?"friend"===Z?44:56:void 0,{shouldShowRefreshUI:er,creditRefreshLabel:eo,creditRefreshModalText:ec}=J(),ed=(0,E.useCallback)(()=>{$(),t()},[$,t]),eu=(0,O.NZ)();return(0,i.jsx)(S.L8,{isDark:!1,children:(0,i.jsxs)(o.aF,{isOpen:!0,onClose:t,size:"xl",returnFocusOnClose:!1,children:[(0,i.jsx)(c.m,{}),(0,i.jsxs)(d.$,{children:[(0,i.jsx)(u.s,{}),(0,i.jsxs)(p.T,{py:4,px:6,textAlign:"center",children:[(0,i.jsx)(h.E,{...es,fontSize:"md",color:Y?eu[Y].darkColor:void 0,children:Y?eu[Y].description:(0,i.jsx)(L.x6,{id:"xy3nnP"})}),(0,i.jsx)(g.r,{p:0,color:Y?eu[Y].lightColor:void 0,children:(0,i.jsxs)(m.z,{children:[(0,i.jsx)(x.a,{as:"span",fontSize:"xl",children:(0,i.jsx)(k.g,{icon:j.wq_})})," ",null===a?(0,i.jsx)(f.y,{size:"sm"}):(0,i.jsx)(L.x6,{id:"T57gLR",values:{credits:a}})]})}),er&&(0,i.jsx)(S.Tz,{label:eo,children:(0,i.jsxs)(b.B,{color:"deepocean.600",alignItems:"center",direction:"row",flexWrap:"wrap",fontSize:"sm",spacing:1,children:[(0,i.jsx)(k.g,{icon:j.AoE}),(0,i.jsx)(h.E,{children:ec})]})}),(0,i.jsx)(h.E,{textAlign:"start",fontSize:"sm",pt:2,...es,children:(0,i.jsx)(L.x6,{id:"lUUl1i"})})]}),(0,i.jsxs)(y.c,{pb:4,children:[ee?(0,i.jsxs)(p.T,{spacing:4,children:[(0,i.jsxs)(v.e,{variant:"ghost",size:"sm",spacing:0,gap:2,justifyContent:"center",flexWrap:"wrap",alignItems:"center",children:[!G&&(0,i.jsx)(C.$,{onClick:()=>K("buy"),isActive:"buy"===Z,color:"buy"===Z?void 0:"gray.600",children:(0,i.jsx)(L.x6,{id:"KctW9G"})}),(0,i.jsx)(C.$,{onClick:()=>K("friend"),isActive:"friend"===Z,color:"friend"===Z?void 0:"gray.600",children:(0,i.jsx)(L.x6,{id:"KSBmDv"})}),U&&(0,i.jsx)(C.$,{leftIcon:(0,i.jsx)(k.g,{icon:j.nWR}),onClick:()=>K("teammate"),isActive:"teammate"===Z,color:"teammate"===Z?void 0:"gray.600",children:(0,i.jsx)(L.x6,{id:"dUOpaF"})})]}),("friend"===Z||"teammate"===Z)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(m.z,{spacing:2,children:[(0,i.jsxs)(h.E,{fontSize:"sm",minW:"50%",children:["friend"===Z&&(0,i.jsx)(L.x6,{id:"tBKKYy",values:{referralBonusAmount:et,GAMMA_PROPER_NOUN:z.On}}),"teammate"===Z&&(0,i.jsx)(L.x6,{id:"q8MWFp",values:{referralBonusAmount:et}})]}),(0,i.jsxs)(w.E,{colorScheme:"green",fontSize:"xs",children:["+"," ",(0,i.jsx)(L.x6,{id:"NFNFrR",values:{referralBonusAmount:et}})]})]}),(0,i.jsx)(D.X,{url:X,paddingLeft:ei,customLabel:en.label})]}),"buy"===Z&&(0,i.jsx)(T.c,{segmentEvent:r,onOpenCallback:t,onCloseCallback:n,title:(0,i.jsx)(L.x6,{id:"0i4o6E"})})]}):(0,i.jsxs)(m.z,{align:"baseline",spacing:1,children:[(0,i.jsx)(h.E,{children:(0,i.jsx)(L.x6,{id:"0TJN6B"})}),q?(0,i.jsx)(C.$,{onClick:ed,variant:"link",children:(0,i.jsx)(L.x6,{id:"Bhgd0l"})}):(0,i.jsxs)(A.N,{href:"mailto:".concat(R.J),children:[(0,i.jsx)(L.x6,{id:"Bhgd0l"}),(0,i.jsx)(s.p,{ms:1,transform:"translateY(-2px)"})]})]}),(0,i.jsx)(ea,{my:4,onContactUsClick:q?ed:void 0})]})]})]})})},ec=(0,E.memo)(e=>{let{isOpen:t,...n}=e;return t?(0,i.jsx)(eo,{...n}):null});var ed=n(24302),eu=n(79956),ep=n(80219);let eh=e=>{let{lowCreditStatus:t,isDark:n}=e;if(t===ep.y.EXHAUSTED)if(n)return{color:"red.500",bg:"transparent",_hover:{bg:"red.300"},_active:{bg:"red.200"},progressBarFillColor:"red.500"};else return{color:"red.700",bg:"transparent",_hover:{bg:"red.50"},_active:{bg:"red.100"},progressBarFillColor:"red.500"};if(t===ep.y.LOW)if(n)return{color:"orange.500 !important",bg:"transparent",_hover:{bg:"orange.200 !important"},_active:{bg:"orange.300 !important"},progressBarFillColor:"orange.500"};else return{color:"orange.700 !important",bg:"transparent",_hover:{bg:"orange.100 !important"},_active:{bg:"orange.200 !important"},progressBarFillColor:"orange.500"};return n?{color:"titanium.300",bg:"transparent",_hover:{bg:"elevation.3"},_active:{bg:"elevation.4"},progressBarFillColor:"deepocean.500"}:{color:"deepocean.950",bg:"transparent",_hover:{bg:"deepocean.50"},_active:{bg:"deepocean.100"},progressBarFillColor:"deepocean.500"}},eg=(0,E.memo)(e=>{let{credits:t,lowCreditStatus:n,onClick:a,isDark:r}=e,l=null===t,{colorMode:s}=(0,ed.G6)(),{shouldShowRefreshUI:o,creditRefreshLabel:c,creditsRemainingInPercent:d}=J(),u=o?c:(0,i.jsx)(L.x6,{id:"IY3q+2"}),p=eh({lowCreditStatus:n,isDark:null!=r?r:"dark"===s});return(0,i.jsx)(S.Tz,{label:u,placement:"top",children:(0,i.jsx)(C.$,{size:"sm",py:4,px:4,onClick:a,isDisabled:l,variant:"ghost",...p,children:l?(0,i.jsx)(f.y,{size:"xs"}):(0,i.jsxs)(b.B,{direction:"column",w:"100%",spacing:.5,children:[(0,i.jsxs)(b.B,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,i.jsx)(k.g,{icon:j.wq_,size:"sm"}),(0,i.jsx)(h.E,{as:"span",children:(0,i.jsx)(L.x6,{id:"T57gLR",values:{credits:t}})})]}),o&&null!==d&&(0,i.jsx)(eu.k,{size:"xs",value:d,borderRadius:"full",bg:"gray.200",...p.progressBarFillColor&&{sx:{'[role="progressbar"]':{bg:"".concat(p.progressBarFillColor)}}}})]})})})}),em=(0,l.A)(e=>{let{modalId:t="ai-credits-modal",segmentEvent:n,isDark:l,...s}=e,{hasUnlimitedCredits:o,credits:c,lowCreditStatus:d,onAICreditsModalOpen:u,onAICreditsModalClose:p,isAICreditsModalOpen:h}=(0,r.x)(t);return o?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.s,{...s,children:(0,i.jsx)(eg,{credits:c,onClick:u,lowCreditStatus:d,isDark:l})}),(0,i.jsx)(ec,{isOpen:h,onOpen:u,onClose:p,credits:c,segmentEvent:n})]})})},19842:(e,t,n)=>{"use strict";n.d(t,{Ed:()=>h,bI:()=>u,eW:()=>p});var i=n(6029),a=n(61204),r=n(16936),l=n(26420),s=n(40452),o=n(47412),c=n(98071),d=n(18232);let u=["blank","top","left","right","behind"],p=e=>{let{layout:t,editor:n,getPos:l,edgeLayoutsEnabled:s}=e,p=(0,d._)(n,l()),g=u.filter(e=>s||["blank","behind"].includes(e));return(0,i.jsx)(a.e,{mb:2,dir:"ltr",children:g.map(e=>{let n=(0,c.Nu)(e);return(0,i.jsx)(o.Tz,{label:n,placement:"top",children:(0,i.jsx)(r.K,{"aria-label":n,flex:1,variant:"plain",size:"md",onClick:()=>p(e),icon:(0,i.jsx)(h,{layout:e,isSelected:t===e}),boxShadow:"none",background:t===e?"trueblue.50":"white"})},e)})})},h=e=>{let{layout:t,isSelected:n}=e,a=n?"trueblue.400":"gray.300",r=null;return"top"===t?r=(0,i.jsx)(l.a,{height:"0.375rem",width:"100%",background:a}):"left"===t?r=(0,i.jsxs)(s.s,{height:"100%",minH:"100%",children:[(0,i.jsx)(l.a,{width:"0.625rem",minH:"100%",background:a}),(0,i.jsx)(l.a,{flex:"1",minH:"100%"})]}):"right"===t&&(r=(0,i.jsxs)(s.s,{height:"100%",minH:"100%",children:[(0,i.jsx)(l.a,{flex:"1",minH:"100%"}),(0,i.jsx)(l.a,{width:"0.625rem",minH:"100%",background:a})]})),(0,i.jsx)(l.a,{boxSizing:"border-box",height:"1.25rem",width:"1.75rem",border:"2px solid",borderRadius:"sm",borderColor:a,background:"behind"===t?a:"none",children:r})}},20011:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var i=n(44811),a=n(55729),r=n(58809),l=n(15342);let s=e=>{let[t]=(0,a.useState)(()=>(0,i.U1)({reducer:l.Ki,middleware:e=>e({serializableCheck:!1})}));return(0,a.useEffect)(()=>{(null==e?void 0:e.doc)&&t.dispatch((0,r.Tm)({currentPage:e.doc}))},[e,t]),t}},20664:(e,t,n)=>{"use strict";n.d(t,{SW:()=>i.S,Dg:()=>O,MD:()=>H,Zu:()=>F});var i=n(49309),a=n(6029),r=n(36062),l=n(16842),s=n(69388),o=n(40452),c=n(80074),d=n(33787),u=n(26420),p=n(48810),h=n(29810),g=n(47412),m=n(77650),x=n(55729),f=n(14900),b=n(29608),y=n(11403),v=n(79958),C=n(73867),w=n(90394),A=n(46898),j=n(27229),k=n(78140),S=n(36999),L=n(16936),I=n(12514),E=n(41283),D=n(6760),M=n(85595),R=n(3276),_=n(74676),z=n(99492),N=n(55597),T=n(48621),P=n(19564);let H=e=>{let{href:t,title:n,createdByName:i,createdByEmail:r,createdTime:l,isDuplicateEnabled:s,isRenameEnabled:c,isShareEnabled:d,isTrashed:h,isFavorited:m,isTrashAndRestoreEnabled:x,isRemoveFromChannelEnabled:b,onDuplicate:y,onFavorite:v,onUnfavorite:C,onTrash:H,onPermanentDelete:F,onRestore:B,onShareClick:O,onRename:V,onRemoveFromChannel:W,onRemixThis:U,isRemixLoading:G,onCopyAsTemplate:Z}=e,{onCopy:K}=(0,w.i)("".concat(window.location.origin).concat(t)),Q=(0,A.d)(),{isOpen:q,onOpen:J,onClose:$}=(0,j.j)();return(0,a.jsxs)(k.W,{isLazy:!0,closeOnSelect:!1,modifiers:[{name:"flip",enabled:!0,options:{fallbackPlacements:["bottom","bottom-start","bottom-end","right-start","left-start","right-end","left-end","top-start","top-end"]}}],children:[(0,a.jsx)(S.I,{"data-dashboard-doc-menu":!0,as:L.K,size:"xs",variant:"ghost",borderRadius:"full",onClick:J,icon:(0,a.jsx)(T.g,{fixedWidth:!0,icon:z.vHW}),color:"gray.400",_hover:{color:"gray.700",bg:"gray.200"},children:(0,a.jsx)(P.x6,{id:"7L01XJ"})}),q&&(0,a.jsx)(I.Z,{children:(0,a.jsxs)(E.c,{maxW:"sm",zIndex:"overlay",children:[(0,a.jsxs)(u.a,{px:4,py:0,wordBreak:"break-word",children:[(0,a.jsx)(p.E,{noOfLines:2,children:n}),(0,a.jsx)(p.E,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,a.jsx)(P.x6,{id:"MXSt4t",values:{0:(0,f.Yq)(l,"MMMM do, yyyy")}})}),r&&i&&(0,a.jsx)(g.Tz,{label:r,children:(0,a.jsx)(p.E,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,a.jsx)(P.x6,{id:"Wpe4mQ",values:{createdByName:i}})})})]}),(d||c||b)&&(0,a.jsx)(D.N,{}),b&&(0,a.jsx)(M.D,{onClick:W,icon:(0,a.jsx)(T.g,{fixedWidth:!0,icon:z.Dfk}),children:(0,a.jsx)(P.x6,{id:"bv+Frh"})}),d&&(0,a.jsx)(M.D,{onClick:O,icon:(0,a.jsx)(T.g,{fixedWidth:!0,icon:z.t5Z}),children:(0,a.jsx)(P.x6,{id:"iyga2M"})}),c&&(0,a.jsx)(M.D,{onClick:V,icon:(0,a.jsx)(T.g,{fixedWidth:!0,icon:z.tAZ}),children:(0,a.jsx)(P.x6,{id:"Cg4Iup"})}),(0,a.jsx)(D.N,{}),v?m?(0,a.jsx)(M.D,{icon:(0,a.jsx)(u.a,{color:"yellow.400",children:(0,a.jsx)(T.g,{fixedWidth:!0,icon:N.yy})}),onClick:C,children:(0,a.jsx)(P.x6,{id:"T/pF0Z"})}):(0,a.jsx)(M.D,{icon:(0,a.jsx)(T.g,{fixedWidth:!0,icon:z.yy}),onClick:v,children:(0,a.jsx)(P.x6,{id:"pBsoKL"})}):null,s&&!!y&&(0,a.jsx)(M.D,{icon:(0,a.jsx)(T.g,{fixedWidth:!0,icon:z.$3n}),onClick:y,children:(0,a.jsx)(P.x6,{id:"euc6Ns"})}),(0,a.jsx)(M.D,{icon:(0,a.jsx)(T.g,{fixedWidth:!0,icon:z.gnH}),onClick:()=>{K(),Q({title:(0,a.jsx)(P.x6,{id:"h5GS+N"}),status:"success",duration:3e3,position:"top"})},children:(0,a.jsx)(P.x6,{id:"y1eoq1"})}),U&&(0,a.jsx)(M.D,{onClick:U,isDisabled:G,icon:G?(0,a.jsx)(R.y,{size:"sm"}):(0,a.jsx)(T.g,{fixedWidth:!0,icon:z._$C}),children:(0,a.jsxs)(o.s,{align:"center",justify:"space-between",w:"100%",children:["Remix this",(0,a.jsx)(_.E,{children:"AI"})]})}),Z&&s&&(0,a.jsx)(M.D,{icon:(0,a.jsx)(T.g,{fixedWidth:!0,icon:z.qIE}),onClick:Z,children:(0,a.jsx)(P.x6,{id:"FZQC0K"})}),x&&(0,a.jsx)(D.N,{}),x?h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M.D,{icon:(0,a.jsx)(T.g,{fixedWidth:!0,icon:N.ub2}),onClick:B,children:(0,a.jsx)(P.x6,{id:"yKu/3Y"})}),F&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.N,{}),(0,a.jsx)(M.D,{color:"red.500",icon:(0,a.jsx)(T.g,{fixedWidth:!0,icon:z.bnw}),onClick:F,children:(0,a.jsx)(P.x6,{id:"0Lbaux"})})]})]}):(0,a.jsx)(M.D,{color:"red.500",icon:(0,a.jsx)(T.g,{fixedWidth:!0,icon:z.yLS}),onClick:()=>{$(),null==H||H()},children:(0,a.jsx)(P.x6,{id:"1C/Yjq"})}):null]})})]})},F=e=>{let{isFavorited:t,onFavorite:n,onUnfavorite:i,disableInteractions:r=!1,...l}=e,[s,o]=(0,x.useState)(!1),c=(0,x.useCallback)(()=>{if(!n||!i)return void console.error("[FavoriteButton] onFavorite or onUnfavorite is not defined");t?(o(!1),i()):(o(!0),setTimeout(()=>{o(!1)},1e3),n())},[t,n,i]);return(0,a.jsx)(g.Tz,{label:t?(0,a.jsx)(P.x6,{id:"T/pF0Z"}):(0,a.jsx)(P.x6,{id:"pBsoKL"}),placement:"top",children:(0,a.jsx)(L.K,{...l,...r?{tabIndex:-1,pointerEvents:"none"}:{},zIndex:"1","data-favorite-button":!0,"aria-label":m.Ru._({id:"pBsoKL"}),className:"star-wrapper ".concat(s?"active":""),onClick:c,variant:"ghost",size:"xs",color:t?"yellow.400":"gray.400",_hover:{color:t?"yellow.500":"gray.400",bg:t?void 0:"blackAlpha.100"},bg:t?"yellow.50":"transparent",borderRadius:"full",icon:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.g,{icon:t?N.yy:z.yy}),(0,a.jsxs)(u.a,{fontSize:"2.5px",children:[(0,a.jsxs)("div",{className:"star",children:[(0,a.jsx)("div",{className:"tl"}),(0,a.jsx)("div",{className:"tr"}),(0,a.jsx)("div",{className:"bl"}),(0,a.jsx)("div",{className:"br"})]}),(0,a.jsx)("div",{className:"ring"}),(0,a.jsx)("div",{className:"circles"})]})]})})})},B=e=>{let{href:t,NextLink:n,target:i,children:l}=e;return n?(0,a.jsx)(r.r,{outline:"none",as:n,href:t,target:i,children:l}):(0,a.jsx)(r.r,{outline:"none",href:t,target:i,children:l})},O=x.forwardRef((e,t)=>{let{id:n,title:i,thumbnailImageUrl:x,NextLink:w,href:A,createdByYou:j=!1,createdByName:k,createdByEmail:S,createdTime:L,createdByProfileImageUrl:I,timestampDescription:E,editors:D,isDuplicateEnabled:M=!0,isRenameEnabled:R=!1,isShareEnabled:_=!1,isTrashAndRestoreEnabled:z=!0,isRemoveFromChannelEnabled:N=!1,isTrashed:T=!1,isFavorited:P=!1,onDuplicate:O,onFavorite:V,onUnfavorite:W,onTrash:U,onPermanentDelete:G,onRestore:Z,onShareClick:K,onRename:Q,onRemoveFromChannel:q,onRemixThis:J,isRemixLoading:$,onCopyAsTemplate:Y,context:X="grid",tags:ee=[],menuEnabled:et=!1,openInNewWindow:en=!1,activity:ei,isOffline:ea,...er}=e,el=(0,y.En)(),es=en?"_blank":void 0,eo=D&&D.length>0&&(0,a.jsx)(l.Z,{size:"xs",max:5,fontSize:"xs",children:D.map(e=>(0,a.jsx)(g.Vc,{shadow:"md",borderWidth:"1px",name:el&&e.user.displayName?m.Ru._({id:"bxVoEp",values:{0:e.user.displayName,1:(0,f.Gx)(e.lastEdited)}}):" ",src:e.user.profileImageUrl,tooltipProps:{placement:"top"}},"".concat(n,"-").concat(e.user.id)))});return(0,a.jsx)(r.Q,{overflow:"hidden",ref:t,"data-doc-grid-item-id":n,bg:"white",borderRadius:"5px",shadow:"md",as:s.E,_focusWithin:{shadow:"outline",_hover:{shadow:"outline"}},cursor:"pointer",_hover:{shadow:"lg",bgColor:"popover"===X?"white":"gray.50"},transition:"box-shadow .2s ease",role:"group",className:"highlight-mask",...er,children:(0,a.jsxs)(o.s,{direction:"column",wordBreak:"break-word",alignContent:"space-between",height:"100%",children:[x&&(0,a.jsx)(B,{NextLink:w,href:A,target:es,children:(0,a.jsx)(c.g,{ratio:40/21,bgColor:"gray.50",children:(0,a.jsxs)(o.s,{borderBottomWidth:"1px",borderBottomColor:"gray.50",children:[(0,a.jsx)(d._,{src:null==x?void 0:x.src,fallbackSrc:null==x?void 0:x.fallbackSrc,fit:"cover"}),!!eo&&(0,a.jsx)(u.a,{position:"absolute",insetEnd:0,bottom:0,borderRadius:"full",p:3,zIndex:1,children:eo})]})})}),(0,a.jsxs)(o.s,{p:3,position:"relative",direction:"column",justifyContent:"space-between",h:"100%",alignItems:"flex-start",children:[(0,a.jsx)(B,{NextLink:w,href:A,target:es,children:(0,a.jsx)(p.E,{noOfLines:2,h:12,mb:2,children:(0,v.B)(i)})}),(0,a.jsxs)(o.s,{direction:"column",w:"100%",children:[ee&&ee.length>0&&w&&(0,a.jsx)(g.Op,{tags:ee,NextLink:w,overflowButtonLabel:m.Ru._({id:"K0UBDD"}),isDisabled:ea}),(0,a.jsxs)(o.s,{mt:2,align:"flex-start",w:"100%",justify:"space-between",children:[ei&&ei,k&&(0,a.jsx)(C.S,{createdByYou:j,createdByName:k,createdByProfileImageUrl:I,timestampDescription:E}),(0,a.jsx)(h.h,{}),et&&(0,a.jsx)(H,{href:A,title:(0,v.B)(i),createdByName:k,createdByEmail:S,createdTime:L,isDuplicateEnabled:M,isRenameEnabled:R,isShareEnabled:_,isTrashAndRestoreEnabled:z,isRemoveFromChannelEnabled:N,isTrashed:T,isFavorited:P,onDuplicate:O,onFavorite:V,onUnfavorite:W,onTrash:U,onPermanentDelete:G,onRestore:Z,onShareClick:K,onRename:Q,onRemoveFromChannel:q,onRemixThis:J,isRemixLoading:$,onCopyAsTemplate:Y})]})]})]}),!!V&&!!W&&(0,a.jsx)(u.a,{position:"absolute",top:3,insetEnd:3,zIndex:3,children:(0,a.jsx)(F,{isFavorited:P,onFavorite:V,onUnfavorite:W,opacity:P?1:+!!(0,b.Xb)(),_groupHover:(0,b.Xb)()||ea&&!P?void 0:{opacity:1},_focus:ea?void 0:{opacity:1,shadow:"outline"},disableInteractions:ea})})]})},n)});O.displayName="DocumentGridItem"},20845:(e,t,n)=>{"use strict";n.d(t,{c:()=>p});var i=n(6029),a=n(24302),r=n(40452),l=n(26385),s=n(58959),o=n(48810),c=n(49611),d=n(19564),u=n(84287);let p=e=>{let{title:t=(0,i.jsx)(d.x6,{id:"0i4o6E"}),description:n,buttonLabel:p,onOpenCallback:h,onCloseCallback:g,segmentEvent:m,targetFeature:x,isNarrow:f,...b}=e,{openUpsellModal:y,product:v}=(0,u.I)(),C={light:{bg:"trueblue.50",bgGradient:"linear-gradient(0deg, var(--chakra-colors-gray-50) 0%, white  100%)",border:"trueblue.200",title:"gray.800",description:"gray.600",borderGradient:"var(--chakra-colors-gradient-brand-bg)"},dark:{bg:"gray.700",bgGradient:"linear-gradient(0deg, var(--chakra-colors-gray-800) 0%, var(--chakra-colors-gray-700) 100%)",border:"trueblue.400",title:"gray.50",description:"gray.50",borderGradient:"var(--chakra-colors-gradient-brand-bg)"}}["light"===(0,a.G6)().colorMode?"light":"dark"];return"pro"===v?null:(0,i.jsxs)(r.s,{flex:1,w:"100%",mb:4,p:4,bgGradient:C.bgGradient,position:"relative",flexDirection:f?"column":"row",align:"center",borderRadius:"lg",gap:4,zIndex:1,boxShadow:"md",_before:{content:'""',position:"absolute",inset:0,borderRadius:"lg",border:"".concat(2,"px solid transparent"),background:"".concat(C.borderGradient," border-box"),mask:"linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0)",maskComposite:"subtract",opacity:.7},...b,children:[(0,i.jsxs)(l.B,{flex:2,alignSelf:"stretch",children:[(0,i.jsx)(s.z,{spacing:3,children:(0,i.jsx)(o.E,{color:C.title,fontWeight:"bold",lineHeight:"1.3",children:t})}),(0,i.jsx)(o.E,{color:C.description,fontSize:"md",children:n||(0,i.jsx)(d.x6,{id:"Ah1+bS"})})]}),(0,i.jsx)(l.B,{spacing:1,flex:0,justifyContent:"flex-end",children:(0,i.jsx)(c.$,{variant:"solid",colorScheme:"trueblue",size:"md","data-test-id":"ai-credits-upsell",onClick:()=>{y({onOpenCallback:h,onCloseCallback:g,segmentEvent:m,targetFeature:x})},children:p||(0,i.jsx)(d.x6,{id:"kwkhPe"})})})]})}},21290:(e,t,n)=>{"use strict";n.d(t,{C9:()=>i,PX:()=>a,bc:()=>r});let i="10vh",a="20vh",r="80vh"},21465:(e,t,n)=>{"use strict";n.d(t,{CD:()=>l,ol:()=>s,tq:()=>o});var i=n(56603),a=n(8075),r=n(36271);let l=(e,t,n)=>({targetId:a.D.generate(),targetHtml:n,json:null,text:"",relativePos:(0,i.JO)(t.state,e())}),s=(e,t,n,a)=>({...e,targetHtml:n,relativePos:(0,i.JO)(a.state,t())}),o=(e,t)=>Object.values(r._.getState(e.state).draftComments).filter(n=>(0,i.d_)(e.state,n.relativePos)===t)},21699:(e,t,n)=>{"use strict";n.d(t,{Ms:()=>r,Qj:()=>a});var i=n(63867);let a=e=>{let t=e.state.selection;return t instanceof i.U3&&!t.empty},r=e=>e.some(e=>e.spec.isFocusedInside)},21982:(e,t,n)=>{"use strict";n.d(t,{Hy:()=>I,Pf:()=>E,Td:()=>L,v9:()=>D});var i=n(6029),a=n(4192),r=n(3276),l=n(48810),s=n(40452),o=n(57405),c=n(26420),d=n(58959),u=n(51684),p=n(99492),h=n(48621),g=n(19564),m=n(55729),x=n(15342),f=n(91792),b=n(9329),y=n(53996),v=n(83004);function C(){let e=(0,b._)(["\n      from {transform: rotate(-5deg) scale(1)}\n        to {transform: rotate(5deg) scale(1.2)}\n  "]);return C=function(){return e},e}let w=e=>{let{provider:t,color:n="gray"}=e,a=(0,v.i7)(C()),s="aiGenerated"===t?p._$C:p.$UM;return(0,i.jsxs)(y.o,{className:"image-loading-spinner",children:[(0,i.jsx)(r.y,{color:"".concat(n,".300"),thickness:"3px",size:"xl",position:"absolute",speed:"0.7s",emptyColor:"transparent"}),(0,i.jsx)(l.E,{color:"".concat(n,".400"),position:"absolute",lineHeight:"2",fontSize:"lg",animation:"".concat(a," infinite alternate 700ms ease-out"),children:(0,i.jsx)(h.g,{icon:s,fixedWidth:!0})})]})};var A=n(43634),j=n(61651),k=n(62917),S=n(84343);let L=e=>{let{removeBackground:t=!1,scootRight:n=!1}=e;return(0,i.jsxs)(a.vw,{size:"sm",variant:"subtle",colorScheme:"gray",pos:"absolute",top:4,left:4,p:1,ml:28*!!n,children:[(0,i.jsx)(r.y,{color:"gray.600",size:"xs"}),t&&(0,i.jsx)(l.E,{as:"span",ml:1,fontFamily:"body",children:(0,i.jsx)(g.x6,{id:"gVcJ1/"})})]})},I=()=>(0,i.jsx)(a.vw,{size:"sm",variant:"subtle",colorScheme:"red",pos:"absolute",top:4,left:4,children:(0,i.jsxs)(a.d1,{children:[(0,i.jsx)(h.g,{icon:p.tUE})," ",(0,i.jsx)(g.x6,{id:"rmh/nq"})]})}),E=(0,m.memo)(e=>{let{children:t,icon:n=u.Cyq,isLoading:a=!1,isUploading:r=!1,hasUploadError:p=!1,isAccentImageDrawer:g=!1,loadingProvider:b,openEditBackgroundDrawer:y,onSelectAndFocus:v,defaultSource:C,hasQuickActions:E=!1,handleDoubleClick:D,promptPreview:M,...R}=e,[_,z]=(0,m.useState)(!1),N=(0,x.GV)(A.nD),T=(0,f.rd)();return(0,m.useEffect)(()=>{C&&!1===(0,k.Ub)(C)?z(!1):E&&N?z(!0):z(!1)},[C,E,N]),(0,i.jsxs)(s.s,{"data-testid":"media-placeholder","data-test-media-source":C,color:T?j.N.DARK_COLOR:j.N.LIGHT_COLOR,align:"center",justify:"center",p:3,bg:T?j.N.DARK_BG:j.N.LIGHT_BG,className:"placeholder","data-drag-handle":!0,"data-export-as-image":!0,position:"relative",cursor:"default",sx:{containerType:"size","@container (width < 150px) or (height < 140px)":{".quick-actions":{display:"none"},".ai-image-loading-spinner":{transform:"scale(0.5)"}}},onDoubleClick:D,transition:"background-color 0.2s",...R,children:[!a&&(0,i.jsxs)(o.T,{pointerEvents:"none",children:[(0,i.jsx)(c.a,{color:T?j.N.DARK_ICON_COLOR:j.N.LIGHT_ICON_COLOR,sx:{"@container (0px <= width <= 32px) or (height < 100px)":{fontSize:"sm"},"@container (32px < width <= 80px)":{fontSize:"2xl"},fontSize:"4xl"},children:(0,i.jsx)(h.g,{icon:n,fixedWidth:!0})}),_&&(0,i.jsx)(d.z,{pointerEvents:"auto",className:"quick-actions",children:(0,i.jsx)(S.Z,{onSelectImage:v,isAccentImageDrawer:g,openEditBackgroundDrawer:y})})]}),a&&(0,i.jsxs)(o.T,{children:[(0,i.jsx)(w,{provider:b}),M&&(0,i.jsx)(l.E,{fontSize:"1em",mt:"1em",children:M})]}),r&&(0,i.jsx)(L,{}),p&&(0,i.jsx)(I,{}),t]})});E.displayName="MediaPlaceholderImage";let D={minW:16,minH:16,bg:"gray.200"}},22004:(e,t,n)=>{"use strict";n.d(t,{f:()=>f});var i=n(37243),a=n(83902),r=n(41896),l=n(12117),s=n(46957),o=n(6029),c=n(55729),d=n(19310),u=n(84886),p=n(71737),h=n(15587),g=n(66082),m=n(21699);let x=e=>{let{node:t,decorations:n,editor:i}=e,a=(0,h.v)(n),l=(0,m.Ms)(n),s=(0,g.fZ)(n),{horizontalAlign:x,fontSize:f,placeholder:b}=t.attrs,y=(0,g.yp)(x),v="left"===x&&"ltr"===s||"right"===x&&"rtl"===s,[C,w]=(0,c.useState)(!1),A=l&&a&&(!x||v)&&!(0,p.NO)(i)&&!b||C;return(0,o.jsxs)(u.u,{...e,style:{position:"relative"},children:[(0,o.jsx)(r.$p,{dir:s,"data-font-size":f,"data-multiline-placeholder":b,style:{textAlign:y.textAlign}}),A&&(0,o.jsx)(d.B,{...e,dir:s,slashMenuOpen:C,setSlashMenuOpen:w})]})},f=a.A.extend({name:"paragraph",group:"block cardNotesBlock",selectable:!1,addNodeView:()=>(0,r.gu)(x,{update:s.z0}),allowFontSizes:"body",addAttributes:()=>({fontSize:l.mD}),parseHTML:()=>[{tag:"p"}],renderHTML(e){let{HTMLAttributes:t}=e;return["p",(0,i.KV)(t,{class:"paragraph"}),0]},renderHTMLforAI(e){let{HTMLAttributes:t}=e;return["p",t,0]}})},22115:(e,t,n)=>{"use strict";n.d(t,{tz:()=>M,EF:()=>R,pO:()=>_});var i=n(6029),a=n(78140),r=n(41283),l=n(96500),s=n(48810),o=n(26420),c=n(85595),d=n(58959),u=n(12514),p=n(99492),h=n(55597),g=n(48621),m=n(55729),x=n(5061);let f={x:-1e3,y:-1e3};function b(e){return"items"in e}function y(e){return"check"in e}function v(e){return"label"in e}function C(e){return"divider"in e}let w=e=>{let{initial:t,top:n,bottom:i}=e,a=Math.abs(n.x-t.x),r=Math.abs(n.y-t.y),l=Math.abs(i.y-t.y);return 0===a?{alpha:0,beta:0}:{alpha:Math.atan(r/a),beta:Math.atan(l/a)}},A=e=>{let{menuItems:t,position:n,isOpen:i,onClose:a}=e,r=(0,m.useRef)(null),l=(0,m.useRef)(new Map),[s,o]=(0,m.useState)([]),{itemsIndex:c,itemsHash:d,getItemFromKey:u}=function(e){let t=new Map,n=(e,t)=>{let n=null;for(let i of e){if(!(n=t[i]))throw console.log(e,i),Error("item not found");t=b(n)?n.items:[]}if(!n)throw console.log(e),Error("item not found");return n},i=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.forEach((e,a)=>{if(!v(e))return;let r=e.key;if(t.has(r))throw console.log(t.get(r)),Error("duplicated key=".concat(r));let l=[...n,a];t.set(r,l),b(e)&&i(e.items,l)})};i(e);let a=[...t.entries()].map(e=>{let[t,n]=e;return"".concat(t,":").concat(n.join("|"))}).join(",");return{itemsIndex:t,itemsHash:a,getItemFromKey:(e,i)=>n(t.get(e)||[],i)}}(t),p=(0,m.useCallback)(e=>{var n,i,a,d,p,h,g,m;let x=e.target;if(!(x instanceof HTMLElement))return;let f=null==x?void 0:x.closest("[data-menu-item-key]"),y=null==x?void 0:x.closest("[data-menu-id]");if(!(y instanceof HTMLElement)||!(f instanceof HTMLElement))return;let v=(null==y?void 0:y.getAttribute("data-menu-id"))||"",C=(null==f?void 0:f.getAttribute("data-menu-item-key"))||"";if(!v||!C)return;let A=l.current.get(v);if(!A)return;let{trigger:j,hideTimer:k}=A,S="".concat(v,":").concat(C),L=null==(n=c.get(C))?void 0:n.length,I=null!=(h=l.current.get(L&&(null==(i=s[L])?void 0:i.key)||""))?h:{},{element:E,key:D,hideTimer:M}=null!=I?I:{},R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;I.hideTimer=setTimeout(()=>{o(e=>{let t=e.splice(0,L);return e.forEach(e=>{let{key:t}=e,n=l.current.get(t);n&&(n.hideTimer&&clearTimeout(n.hideTimer),l.current.delete(t))}),t})},e)};if(k&&(clearTimeout(k),A.hideTimer=void 0),C===D){A.trigger={x:e.clientX,y:e.clientY},M&&(clearTimeout(M),I.hideTimer=void 0);return}if(E&&j&&function(e){let{el:t,initial:n,currentCoords:i}=e;if(!t||t.offsetTop<0||t.offsetLeft<0||t.offsetLeft<n.x&&i.x>n.x||t.offsetLeft>n.x&&i.x<n.x)return!1;let a={x:0};t.offsetLeft<n.x&&(a.x+=t.offsetWidth);let r=w({initial:n,top:{y:t.offsetTop,x:t.offsetLeft+a.x},bottom:{y:t.offsetTop+t.offsetHeight,x:t.offsetLeft+a.x}}),l=Math.atan(Math.abs(n.y-i.y)/Math.abs(i.x-n.x));return i.y<n.y?l<r.alpha:l<r.beta}({el:E,initial:j,currentCoords:{x:e.clientX,y:e.clientY}})){M||R();return}if(r.current===S)return;if(r.current=S,!b(u(C,t))){L&&s[L]&&R(0);return}k&&(clearTimeout(k),A.hideTimer=void 0);let _=s.find(e=>{let{key:t}=e;return t===v});if(!_)return void console.error("menu not found",{openMenus:{...s},menuKey:v});let z=_.position,N={x:(null!=(g=null==(a=A.element)?void 0:a.offsetLeft)?g:z.x)+((null==(d=A.element)?void 0:d.offsetWidth)||0),y:f.offsetTop+(null!=(m=null==(p=A.element)?void 0:p.offsetTop)?m:z.y)};A.trigger={x:e.clientX,y:e.clientY},o(e=>{var t;let n=e.slice(0,L);return n.push({key:C,position:N,offset:{x:(null==(t=A.element)?void 0:t.offsetWidth)||f.offsetWidth,y:-1*f.offsetHeight}}),l.current.has(C)||l.current.set(C,{}),l.current.get(C).key=C,n})},[s,d]);return(0,m.useEffect)(()=>(window.addEventListener("mousemove",p),()=>{window.removeEventListener("mousemove",p)}),[p]),(0,m.useEffect)(()=>{!1===i?(o([]),l.current=new Map):o([{key:"_root",position:n,offset:{x:0,y:0}}]);let e=e=>{var t;i&&((null==(t=e.target)?void 0:t.closest("[data-menu-id]"))||a())};return window.addEventListener("mousedown",e),()=>{window.removeEventListener("mousedown",e)}},[i,a]),(0,m.useEffect)(()=>{o(e=>(e.length&&(e[0].position={x:n.x,y:n.y}),e))},[n.x,n.y]),{setMenuRef:e=>t=>{l.current.has(e)||l.current.set(e,{}),l.current.get(e).element=t},openMenus:s,getMenuItems:function(e){if("_root"===e)return t;let n=u(e,t);return b(n)?n.items:[]}}};var j=n(12364),k=n.n(j);let S=e=>{let{element:t,position:n,offset:i={x:0,y:0},isRtl:a=!1}=e,[r,l]=(0,m.useState)({width:window.innerWidth,height:window.innerHeight}),[s,o]=(0,m.useState)({x:n.x,y:n.y}),c=(0,m.useCallback)(e=>{let{width:t,height:l}=r;if(n.x<0||n.y<0)return;let c={x:0,y:0};a?(c.x=-((e.offsetWidth+i.x)*1),n.x+c.x<=0&&(c.x=0)):e.offsetWidth+n.x>t&&(c.x=-((e.offsetWidth+i.x)*1)),e.offsetHeight+n.y>l&&(c.y=-((e.offsetHeight+i.y)*1));let d={x:n.x+c.x,y:n.y+c.y};(d.x!==s.x||d.y!==s.y)&&o(d)},[r,n.x,n.y,a,s.x,s.y,i.x,i.y]);return(0,m.useEffect)(()=>{let e=k()(()=>{l({width:window.innerWidth,height:window.innerHeight})},150);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,m.useEffect)(()=>{t&&c(t)},[c,t]),{calculatePosition:c,position:s}},L=(0,m.forwardRef)((e,t)=>{let{isOpen:n,onClose:u,menuItems:h,position:f,parentOffset:w={x:0,y:0},id:A,activeElement:j,size:k="medium"}=e,L=(0,x.fW)(),E=(0,m.useRef)(null),{position:M,calculatePosition:R}=S({element:E.current,position:f,offset:w,isRtl:L}),_=()=>{var e;let n=(null==(e=E.current)?void 0:e.parentNode)||null;"function"==typeof t?t(n):t&&(t.current=n)};(0,m.useEffect)(()=>{t&&_()},[t]);let z=h.map(e=>C(e)?"divider":e.key).join(",");(0,m.useEffect)(()=>{E.current&&R(E.current)},[z,f]);let N=(0,m.useMemo)(()=>h.filter(e=>v(e)),[h]),T=!!N.find(e=>y(e)),P=!!N.find(e=>e.icon);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.W,{isOpen:n,onClose:u,closeOnBlur:!1,closeOnSelect:!0,children:(0,i.jsx)(r.c,{"data-menu-id":A,zIndex:"tooltip",rootProps:{style:{top:M.y,left:M.x}},ref:e=>{E.current=e,_(),e&&R(e)},fontSize:"small"===k?"sm":"large"===k?"lg":"md",children:h.map((e,t)=>C(e)?(0,i.jsx)(l.c,{color:"gray.300",my:"small"===k?1:"large"===k?3:2},"divider-".concat(t)):"title"in e?(0,i.jsx)(s.E,{color:"gray.500",ps:3,children:e.title},e.key):"element"in e?(0,i.jsx)(o.a,{children:e.element(u)},e.key):(0,i.jsx)(c.D,{py:"small"===k?1:"large"===k?3:2,cursor:"pointer",icon:(0,i.jsx)(I,{item:e,menuHasIcons:P,menuHasChecked:T}),background:(v(e)?e.background:void 0)||(j===e.key?"gray.50":void 0),closeOnSelect:!b(e),onClick:b(e)?void 0:e.onClick,isDisabled:e.disabled,color:e.color,"data-menu-item-key":e.key,children:(0,i.jsxs)(d.z,{width:"100%",pointerEvents:"none",children:[(0,i.jsx)(o.a,{flexGrow:2,children:e.label}),e.rightIcon&&(0,i.jsx)(o.a,{flexGrow:0,ps:2,children:(0,i.jsx)(D,{icon:e.rightIcon})}),b(e)&&(0,i.jsx)(o.a,{flexGrow:0,ps:2,children:(0,i.jsx)(g.g,{icon:L?p.Uec:p.vmR})})]})},e.key))})})})});L.displayName="ContextMenuInner";let I=e=>{let{item:t,menuHasIcons:n,menuHasChecked:a}=e;return(0,i.jsx)(d.z,{justifyContent:"center",children:(0,i.jsxs)(i.Fragment,{children:[a&&(0,i.jsx)(E,{item:t}),n&&(0,i.jsx)(D,{icon:t.icon})]})})},E=e=>{let{item:t}=e;return y(t)&&t.check?"multiple"===t.check?(0,i.jsx)(g.g,{icon:h.EZy,width:"1em"}):(0,i.jsx)(g.g,{icon:h.e68,width:"1em"}):(0,i.jsx)(o.a,{width:"1em"})},D=e=>{let{icon:t}=e;return t?"icon"in t?(0,i.jsx)(g.g,{icon:t,width:"1em"}):t:(0,i.jsx)(o.a,{width:"1em"})},M=e=>{let{onClose:t,isOpen:n,menuItems:a,position:r,size:l="medium"}=e,{setMenuRef:s,openMenus:o,getMenuItems:c}=A({isOpen:n,onClose:t,menuItems:a,position:r});return(0,i.jsx)(u.Z,{appendToParentPortal:!1,children:[...o,null].map((e,n)=>{var a,r;return null===e?(0,i.jsx)(L,{id:"placeholder",menuItems:[],position:f,isOpen:!1,onClose:t,size:l},"menu-".concat(n)):(0,i.jsx)(L,{id:e.key,activeElement:null!=(r=null==(a=o[n+1])?void 0:a.key)?r:void 0,menuItems:c(e.key),position:e.position,parentOffset:e.offset,isOpen:!0,onClose:t,ref:s(e.key),size:l},"menu-".concat(n))})})},R=()=>{let[e,t]=(0,m.useState)(f),[n,i]=(0,m.useState)(!1);return{onContextMenu:e=>{e.stopPropagation(),e.preventDefault(),t({x:e.clientX,y:e.clientY}),i(!0)},menuProps:{isOpen:n,position:e,onClose:()=>{i(!1),t(f)}}}},_=e=>{let[t,n]=(0,m.useState)(!1),[i,a]=(0,m.useState)(f);return{onContextMenu:i=>{if(i.stopPropagation(),i.preventDefault(),e.current){let t=e.current.getBoundingClientRect();a({x:t.left,y:t.bottom})}n(!t)},menuProps:{isOpen:t,position:i,onClose:()=>{n(!1),a(f)}}}}},22445:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var i=n(27229),a=n(55729),r=n(74158),l=n(4007);let s=e=>{let{id:t,...n}=e,{isOpen:s,onOpen:o,onClose:c}=(0,i.j)(n),d=(0,r.wA)();return(0,a.useEffect)(()=>{t&&d((0,l.WI)({id:t,isOpen:s}))},[s,d,t]),(0,a.useEffect)(()=>()=>{t&&d((0,l.WI)({id:t,isOpen:!1}))},[d,t]),{isOpen:s,onOpen:o,onClose:c}}},22539:(e,t,n)=>{"use strict";n.d(t,{W:()=>d});var i=n(77650);let a={src:"/_next/static/media/Title-with-2-Column-Image-Left.a898abf9.svg",height:47,width:92,blurWidth:0,blurHeight:0},r={src:"/_next/static/media/Title-with-3-boxes.8a28c3c6.svg",height:49,width:91,blurWidth:0,blurHeight:0},l={src:"/_next/static/media/Title-with-3-images.172b44a3.svg",height:69,width:92,blurWidth:0,blurHeight:0},s={src:"/_next/static/media/Title-with-Bullets.066ad97e.svg",height:55,width:92,blurWidth:0,blurHeight:0},o={src:"/_next/static/media/Title-with-text.2a88d207.svg",height:45,width:92,blurWidth:0,blurHeight:0},c={src:"/_next/static/media/Title-with-timeline.5a8d1065.svg",height:63,width:91,blurWidth:0,blurHeight:0},d=()=>[{name:i.Ru._({id:"RYtHky"}),key:"bullets",image:s,aiDescription:"Use the bullets smart layout for small amounts of text or a list of UL/OL/LI tags for large amounts."},{name:i.Ru._({id:"m2tQ9E"}),key:"paragraphs",image:o,aiDescription:"Write in paragraphs with no additional layout blocks."},{name:i.Ru._({id:"2abZdy"}),key:"twoColImage",image:a,aiDescription:"Use a columns layout with text in one column and an image in the other."},{name:i.Ru._({id:"cklVjM"}),key:"timeline",image:c,aiDescription:"Use the timeline smart layout."},{name:i.Ru._({id:"cDxTeG"}),key:"imagesWithText",image:l,aiDescription:"Use the images with text smart layout."},{name:i.Ru._({id:"61H/21"}),key:"boxes",image:r,aiDescription:"Use the text boxes smart layout."}]},22911:(e,t,n)=>{"use strict";n.d(t,{F:()=>l,L:()=>r});var i=n(6700),a=n(91938);let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return"unknown";try{let a=new URL(e),r=(0,i.removeWWWPrefix)(a.hostname);if(n.includes(r))return"trusted";let l=t.find(t=>t.url===e);if(!l)return"unknown";if(3===l.status)return"untrusted";if(2===l.status)return"unknown";if(1===l.status)return"trusted";l.status}catch(t){console.error("[getLinkTrustLevel] Error checking link",e,t)}return"unknown"},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return"";let i=r(e,t,n);return"trusted"===i?e:"untrusted"===i?"".concat(a.$.FRONTEND_URL,"/[untrusted-url]"):"".concat(a.$.FRONTEND_URL,"/external-link?url=[").concat(encodeURIComponent(e),"]")}},23050:(e,t,n)=>{"use strict";n.d(t,{B2:()=>l,Hb:()=>a,g_:()=>r,nD:()=>s});var i=n(63867);let a="+++",r="/continue",l=1500,s=new i.hs("autocomplete")},23103:(e,t,n)=>{"use strict";n.d(t,{B:()=>r,l:()=>l});var i=n(91938),a=n(87996);let r=e=>e&&a.Dc[e]?a.Dc[e]:a.Jp,l=e=>"".concat(i.$.EMBED_PROXY_URL,"?alt_url=").concat(e)},23513:(e,t,n)=>{"use strict";n.d(t,{i:()=>u,n:()=>d});var i=n(15902),a=n(63867),r=n(62040);let l=(e,t,n)=>t&&a.nh.isSelectable(t)?a.nh.create(e,n):null,s=(e,t,n)=>t&&t.inlineContent?a.U3.create(e,n):null;function o(e,t,n){return e&&n?n:e&&t?t:!e&&t?t:!e&&n?n:null}function c(e,t){let{doc:n,pos:r,parent:c,nodeAfter:d,nodeBefore:u}=e;if(c.inlineContent)return a.U3.create(n,r);let p=t>0,h=o(p,s(n,u,r-1),s(n,d,r+1));if(h)return h;if(i.n.valid(e))return new i.n(e);if(c.type.spec.isolating){let t=o(p,l(n,u,r-((null==u?void 0:u.nodeSize)||0)),l(n,d,r));if(t)return t;if(0===c.childCount&&a.nh.isSelectable(c))return a.nh.create(n,e.before())}return null}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=c(e,t);if(n)return n;for(let n=e.depth-1;n>=0&&!e.node(n+1).type.spec.isolating;n--){let i=t<0?e.before(n+1):e.after(n+1),a=c(e.doc.resolve(i),t);if(a)return a}return null}let u=(e,t)=>{let n,i=e.steps.length-1,a=e.steps[i];return a instanceof r.Ln||a instanceof r.Wg?(e.mapping.maps[i].forEach((e,t,i,a)=>{null==n&&(n=a)}),null==n)?null:d(e.doc.resolve(n),t):null}},23624:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var i=n(6029);n(55729);class a{render(){var e,t,n;let a=this.component,r=this.props;("function"==typeof a&&a.prototype&&a.prototype.isReactComponent||"object"==typeof a&&(null==(n=a.$$typeof)?void 0:n.toString())==="Symbol(react.forward_ref)")&&(r.ref=e=>{this.ref=e}),this.reactElement=(0,i.jsx)(a,{...r}),this.updateWrapperEl&&this.updateWrapperEl(this.element,r),null==(t=this.editor)||null==(e=t.contentComponent)||e.setRenderer(this.id,this)}updateProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props={...this.props,...e},this.render()}destroy(){var e,t;null==(t=this.editor)||null==(e=t.contentComponent)||e.removeRenderer(this.id)}constructor(e,{editor:t,props:n={},as:i="div",className:a="",updateWrapperEl:r}){this.ref=null,this.id=Math.floor(0xffffffff*Math.random()).toString(),this.component=e,this.editor=t,this.props=n,this.updateWrapperEl=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),a&&this.element.classList.add(...a.split(" ")),this.render()}}},23746:(e,t,n)=>{"use strict";n.d(t,{EB:()=>c,Gx:()=>i,Up:()=>s,uQ:()=>r,zQ:()=>a});let i="themed-clickable-box",a={transitionProperty:"transform",transitionDuration:"normal"},r={transform:"scale(1.03)",_before:{content:'""',position:"absolute",inset:0,borderRadius:"inherit",boxShadow:"inset 0 0 0 500px var(--expandable-hover-background)",pointerEvents:"none"}},l={border:"var(--shape-border-width) solid var(--neutral-border-color)",borderRadius:"var(--box-border-radius)",backgroundColor:"var(--clickable-background-color)",boxShadow:"var(--clickable-shadow)",backdropFilter:"var(--card-backdrop-filter)","@media print":{boxShadow:"none"}},s={_hover:{transform:"scale(1.1)"},color:"var(--link-color)",height:"auto",padding:"0.7em",paddingY:"0.2em",minW:"2.5em",position:"relative"},o=(e,t)=>({...a,...l,_hover:t?void 0:r,"@media print":{boxShadow:"none"}}),c=(e,t)=>({[".".concat(i)]:o(e,t)})},23907:(e,t,n)=>{"use strict";n.d(t,{z:()=>W});var i=n(6029),a=n(26385),r=n(61204),l=n(16936),s=n(99430),o=n(96500),c=n(40452),d=n(49611),u=n(99492),p=n(48621),h=n(47412),g=n(19564),m=n(77650),x=n(12180),f=n(68301),b=n(74471),y=n(66082),v=n(58959),C=n(48810),w=n(29810),A=n(26420);let j=e=>{let{label:t,control:n,icon:a}=e;return(0,i.jsxs)(v.z,{spacing:4,children:[a,(0,i.jsx)(C.E,{children:t}),(0,i.jsx)(w.h,{}),(0,i.jsx)(A.a,{children:n})]})};function k(e,t){return function(n,i,a){var r;return t({chartAttributes:{...a,[e]:{...null!=(r=a[e])?r:{},[n]:i}}})}}let S=e=>{var t;let{chartType:n,attributes:a,updateAttributes:r}=e,l=a.chartAttributes||{},o=l[n],c=k(n,r);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(j,{label:m.Ru._({id:"Y7a6MU"}),control:(0,i.jsx)(s.d,{isChecked:null==(t=null==o?void 0:o.axisPullToZero)||t,onChange:e=>c("axisPullToZero",e.target.checked,l)})})})},L=e=>{let{chartType:t="bar",...n}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(S,{chartType:t,...n})})};var I=n(68917),E=n(78140),D=n(36999),M=n(41283),R=n(37930),_=n(48478);let z=e=>{var t;let{attributes:n,updateAttributes:a}=e,r=n.chartAttributes||{},l=r.pie||{},s=k("pie",a),o=null!=(t=l.legendPosition)?t:"bottom",c={top:m.Ru._({id:"WWy8TN"}),right:m.Ru._({id:"nOPbWJ"}),bottom:m.Ru._({id:"zsiX7I"}),left:m.Ru._({id:"UlKSMd"})},u=e=>void 0===c[e]?"bottom":e;return(0,i.jsx)(j,{label:m.Ru._({id:"G4H8LE"}),control:(0,i.jsxs)(E.W,{isLazy:!0,children:[(0,i.jsx)(D.I,{as:d.$,variant:"plain",size:"sm",w:40,boxShadow:"none",textAlign:"left",rightIcon:(0,i.jsx)(I.D,{}),sx:{"span:first-of-type":{overflow:"clip",textOverflow:"ellipsis"}},children:c[o]}),(0,i.jsx)(M.c,{zIndex:"modalPopover",children:(0,i.jsx)(R.i,{value:o,type:"radio",onChange:e=>{s("legendPosition",u(Array.isArray(e)?e[0]:e),r)},children:Object.entries(c).map(e=>{let[t,n]=e;return(0,i.jsx)(_.k,{value:t,children:(0,i.jsx)(v.z,{children:(0,i.jsx)(C.E,{children:n})})},t)})})})]})})},N={pie:z,donut:z,line:e=>{let{...t}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(S,{chartType:"line",...t})})},bar:L,"horizontal-bar":e=>(0,i.jsx)(L,{...e,chartType:"horizontal-bar"})};var T=n(55729),P=n(33612),H=n.n(P),F=n(94297),B=n(14300);let O=e=>{let{accentColor:t,selected:n,onChange:a,steps:r=5}=e,l=Array(r).fill(0).map((e,t)=>t),s=(0,T.useMemo)(()=>Object.fromEntries(Object.entries(x.fA).map(e=>{let[n,{label:i}]=e;return[n,{label:i,scale:(0,F.M)(t,l,n)}]})),[t,r]);n&&!s[n]&&(n=void 0);let o=m.Ru._({id:"ovBPCi"});return(0,i.jsx)(j,{icon:(0,i.jsx)(p.g,{icon:u.wIs}),label:m.Ru._({id:"tvmuQ0"}),control:(0,i.jsxs)(E.W,{isLazy:!0,children:[(0,i.jsx)(D.I,{as:d.$,variant:"plain",size:"sm",w:40,boxShadow:"none",textAlign:"left",rightIcon:(0,i.jsx)(I.D,{}),sx:{"span:first-of-type":{overflow:"clip",textOverflow:"ellipsis"}},children:n?s[n].label():o}),(0,i.jsx)(M.c,{zIndex:"modalPopover",children:(0,i.jsx)(R.i,{value:n||"default",type:"radio",onChange:e=>{a("default"===e?void 0:e)},children:Object.entries({default:{...s[x.gb],label:()=>o},...s}).map(e=>{let[a,{label:r,scale:s}]=e;return 1.5>[...s.values()].map(e=>H().readability(e,t)).reduce((e,t)=>Math.max(e,t),0)&&a!==n?null:(0,i.jsx)(_.k,{value:a,children:(0,i.jsxs)(v.z,{children:[(0,i.jsx)(C.E,{children:r()}),(0,i.jsx)(w.h,{}),(0,i.jsx)(V,{scale:s,data:l})]})},a)})})})]})})},V=e=>{let{scale:t,data:n}=e;return(0,i.jsx)(v.z,{spacing:1,children:n.map(e=>(0,i.jsx)(B.V,{color:t.get(e),size:B.E.small,tooltipIsDisabled:!0},e))})},W=e=>{let{attributes:t,updateAttributes:n,accentColor:v,setEditing:C,editor:w}=e,A=N[t.chartType],{data:k}=t,S=(0,f.u)("chartInlineLabels");return(0,i.jsxs)(a.B,{spacing:0,children:[(0,i.jsxs)(a.B,{spacing:4,p:4,children:[(0,i.jsx)(r.e,{mb:2,children:Object.entries(x.XD).map(e=>{let[a,{icon:r,selectedIcon:s,label:o}]=e,c=t.chartType===a;return(0,i.jsx)(h.Tz,{placement:"top",label:o(),children:(0,i.jsx)(l.K,{"aria-label":o(),flex:1,variant:"plain",size:"md",icon:c?s:r,boxShadow:"none",background:c?"trueblue.50":"white",color:c?"trueblue.400":"gray.600",onClick:()=>n({chartType:a})})},"".concat(o()))})}),(0,i.jsx)(O,{accentColor:v,selected:t.colorScheme,steps:5,onChange:e=>{n({colorScheme:e})}}),(0,i.jsx)(j,{icon:(0,i.jsx)(p.g,{icon:u.n2$}),label:m.Ru._({id:"sgzcYD"}),control:(0,i.jsx)(s.d,{isChecked:!t.hideLabels,onChange:e=>n({hideLabels:!e.target.checked})})}),S&&(0,i.jsx)(j,{icon:(0,i.jsx)(p.g,{icon:u.jon}),label:m.Ru._({id:"hw0byi"}),control:(0,i.jsx)(s.d,{isChecked:t.showInlineLabels,onChange:e=>n({showInlineLabels:e.target.checked})})}),w&&(0,i.jsx)(j,{icon:(0,i.jsx)(p.g,{icon:u.ecg}),label:m.Ru._({id:"0j+RGO"}),control:(0,i.jsx)(r.e,{dir:"ltr",spacing:1,size:"sm",children:y.gj.map(e=>{let{name:t,icon:n,checkActive:a,apply:r}=e;if(a&&r)return(0,i.jsx)(b.I,{label:t(),icon:n,onClick:()=>{r(w)},isActive:a(w),my:0},t())})})}),A&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.c,{my:3}),(0,i.jsx)(A,{...e})]})]}),C&&(0,i.jsx)(c.s,{px:5,py:3,bg:"gray.50",alignItems:"center",justify:"center",children:(0,i.jsx)(d.$,{variant:"link",size:"sm",colorScheme:"gray",my:0,leftIcon:(0,i.jsx)(p.g,{icon:u.MT7}),onClick:()=>C(!0),children:k?(0,i.jsx)(g.x6,{id:"BhcOHV"}):(0,i.jsx)(g.x6,{id:"UHoZ5e"})})})]})}},24142:(e,t,n)=>{"use strict";n.d(t,{y:()=>L});var i=n(6029),a=n(27229),r=n(83638),l=n(40452),s=n(94740),o=n(66199),c=n(49611),d=n(58959),u=n(33787),p=n(26420),h=n(18078),g=n(25311),m=n(57405),x=n(23293),f=n(83743),b=n(36218),y=n(48810),v=n(99492),C=n(48621),w=n(55729),A=n(15342),j=n(43634),k=n(13080),S=n(44798);let L=(0,w.memo)(e=>{var t;let{stylePreset:n,setStylePreset:y,stylePrompt:L,setStylePrompt:E,presetOptions:D,isDisabled:M,contextualTheme:R,getStylePromptFromPreset:_,getThemeNameFromStylePrompt:z,getPresetDisplayMetadata:N,onKeyDown:T}=e,{isOpen:P,onToggle:H,onClose:F}=(0,a.j)(),B=(0,w.useMemo)(()=>k.xi.find(e=>e.stylePreset===n),[n]),[O,V]=(0,w.useState)(B);(0,w.useEffect)(()=>{V(B)},[B]);let W=(0,A.GV)(j.SJ),U=R||W,G=null==U||null==(t=U.config)?void 0:t.stylePrompt,Z=(0,w.useCallback)(e=>{E(e.target.value),n!==k.nv.Custom&&(y(k.nv.Custom),V(k.xi.find(e=>e.stylePreset===k.nv.Custom)))},[E,y,n]),K=(0,w.useCallback)(e=>{let t=N(e);t&&(E(_(e)),y(e),V(t),F())},[N,_,F,y,E]),Q=(0,w.useMemo)(()=>{if(n===k.nv.Theme)return z(L)},[z,n,L]),{scrollContainerRef:q}=(0,S.ms)(n||"",P);return(0,i.jsx)(r.MJ,{children:(0,i.jsxs)(l.s,{direction:"column",gap:2,children:[(0,i.jsxs)(s.A,{placement:"bottom-start",matchWidth:!0,isOpen:P,onClose:F,closeOnBlur:!0,isLazy:!0,children:[(0,i.jsx)(o.W,{children:(0,i.jsx)(c.$,{width:"100%",type:"button",boxShadow:"none",onClick:H,rightIcon:(0,i.jsx)(C.g,{icon:v.Jt$}),isDisabled:M,justifyContent:"space-between",size:"sm",children:(0,i.jsxs)(d.z,{spacing:2,children:[(null==O?void 0:O.icon)?(0,i.jsx)(C.g,{icon:O.icon}):(0,i.jsx)(u._,{width:"24px",height:"24px",src:null==O?void 0:O.imageUrl,borderRadius:"md"}),(0,i.jsx)(p.a,{flex:1,children:"".concat(null==O?void 0:O.name()).concat(Q?" (".concat(Q,")"):"")})]})})}),(0,i.jsx)(h.h,{width:"auto",maxHeight:"max(350px, 40vh)",overflowY:"auto",ref:q,children:(0,i.jsx)(g.e,{children:(0,i.jsx)(m.T,{spacing:4,children:D.map(e=>(0,i.jsxs)(m.T,{alignItems:"start",width:"100%",spacing:0,children:[(0,i.jsx)(x.D,{size:"sm",mb:2,children:e.title()}),(0,i.jsx)(f.r,{columns:{base:3,"2xl":4},spacing:2,children:e.presets.filter(e=>!("Theme"===e.stylePreset&&!G)).map(e=>(0,i.jsx)(p.a,{"data-popover-scroll-id":e.stylePreset,children:(0,i.jsx)(I,{preset:e,onClick:()=>K(e.stylePreset),isSelected:e.stylePreset===n},e.stylePreset)},e.stylePreset))})]},e.title()))})})})]}),n!==k.nv.None&&(0,i.jsx)(b.T,{onKeyDown:T,isDisabled:M,height:"80px",value:L,onChange:Z,resize:"none"})]})})});L.displayName="StylePresetMenu";let I=e=>{let{preset:t,onClick:n,isSelected:a}=e;return(0,i.jsxs)(m.T,{_hover:{cursor:a?"default":"pointer",borderColor:a?"trueblue.200":"gray.200",backgroundColor:a?"trueblue.50":"gray.50"},onClick:n,borderRadius:"md",spacing:1,p:2,border:"1px",width:"100%",color:a?"trueblue.500":"gray.800",bgColor:a?"trueblue.50":"transparent",borderColor:a?"trueblue.200":"transparent",children:[t.icon?(0,i.jsx)(p.a,{width:{base:"120px","2xl":"123.5px"},height:"35px",display:"flex",justifyContent:"center",alignItems:"center",children:(0,i.jsx)(p.a,{width:"100%",height:"100%",bgColor:"transparent",rounded:"md",display:"flex",alignItems:"center",justifyContent:"center",children:(0,i.jsx)(C.g,{icon:t.icon})})}):(0,i.jsx)(u._,{src:t.imageUrl,width:"100%",height:"auto",borderRadius:"md"}),(0,i.jsx)(y.E,{color:a?"trueblue.500":"gray.800",fontSize:"sm",children:t.name()})]})}},24351:(e,t,n)=>{"use strict";n.d(t,{p:()=>j});var i=n(9329),a=n(6029),r=n(26420),l=n(33787),s=n(34807),o=n(57405),c=n(23293),d=n(48810),u=n(58959),p=n(49611),h=n(83004),g=n(19564),m=n(55729);let x={src:"/_next/static/media/balloon.0f0058ec.png"},f={src:"/_next/static/media/cloud.bb46cfda.png"};function b(){let e=(0,i._)(["\n  0% { transform: translateY(0); }\n  50% { transform: translateY(-5%); }\n  100% { transform: translateY(0); }\n"]);return b=function(){return e},e}function y(){let e=(0,i._)(["\n  0% { transform: translateY(0%) translateX(0%); }\n  25% { transform: translateY(-7%) translateX(5%); }\n  50% { transform: translateY(-3%) translateX(-5%); }\n  75% { transform: translateY(5%) translateX(-3%); }\n  100% { transform: translateY(0%) translateX(0%); }\n"]);return y=function(){return e},e}let v=(0,h.i7)(b()),C=(0,h.i7)(y()),w=e=>{let{containerSize:t}=e;return(0,a.jsxs)(r.a,{position:"relative",overflow:"visible",w:t,h:t,isolation:"isolate",children:[(0,a.jsx)(l._,{position:"absolute",top:"22%",left:0,width:"50%",src:f.src,alt:"Upper cloud",animation:"".concat(C," 12s ease-in-out infinite"),pointerEvents:"none",zIndex:2}),(0,a.jsx)(l._,{position:"absolute",inset:0,margin:"auto",height:"80%",src:x.src,alt:"Balloon",animation:"".concat(v," 5s ease-in-out infinite"),pointerEvents:"none",zIndex:1}),(0,a.jsx)(l._,{position:"absolute",bottom:0,right:0,width:"80%",src:f.src,alt:"Lower cloud",animation:"".concat(C," 16s ease-in-out 1s infinite"),pointerEvents:"none",zIndex:0})]})},A={xs:{imageWidth:"100px",headingSize:"sm",textSize:"sm",buttonSize:"sm",spacing:2},sm:{imageWidth:"140px",headingSize:"md",textSize:"sm",buttonSize:"sm",spacing:2},md:{imageWidth:"180px",headingSize:"lg",textSize:"md",buttonSize:"md",spacing:4},lg:{imageWidth:"256px",headingSize:"xl",textSize:"md",buttonSize:"md",spacing:6}},j=(0,m.memo)(e=>{let{children:t,title:n=(0,a.jsx)(g.x6,{id:"WkU8TI"}),description:i,size:r,primaryActionLabel:l,onPrimaryAction:h,secondaryActionLabel:m,onSecondaryAction:x,primaryButtonProps:f,secondaryButtonProps:b}=e,y=(0,s.A)({base:"md",lg:"lg"})||"lg",v=A[r||y];return(0,a.jsxs)(o.T,{spacing:v.spacing,children:[(0,a.jsx)(w,{containerSize:v.imageWidth}),(0,a.jsxs)(o.T,{spacing:2,children:[(0,a.jsx)(c.D,{variant:"brand",textAlign:"center",size:v.headingSize,css:{textWrap:"balance"},children:n}),(0,a.jsx)(d.E,{fontSize:v.textSize,textAlign:"center",children:i})]}),t,(0,a.jsxs)(u.z,{wrap:"wrap",justifyContent:"center",children:[l&&(0,a.jsx)(p.$,{onClick:h,size:v.buttonSize,variant:m?"solid":"plain",...f,children:l}),m&&(0,a.jsx)(p.$,{onClick:x,size:v.buttonSize,...b,children:m})]})]})})},24392:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});let i=n(91929).B.extend({addKeyboardShortcuts(){return{"Shift-Enter":()=>this.editor.commands.setHardBreak()}}})},24496:(e,t,n)=>{"use strict";n.d(t,{EB:()=>u,Xh:()=>d,gG:()=>h,lV:()=>o});var i=n(91938),a=n(98449),r=n(8205);let l=null,s=null;var o=function(e){return e.LOGIN_COMPLETE="loginComplete",e.LOGIN_FAILURE="loginFailure",e.SIGNUP_COMPLETE="signupComplete",e}({});let c=e=>{var t,n,i,r;let{event:l,errorCallback:s,redirectTo:o,doneCallback:c}=e,{data:d}=l;if("loginComplete"===d.type&&(0,a.v)({data:null==d||null==(t=d.payload)?void 0:t.data,redirectTo:o,doneCallback:c,shouldClientSideRedirect:!0,googleMethod:"POPUP"}),"signupComplete"===d.type&&(0,a.W)({data:null==d||null==(n=d.payload)?void 0:n.data,redirectTo:o,doneCallback:c,shouldClientSideRedirect:!0,googleMethod:"POPUP"}),"loginFailure"===d.type){let e=null==l||null==(r=l.data)||null==(i=r.payload)?void 0:i.code;if(!s)return void console.error("No error callback defined");if(!e)return void console.error("No code defined");s(e)}};var d=function(e){return e.ACCEPT_DOC_INVITATION="accept-doc-invitation",e.ACCEPT_WORKSPACE_INVITATION="accept-workspace-invitation",e.DOC_ACCESS_LINK="doc-access-link",e.JOIN_WITH_CODE="join-with-code",e.DEFAULT_LOGIN="login",e.SIGNUP="signup",e}({});let u={"accept-doc-invitation":"docInvitation","accept-workspace-invitation":"workspaceInvitation","doc-access-link":"docAccessLink","join-with-code":"joinLink",login:"signup",signup:"signup"},p=(e,t)=>{switch(e){case"join-with-code":{let{workspaceId:e,inviteCode:n,referredByUserId:a}=t,r=new URL("".concat(i.$.API_HOST||"https://gamma.app","/organizations/").concat(e,"/join/").concat(n));return a&&r.searchParams.set("referredByUserId",a),r.toString()}case"accept-doc-invitation":{let{docId:e,email:n,inviteCode:a}=t;return"".concat(i.$.API_HOST,"/invitations/docs/").concat(e,"/?inviteCode=").concat(a,"&email=").concat(n)}case"accept-workspace-invitation":{let{workspaceId:e,email:n,inviteCode:a}=t;return"".concat(i.$.API_HOST,"/invitations/workspaces/").concat(e,"?inviteCode=").concat(a,"&email=").concat(n)}case"doc-access-link":{let{docId:e,shareToken:n}=t;return"".concat(i.$.API_HOST,"/access-links/docs/").concat(e,"/?token=").concat(n)}case"signup":{let{inviteCode:e,referredByUserId:n,partnerStackClickId:a,partnerStackPartnerId:r}=t,l=new URL("".concat(i.$.API_HOST||"https://gamma.app","/signup"));return e&&l.searchParams.set("inviteCode",e),n&&l.searchParams.set("referredByUserId",n),a&&l.searchParams.set("partnerStackClickId",a),r&&l.searchParams.set("partnerStackPartnerId",r),l.toString()}default:return"".concat(i.$.API_HOST,"/login")}},h=e=>{let{type:t,params:n,errorCallback:i,redirectTo:a,doneCallback:o}=e,d=p(t,n),u="toolbar=no, menubar=no, width=600, height=700, top=100, left=100";null===l||l.closed?l=window.open(d,t,u):s!==d?null!==(l=window.open(d,t,u))&&l.focus():l.focus(),(0,r.EM)().addEventListener("message",e=>{c({event:e,errorCallback:i,redirectTo:a,doneCallback:o})}),s=d}},24573:(e,t,n)=>{"use strict";n.d(t,{xT:()=>eu,Vb:()=>b,X2:()=>ex,q8:()=>x.q8});var i=n(6029),a=n(78686),r=n(72470),l=n(77979),s=n(38036),o=n(48810),c=n(47412),d=n(77650),u=n(55729),p=n(87827),h=n(15342),g=n(95889),m=n(29608),x=n(64310);let f=()=>d.Ru._({id:"NiZZRh"}),b=e=>{let{isDisabled:t}=e,n=(0,h.jL)(),d=(0,p.n)(f),b=(0,g.st)(),y=(0,u.useCallback)(()=>{b&&b.track(g.VV.SEARCH_OPENED,{source:"faux_search_input_click"}),n((0,x.q8)({isOpen:!0}))},[n,b]),v=(0,u.useCallback)(e=>{b&&b.track(g.VV.SEARCH_OPENED,{source:"faux_search_input_typing",initial_query:e.target.value}),n((0,x.q8)({isOpen:!0,initialQuery:e.target.value}))},[n,b]);return(0,i.jsxs)(r.M,{children:[(0,i.jsx)(l.W,{pointerEvents:"none",children:(0,i.jsx)(a.W,{color:"gray.300"})}),(0,i.jsx)(s.p,{placeholder:d,_placeholder:{opacity:1},onChange:v,onClick:y,value:"",isDisabled:t}),!(0,m.Xb)()&&(0,i.jsx)(l.t,{pointerEvents:"none",children:(0,i.jsx)(o.E,{marginInlineEnd:6,fontWeight:"600",color:"gray.400",fontSize:"sm",bg:"gray.50",px:1,borderRadius:"md",children:(0,c.lp)("Mod+K")})})]})};var y=n(67909),v=n(36071),C=n(54731),w=n(40691),A=n(74158),j=n(46091),k=n(45143),S=n(70315),L=n(3247),I=n(82927);let E=(0,S.Ay)("mod+K"),D=e=>{let{isEnabledFn:t=()=>!0,isOpen:n=!1}=e,{user:i}=(0,I.ur)(),a=(0,A.wA)(),r=(0,g.st)();(0,u.useEffect)(()=>{if(!(0,m.Xb)()&&i)return L.WC.on("keydown","GLOBAL_SEARCH",e=>!!E(e)&&!!t()&&(e.preventDefault(),r&&!n&&r.track(g.VV.SEARCH_OPENED,{source:"keyboard_shortcut"}),a((0,x.q8)({isOpen:!n})),!0))},[a,t,i,n,r])};var M=n(40452),R=n(3674),_=n(19564),z=n(33750),N=n.n(z),T=n(88586),P=n(75748),H=n(11403),F=n(6807),B=n(65148),O=n(3276);let V=e=>{let{onChange:t,query:n,isDisabled:o,isLoading:c,isFocused:p}=e,h=(0,u.useRef)(null);return(0,u.useEffect)(()=>{h.current&&p&&(h.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),h.current.focus())},[h,p]),(0,i.jsxs)(r.M,{size:"lg",variant:"unstyled",sx:{input:{paddingInlineStart:12}},children:[(0,i.jsx)(l.W,{p:4,pointerEvents:"none",color:"gray.300",children:(0,i.jsx)(a.W,{})}),(0,i.jsx)(s.p,{isDisabled:o,placeholder:d.Ru._({id:"NiZZRh"}),p:3,border:"none",outline:"none",shadow:"none",value:n,onChange:t,_placeholder:{opacity:1,color:"gray.300"},ref:h}),(0,i.jsx)(l.t,{p:4,pointerEvents:"none",color:"gray.500",opacity:+!!c,transitionProperty:"common",transitionDuration:"normal",marginInlineEnd:8*!!(0,m.Xb)(),children:(0,i.jsx)(O.y,{size:"sm"})})]})};var W=n(72104),U=n(17496),G=n(96500),Z=n(58959),K=n(26476),Q=n(29810),q=n(16936);let J=e=>{let{onClose:t,showTip:n}=e;return(0,i.jsxs)(U.S,{in:n,children:[(0,i.jsx)(G.c,{}),(0,i.jsxs)(Z.z,{p:4,px:6,children:[(0,i.jsxs)(o.E,{fontSize:"sm",color:"gray.600",children:[(0,i.jsxs)("span",{role:"img","aria-label":"Wave",children:["\uD83D\uDC4B"," "]}),(0,i.jsx)(_.x6,{id:"3SXj0j",values:{0:(0,c.lp)("Mod+K")},components:{0:(0,i.jsx)(K.u,{})}})]}),(0,i.jsx)(Q.h,{}),(0,i.jsx)(q.K,{"aria-label":d.Ru._({id:"yz7wBu"}),icon:(0,i.jsx)(W.U,{boxSize:2.5}),isRound:!0,size:"xs",variant:"ghost",onClick:t})]})]})};var $=n(26385),Y=n(36062),X=n(26420),ee=n(48621),et=n(24729),en=n(70006);let ei=e=>{let{result:t,isActive:n,focusedItemEl:a,onMouseMove:r,onClick:l}=e,{name:s,id:u,slug:p,isMember:h,memberCount:g,members:m}=t;return(0,i.jsx)(Y.Q,{children:(0,i.jsxs)(Z.z,{ref:n?a:null,className:"search-result",wordBreak:"break-word",onMouseMove:r,p:3,align:"flex-start",alignItems:"center",borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",role:"group",bg:n?"gray.50":"transparent",cursor:"pointer",color:"gray.700",borderWidth:"1px",borderColor:n?"gray.200":"transparent",spacing:{base:0,sm:4},onClick:l,children:[(0,i.jsx)(X.a,{p:2,children:(0,i.jsx)(ee.g,{icon:et.$Q})}),(0,i.jsx)($.B,{spacing:2,flex:"1",children:(0,i.jsxs)(Y.r,{href:(0,en.gU)({id:u,slug:p}),children:[(0,i.jsx)(o.E,{children:s}),(0,i.jsx)(o.E,{fontSize:"sm",color:"gray.400",children:h?(0,i.jsx)(_.x6,{id:"tWPlLK",values:{0:g||0}}):(0,i.jsx)(_.x6,{id:"pkIIls",values:{0:g||0}})})]})}),(0,i.jsx)(Q.h,{}),(0,i.jsx)(c.KZ,{overflowTooltipLabel:d.Ru._({id:"25VyZX"}),size:"xs",avatars:m||[],max:3})]})})};var ea=n(33787),er=n(16842),el=n(97139),es=n.n(el),eo=n(74892),ec=n(68301),ed=n(26449);let eu=e=>{let{result:t,isActive:n,focusedItemEl:a,onMouseMove:r,onClick:l,context:s="globalSearch"}=e,d=(0,ec.u)("screenshotsEnabled"),{title:u,text:p,previewUrl:h,editors:g,editedTime:x,id:f,createdBy:b}=t,y="mentionsList"===s;return(0,i.jsx)(Y.Q,{children:(0,i.jsxs)(Z.z,{ref:n?a:null,className:"search-result",wordBreak:"break-word",onMouseMove:r,p:y?0:[2,3],py:y?.5:void 0,align:"flex-start",borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",role:"group",bg:n?"gray.50":"transparent",cursor:"pointer",color:"gray.700",borderWidth:"1px",borderColor:n?"gray.200":"transparent",spacing:{base:0,sm:4},sx:{em:{bg:"var(--chakra-colors-trueblue-100)",fontStyle:"normal",borderRadius:"base",display:"inline-block",padding:"0px 2px",margin:"0px -2px"}},onClick:l,children:[(0,i.jsx)(ea._,{display:{base:"none",xs:"block"},h:"100%",src:d?h:eo.A.src,w:{base:"0px",sm:"25%"},border:"1px solid",borderColor:"gray.200",borderRadius:"md",shadow:"lg",fallbackSrc:eo.A.src}),(0,i.jsxs)($.B,{spacing:(0,m.Xb)()?1:2,flex:"1",children:[(0,i.jsxs)(Y.r,{href:"globalSearch"===s?(0,en.LN)({docId:f}):void 0,children:[(0,i.jsx)(o.E,{fontSize:"md",fontWeight:"600",noOfLines:y?1:2,dangerouslySetInnerHTML:{__html:u?es().sanitize(u):""}}),(null==b?void 0:b.displayName)&&(0,i.jsx)(o.E,{fontSize:"xs",color:"gray.600",fontWeight:"500",children:(0,i.jsx)(_.x6,{id:"ab98Hp",values:{0:null==b?void 0:b.displayName}})})]}),(0,i.jsx)(o.E,{fontSize:y?"xs":"sm",noOfLines:2,whiteSpace:"normal",wordBreak:"break-word",dangerouslySetInnerHTML:{__html:p?es().sanitize(p):""}}),(0,i.jsxs)(Z.z,{children:[g&&g.length>0&&(0,i.jsx)(er.Z,{size:"xs",fontSize:"xs",max:5,children:null==g?void 0:g.map(e=>{let{user:t}=e,{id:n,displayName:a,profileImageUrl:r}=t;return(0,i.jsx)(c.Vc,{label:a,src:r,shadow:"base"},n)})}),x&&(0,i.jsx)(o.E,{fontSize:"xs",color:"gray.600",fontWeight:"500",children:(0,i.jsx)(_.x6,{id:"5cC8f2",values:{0:(0,ed.OG)(x)}})})]})]})]})})},ep=e=>{let{results:t,focusedIndex:n,focusedItemEl:a,onMouseMove:r}=e,l=(0,h.GV)(x.PC),s=(0,g.st)(),o=(0,u.useRef)(!1),c=(0,u.useRef)(!1),d=(0,u.useCallback)(e=>{s&&(o.current||(o.current=!0,s.track(g.VV.SEARCH_RESULT_SCROLLED,{result_count:t.length})),e.target instanceof HTMLDivElement&&e.target.scrollTop+e.target.clientHeight>=e.target.scrollHeight-100&&!c.current&&(c.current=!0,s.track(g.VV.SEARCH_RESULT_SCROLLED_BOTTOM,{result_count:t.length})))},[s,t.length]),p=(0,H.lW)((0,u.useCallback)((e,n)=>{s&&s.track(g.VV.SEARCH_RESULT_HOVERED,{result_type:e.__typename,result_id:e.id,result_index:n,result_count:t.length})},[s,t.length]),600),m=(0,u.useCallback)((e,n)=>{s&&s.track(g.VV.SEARCH_RESULT_SELECTED,{result_type:e.__typename,result_id:e.id,result_index:n,result_count:t.length})},[s,t.length]);return(0,i.jsx)($.B,{spacing:1,px:4,h:["lg","xl"],maxHeight:["lg","xl"],pb:4,overflow:"auto","data-testid":"search-results-wrapper",onScroll:d,children:t.map((e,t)=>"DocResult"===e.__typename||"PseudoDocResult"===e.__typename?(0,i.jsx)(eu,{result:e,isActive:n===t,focusedItemEl:a,onMouseMove:()=>{r(t),p(e,t)},onClick:()=>{m(e,t),null==l||l()}},e.id):"Channel"===e.__typename?(0,i.jsx)(ei,{result:e,isActive:n===t,focusedItemEl:a,onMouseMove:()=>{r(t),p(e,t)},onClick:()=>{m(e,t),null==l||l()}},e.id):null)})},eh=(0,S.Ay)("mod+K"),eg=e=>{let{query:t,isOpen:n,setResults:i,currentWorkspaceId:a}=e,{data:r}=(0,T.b_w)({variables:{first:5,workspaceId:a,archived:!1,sortBy:{field:T.vY2.LastViewed,direction:T.UEL.Desc}},fetchPolicy:"cache-first",skip:!n});(0,u.useEffect)(()=>{!(t.length>0)&&n&&i(((null==r?void 0:r.docs.edges.map(e=>e.node))||[]).slice(0,5).map(e=>{let{id:t,title:n,archived:i,titleCard:a,createdBy:r,editors:l,createdTime:s,editedTime:o,updatedTime:c}=e;return{id:t,title:n,archived:i,previewUrl:null==a?void 0:a.previewUrl,createdBy:r,editors:l,text:"",createdTime:s,editedTime:o,updatedTime:c,__typename:"PseudoDocResult"}}))},[n,t.length,null==r?void 0:r.docs.edges,i])},em=()=>{let{user:e,currentWorkspace:t}=(0,I.ur)(),{isConnected:n}=(0,T.utY)(),a=(0,g.st)(),r=(0,h.GV)(x.MQ),[l,s]=(0,u.useState)([]),[o,d]=(0,u.useState)(!0),[p,f]=(0,u.useState)(-1),[b,y]=(0,F.M)(B.E.hasDismissedSearchTip,!1),v=(0,u.useRef)(null),[C,w]=(0,u.useState)(!1),A=(0,h.GV)(x.xo),[j,k]=(0,u.useState)(()=>A||""),[S,{data:E,loading:D}]=(0,T.eXh)();eg({query:j,isOpen:r,setResults:s,currentWorkspaceId:null==t?void 0:t.id});let z=(0,H.lW)((0,u.useCallback)(function(){for(var e,t,n,i=arguments.length,r=Array(i),l=0;l<i;l++)r[l]=arguments[l];return a&&a.track(g.VV.SEARCH_QUERY_TYPED,{query:null!=(n=null==(t=r[0])||null==(e=t.variables)?void 0:e.query)?n:""}),S(...r)},[a,S]),600),O=(0,H.lW)((0,u.useCallback)(e=>{if(a&&l.length>0){let t="up"===e?g.VV.SEARCH_RESULT_ARROW_UP:g.VV.SEARCH_RESULT_ARROW_DOWN;a.track(t,{query:j,result_count:l.length})}},[a,l.length,j]),600);(0,u.useEffect)(()=>{0!=A.length&&k(A)},[A]);let W=(0,u.useCallback)(function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{target:"_self"},{target:n}=t||{},i=(null==v||null==(e=v.current)?void 0:e.querySelector("[href]")).href;i||console.error("[SearchModal] No href found"),window.open(i,n)},[v]),U=(0,u.useRef)({focusedIndex:p,results:l,goToItem:W,searchInputFocused:o});U.current={focusedIndex:p,results:l,goToItem:W,searchInputFocused:o},(0,u.useEffect)(()=>{if(r)return L.WC.on("keydown","GLOBAL_SEARCH",e=>{let{key:t}=e;if(eh(e))return!0;let n=U.current;switch(t){case"Escape":return e.preventDefault(),e.stopPropagation(),!0;case"Tab":return e.preventDefault(),n.searchInputFocused?f(N()(n.focusedIndex-1,0,n.results.length-1)):f(-1),d(!n.searchInputFocused),!0;case"Enter":if(e.preventDefault(),n.searchInputFocused)z.flush();else if(n.results.length>0){if(a&&n.focusedIndex>=0){let t=n.results[n.focusedIndex];a.track(g.VV.SEARCH_RESULT_SELECTED,{query:j,result_type:null==t?void 0:t.__typename,result_id:null==t?void 0:t.id,result_index:n.focusedIndex,result_count:n.results.length,target:e.metaKey||e.ctrlKey?"_blank":"_self"})}n.goToItem({target:e.metaKey||e.ctrlKey?"_blank":"_self"})}return!0;case"ArrowUp":return e.preventDefault(),n.focusedIndex<0?(d(!1),f(n.results.length-1)):0==n.focusedIndex?(d(!0),f(-1)):(d(!1),f(N()(n.focusedIndex-1,-1,n.results.length-1))),w(!0),O("up"),!0;case"ArrowDown":return e.preventDefault(),n.focusedIndex<0?(d(!1),f(0)):n.focusedIndex>=n.results.length-1?(d(!0),f(-1)):(d(!1),f(N()(n.focusedIndex+1,-1,n.results.length-1))),w(!0),O("down"),!0;default:return d(!0),f(-1),!1}})},[p,z,r,o,O,a,j]),(0,u.useEffect)(()=>{if(!(null==E?void 0:E.search))return;let e=null==E?void 0:E.search.filter(e=>void 0!==e&&("DocResult"===e.__typename||"Channel"===e.__typename));s(e),a&&a.track(g.VV.SEARCH_RESULT_LOADED,{query:j,result_count:e.length})},[null==E?void 0:E.search,a,j]);let G=(0,u.useCallback)(e=>{let{value:n}=e.target;n?(k(n),z({variables:{workspaceId:null==t?void 0:t.id,query:n}})):(z.cancel(),k(""),s([]),f(-1),d(!0))},[null==t?void 0:t.id,z]),Z=(0,u.useCallback)(e=>{w(!1),f(e)},[]),K=(0,H.wb)(Z,50);(0,u.useEffect)(()=>{!r&&a&&a.track(g.VV.SEARCH_CLOSED,{final_query:j})},[r,a,j]);let Q=!b&&l.length>0;(0,u.useEffect)(()=>{var e;v.current&&C&&(null==v||null==(e=v.current)||e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},[p,C]);let q=j.length>0?(0,i.jsx)(_.x6,{id:"5WYZKZ"}):(0,i.jsx)(_.x6,{id:"AOvC3b"});return e?(0,i.jsxs)(M.s,{direction:"column",children:[(0,i.jsx)(V,{onChange:G,query:j,isDisabled:!n,isLoading:D,isFocused:o}),(0,i.jsx)(P.r,{mx:4,mt:2,mb:4,isConnected:n,description:(0,i.jsx)(_.x6,{id:"R4lJxt"})}),n&&(0,i.jsx)(c._x,{p:4,children:q}),n&&l&&l.length>0&&(0,i.jsx)(ep,{focusedItemEl:v,results:l,focusedIndex:p,onMouseMove:K}),!(0,m.Xb)()&&(0,i.jsx)(J,{onClose:()=>{y(!0)},showTip:Q}),(0,m.Xb)()&&(0,i.jsx)(R.s,{})]}):null},ex=(0,j.A)(e=>{let{isEnabledFn:t}=e,n=(0,h.GV)(x.MQ);D({isEnabledFn:t,isOpen:n});let a=(0,A.wA)(),r=(0,k.h5)({base:"sm",sm:"md",md:"lg",lg:"2xl"}),l=(0,u.useCallback)(()=>{a((0,x.q8)({isOpen:!1,initialQuery:""}))},[a]);return(0,i.jsxs)(y.aF,{isOpen:n,onClose:l,size:r,onOverlayClick:l,returnFocusOnClose:!1,children:[(0,i.jsx)(v.m,{}),(0,i.jsx)(C.$,{children:(0,i.jsx)(w.c,{p:0,children:(0,i.jsx)(em,{})})})]})})},24813:(e,t,n)=>{"use strict";n.d(t,{e:()=>r,q:()=>a});var i=n(52762);let a=e=>{setTimeout(()=>{e.commands.focus()})},r=(e,t,n)=>{var a;(null==(a=n.background)?void 0:a.type)===i.h.NONE?e.commands.updateAttributesAtPos(t,n):e.commands.updateNestedAttributesAtPos(t,n)}},24903:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r,z:()=>l});var i=n(62040),a=n(99923);let r=e=>"footnote"==e.schema.topNodeType.name,l=function(e,t,n,r){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"footnote";e.forEach(e=>{let t=e.steps.filter(e=>e instanceof i.XE||e instanceof i.Ys);0==t.length||e.getMeta(a.R)||e.getMeta("appendedTransaction")||t.forEach(e=>{let{from:t,to:a,mark:s}=e;n.doc.nodesBetween(t,a,(n,o)=>{n.type.name===l&&o<t&&(e instanceof i.XE?r.removeMark(t,a,s):e instanceof i.Ys&&r.addMark(t,a,s))})})})}},25105:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var i=n(63867),a=n(19310),r=n(38934),l=n(59712);let s=new i.hs("SlashMenu"),o=(0,l.e$)({name:"slashMenu",char:"/",pluginKey:s,MenuComponent:a.a,priority:r.y.SlashMenu})},25600:(e,t,n)=>{"use strict";n.d(t,{DM:()=>h,b0:()=>g,bU:()=>m});var i=n(37243),a=n(63867),r=n(97255),l=n(15607),s=n(98968),o=n(61964),c=n(46675),d=n(56124);let u=e=>e.isLeaf||["paragraph","table","tableRow","tableCell","gridLayout","gridCell","heading","title","card","cardLayoutItem","cardAccentLayoutItem","button","buttonGroup","gallery","blockquote","calloutBox","smartLayout","smartLayoutCell","toggle","navbar","navbarLinks"].includes(e.type.name),p=e=>e.isAtom||["gallery","card"].includes(e.type.name),h=e=>e.some(e=>e.spec.focusedNode),g=e=>e.some(e=>e.spec.isSelectingNode),m=i.YY.create({name:"focusedNodes",addProseMirrorPlugins(){let e=this.editor;return[new a.k_({props:{decorations(t){var n;if(!e.isEditable||!(0,l.We)(e)||(null==(n=document.activeElement)?void 0:n.tagName)==="IFRAME")return;let i=t.selection,h=[];return t.doc.nodesBetween(i.from,i.to,(e,t,n)=>{if(u(e)){let l=i instanceof c.HT&&"tableRow"===e.type.name&&i.getTableNode()===n&&i.isRowSelection()&&!i.isColSelection(),s=i instanceof c.HT&&(0,d.hj)(e)&&i.getTableNode()===e&&i.isSelectingAllCells(),o={focusedNode:!0,isSelected:i.from<=t,isFocusedInside:i.from>t||i.to<t+e.nodeSize,isSelectingNode:i instanceof a.nh&&i.node===e||l||s,isSelectingAround:p(e)&&i.from<=t&&i.to>=t+e.nodeSize&&!(i instanceof a.nh)},u=[o.focusedNode?"is-focused":"",o.isSelected?"is-selected":"",o.isFocusedInside?"is-focused-inside":"",o.isSelectingNode?"is-selecting-node":"",o.isSelectingAround?"is-selecting-around":""].join(" ");h.push(r.NZ.node(t,t+e.nodeSize,{class:u},o))}if((0,s.Pb)(e)&&i.from<=t&&i.from<=t)return!1;if("table"===e.type.name&&i instanceof c.HT&&i.isColSelection()&&!i.isSelectingAllCells()){let n=i.$anchorCell.pos,{left:a}=o.J3.get(e).findCell(n-(t+1));h.push(r.NZ.node(t,t+e.nodeSize,{},{isColumnSelected:!0,colNumber:a}))}}),r.zF.create(t.doc,h)}}})]}})},25722:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var i=n(43607),a=n(48687);let r=(e,t,n,r)=>{let l=(0,i.FX)(),{columns:s,lastRowAligner:o}=(0,a.X)({containerSize:n,numCells:t,options:e,forceBalance:r});return"vertical"===e.orientation||l||t>1&&1===s?{columns:1,isHorizontal:!1}:{columns:s,isHorizontal:!0,lastRowAligner:o}}},26006:(e,t,n)=>{"use strict";n.d(t,{M:()=>r,j:()=>a});var i=n(55729);let a=()=>{let e=(0,i.useRef)(null),t=(0,i.useRef)(null),[n,a]=(0,i.useState)(0),[r,l]=(0,i.useState)(0),[s,o]=(0,i.useState)(null);return{width:n,height:r,aspectRatio:s,setSize:(0,i.useCallback)(()=>{var n,i;let r=null==(n=e.current)?void 0:n.getBoundingClientRect(),s=null==(i=t.current)?void 0:i.getBoundingClientRect();if(r&&s){let e=s.width/s.height,t=r.width,n=r.width/e;if(0===t||isNaN(t)||0===n||isNaN(n))return;a(t),l(n),o(e)}},[]),containerWrapperRef:e,imageRef:t}},r=e=>(0,i.useCallback)(t=>{if(!e)return;let n=null==e?void 0:e.view.domAtPos(t);if(!n)return void console.warn("scrollOnImageLoad could not domAtPos",{pos:t});let i=n.node.childNodes[n.offset];if(!i||!i.querySelector)return void console.warn("scrollOnImageLoad could not find node",{parentNode:n.node,offset:n.offset});let a=i.querySelector("[data-image-node-element] img");if(!a)return void console.warn("scrollOnImageLoad could not find <img> element");let r=()=>{e.chain().selectNodeAtPos(t,!1).focus().scrollIntoView().run(),setTimeout(()=>{e.chain().selectNodeAtPos(t,!1).focus().scrollIntoView().run()},1e3),a.removeEventListener("load",r)};a.addEventListener("load",r)},[e])},26406:(e,t,n)=>{"use strict";n.d(t,{Zp:()=>nA,ey:()=>nC});var i=n(87386),a=n(37243),r=n(63867),l=n(48993),s=n(8327),o=n(15342),c=n(47665),d=n(52762),u=n(41896),p=n(62171),h=n(8266),g=n(15607),m=n(38194),x=n(38934),f=n(50861),b=n(46957),y=n(6845),v=n(94922),C=n(15902),w=n(59080);let A=!1;var j=n(16309),k=n(61385),S=n(6029),L=n(55729),I=n(43607),E=n(43634),D=n(28615),M=n(57405),R=n(48810),_=n(58959),z=n(29810),N=n(21938),T=n(47412),P=n(19564),H=n(84929),F=n(97256),B=n(68301),O=n(26312),V=n(62452),W=n(30524),U=n(84886),G=n(50764),Z=n(84431),K=n(43216),Q=n(25600),q=n(40452),J=n(26420),$=n(59543);let Y=e=>{let{cardId:t,...n}=e,[i,a]=(0,L.useState)(0),[r,l]=(0,L.useState)(!1),[s,o]=(0,L.useState)(0);return(0,L.useEffect)(()=>{let e=$.t.on("cardViewed",e=>{let{cardId:n,interval:i}=e;t===n&&a(e=>e+i)}),n=$.t.on("flush",e=>{let{viewed:n}=e;a(0),n[t]&&(l(!0),o(n[t]),setTimeout(()=>l(!1),2e3))});return()=>{e(),n()}},[t]),(0,S.jsxs)(J.a,{...n,bg:r?"#c3313a":"#f5ae00",children:[!r&&(0,S.jsxs)(J.a,{children:["time on card: ",Math.floor(i/1e3),"s"]}),r&&(0,S.jsxs)(J.a,{children:["Tracked View: ",s,"s"]})]})},X=e=>{let t=(0,o.GV)(B.Gm),{getPos:n,node:i}=e,{id:a}=i.attrs;return t?(0,S.jsxs)(q.s,{left:8,top:2,zIndex:"overlay",position:"absolute",pointerEvents:"none",opacity:.5,contentEditable:!1,children:[(0,S.jsx)(J.a,{bg:"yellow",px:2,mr:2,borderRadius:"md",children:a}),(0,S.jsxs)(J.a,{bg:"trueblue.200",px:2,mr:2,borderRadius:"md",children:["f:",n()," t:",n()+i.nodeSize]}),(0,S.jsx)(Y,{cardId:a,px:2,borderRadius:"md"})]}):null};var ee=n(68917),et=n(89122),en=n(94740),ei=n(66199),ea=n(49611),er=n(12514),el=n(18078),es=n(46898),eo=n(80314),ec=n(26385),ed=n(96500),eu=n(40162),ep=n(99492),eh=n(48621),eg=n(32380),em=n(77650),ex=n(84033),ef=n(95197),eb=n(32617),ey=n(40061),ev=n(24813),eC=n(17928),ew=n(80180),eA=n(26053),ej=n(62695),ek=n(84655),eS=n(58082),eL=n(82689),eI=n(16936),eE=n(40268);let eD=e=>{let{icon:t,customIcon:n,label:i,children:a,useSpacer:r=!0,...l}=e;return(0,S.jsxs)(ec.B,{direction:"row",spacing:4,alignItems:"center",...l,children:[t&&(0,S.jsx)(eh.g,{fixedWidth:!0,icon:t}),n&&n,(0,S.jsx)(R.E,{children:i}),r&&(0,S.jsx)(z.h,{}),a]})},eM=e=>{let{editor:t,accentPos:n,cardId:i,hasAccentImage:a,isBehindLayout:r}=e,l=(0,L.useCallback)(()=>{n&&t.commands.updateAttributesAtPos(n,{background:{type:d.h.NONE}})},[t,n]),s=(0,L.useCallback)(()=>{eE.R.emit("toggleEditBackgroundDrawer",{openDrawer:!0,cardId:i})},[i]);return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(eD,{label:r?(0,S.jsx)(P.x6,{id:"23c2Uw"}):(0,S.jsx)(P.x6,{id:"e5Sy/T"}),icon:ep.Cyq,children:(0,S.jsx)(_.z,{spacing:1,children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(ea.$,{size:"sm",variant:"link",onClick:s,children:a?(0,S.jsx)(P.x6,{id:"ePK91l"}):(0,S.jsx)(P.x6,{id:"PNapeY"})}),a&&(0,S.jsx)(T.Tz,{label:(0,S.jsx)(P.x6,{id:"sGYCGx"}),placement:"top",children:(0,S.jsx)(eI.K,{"aria-label":em.Ru._({id:"sGYCGx"}),size:"sm",variant:"link",onClick:l,colorScheme:"red",icon:(0,S.jsx)(eh.g,{icon:ep.K3F})})})]})})})})};var eR=n(55597);let e_=e=>{let{editor:t,getPos:n,onAddOrEditClick:i,isDisabled:a,hasBackdrop:r}=e,l=(0,L.useCallback)(()=>{t.commands.updateAttributesAtPos(n(),{background:{type:d.h.NONE}})},[t,n]);return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(eD,{icon:ep.pt,label:(0,S.jsx)(P.x6,{id:"ANn8Qe"}),color:a?"gray.500":void 0,children:[a&&(0,S.jsx)(T.Tz,{placement:"top",label:(0,S.jsx)(P.x6,{id:"ZnOCf5"}),isDisabled:!a,children:(0,S.jsx)(J.a,{fontSize:"sm",cursor:"help",children:(0,S.jsx)(eh.g,{fixedWidth:!0,icon:eR.k6j})})}),(0,S.jsx)(_.z,{spacing:1,children:!a&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(ea.$,{size:"sm",variant:"link",onClick:i,children:r?(0,S.jsx)(P.x6,{id:"ePK91l"}):(0,S.jsx)(P.x6,{id:"PNapeY"})}),r&&(0,S.jsx)(T.Tz,{label:(0,S.jsx)(P.x6,{id:"IfZ6hd"}),placement:"top",children:(0,S.jsx)(eI.K,{"aria-label":em.Ru._({id:"IfZ6hd"}),size:"sm",variant:"link",onClick:l,colorScheme:"red",icon:(0,S.jsx)(eh.g,{icon:ep.K3F})})})]})})]})})};var ez=n(78140),eN=n(36999),eT=n(41283),eP=n(37930),eH=n(48478),eF=n(95714),eB=n(11818),eO=n(50933);let eV=e=>{let{value:t,onChange:n,cardColor:i}=e,a=(0,eL.Dz)(i),[r,l]=(0,L.useState)(!1),s=Math.round(100*(t||a));return(0,S.jsx)(eD,{label:(0,S.jsx)(P.x6,{id:"CMsMJp"}),icon:ep.jC5,useSpacer:!1,children:(0,S.jsxs)(_.z,{spacing:.5,w:"140px",children:[(0,S.jsx)(R.E,{fontSize:"xs",color:"gray.500",minW:"25px",children:"5%"}),(0,S.jsxs)(eO.Ap,{value:t||a,min:.05,max:.95,step:.05,onChange:n,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),colorScheme:"trueblue",size:"sm",flex:1,children:[(0,S.jsx)(eO.hB,{children:(0,S.jsx)(eO.hJ,{})}),(0,S.jsx)(T.Tz,{placement:"top",isOpen:r,label:"".concat(s,"%"),children:(0,S.jsx)(eO.OQ,{})})]}),(0,S.jsx)(R.E,{fontSize:"xs",color:"gray.500",minW:"30px",children:"95%"})]})})};n(60908);let eW=[{label:()=>em.Ru._({id:"37VL/A"}),value:"frosted"},{label:()=>em.Ru._({id:"W4wYdx"}),value:"faded"},{label:()=>em.Ru._({id:"siC4v8"}),value:"none"}],eU=e=>{var t,n;let{editor:i,accentPos:a,accentBackground:r,effect:l,intensity:s,cardColor:o}=e,c=(0,L.useCallback)(e=>{if(!a||!r)return;let t={background:{mask:{...r.mask,effect:e}}};i.commands.updateNestedAttributesAtPos(a,t)},[i,r,a]),d=(0,L.useCallback)(e=>{var t;if(!a)return;let n={background:{mask:{...null!=(t=null==r?void 0:r.mask)?t:{effect:eL.$.effect},intensity:e}}};i.commands.updateNestedAttributesAtPos(a,n)},[i,r,a]),u=null!=l?l:eL.$.effect,p=null!=(n=null==(t=eW.find(e=>e.value===l))?void 0:t.label())?n:(0,S.jsx)(P.x6,{id:"xg0y9o"});return(0,S.jsxs)(M.T,{spacing:3,align:"stretch",children:[(0,S.jsx)(eD,{label:(0,S.jsx)(P.x6,{id:"u4YODQ"}),icon:ep.B2J,children:(0,S.jsxs)(ez.W,{isLazy:!0,children:[(0,S.jsx)(eN.I,{as:ea.$,variant:"plain",size:"sm",minW:"128px",boxShadow:"none",textAlign:"left",rightIcon:(0,S.jsx)(ee.D,{}),children:p}),(0,S.jsx)(eT.c,{children:(0,S.jsx)(eP.i,{value:u,type:"radio",onChange:c,children:eW.map(e=>{let{value:t,label:n}=e;return(0,S.jsx)(eH.k,{value:t,children:n()},t)})})})]})}),"none"!==l&&(0,S.jsx)(eV,{value:s,onChange:d,cardColor:o})]})};var eG=n(83650),eZ=n(54229),eK=n(71340);let eQ=e=>{let{editor:t,attrs:n,getPos:i}=e,{setCardColor:a,currentColor:r,themeCardColor:l}=(0,eK.Q)({editor:t,attrs:n,getPos:i});return(0,S.jsx)(eD,{icon:ep.wIs,label:"behind"===n.layout?(0,S.jsx)(P.x6,{id:"cA3hQ0"}):(0,S.jsx)(P.x6,{id:"9d2iLQ"}),children:(0,S.jsxs)(ez.W,{isLazy:!0,children:[(0,S.jsx)(eG.v,{color:null!=r?r:l,isDefaultColor:void 0===r}),(0,S.jsx)(eT.c,{overflow:"hidden",children:(0,S.jsx)(eZ.b,{currentColor:null!=r?r:l,setColor:a,source:"CardColor"})})]})})};var eq=n(51808);let eJ=e=>{let{editor:t,getPos:n,contentWidth:i}=e,{defaultContentWidth:a}=(0,o.GV)(E.Uu),r=(0,L.useCallback)(e=>{t.commands.updateNestedAttributesAtPos(n(),{container:{width:e}})},[t,n]);return(0,S.jsx)(eD,{icon:ep.So7,label:(0,S.jsx)(P.x6,{id:"cPp+Ef"}),children:(0,S.jsx)(eq.z,{setWidth:r,contentWidth:i,defaultContentWidth:a,allowedWidths:["md","lg"]})})};var e$=n(99430);let eY=e=>{let{editor:t,getPos:n,isFullWidth:i}=e,a=(0,L.useCallback)(()=>{t.commands.updateAttributesAtPos(n(),{cardSize:i?"contained":"full"})},[t,n,i]);return(0,S.jsx)(eD,{icon:ep.Cpz,label:(0,S.jsx)(P.x6,{id:"BquNv8"}),children:(0,S.jsx)(e$.d,{isChecked:i,onChange:a})})};var eX=n(19842),e0=n(36835);let e1=e=>{let{hasCardMarginElements:t,onAddOrEditClick:n,isHiddenByVisibilitySettings:i,isHiddenByCardSettings:a,onToggleVisibility:r}=e;return(0,S.jsx)(eD,{customIcon:(0,S.jsx)(e0.m,{}),label:(0,S.jsx)(P.x6,{id:"JQFgkZ"}),children:(0,S.jsxs)(_.z,{spacing:1,children:[(0,S.jsx)(ea.$,{size:"sm",variant:"link",onClick:n,colorScheme:"trueblue",children:(0,S.jsx)(P.x6,{id:"ePK91l"})}),i&&(0,S.jsx)(T.Tz,{label:(0,S.jsx)(P.x6,{id:"gB9UFo"}),children:(0,S.jsx)(J.a,{as:"span",color:"red.600",cursor:"help",children:(0,S.jsx)(eh.g,{fixedWidth:!0,icon:eR.k6j})})}),!i&&t&&r&&(0,S.jsx)(T.Tz,{label:a?(0,S.jsx)(P.x6,{id:"+gYV7s"}):(0,S.jsx)(P.x6,{id:"079GgA"}),placement:"top",children:(0,S.jsx)(eI.K,{size:"sm",variant:"ghost","aria-label":a?"Show card margins":"Hide card margins",color:a?"red.600":"gray.600",icon:(0,S.jsx)(eh.g,{icon:a?eR.k6j:eR.pS3}),onClick:r,_hover:{bg:a?"red.50":"gray.50"}})})]})})};var e2=n(2095),e4=n(52842),e5=n(69370);let e6=(0,L.memo)(e=>{var t,n;let{editor:i,getPos:a,attrs:r,accentBackgroundMaskEffect:l,accentBackgroundMaskIntensity:s,displayLayout:c,insideSideLayout:u,isNested:p,isFullBleed:h,contentWidth:g,cardDimensionsKey:m,editBackdrop:x,onOpenCardMarginsModal:f,cardColor:b}=e,y=(0,o.jL)(),C=(0,L.useCallback)(()=>{y((0,e2.md)())},[y]),{verticalAlign:w,presentBackdrop:A}=(0,o.GV)(E.Uu),{setBackgroundDrawerSourceKeyAction:j}=(0,ej.B)(),k={};try{k=(0,v.l0)(i.state.doc.resolve(a()))}catch(e){console.error("[CardStylingMenuInner] could not get layout items for card ".concat(r.id,": ").concat(e))}let I=(0,es.d)(),D=(null==(t=k.accent)?void 0:t.pos)||null,M=null==(n=k.accent)?void 0:n.node.attrs.background,z=M&&M.type!==d.h.NONE,N="none"!==r.background.type,T="default"!==r.cardSize||N||z||r.container.width||r.container.background||"blank"!==c||r.verticalAlign,H="behind"===c&&z&&(0,eL.dY)(M),F=(0,o.GV)(E.Jq),B=(0,eb.u)("cardMarginElements")&&"webpage"!==F,{cardMarginSettings:O}=(0,o.GV)(E.Uu),V=!(0,ef.Nk)(O),{isFirstCardAndHidden:W,isLastCardAndHidden:U,isHiddenByCardSettings:G}=(0,ex.j)(r),Z="fluid"===m||g,K="fluid"===m||N||A,Q=(0,L.useCallback)(()=>{let e={};N&&(e.background={type:d.h.NONE,source:void 0}),e.cardSize=void 0,e.verticalAlign=void 0,e.container={...r.container,width:void 0},r.container.background&&(e.container={...r.container,background:void 0}),"blank"!==c&&(e.layout="blank"),D?i.chain().updateAttributesAtPos(a(),e).updateNestedAttributesAtPos(D,{background:{type:d.h.NONE}}).run():i.commands.updateAttributesAtPos(a(),e);let t=em.Ru._({id:"rQHMjX"}),n=em.Ru._({id:"9uI/rE"}),l=I({title:(0,S.jsxs)(_.z,{children:[(0,S.jsx)(R.E,{children:t}),(0,S.jsx)(eo.N,{textDecoration:"underline",onClick:()=>{(0,eg.tN)(i.state),I.close(l)},children:n})]}),status:"info",duration:3e3,position:"top"})},[N,r.container,c,D,i,a,I]),q=(0,L.useCallback)(()=>{try{i.commands.updateNestedAttributesAtPos(a(),{cardMarginSettings:{...r.cardMarginSettings,isHidden:!r.cardMarginSettings.isHidden}})}catch(e){console.error("(caught) [CardMarginsBuilder](updateVisibility): could not update card",e)}},[i,a,r.cardMarginSettings]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(ec.B,{spacing:4,p:4,children:[(0,S.jsx)(eX.eW,{editor:i,layout:c,getPos:a,edgeLayoutsEnabled:!u}),"blank"!==c&&(0,S.jsx)(eM,{editor:i,accentPos:D,cardId:r.id,hasAccentImage:!!z,isBehindLayout:"behind"===c}),H&&(0,S.jsx)(eU,{editor:i,accentBackground:M,accentPos:D,effect:l,intensity:s,cardColor:b}),(0,S.jsx)(eQ,{editor:i,attrs:r,getPos:a}),!p&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(ed.c,{my:"1"}),(0,S.jsx)(eY,{editor:i,getPos:a,isFullWidth:h}),(0,S.jsx)(eD,{icon:ep.ecg,label:(0,S.jsx)(P.x6,{id:"vUBA/H"}),children:(0,S.jsx)(ek.c,{defaultAlignment:w,alignment:r.verticalAlign,setAlignment:e=>{i.commands.updateAttributesAtPos(a(),{verticalAlign:e})}})}),Z&&(0,S.jsx)(eJ,{editor:i,getPos:a,contentWidth:g}),K&&(0,S.jsx)(e_,{editor:i,getPos:a,onAddOrEditClick:()=>{j(ey.L),x(!1)},hasBackdrop:N,isDisabled:h}),B&&(0,S.jsx)(e1,{hasCardMarginElements:V,isHiddenByVisibilitySettings:!!(W||U),isHiddenByCardSettings:G,onAddOrEditClick:()=>{f(),C()},onToggleVisibility:q})]})]}),(0,S.jsxs)(eu.B,{px:5,py:3,bg:"gray.50",mx:-1,mb:-1,justify:T?"space-between":"center",alignItems:"center",borderBottomRadius:"xl",children:[T&&(0,S.jsx)(eu.Q,{children:(0,S.jsx)(ea.$,{onClick:Q,variant:"link",size:"sm",colorScheme:"gray",my:0,leftIcon:(0,S.jsx)(eh.g,{icon:ep.ub2}),children:(0,S.jsx)(P.x6,{id:"6hU6uw"})})}),(0,S.jsx)(eu.Q,{children:(0,S.jsx)(ea.$,{onClick:()=>{C(),eC.LF.emit(eC.DN.OPEN_PAGE_SETUP,"cards")},variant:"link",size:"sm",colorScheme:"gray",my:0,leftIcon:(0,S.jsx)(eh.g,{icon:ep.BH7}),children:(0,S.jsx)(P.x6,{id:"fvaOtb"})})})]})]})}),e3=(0,L.memo)(e=>{let{attrs:t,editor:n,getPos:i,onOpenCardMarginsModal:a,decorations:r}=e,{cardColor:l}=(0,eS.a)(r),{color:s,bg:c,hoverColor:d,hoverBg:u,borderColor:p}=(0,eA.Nb)(),h=(0,L.useRef)(null),g=(0,o.GV)((0,e2.C_)(t.id,"styling")),m=(0,o.jL)(),x=(0,L.useCallback)(()=>{m((0,e2.md)())},[m]),f=(0,L.useCallback)(()=>{m((0,e2.CM)({cardId:t.id,menuType:"styling"}))},[m,null==t?void 0:t.id]),{openBackgroundTab:b,...y}=(0,e5.O)(),v=(0,L.useCallback)(e=>{(0,ev.e)(n,i(),e)},[n,i]);return(0,et.j)({ref:h,handler:e=>{if(!g)return;let n=e.target;if(n&&n instanceof Element){var i;let e=n.closest('[data-card-styles-menu-trigger="'.concat(t.id,'"]')),a=!!(null==(i=n.closest(".chakra-modal__content-container"))?void 0:i.querySelector("[data-edit-background-drawer]")),r=!!n.closest("[data-media-drawer-menu]");if(e||a||r)return}x()}}),(0,S.jsxs)(T.L8,{isDark:!1,children:[(0,S.jsx)(_.z,{spacing:1,onClick:ew.dG,contentEditable:!1,pointerEvents:"auto",children:(0,S.jsxs)(en.A,{isLazy:!0,returnFocusOnClose:!1,isOpen:g,onClose:x,closeOnBlur:!1,children:[(0,S.jsx)(T.Tz,{label:(0,S.jsx)(P.x6,{id:"F153E+"}),placement:"top",shouldWrapChildren:!0,children:(0,S.jsx)(ei.W,{children:(0,S.jsxs)(ea.$,{"data-card-styles-menu-trigger":t.id,height:e4.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:p,color:s,boxShadow:"sm",cursor:"pointer",fontSize:"14px",bg:c,px:.5,_hover:{color:d,background:u},onClick:f,children:[(0,S.jsx)(eh.g,{icon:ep.fyG,fixedWidth:!0}),(0,S.jsx)(ee.D,{})]})})}),(0,S.jsx)(er.Z,{children:(0,S.jsx)(el.h,{"data-card-styles-menu":!0,ref:h,width:"360px",fontFamily:"body",fontSize:"md",border:"none",children:(0,S.jsx)(e6,{...e,cardColor:l,editBackdrop:b,onOpenCardMarginsModal:a})})})]})}),(0,S.jsx)(e5.G,{editor:n,updateNestedAttributes:v,background:t.background,container:t.container,...y})]})});var e9=n(24302),e7=n(61204),e8=n(95889),te=n(18317),tt=n(89481);let tn=e=>{let{suggestions:t,cardId:n,isDark:i,editor:a}=e,{color:r,bg:s}=(0,eA.Nb)(),c=(0,eA.wP)(),{status:d,variants:u,selected:p,loadingMessage:h,interactionId:g,instructions:m,operation:x}=t,f=(0,o.jL)(),b=(0,L.useCallback)((e,t)=>{f((0,l.S6)({cardId:n,variantId:e})),(0,tt.ck)(a,n,t,g)},[f,n,a,g]),y=(0,e8.st)(),v=(0,L.useCallback)(()=>{var e;null==y||y.track(e8.VV.AI_CARD_VARIATION_KEPT,{cardId:n,variantId:p,isOriginal:null==(e=u.find(e=>e.id===p))?void 0:e.isOriginal,interactionId:g,source:"button"}),f((0,l.YB)({cardId:n}))},[f,n,p,y,u,g]),C=(0,e9.dU)("trueblue.500","trueblue.100"),w=(0,e9.dU)("trueblue.50","gray.600"),A=(0,e9.dU)("red.100","red.700"),j=(0,e9.dU)("red.500","red.100");return(0,S.jsx)(_.z,{contentEditable:!1,userSelect:"none",align:"center",position:"absolute",left:"50%",transform:"translateX(-50%)",marginLeft:-3,pointerEvents:"auto",spacing:2,children:"loading"===d?(0,S.jsxs)(_.z,{borderWidth:"1px",...c,pointerEvents:"none",children:[(0,S.jsx)(eh.g,{icon:eR.p7g}),(0,S.jsxs)(R.E,{children:[h||(0,S.jsx)(P.x6,{id:"RQqcwV"}),"..."]})]}):"error"===d?(0,S.jsxs)(_.z,{borderWidth:"1px",...c,_hover:{},bg:A,color:j,children:[(0,S.jsx)(eh.g,{icon:ep.QJT}),(0,S.jsx)(R.E,{children:(0,S.jsx)(P.x6,{id:"nwtY4N"})}),(0,S.jsx)(eI.K,{"aria-label":em.Ru._({id:"yz7wBu"}),size:"xs",minW:4,minH:4,h:4,isRound:!0,variant:"ghost",onClick:v,icon:(0,S.jsx)(eh.g,{icon:ep.GRI}),colorScheme:i?"white":"blackAlpha"})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(e7.e,{spacing:"-1px",children:[u.map(e=>(0,S.jsx)(ea.$,{...c,color:p===e.id?C:r,bg:p===e.id?w:s,variant:p===e.id?"plainSelected":"plain",onClick:()=>b(e.id,e.card),position:"relative",children:e.label},e.id)),(0,S.jsx)(T.Tz,{label:(0,S.jsx)(P.x6,{id:"MuX+Gc"}),placement:"top",children:(0,S.jsx)(eI.K,{...c,icon:(0,S.jsx)(eh.g,{icon:eR.e68}),"aria-label":em.Ru._({id:"MuX+Gc"}),onClick:v})})]}),g&&(0,S.jsx)(te.E,{interactionId:g,operation:null==x?void 0:x.key,instructions:m})]})})};var ti=n(76565),ta=n(42926);let tr=e=>{let{cardContentType:t,attrs:n,editor:i,getPos:a,node:r}=e,{color:l,bg:s,hoverColor:o,hoverBg:c,borderColor:d}=(0,eA.Nb)();if("image"===t){let e=r.firstChild.attrs.image;return(0,S.jsx)(ti.a,{attrs:e,editor:i,height:e4.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:d,color:l,boxShadow:"sm",cursor:"pointer",fontSize:"14px",bg:s,px:.5,_hover:{color:o,background:c},pointerEvents:"auto"})}return(0,S.jsx)(ta.i,{attrs:n,editor:i,getPos:a})};var tl=n(90184),ts=n(89942),to=n(13777),tc=n(81570);let td=e=>{let{theme:t,editor:n,getPos:i,updateAttributes:a,input:r}=e,l=(0,eA.wP)(),s=(0,ts.ez)("unlimited_credits"),{toggleCardLayoutVariantsPanel:o,isCardLayoutVariantsPanelOpen:c}=(0,to.Y)(),d=(0,L.useCallback)(()=>{c&&o({override:"closed"});let e=n.state.doc.nodeAt(i());e&&(n.commands.selectNodeAtPos(i()),o({override:"open",isResizable:!1,props:{cardId:e.attrs.id,selectedCardRange:{from:n.state.selection.from,to:n.state.selection.from+e.nodeSize},editor:n}}))},[n,i,o,c]);return(0,S.jsx)(_.z,{contentEditable:!1,userSelect:"none",align:"center",position:"absolute",left:"50%",transform:"translateX(-50%)",marginLeft:-3,pointerEvents:"auto",children:(0,S.jsxs)(_.z,{spacing:2,children:[(0,S.jsx)(T.Tz,{label:(0,S.jsx)(P.x6,{id:"K1Ro+T"}),placement:"top",children:(0,S.jsx)(ea.$,{...l,leftIcon:(0,S.jsx)(eh.g,{icon:eR.CeG}),"aria-label":em.Ru._({id:"K1Ro+T"}),onClick:()=>a({layoutTemplateColumns:null,generatorInput:{...tc.O,prompt:r.prompt}}),children:(0,S.jsx)(P.x6,{id:"550oRP"})})}),(0,S.jsx)(ea.$,{...l,leftIcon:(0,S.jsx)(eh.g,{icon:eR.p7g}),onClick:()=>{d(),a({generatorInput:null})},children:(0,S.jsxs)(_.z,{spacing:.5,alignItems:"center",justifyContent:"center",children:[(0,S.jsx)(R.E,{children:(0,S.jsx)(P.x6,{id:"SiSG+p"})}),!s&&(0,S.jsx)(tl.G,{type:"generateCard",ml:0,color:"gray.500"})]})}),r.interactionId&&(0,S.jsx)(te.E,{interactionId:r.interactionId,operation:"generate-card",instructions:r.prompt})]})})};var tu=n(9329),tp=n(83004),th=n(95571);function tg(){let e=(0,tu._)(["\n  0% {\n    margin-inline: 0;\n  }\n  100% {\n    margin-inline: var(--nested-card-margin);\n  }\n"]);return tg=function(){return e},e}let tm=(0,tp.i7)(tg()),tx=e=>{let{attrs:t,isFullBleed:n,displayFullBleed:i,isNested:a,isPresentMode:r,isEditable:l,isFocused:s,isDark:o,isLetterboxed:c,showPresentBackdrop:d,isCommentOpenOnCard:u,theme:p,children:h}=e,{id:g,container:m}=t,x=(0,eB.NC)(p,m),f=i?th.xE:th.CO,b=r&&!a,y=(0,eF.ZI)(p,m.background?x:void 0),v=n?{width:a||c?"var(--card-width)":"100%"}:{zIndex:a?u?Z.$.nestedCardBodyWithComment:Z.$.nestedCardBody:void 0,width:"var(--card-width)"},C=b?{minW:d||c?"auto":"100%",minH:"var(--card-min-height)",my:"auto"}:{minW:"0%",minH:"var(--card-min-height)"},w=D.D1?0:k.M2;return(0,S.jsxs)(q.s,{className:(0,N.cx)(k.p$),"data-card-body":g,"data-selection-ring":!0,"data-guider-highlight":"card-body","data-letterboxed":c?"true":void 0,"data-content-reference":!0,"data-testid":"card-body","data-hide-comments":r,fontSize:"var(--font-size)",animation:a?"".concat(tm," ").concat(w,"ms ease-out forwards"):void 0,position:"relative",...v,...C,maxW:"var(--card-max-width)",css:{"--grid-outline-color":o?"var(--chakra-colors-gray-600)":"var(--chakra-colors-gray-200)",...y,"--card-border-radius":i?0:y["--card-border-radius"]},justify:"center",borderRadius:"var(--card-border-radius)",ps:n&&!a?"var(--doc-padding-left)":void 0,pe:n&&!a?"var(--doc-padding-right)":void 0,_hover:l&&i&&!s?{"> .card-body-background":{outline:"2px solid var(--grid-outline-color)"}}:void 0,outline:c?"max(50vw, 50vh) solid black":void 0,children:[(0,S.jsx)(J.a,{position:"absolute",inset:"0",sx:f,className:"card-body-background",borderRadius:"inherit",contentEditable:!1,zIndex:r?-1:void 0,outline:s?"2px solid var(--chakra-ring-color)":void 0,outlineOffset:n&&!r?"-2px":void 0,border:a&&"0em"===y["--card-border-width"]?"1px solid var(--neutral-border-color)":void 0,"data-export-master":!!i||void 0}),(0,S.jsx)(T.L8,{isDark:o,children:h})]})};var tf=n(82328),tb=n(5061),ty=n(76083),tv=n(69460),tC=n(81946),tw=n(69872),tA=n(43182);let tj=(0,L.memo)(function(e){let{editor:t,getPos:n,display:i,isNested:a}=e,r=(0,tb.fW)(),{isInOfflineMode:l}=(0,tf.u)(),s=(0,I.FX)(),o=(0,B.u)("aiRewrite")&&!s,c=(0,L.useCallback)(e=>{let i=n(),a=t.view.state.doc.nodeAt(i);if(!a)return void console.error("[CardDivider] Cannot append card. Node unknown");let r=i+a.nodeSize,l="aiCardAfter"===e?e8.oU.CARD_DIVIDER_AI:e?e8.oU.CARD_DIVIDER_DROPDOWN:e8.oU.CARD_DIVIDER,{cardToAdd:s,command:o}=(0,tw.j)(e);(0,ty.Jb)(o,l),t.chain().insertContentAt(r,(0,tA.iM)(s)).command(e=>{let{tr:t}=e;return t.setMeta(tv.G,!0),!0}).focus().selectInsertedNode().run()},[t,n]),d=(0,e9.dU)("gray.50","gray.600"),u=(0,e9.dU)(!1,!0),p=(0,B.u)("addCard2");return(0,S.jsx)(ez.W,{isLazy:!0,children:e=>{let{isOpen:n}=e;return(0,S.jsx)(q.s,{contentEditable:!1,suppressContentEditableWarning:!0,className:"card-divider","data-is-nested-card":String(a),position:"absolute",zIndex:Z.$.cardDivider,bottom:-4,w:"100%",justify:"center",align:"center",display:i,opacity:+!!n,transitionProperty:"opacity",transitionDuration:"normal","data-print-hidden":!0,"data-id":"card-divider",children:(0,S.jsxs)(e7.e,{size:"sm",isAttached:!0,"data-guider-highlight":"add-card-button",className:"card-divider-button-group",variant:"plain",shadow:"md",borderRadius:"md",opacity:"1",transitionProperty:"opacity",transitionDuration:"normal",dir:r?"rtl":"ltr",children:[(0,S.jsx)(T.Tz,{label:(0,S.jsx)(P.x6,{id:"7iE+3N"}),children:(0,S.jsx)(eI.K,{className:"insert-card-button",variant:"plain","aria-label":em.Ru._({id:"g+7nXG"}),icon:(0,S.jsx)(eh.g,{icon:eR.QLR}),onClick:()=>c(),onMouseDown:ew.JL,size:"sm",shadow:"none",borderRadius:"md",minW:12,transitionProperty:"none",borderColor:d})}),o&&(0,S.jsx)(T.Tz,{label:(0,S.jsx)(P.x6,{id:"kLZLXX"}),children:(0,S.jsx)(eI.K,{className:"insert-ai-card-button",variant:"plain","aria-label":em.Ru._({id:"g+7nXG"}),icon:(0,S.jsx)(_.z,{spacing:0,opacity:l?.3:1,children:(0,S.jsx)(eh.g,{icon:eR.p7g})}),onClick:()=>{if(!l){if(p)return void c("aiCardAfter");eC.LF.emit("queueDesignPartnerTask",{message:em.Ru._({id:"JoMQgx",values:{placeholder:""}}),submit:!1})}},onMouseDown:ew.JL,size:"sm",shadow:"none",minW:12,transitionProperty:"none",borderColor:d,borderRadius:"md",borderInlineStart:"none",borderInlineEndRadius:"none",tabIndex:l?-1:void 0,pointerEvents:l?"none":"auto"})}),(0,S.jsxs)(en.A,{placement:"end",isLazy:!0,closeOnBlur:!0,closeOnEsc:!0,children:[(0,S.jsx)(T.Tz,{label:(0,S.jsx)(P.x6,{id:"UgOs5x"}),shouldWrapChildren:!0,children:(0,S.jsx)(ei.W,{children:(0,S.jsx)(eI.K,{"aria-label":"Add from template",size:"sm",shadow:"none",borderColor:d,icon:(0,S.jsx)(ee.D,{}),fontSize:"lg",fontWeight:"500",borderRadius:"md",borderInlineStart:"none",borderInlineStartRadius:"none","data-guider-highlight":"add-card-template-button",transitionProperty:"none",onMouseDown:ew.JL})})}),(0,S.jsx)(er.Z,{children:(0,S.jsx)(el.h,{shadow:"xl",maxH:"90vh",overflowY:"scroll",w:"400px",p:"0",borderColor:u?d:void 0,children:(0,S.jsx)(tC.R,{editor:t,appendCard:c})})})]})]})})}})});var tk=n(59824);let tS=e=>{let{isFocused:t}=e;return(0,S.jsx)(J.a,{position:"absolute",inset:"0",pointerEvents:"none",overflow:"hidden",display:{base:"none",lg:"block"},opacity:+!!t,className:"card-height-guide",children:(0,S.jsxs)(J.a,{position:"absolute",top:"var(--card-min-height)",insetStart:"0",w:"100%",h:"1px",borderBottom:"2px dashed",borderBottomColor:"var(--body-color)",opacity:"0.25",children:[(0,S.jsx)(tL,{insetStart:0}),(0,S.jsx)(tL,{insetEnd:0})]})})},tL=e=>{let{cardDimensions:t}=(0,o.GV)(E.Uu),{label:n}=(0,tk.iI)(t);return(0,S.jsx)(T.Tz,{placement:"top",w:"250px",label:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(R.E,{children:["Your content is too tall to fit the ",n()," size, so it may shrink or overflow when presenting or exporting."]}),(0,S.jsx)(R.E,{color:"gray.500",children:(0,S.jsx)(P.x6,{id:"yrOr7z"})})]}),children:(0,S.jsx)(J.a,{position:"absolute",w:"var(--card-inner-padding-x)",h:"".concat(20,"px"),top:"-".concat(10,"px"),pointerEvents:"auto",cursor:"help",...e})})};var tI=n(41781),tE=n(23293),tD=n(72470),tM=n(74709),tR=n(17496),t_=n(4192),tz=n(3276),tN=n(57963),tT=n(87461),tP=n(33619),tH=n(19783),tF=n(26814);let tB={src:"/_next/static/media/Stars-2.48f5ca51.svg"};var tO=n(11403),tV=n(83743),tW=n(33787),tU=n(51684),tG=n(99038),tZ=n(36432),tK=n(22539);let tQ=e=>{let{isDark:t,selectedTemplate:n,setSelectedTemplate:i,isDisabled:a}=e,r=(0,tK.W)(),l=t?"invert(.8) brightness(1.2)":"invert(0)",s=t?"invert(.8) brightness(2)":"invert(0)";return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(R.E,{color:t?"titanium.50":"titanium.900",fontSize:"sm",fontWeight:"normal",children:(0,S.jsx)(P.x6,{id:"hQDrYd"})}),(0,S.jsxs)(tV.r,{spacing:2,columns:[2,3,5,r.length+1],children:[(0,S.jsx)(tZ.F,{isDark:t,templateIcon:(0,S.jsx)(eh.g,{icon:tU.swh,fixedWidth:!0,size:"lg"}),label:(0,S.jsx)(P.x6,{id:"wtGmzA"}),tooltip:em.Ru._({id:"zopynZ",values:{GAMMA_PROPER_NOUN:tG.On}}),isSelected:null===n,onClick:()=>i(null),isDisabled:a}),r.map(e=>{let{key:r,image:o,name:c}=e,d=r===n;return(0,S.jsx)(tZ.F,{isDark:t,templateIcon:(0,S.jsx)(tW._,{src:o.src,filter:d?s:l,bg:"white"}),tooltip:c,isSelected:d,onClick:()=>i(r),isDisabled:a},r)})]})]})};var tq=n(3383);let tJ=e=>{let{theme:t,handle:n,editor:i,getPos:a,input:r,displayFullBleed:l,isFocused:s}=e,{isInOfflineMode:o}=(0,tf.u)(),{isGenerating:c,getContextAndGenerate:d,updateInput:p,locale:h}=(0,tq.ds)({theme:t,editor:i,getPos:a,input:r}),g=(0,tO.lW)(p,500),{prompt:m,template:x}=r,[f,b]=(0,L.useState)(m),y=(0,tF.tO)(()=>{p({prompt:f}),d(f)},"generateCard",e8.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD),v=(0,e9.dU)(!1,!0),C=(0,L.useRef)(null),{suggestions:w,generateSuggestionsStatus:A}=(0,tq.ay)(i,s);return((0,L.useEffect)(()=>{s&&C.current&&setTimeout(()=>{var e;null==(e=C.current)||e.focus()})},[s]),c)?(0,S.jsxs)(q.s,{position:"relative",maxW:"100%",w:"var(--card-width)",minH:32,contentEditable:"false",justify:"center",direction:"column",p:"var(--card-inner-padding)",children:[n,(0,S.jsxs)(ec.B,{zIndex:1,w:"100%",children:[(0,S.jsx)(tI.E,{height:"3em",w:"33%",mb:4}),(0,S.jsx)(tI.E,{height:"1.5em"}),(0,S.jsx)(tI.E,{height:"1.5em"}),(0,S.jsx)(tI.E,{height:"1.5em"}),(0,S.jsx)(tI.E,{height:"1.5em",w:"75%"})]})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.$p,{style:{position:"absolute",opacity:0}}),(0,S.jsxs)(q.s,{contentEditable:"false",w:"var(--card-width)",maxW:"100%",minH:32,position:"relative",borderRadius:l?"none":"var(--card-border-radius)",p:"var(--card-inner-padding)",direction:"column",justify:"center",m:"-1px",fontFamily:"body",onMouseDown:e=>{!(e.target instanceof HTMLElement&&e.target.closest(".drag-handle"))&&(e.preventDefault(),C.current&&C.current===document.activeElement?C.current.blur():i.view.hasFocus()&&i.commands.blur())},children:[(0,S.jsx)(J.a,{bg:v?"gradient.secondary-dark":"gradient.secondary-light",bgSize:"cover",bgPosition:"center center",borderRadius:"inherit",pos:"absolute",inset:0,pointerEvents:"none",w:l?"var(--editor-width)":void 0,insetStart:l?"calc(50% - var(--doc-padding-left, 0px) / 2 + var(--doc-padding-right, 0px) / 2)":void 0,transform:l?"translateX(-50%)":void 0}),n,(0,S.jsx)(J.a,{position:"absolute",zIndex:0,pointerEvents:"none",inset:0,bgImage:"url(".concat(tB.src,")"),bgRepeat:"repeat",bgPosition:"center center",sx:{animation:"".concat(tT.K," 180s linear infinite"),maskImage:"linear-gradient(to left, rgba(0,0,0,.75), transparent, rgba(0,0,0,.75))",maskRepeat:"repeat",maskSize:"140px"},opacity:v?.2:1}),(0,S.jsx)(eI.K,{position:"absolute",top:2,insetEnd:2,variant:"ghost",colorScheme:v?"whiteAlpha":"blackAlpha",isRound:!0,size:"sm","aria-label":em.Ru._({id:"DIQZR1"}),icon:(0,S.jsx)(eh.g,{fixedWidth:!0,icon:ep.GRI}),onClick:()=>{g.cancel(),i.commands.deleteCard(a())}}),(0,S.jsxs)(ec.B,{spacing:4,pos:"relative",zIndex:1,maxWidth:"100%",children:[(0,S.jsxs)(_.z,{justify:"end",flexWrap:"wrap",children:[(0,S.jsx)(tE.D,{fontWeight:700,size:"md",color:v?"white":"deepocean.950",children:(0,S.jsx)(P.x6,{id:"8e1wQN"})}),(0,S.jsx)(z.h,{}),(0,S.jsx)(tH.f,{modalId:"ai-credits-modal-generate-card",variant:"ghost",isDark:v,justify:"flex-end",segmentEvent:e8.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD}),(0,S.jsx)(tP.j,{locale:h,setLocale:e=>p({settings:{locale:e}}),buttonProps:{variant:"plain",size:"sm",textAlign:"left",w:["100%","100%","auto"],isDisabled:o}})]}),(0,S.jsxs)(tD.M,{color:v?"white":"gray.700",bg:v?"blackAlpha.900":"white",boxShadow:"sm",border:"none",borderRadius:"md",display:"flex",alignItems:"start",gap:"0",onMouseDown:ew.dG,_focusWithin:{boxShadow:"var(--chakra-shadows-sm), var(--chakra-shadows-outline)"},transitionProperty:"box-shadow",transitionDuration:"normal",children:[(0,S.jsx)(tN._,{ref:C,"data-in-editor-focus":!0,fontWeight:"500",border:"none",fontSize:"lg",initialHeight:"4rem",placeholder:em.Ru._({id:"BiLwIi"}),value:f,isDisabled:o,onChange:e=>{b(e.target.value),g({prompt:e.target.value})},onKeyDown:e=>{!e.shiftKey&&("Enter"===e.key?y():"ArrowDown"!==e.key||f?"ArrowUp"!==e.key||f||i.chain().focus(a()).selectInsideNextCard(!1).run():i.chain().focus(a()).selectInsideNextCard(!0).run())},_focus:{boxShadow:"none"},_focusVisible:{boxShadow:"none"},p:5}),(0,S.jsx)(tM.r0,{h:"100%",border:"none",color:v?"white":"gray.700",bg:v?"blackAlpha.900":"white",p:3,ps:0,alignItems:"end",display:["none","none","flex"],children:(0,S.jsxs)(ea.$,{px:3,"aria-label":"Generate card",isDisabled:!f||o,onClick:y,onMouseDown:ew.Fw,children:[(0,S.jsx)(tl.G,{type:"generateCard",ms:0,me:2,color:"currentcolor"}),(0,S.jsx)(eh.g,{icon:eR.fmP})]})})]}),(0,S.jsxs)(ea.$,{variant:"solid","aria-label":"Generate card",isDisabled:!f,onClick:y,onMouseDown:ew.Fw,display:["flex","flex","none"],leftIcon:(0,S.jsx)(eh.g,{icon:eR.fmP}),children:[(0,S.jsx)(P.x6,{id:"ziAjHi"}),(0,S.jsx)(tl.G,{type:"generateCard",ms:0,me:2})]}),(0,S.jsx)(tR.S,{in:!f&&!o&&(w.length>0||"generating"===A),children:(0,S.jsxs)(_.z,{direction:["column","row"],spacing:2,wrap:"wrap",children:[null==w?void 0:w.map((e,t)=>(0,S.jsx)(ea.$,{leftIcon:(0,S.jsx)(eh.g,{icon:eR._$C}),onClick:()=>{b(e),p({prompt:e})},borderRadius:"full",variant:"ghost",bg:v?"whiteAlpha.100":"blackAlpha.100",color:v?"whiteAlpha.800":"blackAlpha.800",_hover:{bg:v?"whiteAlpha.300":"blackAlpha.300"},colorScheme:v?"whiteAlpha":"blackAlpha",size:"xs",isTruncated:!0,flexShrink:0,children:e},t)),"generating"===A&&(0,S.jsxs)(t_.vw,{variant:"subtle",colorScheme:v?"whiteAlpha":"blackAlpha",color:v?"whiteAlpha.500":"blackAlpha.500",children:[(0,S.jsx)(t_.Vz,{boxSize:"12px",as:tz.y}),(0,S.jsx)(t_.d1,{children:(0,S.jsx)(P.x6,{id:"AUV+TY"})})]})]})}),(0,S.jsx)(tQ,{isDark:v,selectedTemplate:x,setSelectedTemplate:e=>p({template:e}),isDisabled:o})]})]})]})},t$=e=>{let{displayLayout:t,children:n,isExpandableSelected:i,isFocused:a,displayFullBleed:r,isEditable:l,isNested:s,attrs:o,hasLayoutItem:c,cardContentType:d,onDoubleClick:u,cardDimensions:p,theme:h,handle:g,editor:m,getPos:x,updateAttributes:f}=e;if(o.generatorInput&&"done"!==o.generatorInput.status&&l)return(0,S.jsx)(tJ,{theme:h,handle:g,editor:m,getPos:x,input:o.generatorInput,updateAttributes:f,displayFullBleed:r,isFocused:a});let b=(0,v.lH)(t),y=(0,v.tZ)(t),C=o.layoutTemplateColumns,w=o.layoutTemplateRows,A=l&&p.aspectRatio&&!s&&(!o.fontScale||o.fontScale===k.o5);return(0,S.jsxs)(J.a,{className:(0,N.cx)(e4.fJ,i&&"expandable-selected"),onDoubleClick:u,w:"var(--card-width)",maxW:"100%",position:"relative",spellCheck:a,cursor:"auto",color:"var(--body-color)",sx:{["> .".concat(k._P)]:{padding:c||"responsive"!==d?void 0:"var(--card-inner-padding)",counterReset:"footnote",'> [data-node-view-content-inner="card"]':{..."responsive"!==d?{}:c?{display:"grid",alignItems:"stretch",justifyContent:"stretch",minH:"100%",transitionDuration:"".concat(k.M2,"ms"),transitionProperty:"grid-template-rows, grid-template-columns, min-height",...b.grid,...C&&"top"!==t&&b.allowResizing&&{gridTemplateColumns:C},...w&&"top"===t&&b.allowResizing&&{gridTemplateRows:w},...y}:{display:"block",mx:"auto",maxW:"var(--max-content-width)",width:"100%",boxSizing:"border-box",minW:0},"> .node-cardLayoutItem":{"> [data-node-view-wrapper]":{"> .card-layout-cell-bg":{"> [data-node-view-content]":{"> [data-node-view-content-inner]":{maxWidth:"var(--max-content-width)",margin:"auto"},padding:"var(--card-inner-padding)"}}}}}},_hover:{"> .card-height-guide":{opacity:1}}},children:[g,n,A&&(0,S.jsx)(tS,{isFocused:a})]})};var tY=n(11324),tX=n(75074),t0=n(71737);let t1=e=>{let{hasNotes:t,isReadonly:n}=e;return t?n?(0,S.jsx)(P.x6,{id:"nqt+Fj"}):(0,S.jsx)(P.x6,{id:"+kQy/G"}):n?null:(0,S.jsx)(P.x6,{id:"GquPwe"})},t2=e=>{let{cardId:t,decorations:n,editor:i,getPos:a,hasNonEmptyCardNotes:r,isReadonly:l,...s}=e,c=(0,L.useCallback)(()=>{let e=a();if(!l){let{hasCardNotesNode:t}=(0,j.tg)(n);t||(0,t0.ni)(i,e)}let r=(0,o.KA)(),s=(0,tX.Ix)(r.getState());tY.R.emit("toggle",{clickedCardId:t,activeNotesCardId:s}),(0,t0.I5)(i,e)||i.commands.selectInsideNodeAtPos(e)},[t,n,l,i,a]),{color:d,bg:u,hoverColor:p,hoverBg:h,borderColor:g}=(0,eA.Nb)();return(0,S.jsx)(T.Tz,{label:(0,S.jsx)(t1,{hasNotes:r,isReadonly:l}),placement:"top",children:(0,S.jsx)(ea.$,{height:e4.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:g,color:d,boxShadow:"sm",cursor:"pointer",pointerEvents:"auto",fontSize:"14px",bg:u,minW:"auto",px:2,_hover:{color:p,background:h},onMouseDown:ew.Fw,onClick:c,...s,children:(0,S.jsx)(J.a,{as:"span",display:"inline-flex",children:(0,S.jsx)(eh.g,{icon:r?eR.hZM:ep.hZM})})})})};var t4=n(11496),t5=n(4913),t6=n(36512),t3=n(33424);let t9=e=>{let t,{isPresentMode:n,isNested:i,isFullBleed:a,displayFullBleed:r,isThumbnail:l,isMobileDevice:s,attrs:c,fontSize:d,nestedDepth:u}=e,{outerPaddingX:p,outerPaddingY:h,outerPaddingLeft:g,outerPaddingRight:m}=(0,t3.ng)({isPresentMode:n,isNested:i,isFullBleed:a,displayFullBleed:r,isThumbnail:l,isMobileDevice:s,attrs:c}),x=(0,t3.Qo)(d||"md"),f=(0,t3.mn)({isMobileDevice:s,numericFontSize:x}),b=f+(0,t3._F)(u),{cardMarginSettings:y}=(0,o.GV)(E.Uu),v=(0,o.GV)(E.SJ),C=(0,ef.Nk)(y)?t6.cK:(0,t5.hn)(y,null==v?void 0:v.config.roundness);return t=n||l?C:s?i?t6.rN:t6.HY+(a?t6._0:0):a?Math.max(t6.cK+t6.Ri,C):C,(0,L.useMemo)(()=>({"--card-inner-padding-x":"calc(".concat(f,"em / var(--card-font-scale, 1))"),"--card-inner-padding-y":"calc(".concat(t,"em / var(--card-font-scale, 1))"),"--card-inner-padding":"var(--card-inner-padding-y) var(--card-inner-padding-x)","--card-outer-padding-left":g,"--card-outer-padding-right":m,"--card-outer-padding-x":p,"--card-outer-padding-y":h,"--comment-padding":"".concat(b,"em"),"--nested-card-margin":"calc(-1 * var(--comment-padding))"}),[b,f,t,g,m,p,h])},t7=e=>{let{attrs:t,children:n,presentVariant:i,isPresentMode:a,isDark:r,isNested:l,isThumbnail:s,isFullBleed:c,displayFullBleed:d,isMobileDevice:u,fontSize:h,nestedDepth:g,theme:m,cardDimensions:x,showPresentBackdrop:f,userZoomLevel:b,verticalAlign:y,defaultContentWidth:v,contentWidth:C,docZoomLevel:w}=e,A=t9({isPresentMode:a,isNested:l,isFullBleed:c,displayFullBleed:d,isThumbnail:s,isMobileDevice:u,attrs:t,fontSize:h,nestedDepth:g}),j=(0,t3.X6)(u),L=(0,t4.P)({isPresentMode:a,isNested:l,nestedDepth:g,isFullBleed:c,isThumbnail:s,theme:m,cardDimensions:x,defaultContentWidth:v,contentWidth:C,showPresentBackdrop:f,isMobileDevice:u,fontSize:h,docZoomLevel:w,cardFontScale:t.fontScale}),{background:I,id:M}=t,R=(0,o.GV)(E.b6),_=l||s?void 0:(0,p.FD)(I,r);return(0,S.jsx)(q.s,{onDragOver:ew.JO,top:0,left:0,position:"relative",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",cursor:"default","data-animate-value":i,fontSize:"var(--editor-font-size, 1rem)",py:"var(--card-outer-padding-y)",pl:"var(--card-outer-padding-left)",pr:"var(--card-outer-padding-right)","data-card-id":M,"data-card-scroll-element":!0,overflow:a&&!l?"hidden auto":void 0,sx:{scrollbarGutter:!a||l||D.D1?void 0:"stable"},margin:"0 auto",className:(0,N.cx)(k.QJ,"card-expanded",a&&k.WZ,a&&"card-present-mode card-present-mode--".concat(i)),transitionProperty:"transform, padding",transitionDuration:"".concat(R?k.y0:0,"ms"),..._,css:{...A,...j,...L,"--zoom-level":b,"--card-vertical-align":y},children:n})};t7.displayName="CardContainer";var t8=n(56288),ne=n(29608);let nt=(0,S.jsx)(eh.g,{icon:ep.rMD}),nn=(0,L.memo)(function(e){let{cardId:t,getPos:n,editor:i,isNested:r,isCollapsed:l,isPresentMode:s,isEditable:o,isDark:d,top:u}=e,p=(0,e8.st)(),h=(0,L.useCallback)(()=>{if(s&&!o)i.commands.spotlightCollapseCard(n());else{(0,y.wE)(t,!0);let{selection:e}=i.state,r=(0,a.KP)(c.jg)(e);r&&r.node.attrs.id===t&&i.commands.selectNodeAtPos(n())}null==p||p.track(e8.VV.CARD_COLLAPSED,{method:"collapse_button",is_present_mode:!1})},[i,n,p,t,o,s]),g=(0,t8.EC)(),m=(0,L.useMemo)(()=>(0,S.jsx)(T.Tz,{label:(0,S.jsx)(P.x6,{id:"kBUgVh"}),placement:"top",portalProps:{containerRef:g},children:(0,S.jsx)(eI.K,{variant:"ghost",size:"sm",paddingInlineStart:6*!!(0,ne.Xb)(),paddingInlineEnd:2*!!(0,ne.Xb)(),onClick:h,onMouseDown:ew.Fw,isRound:!0,"aria-label":em.Ru._({id:"H86f9p"}),"data-collapse-card-button":!0,icon:nt,color:d?"gray.300":"gray.600"})}),[h,g,d]),x=(0,L.useMemo)(()=>(0,S.jsx)(ea.$,{size:"sm",variant:"ghost",position:"absolute",zIndex:2,bottom:[1,3],right:[2,4],rightIcon:(0,S.jsx)(eh.g,{icon:ep.w2A}),"data-collapse-card-button":!0,onMouseDown:ew.Fw,onClick:h,fontWeight:"normal",color:d?"gray.300":"gray.600",children:(0,S.jsx)(P.x6,{id:"H86f9p"})}),[h,d]);return(0,S.jsxs)(q.s,{contentEditable:!1,onClick:ew.dG,className:"manage-card-controls","data-print-hidden":!0,transitionProperty:"common",transitionDuration:"normal",display:"inherit",fontFamily:"body",sx:{"[data-collapse-card-button]":{visibility:r&&!l?"visible":"hidden"}},children:[(0,S.jsx)(_.z,{spacing:1,position:"absolute",top:u||[1,3],insetInlineEnd:[2,4],zIndex:2,children:m}),r&&!l&&x]})});var ni=n(11235),na=n(6807),nr=n(65148);let nl=()=>{let e=(0,es.d)(),[t,n]=(0,na.M)(nr.E.hasSeenPresentModeDblClickNotification,!1),i=(0,o.GV)(E.VJ);return{onDoubleClick:(0,L.useCallback)(()=>{if(!i||t)return;let a=new Date,r=new Date("2024-08-15");a.getTime()>r.getTime()||(n(!0),e({title:(0,S.jsx)(P.x6,{id:"xtaPrg"}),status:"info",position:"bottom",duration:3e3,isClosable:!0}))},[i,t,n,e])}},ns=e=>{let{getPos:t,editor:n,decorations:i}=e,a=(0,ni.f)(e),{isPresentMode:r,isNested:s,isFocused:c,isEditable:d,isMobileDevice:p,cardAccentBackgroundMaskEffect:h,cardAccentBackgroundMaskIntensity:g,cardId:m,isFullBleed:x,hasNonEmptyCardNotes:f,cardContentType:b}=a,y=(0,B.u)("realUserMetrics");(0,O.XX)(y,m,a.presentVariant,a.prevPresentVariant);let v=(0,G.JL)(i),C=(0,Q.b0)(i),w=(0,o.GV)((0,e2.C_)(m,"styling")),A=(0,o.GV)((0,e2.C_)(m,"editWithAI")),j=v||C||c,L=d&&(j||A||w),I=!s&&!n.isThumbnail&&!n.isStatic&&!p&&!n.shouldUsePublishedVersion&&!r&&(f||d&&j),E=(0,o.GV)((0,l.qw)(m)),{onDoubleClick:D}=nl(),{isCardMarginsModalOpen:q,onCloseCardMarginsModal:J,onOpenCardMarginsModal:$}=(0,F.g)();return(0,S.jsx)(U.u,{as:"div",style:{minHeight:r&&!s?"100vh":0},hideComments:!0,...e,children:(0,S.jsxs)(t7,{...a,children:[(0,S.jsx)(tx,{...a,children:(0,S.jsxs)(t$,{...a,...e,onDoubleClick:D,handle:(0,S.jsx)(K.A,{...e,handlePlacement:"custom","data-testid":"card-drag-handle",zIndex:Z.$.cardButtons,insetInlineStart:2,top:3,width:"18px",height:e4.PN,label:(0,S.jsxs)(M.T,{spacing:0,children:[(0,S.jsx)(R.E,{color:"gray.400",children:(0,S.jsx)(P.x6,{id:"63lY3K",components:{0:(0,S.jsx)(R.E,{color:"white",as:"span"})}})}),(0,S.jsx)(R.E,{color:"gray.400",children:(0,S.jsx)(P.x6,{id:"COhrZ5",components:{0:(0,S.jsx)(R.E,{color:"white",as:"span"})}})})]})}),children:[(0,S.jsx)(X,{...e}),(0,S.jsxs)(_.z,{pos:"absolute",insetInlineStart:8,insetInlineEnd:2.5,zIndex:Z.$.cardButtons,top:3,align:"start",contentEditable:!1,pointerEvents:"none",spacing:1.5,children:[L&&"responsive"===b&&(0,S.jsx)(e3,{editor:n,getPos:t,...a,decorations:i,accentBackgroundMaskEffect:h,accentBackgroundMaskIntensity:g,onOpenCardMarginsModal:$}),L&&(0,S.jsx)(tr,{cardContentType:b,attrs:a.attrs,editor:n,getPos:t,node:e.node}),(0,S.jsx)(z.h,{}),d?E?(0,S.jsx)(tn,{...e,...a,isDark:a.isDark,isInteracting:j,suggestions:E}):a.attrs.generatorInput?(0,S.jsx)(td,{...e,...a,isDark:a.isDark,input:a.attrs.generatorInput,isInteracting:j}):null:null,(0,S.jsx)(z.h,{}),I&&(0,S.jsx)(t2,{editor:n,cardId:m,decorations:i,getPos:t,hasNonEmptyCardNotes:f,isReadonly:!d})]}),(0,S.jsx)(u.$p,{dir:"ltr",className:(0,N.cx)(k._P,c&&"is-focused",s&&"is-nested",(r||x)&&"is-full-width",x&&!s&&!r&&"is-borderless",a.isDark&&"is-dark")}),q&&(0,S.jsx)(H.v,{editor:n,cardNode:e.node,getPos:t,isOpen:q,onClose:J}),s&&(0,S.jsx)(nn,{top:[1,3],...a,...e})]})}),(0,S.jsx)(W.A,{children:(0,S.jsx)(T.L8,{isDark:(0,V.Mw)(a.theme),children:(0,S.jsx)(tj,{display:!d||s||r?"none":"flex",editor:n,getPos:t,isNested:s})})})]})})};var no=n(70259),nc=n(21088),nd=n(37605),nu=n(23746),np=n(40077),nh=n(26189),ng=n(83106),nm=n(86932),nx=n(17006);let nf=(0,L.memo)(e=>{let{decorations:t,editor:n,getPos:i,node:a}=e,r=(0,nc.st)(),l=(0,o.jL)(),{cardId:s,isPresentMode:c,isEditable:d,isMobileDevice:u}=(0,ni.f)(e),{title:p,text:h}=(0,no.d)({editor:n,node:a,cardId:s}),{previewContent:g}=e.node.attrs,m=""===g,x=null==p?void 0:p.replaceAll(nh.n,e=>'<span class="emoji">'.concat(e,"</span>")),f=(0,o.GV)(E.SJ),b=(0,nx.bh)("h4",f),v=(0,nm.A3)(t),C=(0,L.useCallback)(e=>{e.stopPropagation(),c&&!d?(l((0,E.mF)({attached:!1})),n.commands.descendIntoCurrentCard(i(),"push"),null==r||r.track(nd.VV.CARD_EXPANDED,{is_present_mode:!0,method:"click"})):((0,y.wE)(s,!1),setTimeout(()=>{if(!d||n.isDestroyed)return;let e=i();n.commands.selectInsideNodeAtPos(e)},50),null==r||r.track(nd.VV.CARD_EXPANDED,{is_present_mode:!1,method:"click"}))},[s,c,d,l,n,i,r]),w=m||!(null==h?void 0:h.trim());return(0,S.jsxs)(U.u,{...e,children:[(0,S.jsx)(K.A,{...e,"data-testid":"card-drag-handle",handlePlacement:"outside"}),(0,S.jsxs)(J.a,{mb:"0.25em",position:"relative",contentEditable:!1,userSelect:"none",role:"group","data-card-id":s,"data-export-as-image":!0,children:[(0,S.jsxs)(e7.e,{position:"absolute",insetInlineEnd:"0.75em",top:"0.75em","data-print-hidden":!0,variant:"unstyled",colorScheme:"gray",fontFamily:"body","data-thumbnail-hidden":!0,children:[d&&(0,S.jsx)(nb,{hidePreview:m,...e}),(0,S.jsx)(ny,{onClick:C})]}),(0,S.jsxs)(J.a,{cursor:"pointer",className:(0,N.cx)(k.QJ,"card-collapsed",v&&"expandable-selected"),_groupHover:nu.uQ,...nu.zQ,paddingX:u?"1em":"1.5em",paddingY:"1em",onClick:C,"data-collapsed-card":!0,"data-selection-ring":!0,"data-selection-background":!0,"data-content-reference":!0,sx:{backgroundColor:"var(--clickable-background-color)",boxShadow:"var(--card-border-shadow, 0px 0px 0px 1px var(--neutral-border-color)), var(--card-box-shadow, var(--clickable-shadow))",borderRadius:"calc(var(--card-border-radius) / 2)","@media print":{boxShadow:"none",border:"var(--card-border, 1px solid var(--neutral-border-color))"}},children:[(0,S.jsx)(R.E,{sx:b,noOfLines:1,marginInlineEnd:"1.75em",mb:"0.375em",className:(0,N.cx)(np.U6),children:x?(0,S.jsx)(R.E,{as:"span",dangerouslySetInnerHTML:{__html:ng.W.sanitize(x)}}):p||(0,S.jsx)(R.E,{as:"span",color:"gray.400",children:(0,S.jsx)(P.x6,{id:"gLDJuJ"})})}),(0,S.jsxs)(_.z,{color:"var(--body-color-muted)",children:[(0,S.jsx)(R.E,{noOfLines:1,fontFamily:w?"body":void 0,fontSize:"0.9em",children:w?(0,S.jsx)(P.x6,{id:"4m3nxQ"}):h}),m&&(0,S.jsx)(eh.g,{icon:ep.Jt$,size:"sm"})]})]})]})]})});nf.displayName="CollapsedCard";let nb=e=>{let{hidePreview:t,updateAttributes:n}=e,i=(0,o.GV)(E.cS),a=(0,L.useCallback)(e=>{n&&(n({previewContent:t?null:""}),e.stopPropagation())},[n,t]);return(0,S.jsx)(ea.$,{opacity:0,zIndex:+!i,transitionProperty:"opacity",transitionDuration:"normal",_groupHover:{opacity:1},sx:nu.Up,fontSize:"0.7em",onClick:a,className:nu.Gx,children:t?(0,S.jsx)(P.x6,{id:"fsyAH8"}):(0,S.jsx)(P.x6,{id:"Po0vX/"})})},ny=e=>{let{onClick:t}=e,n=(0,o.GV)(E.cS);return(0,S.jsxs)(ea.$,{"aria-label":em.Ru._({id:"JjrOSL"}),className:nu.Gx,onClick:t,sx:nu.Up,zIndex:+!n,fontSize:"0.7em","data-testid":"expand-card-button",children:[(0,S.jsx)(eh.g,{icon:ep.vQu,fontSize:"0.9em"}),(0,S.jsx)(R.E,{as:"span",_groupHover:{opacity:1,display:"inline"},opacity:"0",display:"none",marginInlineStart:2,children:(0,S.jsx)(P.x6,{id:"1A3EXy"})})]})},nv=e=>{let{editor:t,node:n}=e,{id:i}=n.attrs,a=(0,o.GV)((0,E.WS)(i)),r=(0,o.GV)(E.nD),l=(0,I.UT)("edit"),s=null==t?void 0:t.isThumbnail,{isStatic:c}=t;return!n.attrs.hidden||D.D1||s||c||r&&l?a?(0,S.jsx)(nf,{...e}):(0,S.jsx)(ns,{...e}):null};(()=>{if(A)return;let e=C.n.valid;C.n.valid=t=>{if(!(0,w.e)(t.doc).cardLayoutsEnabled)return e(t);let n=e(t);return!(n&&(t.nodeAfter&&(0,c.sw)(t.nodeAfter)||t.nodeBefore&&(0,c.sw)(t.nodeBefore)))&&n},A=!0})();let nC=e=>{if((0,g.Op)(e)||1===e.childCount&&(0,g.Op)(e.firstChild))return!0;if("blank"!==e.attrs.layout)return!1;let t=(0,c.dT)(e);if(0===t.length)return!1;let n=t.find(e=>"body"===e.attrs.itemId);return!!n&&1===n.childCount&&(0,g.Op)(n.firstChild)},nw=e=>{let{newNode:t,newDecorations:n,oldNode:i,oldDecorations:a,updateProps:r}=e,l=JSON.stringify(t.attrs)!==JSON.stringify(i.attrs),s=(0,b.w_)(a,n),o=nC(t)!==nC(i);return(l||s||o)&&(console.debug("[cardUpdateFn] Card ".concat(t.attrs.id," updateProps will be called:"),{oldDecorations:a,newDecorations:n,decorationsChanged:s}),r()),!0},nA=a.bP.create({name:k.Qs,content:"(block | cardBlock)+ | (cardLayoutItemGroup{1,2} | cardImageItem | cardCodeItem) cardNotes?",group:"cardBlock",defining:!1,isolating:!0,selectable:!1,draggable:!0,priority:x.y.Card,containerHandle:!0,imageKeyPath:"background.image",allowGapCursor:!1,expandable:!0,addNodeView(){return(0,u.gu)(nv,{update:nw,ignoreMutation:e=>{let{mutation:t}=e,n=this.editor.state.selection,i=t.target instanceof HTMLElement?t.target:t.target.parentElement,a="selection"!==t.type&&nj(i),l="selection"===t.type&&n instanceof r.nh&&(0,f.Bv)(n.node);return!!a||!!l}})},addProseMirrorPlugins(){return[(0,j.qc)(this.editor)]},addOptions:()=>({isStatic:!1}),addAttributes:()=>({id:{},previewContent:{default:null},background:{default:h.SS,...(0,g.tb)("background")},container:{default:{},...(0,g.tb)("container")},cardSize:{default:"default",parseHTML:e=>e.getAttribute("card-size")||"default"},layout:{default:"blank",parseHTML:e=>e.getAttribute("image-layout")||e.getAttribute("layout")||"blank"},layoutTemplateColumns:{default:null,parseHTML:e=>e.getAttribute("layout-template-columns")||null,renderHTML:e=>({"layout-template-columns":e.layoutTemplateColumns})},layoutTemplateRows:{default:null,parseHTML:e=>e.getAttribute("layout-template-rows")||null,renderHTML:e=>({"layout-template-rows":e.layoutTemplateRows})},verticalAlign:{default:null,parseHTML:e=>e.getAttribute("vertical-align"),renderHTML:e=>({"vertical-align":e.verticalAlign})},generatorInput:{default:null,...(0,g.tb)("generatorInput")},fontScale:{default:null},cardMarginSettings:{default:{},...(0,g.tb)("cardMarginSettings")},hidden:{default:!1}}),addExtensions(){return[tA.$b.configure({callback:(e,t,n)=>{0!==t.length&&t.forEach(e=>{let{val:t}=e;console.debug("[Card.UniqueCardId] New card id(".concat(t,") created. Will be created in postgres through content service.")),(0,y.wV)(t)})},types:[this.name]})]},addCommands:()=>({}),parseHTML:()=>[{tag:"div[class=gamma-card]"},{tag:"section",getAttrs:nk()},{tag:"section[bookmark]",getAttrs:m.Ll,getContent:m.cn}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,a.KV)(t,{class:"gamma-card"}),0]},renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e,a=(0,y.Wq)(t.attrs.id),r=(0,l.hn)((0,o.KA)().getState()),c=t.attrs;if(!1===a||r||n){var d,u,h,g;return["section",{id:n?void 0:c.id,"image-layout":c.layout,"layout-template-columns":null!=(d=c.layoutTemplateColumns)?d:void 0,"layout-template-rows":null!=(u=c.layoutTemplateRows)?u:void 0,"vertical-align":null!=(h=c.verticalAlign)?h:void 0,"background-color":null!=(g=(0,p.gK)(c.container.background))?g:void 0},0]}let x=(0,m.vL)(t),f=(0,i.getCardTitle)(t.toJSON()),b=(0,v.o_)(t);return["section",{bookmark:x,title:f,accentPosition:t.attrs.layout,accentImage:(null==b?void 0:b.image)?(0,s.ve)(b.image):void 0}]}}),nj=e=>{var t;return(null==e?void 0:e.parentElement)&&(e.classList.contains(k.QJ)||(null==(t=e.parentElement.closest(".".concat(k._P,", .").concat(k.QJ)))?void 0:t.classList.contains(k.QJ)))},nk=()=>e=>{let t=e.getAttribute("id")||tA.Yv.generate(),n=e.getAttribute("background-color");return{id:t,container:n?{background:{color:{hex:n},type:d.h.COLOR}}:void 0}}},26779:(e,t,n)=>{"use strict";n.d(t,{tN:()=>eu,Wv:()=>eh,a9:()=>ep,oB:()=>ex,Pf:()=>ef});var i=n(6029),a=n(94740),r=n(66199),l=n(18078),s=n(25311),o=n(49146),c=n(23908),d=n(36693),u=n(58959),p=n(20061),h=n(3448),g=n(72470),m=n(77979),x=n(16936),f=n(49611),b=n(57405),y=n(48810),v=n(99492),C=n(48621),w=n(47412),A=n(19564),j=n(77650),k=n(55729),S=n(62452),L=n(30892),I=n(96500),E=n(40452),D=n(50933),M=n(83743),R=n(25256),_=n.n(R),z=n(81136),N=n(38036),T=n(26420),P=n(33750),H=n.n(P),F=n(33612),B=n.n(F),O=n(70652),V=n(10500),W=n(45460);let U=(0,W.R)((e,t)=>{let{color:n,name:a,isActive:r,size:l=8,onClick:s,buttonProps:o}=e,c=(0,S.ZY)(n)?"white":"black";return(0,i.jsx)(w.Tz,{label:a,placement:"top",isDisabled:!a,children:(0,i.jsx)(f.$,{display:"inline-block",alignSelf:"center",boxSize:l,borderRadius:"md",border:"1px solid",borderColor:"gray.200",color:c,css:(0,S.Sf)(n),onClick:()=>null==s?void 0:s(n),variant:"unstyled",minW:l,fontSize:"xs",transitionProperty:"border",transitionDuration:"normal",ref:t,...o,children:r&&(0,i.jsx)(V.S,{})})})});U.displayName="ThemeColorIcon";var G=n(78140),Z=n(36999),K=n(41283),Q=n(37930),q=n(48478);let J=e=>{let{mode:t,setMode:n}=e;return(0,i.jsxs)(G.W,{children:[(0,i.jsx)(Z.I,{as:f.$,size:"sm",rightIcon:(0,i.jsx)(C.g,{icon:v.Jt$,size:"sm"}),minW:24,textAlign:"start",children:t}),(0,i.jsx)(K.c,{children:(0,i.jsx)(Q.i,{defaultValue:t,value:t,title:j.Ru._({id:"YDWhuY"}),type:"radio",onChange:n,children:["HEX","RGB","HSL"].map(e=>(0,i.jsx)(q.k,{value:e,children:e},e))})})]})},$={type:"solid",color:"#FF0000"},Y=e=>{let[t,n]=(0,k.useState)("HEX"),a=e.color||e.defaultColor||$,r=(0,S.Ik)(a),{updateColor:l}=e,s=(0,k.useCallback)(e=>{l({type:"solid",color:e})},[l]);return(0,i.jsxs)(b.T,{align:"start",spacing:4,children:[(0,i.jsx)(ef,{...e}),(0,i.jsxs)(b.T,{children:[(0,i.jsx)(ei,{color:r,onChange:s}),(0,i.jsxs)(u.z,{w:"100%",spacing:4,children:[(0,i.jsx)(U,{color:a}),(0,i.jsx)(en,{color:r,onChange:s}),(0,i.jsx)(ea,{color:r,onChange:s})]}),(0,i.jsxs)(u.z,{flex:1,w:"100%",children:[(0,i.jsx)(J,{mode:t,setMode:n}),"HEX"===t&&(0,i.jsx)(X,{initialFocusRef:e.initialFocusRef,color:r,updateColor:s,placeholder:$.color}),"HSL"===t&&(0,i.jsx)(ee,{color:r,updateColor:s}),"RGB"===t&&(0,i.jsx)(et,{color:r,updateColor:s})]})]})]})},X=e=>{let{color:t,updateColor:n,placeholder:a,initialFocusRef:r}=e,[l,s]=(0,k.useState)(t),[o,c]=(0,k.useState)(!1);(0,k.useEffect)(()=>{s(t)},[t]);let d=(0,k.useCallback)(e=>{let t=e.target.value;s(t),(0,L.fd)(t)&&n(t)},[n]),u=(0,k.useCallback)(e=>{let t=(0,O.U)(e.target.value);(0,L.fd)(t)&&n(t)},[n]);return(0,k.useEffect)(()=>{if(r&&!o){var e;null==(e=r.current)||e.select(),c(!0)}},[o,r]),(0,i.jsx)(N.p,{ref:r,size:"sm",type:"text",value:l,onChange:d,onBlur:u,onKeyDown:e=>{"Enter"===e.key&&u(e)},fontFamily:"mono",placeholder:a,"data-testid":"color-picker-text-input-hex"})},ee=e=>{let{color:t,updateColor:n}=e,a=B()(t).toHsl(),[r,l,s]=[a.h,100*a.s,100*a.l],o=e=>{n(B()({h:e,s:l/100,l:s/100}).toHexString())},c=e=>{n(B()({h:r,s:e/100,l:s/100}).toHexString())},d=e=>{n(B()({h:r,s:l/100,l:e/100}).toHexString())};return(0,i.jsxs)(u.z,{children:[(0,i.jsx)(N.p,{size:"sm",type:"number",value:Math.round(r),onChange:e=>o(Number(e.target.value)),min:0,max:360,step:1,flex:1}),(0,i.jsx)(N.p,{size:"sm",type:"number",value:Math.round(l),onChange:e=>c(Number(e.target.value)),min:0,max:100,step:1,flex:1}),(0,i.jsx)(N.p,{size:"sm",type:"number",value:Math.round(s),onChange:e=>d(Number(e.target.value)),min:0,max:100,step:1,flex:1})]})},et=e=>{let{color:t,updateColor:n}=e,a=B()(t).toRgb(),[r,l,s]=[a.r,a.g,a.b],o=e=>{n(B()({r:e,g:l,b:s}).toHexString())},c=e=>{n(B()({r,g:e,b:s}).toHexString())},d=e=>{n(B()({r,g:l,b:e}).toHexString())};return(0,i.jsxs)(u.z,{children:[(0,i.jsx)(N.p,{size:"sm",type:"number",value:r,onChange:e=>o(Number(e.target.value)),min:0,max:255,step:1,flex:1}),(0,i.jsx)(N.p,{size:"sm",type:"number",value:l,onChange:e=>c(Number(e.target.value)),min:0,max:255,step:1,flex:1}),(0,i.jsx)(N.p,{size:"sm",type:"number",value:s,onChange:e=>d(Number(e.target.value)),min:0,max:255,step:1,flex:1})]})},en=e=>{let{color:t,onChange:n}=e,a=B()(t).toHsv(),[r,l]=(0,k.useState)(a.h);return(0,k.useEffect)(()=>{l(a.h)},[a.h]),(0,i.jsxs)(D.Ap,{min:0,max:360,defaultValue:r,value:r,size:"lg",onChange:e=>{l(e),n(B()({h:e,s:a.s,v:a.v}).toHexString())},step:.1,focusThumbOnChange:!1,children:[(0,i.jsx)(D.hB,{h:3,borderRadius:"full",bgGradient:"linear(to-r, hsl(0, 100%, 50%),  hsl(60, 100%, 50%),  hsl(120, 100%, 50%),  hsl(180, 100%, 50%),  hsl(240, 100%, 50%),  hsl(300, 100%, 50%),  hsl(360, 100%, 50%))"}),(0,i.jsx)(D.OQ,{borderWidth:3,borderColor:"white",bg:"hsl(".concat(a.h,", 100%, 50%)"),boxSize:"24px",shadow:"md",outline:"1px solid",outlineColor:"blackAlpha.200"})]})},ei=e=>{let{color:t,onChange:n}=e,[a,r]=(0,k.useState)(!1),l=(0,k.useRef)(null),s=(0,k.useRef)(null),o=(0,k.useRef)(null),c=B()(t).toHsv(),d=B()({h:c.h,s:100,v:100}),u=(0,k.useCallback)((e,t)=>{if(!l.current)return;let n=e/l.current.width,i=1-t/l.current.height;return c.s=n,c.v=i,c},[c]),p=(0,k.useCallback)(e=>{if(!l.current)return{x:0,y:0};let t=B()(e).toHsv(),n=t.s,i=t.v;return{x:n*l.current.width,y:(1-i)*l.current.height}},[]),h=(0,k.useCallback)(()=>{let e=l.current,t=null==e?void 0:e.getContext("2d");if(!e||!t)return;let n=e.width,i=e.height,a=t.createLinearGradient(0,0,n,0);a.addColorStop(0,"white"),a.addColorStop(1,d.toHexString()),t.fillStyle=a,t.fillRect(0,0,n,i);let r=t.createLinearGradient(0,0,0,i);r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"black"),t.fillStyle=r,t.fillRect(0,0,n,i)},[d]),g=(0,k.useCallback)((e,t)=>{if(!l.current||!s.current)return{x:0,y:0};let n=l.current.clientWidth,i=l.current.clientHeight,a=H()(e,0,n),r=H()(t,0,i);return s.current.style.left="".concat(a,"px"),s.current.style.top="".concat(r,"px"),{x:a,y:r}},[]);(0,k.useEffect)(()=>{h();let{x:e,y:n}=p(t);g(e,n)},[t,p,h,g]);let m=(0,k.useCallback)(e=>{if(!o.current)return;let t=o.current.getBoundingClientRect(),{x:i,y:a}=g(e.clientX-t.left,e.clientY-t.top),r=u(i,a);r&&(n(B()(r).toHexString()),e.preventDefault())},[n,u,g]),x=(0,k.useCallback)(e=>{r(!1),e.preventDefault()},[]),f=(0,k.useCallback)(e=>{r(!0),m(e),e.preventDefault()},[m]);return(0,k.useEffect)(()=>{if(a)return document.addEventListener("mousemove",m),document.addEventListener("mouseup",x),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",x)}},[m,x,a]),(0,i.jsxs)(T.a,{pos:"relative",ref:o,onMouseDown:f,children:[(0,i.jsx)(T.a,{ref:s,pos:"absolute",w:5,h:5,border:"2px solid white",borderRadius:"full",transform:"translate(-50%, -50%) scale(".concat(a?1.2:1,")"),boxShadow:"md",transitionProperty:"transform",transitionDuration:"normal",bg:B()(t).toHexString(),outline:"1px solid",outlineColor:"blackAlpha.200"}),(0,i.jsx)(T.a,{as:"canvas",ref:l,width:"100%",height:"150px",borderRadius:"md",shadow:"base",border:"1px solid",borderColor:"gray.200"})]})},ea=e=>{let{onChange:t}=e,n=(0,k.useCallback)(()=>{new window.EyeDropper().open().then(e=>{t(e.sRGBHex)}).catch(e=>{console.error("Eyedropper error:",e)})},[t]);return"EyeDropper"in window?(0,i.jsx)(x.K,{size:"sm",icon:(0,i.jsx)(C.g,{fixedWidth:!0,icon:v.jC5}),onClick:n,variant:"ghost","aria-label":j.Ru._({id:"A94+Ww"})}):null},er=e=>{let[t,n]=(0,k.useState)("HEX"),{updateColor:a,color:r}=e,[l,s]=(0,k.useState)(0),o=r.stops[l],c=(0,k.useCallback)((e,t)=>{let n=[...r.stops];void 0===t?(n.splice(e,1),s(Math.min(e,n.length-1))):(n[e]=t,s(e)),a({...r,stops:n})},[r,a]),d=(0,k.useCallback)(e=>{let t=[...r.stops];t.push(e),t.sort((e,t)=>e.position-t.position),s(_()(t,e)),a({...r,stops:t})},[r,a]),p=(0,k.useCallback)(e=>{c(l,{...o,color:e})},[o,l,c]);return(0,i.jsxs)(b.T,{align:"start",spacing:4,children:[(0,i.jsx)(el,{...e,addStop:d,currentStop:o,updateStop:c,currentStopIndex:l,setCurrentStopIndex:s}),(0,i.jsx)(ef,{...e,updateColor:e=>{"linear-gradient"===e.type?a(e):p(null==e?void 0:e.color)}}),(0,i.jsx)(I.c,{}),(0,i.jsxs)(b.T,{children:[(0,i.jsx)(ei,{color:o.color,onChange:p}),(0,i.jsxs)(u.z,{w:"100%",spacing:4,children:[(0,i.jsx)(U,{color:r}),(0,i.jsx)(en,{color:o.color,onChange:p}),(0,i.jsx)(ea,{color:o.color,onChange:p})]}),(0,i.jsxs)(u.z,{flex:1,w:"100%",children:[(0,i.jsx)(J,{mode:t,setMode:n}),"HEX"===t&&(0,i.jsx)(X,{initialFocusRef:e.initialFocusRef,color:o.color,updateColor:p,placeholder:$.color}),"HSL"===t&&(0,i.jsx)(ee,{color:o.color,updateColor:p}),"RGB"===t&&(0,i.jsx)(et,{color:o.color,updateColor:p})]}),(0,i.jsx)(es,{...e})]})]})},el=e=>{let{color:t,updateStop:n,currentStopIndex:a,setCurrentStopIndex:r,addStop:l}=e,{stops:s}=t,o=s.length>2,c=s.length<5;return(0,i.jsxs)(u.z,{w:"100%",spacing:0,children:[(0,i.jsx)(E.s,{borderRadius:"full",background:(0,z.yh)({...t,angle:90}),pos:"relative",h:3,border:"1px solid",borderColor:"gray.200",flex:1,me:2,children:s.map((e,t)=>{let l=t===a;return(0,i.jsx)(E.s,{pos:"absolute",inset:0,top:-1.5,children:(0,i.jsxs)(D.Ap,{size:"lg",value:e.position,min:0,max:100,step:1,onChange:i=>{n(t,{...e,position:i})},onClick:()=>r(t),children:[(0,i.jsx)(D.hB,{bg:"transparent",h:3}),(0,i.jsx)(D.OQ,{borderWidth:3,borderColor:"white",boxSize:"24px",shadow:"md",outline:l?"2px solid":"1px solid",outlineColor:l?"trueblue.300":"blackAlpha.200",bg:e.color})]})},t)})}),(0,i.jsx)(w.Tz,{label:(0,i.jsx)(A.x6,{id:"VztmP9"}),children:(0,i.jsx)(x.K,{icon:(0,i.jsx)(C.g,{icon:v.yLS}),"aria-label":j.Ru._({id:"VztmP9"}),onClick:()=>n(a,void 0),size:"sm",variant:"ghost",isDisabled:!o})}),(0,i.jsx)(w.Tz,{label:(0,i.jsx)(A.x6,{id:"MKajKJ"}),children:(0,i.jsx)(x.K,{icon:(0,i.jsx)(C.g,{icon:v.QLR}),"aria-label":j.Ru._({id:"MKajKJ"}),onClick:()=>{l(eo(t))},size:"sm",variant:"ghost",isDisabled:!c})})]})},es=e=>{let{color:t,updateColor:n}=e;return(0,i.jsxs)(b.T,{align:"start",w:"100%",children:[(0,i.jsx)(y.E,{fontWeight:"600",fontSize:"sm",color:"gray.500",children:(0,i.jsx)(A.x6,{id:"YMybpT"})}),(0,i.jsx)(M.r,{columns:4,spacing:2,w:"100%",children:ec.map(e=>{let a=t.angle===e.value;return(0,i.jsx)(U,{color:{...t,angle:e.value},onClick:()=>n({...t,angle:e.value}),isActive:a,buttonProps:{w:"100%"},name:e.label},e.value)})})]})},eo=e=>{let t=e.stops[0],n=e.stops[1],i=e.stops.reduce((i,a,r)=>{let l=e.stops[r+1];if(!l)return i;let s=l.position-a.position;return s>i.distance?(t=a,n=l,{distance:s,position:a.position+s/2}):i},{distance:0,position:0});return{color:(0,L.tV)(t.color,n.color,i.position/100),position:i.position}},ec=[{label:"0\xb0",value:0},{label:"45\xb0",value:45},{label:"90\xb0",value:90},{label:"135\xb0",value:135},{label:"180\xb0",value:180},{label:"225\xb0",value:225},{label:"270\xb0",value:270},{label:"315\xb0",value:315}],ed=(0,W.R)((e,t)=>{let{color:n,updateColor:a,defaultColor:r={type:"solid",color:"#000000"},onClick:l,canReset:s,dataTestId:o}=e;return(0,i.jsxs)(g.M,{size:"md","data-testid":o,children:[(0,i.jsx)(N.p,{type:"text",placeholder:r?"".concat((0,S.ZR)(r)," ").concat(j.Ru._({id:"P9Cyl9"})):j.Ru._({id:"ovBPCi"}),value:n?(0,S.ZR)(n):"",readOnly:!0,fontFamily:"monospace",bg:"white",onFocus:l}),(0,i.jsx)(m.W,{children:(0,i.jsx)(U,{color:n||r,ref:t,onClick:l,size:7})}),s&&(0,i.jsx)(m.t,{children:(0,i.jsx)(w.Tz,{label:(0,i.jsx)(A.x6,{id:"L+rMC9"}),placement:"top",children:(0,i.jsx)(x.K,{"aria-label":j.Ru._({id:"cnGeoo"}),variant:"ghost",onClick:()=>a(void 0),icon:(0,i.jsx)(C.g,{icon:v.U23}),size:"sm",colorScheme:"red"})})})]})});ed.displayName="ThemeColorPickerInput";let eu=e=>{let t=(0,k.useRef)(null);return(0,i.jsxs)(a.A,{isLazy:!0,strategy:"fixed",modifiers:[{name:"preventOverflow",options:{altAxis:!0}}],initialFocusRef:t,children:[(0,i.jsx)(r.W,{children:(0,i.jsx)(ed,{...e,canReset:!!(e.color&&e.defaultColor)})}),(0,i.jsx)(l.h,{zIndex:"modalPopover",border:"1px solid",borderColor:"gray.50",children:(0,i.jsx)(s.e,{children:(0,i.jsx)(em,{...e,initialFocusRef:t})})})]})},ep=e=>(0,i.jsx)(eu,{...e,solidOnly:!0}),eh=e=>(0,i.jsx)(eu,{...e}),eg=["solid","linear-gradient"],em=e=>{let{color:t,updateColor:n,solidOnly:a}=e,r=(null==t?void 0:t.type)||"solid",l=eg.indexOf(r),s=(0,k.useCallback)(e=>{let i=eg[e];if(r===i)return;let a=(0,S.Ik)(t||$);"solid"===i?n({color:a,...t,type:"solid"}):"linear-gradient"===i&&n({stops:[{color:a,position:0},{color:(0,L.Pf)(a,(0,L.$p)(a)?20:-20),position:100}],angle:45,...t,type:"linear-gradient"})},[r,t,n]);return a?(0,i.jsx)(Y,{...e}):(0,i.jsxs)(o.t,{variant:"soft-rounded",size:"sm",isFitted:!0,isLazy:!0,index:l,onChange:s,children:[(0,i.jsxs)(c.w,{children:[(0,i.jsx)(d.o,{children:(0,i.jsxs)(u.z,{children:[(0,i.jsx)(C.g,{icon:v.l8N,fixedWidth:!0}),(0,i.jsx)(A.x6,{id:"5bi1la"})]})}),(0,i.jsx)(d.o,{children:(0,i.jsxs)(u.z,{children:[(0,i.jsx)(C.g,{icon:v.IlC,fixedWidth:!0}),(0,i.jsx)(A.x6,{id:"/S8bMP"})]})})]}),(0,i.jsxs)(p.T,{children:[(0,i.jsx)(h.K,{p:0,pt:4,children:(0,i.jsx)(Y,{...e})}),(0,i.jsx)(h.K,{p:0,pt:4,children:(0,i.jsx)(er,{...e,color:t})})]})]})},ex=e=>{let{colors:t,updateColors:n,buttonLabel:a,maxColors:r=10,minColors:l=0,theme:s,palette:o,solidOnly:c}=e,d=(0,k.useCallback)(e=>{let i=[...t];i.splice(e,1),n(i)},[t,n]),u=(0,k.useCallback)((e,i)=>{if(!i)return void d(e);let a=[...t];a[e]=i,n(a)},[t,n,d]),p=(0,k.useCallback)(()=>{n([...t,$])},[t,n]);return(0,i.jsxs)(i.Fragment,{children:[t.map((e,n)=>(0,i.jsxs)(g.M,{mb:2,css:{isolation:"unset"},children:[(0,i.jsx)(eh,{theme:s,color:e,updateColor:e=>u(n,e),palette:o,solidOnly:c}),t.length>l&&(0,i.jsx)(m.t,{children:(0,i.jsx)(w.Tz,{label:(0,i.jsx)(A.x6,{id:"DXNS21"}),placement:"top",children:(0,i.jsx)(x.K,{"aria-label":j.Ru._({id:"cnGeoo"}),variant:"ghost",size:"sm",colorScheme:"red",onClick:()=>d(n),icon:(0,i.jsx)(C.g,{icon:v.yLS})})})})]},n)),t.length<r&&(0,i.jsx)(f.$,{onClick:p,variant:"plain",size:"sm",leftIcon:(0,i.jsx)(C.g,{icon:v.QLR}),children:a||(0,i.jsx)(A.x6,{id:"Fz6khn"})})]})},ef=e=>{let{theme:t,color:n,updateColor:a,solidOnly:r=!1,palette:l="theme"}=e,s=[];return("theme"===l?s=(0,S.ND)(t,r):"accent"===l&&(s=(0,S.CD)(t)),r&&(s=s.filter(S.mO)),0===s.length)?null:(0,i.jsxs)(b.T,{align:"start",children:[(0,i.jsx)(y.E,{fontWeight:"600",fontSize:"sm",color:"gray.500",children:(0,i.jsx)(A.x6,{id:"DNUgpN"})}),(0,i.jsx)(u.z,{wrap:"wrap",children:s.map((e,t)=>(0,i.jsx)(U,{name:(0,S.mO)(e)?(0,S.ZR)(e):void 0,color:e,onClick:a,isActive:n&&(0,S.Gw)(n,e)},t))})]})}},27246:(e,t,n)=>{"use strict";n.d(t,{Bn:()=>w,OX:()=>C,jV:()=>v});var i=n(37243),a=n(63867),r=n(62040),l=n(97255),s=n(8944),o=n(15342),c=n(74677),d=n(52762),u=n(15607),p=n(28700),h=n(59080),g=n(53138),m=n(36145),x=n(47665),f=n(17275),b=n(39822),y=n(94922);let v=new a.hs("cardLayoutPlugin"),C=e=>new a.k_({key:v,state:{init:()=>({draggingData:null}),apply:(e,t)=>t},filterTransaction:(e,t)=>{if(!e.docChanged||!((0,i.BQ)(t.selection)&&(0,x.sw)(t.selection.node))||e.steps.every(e=>e instanceof r.q4)||e.getMeta("imageUploadUpdateAttrs")||e.steps.every(t=>{if(!(t instanceof r.Ln))return!1;let n=e.before.nodeAt(t.from);if(!n||!(0,y.wL)(n))return!1;let i=t.slice.content;return 1===i.childCount&&(0,y.wL)(i.firstChild)}))return!0;let n=(0,c.A)(e).every(t=>{let n=e.before.nodeAt(t.oldStart);return!n||!(0,x.sw)(n)});return n||console.warn("[CardLayoutPlugin] blocking transaction with CardLayoutItem selected"),n},appendTransaction:(t,n,a)=>{if(!(t.some(e=>e.docChanged)&&!n.doc.eq(a.doc))||!(0,h.e)(e.state.doc).cardLayoutsEnabled)return;let r=a.tr,l=(0,i.T7)(n.doc,t);if((0,c.A)(l).forEach(t=>{let n={from:t.newStart,to:t.newEnd};(0,i.Nx)(a.doc,n,e=>"card"===e.type.name&&"responsive"===(0,x.g6)(e)).forEach(t=>{let{pos:i}=t;if(i<n.from)return;let a=r.mapping.map(i),l=r.doc.nodeAt(a);if(!l)return;let s=(0,y.lH)(l.attrs.layout);(0,y.Fm)(r,a,e.schema,s)})}),r.docChanged)return r},props:{handleDOMEvents:{dragstart:(t,n)=>(0,b.Po)(e,t,n),drop(t,n){let i=t.state.tr,a=(0,b.ZL)(t,n);if(a&&a.isImageUpload){n.preventDefault();let r=a.pos;(0,f.c)(e,i,r,a.layout);let{accent:l}=(0,y.dg)(i,r);if(!l)throw Error("Could not find accent after setting card layout=".concat(a.layout," at pos=").concat(a.pos));return(0,g.TH)(e,i,a.file,l.pos),t.dispatch(i),!0}let r=(0,b.nA)(t,n);if(r&&r.isImageUpload)return n.preventDefault(),(0,g.TH)(e,i,r.file,r.pos),t.dispatch(i),!0;let l=(0,b.aI)(e,t,n),s=v.getState(t.state);return l&&s&&(s.draggingData={removeLayoutFromCardId:l.node.attrs.id}),!1}},handlePaste:(t,n,i)=>{let{selection:r}=t.state;if(!(r instanceof a.nh&&(0,y.wL)(r.node)))return!1;let l=(0,m.bC)(e,n,i),s=(0,p.H)(i);if(s&&"image"!==s.type.name||!l)return!1;let o=l.attrs||(null==s?void 0:s.attrs);return e.commands.updateNestedAttributesAtPos(r.from,{background:{image:o,type:d.h.IMAGE,source:null==o?void 0:o.source}}),l.upload(),!0},handleDrop(t,n,i){let a=t.state.tr,r=(0,b.f0)(e,a,t,n,i),l=(0,b.vR)(t,a,n,i);return(!!r||!!l)&&((0,b.zZ)(e,a),t.dispatch(a),!0)},decorations:e=>{let{doc:t}=e,n=[];return t.descendants((e,i)=>{if("card"===e.type.name){let a=t.resolve(i),r=(0,u.TK)(a,x.jg).map(e=>e.node),c=(0,s.uw)((0,o.KA)().getState()),d=(0,y.zr)({parentCards:r,layout:e.attrs.layout,isMobileDevice:c});e.forEach((t,i)=>{let s=a.pos+i+1;if(!(0,x.sw)(t))return;let o={cardId:e.attrs.id,isCardLayoutDecoration:!0,layout:d,cardSize:e.attrs.cardSize,isNested:r.length>=1};n.push(l.NZ.node(s,s+t.nodeSize,{"data-layout-item-id":t.attrs.itemId},o))})}}),l.zF.create(t,n)}}}),w=e=>{let t=e.find(e=>e.spec.isCardLayoutDecoration);return null==t?void 0:t.spec}},27856:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,h:()=>s});var i=n(51684),a=n(50171),r=n(50507);let l={blankCard:"/new"},s=()=>(0,r.st)().reduce((e,t)=>{let{id:n,name:a,jsonContent:r}=t;return e[n]={type:"cardTemplate",key:n,nodeName:"card",name:a,...l[n]&&{shortcut:l[n]},icon:i.Qyz,execute:e=>{e.commands.insertContentAndSelect(r)}},e},{}),o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return(0,a.g)(e).map(e=>{let{name:t,templateIds:n}=e,i=n.map(e=>s()[e]);return{subcategory:t(),items:i}})}},28613:(e,t,n)=>{"use strict";n.d(t,{$:()=>x});var i=n(6029),a=n(21938),r=n(37243),l=n(94289),s=n(55729),o=n(4097),c=n(15607),d=n(33201);let u=e=>{let t={};for(let n of e.attributes){let e=n.name;"class"===e?t.className=n.value:"contenteditable"===e&&"false"===n.value||(t[e]=n.value)}return t},p=(e,t,n,a)=>{let r=Array.from(n.contentComponent.renderers.values()).find(t=>t.props.node===e);if(r){let e=r.element.nodeName.toLowerCase()||"div",{style:n,...l}=u(r.element);return(0,i.jsx)(e,{"data-pos":t,...l,STYLE:"white-space: inherit;".concat(n),children:(0,i.jsx)(r.component,{...r.props,children:a})},r.id)}return null},h=e=>{var t;return null!=(t=e.config.renderHTMLforSSR)?t:e.config.renderHTML},g=e=>{let t={...e};return(null==t?void 0:t.style)&&(t.STYLE=t.style,delete t.style),(null==t?void 0:t.class)&&(t.className=t.class,delete t.class),(null==t?void 0:t.colspan)&&(t.colSpan=t.colspan,delete t.colspan),(null==t?void 0:t.rowspan)&&(t.rowSpan=t.rowspan,delete t.rowspan),t},m=(e,t)=>{var n;let i=(0,c.vC)(e,t.type);if(!i)return[];let a=e.extensionManager.attributes.filter(e=>e.type===t.type.name),l=(0,r.zU)(t,a),s=i;for(;!h(s)&&s.parent;)s=s.parent;let o=null==(n=h(s))?void 0:n.bind(i);if(!o)return[];let[d,u,p]=o({HTMLAttributes:l,node:t,mark:t,editor:e});return[d,g(u),p]},x=s.memo(e=>{let{node:t,editor:n,getPos:r}=(0,o.c)();if(!t||!n)return null;let c=e.as||"div",u=t.isInline||t instanceof l.CU?"span":"div",h=[],g=null==r?void 0:r(),x="number"==typeof g?g:null,f=(e,t,r)=>{let l=(null===x?0:x)+t+1,o=p(e,l,n);if(o)return o;let c=t=>Array.from(e.marks).reverse().reduce((e,t)=>{let i=p(t,l,n,e);if(i)return i;let[a,o,c]=m(n,t)||[];return a?s.createElement(a,{key:r,...o},e):e},t),u=null===x?[]:(0,d.j5)(n,l),[h,g,b]=m(n,e);if(h&&g){let n=null;if(0===b&&e.firstChild){let i=[];e.forEach((e,n,a)=>{i.push(f(e,t+n,"".concat(r,"_").concat(a)))}),n=i,console.debug("[SSR NodeViewContent] HOLE",i)}else Array.isArray(b)?(console.debug("[SSR NodeViewContent] children array",b),n=[...b]):b&&(console.debug("[SSR NodeViewContent] children plain",b),n=b);let{nodeName:i,...o}=u.map(e=>{var t;return null==(t=e.type)?void 0:t.attrs}).reduce((e,t)=>({...e,...t}),{}),d={...g,...o,className:(0,a.cx)(o.class,g.class),"data-pos":l};return delete d.class,console.debug("[SSR NodeViewContent] non-nodeview:",r,d,b),c(s.createElement(h,{key:r,...d},n))}return e.isText?c((0,i.jsx)(s.Fragment,{children:e.textContent},r)):null};return t.forEach((e,n)=>{let i=h.length+1,a=f(e,n,"".concat(i));a?h.push(a):console.warn("%c [Simple NodeViewContent] UNKNOWN NODE $$$$$$$$$$$$$$$$$$$$$$$$$","background-color: aqua; font-weight: bold",{unknownNode:e,parentNode:t})}),(0,i.jsx)(c,{...e,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...e.style},children:(0,i.jsx)(u,{"data-node-view-content-inner":t.type.name,style:{whiteSpace:"inherit"},children:0===h.length?null:1===h.length?h[0]:h})})});x.displayName="NodeViewContent"},28647:(e,t,n)=>{"use strict";n.d(t,{D:()=>i}),n(47665);let i=e=>{var t;return(null==(t=e.find(e=>e.spec.isBlockWidthDecoration))?void 0:t.spec)||{}}},28700:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,j:()=>l});var i=n(63867),a=n(23513);function r(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}let l=(e,t,n)=>{if(!n)return!0;let l=r(n),s=l&&e.state.selection instanceof i.nh,o=l?e.state.tr.replaceSelectionWith(l,e.input.shiftKey):e.state.tr.replaceSelection(n),c=(0,a.i)(o);return c?o.setSelection(c):s&&o.setSelection(i.nh.create(o.doc,e.state.selection.from)),e.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}},29347:(e,t,n)=>{"use strict";n.d(t,{Am:()=>p,Nx:()=>g,vI:()=>h});var i=n(94289),a=n(63867),r=n(17859),l=n(54958),s=n(50861),o=n(39977),c=n(77071),d=n(15607),u=n(66079);let p=(e,t,n)=>{let i=(0,o.A)({editor:e,selection:t,freshNode:n});if(i){if("smartLayoutCell"===i.node.type.name){let e=(0,c.BJ)(i.node.attrs.variantKey);if(!i.attrs.source){var r,l,s;if(null==(l=e.defaultAttrs)||null==(r=l.image)?void 0:r.source)i.attrs.source=e.defaultAttrs.image.source;else{let e=(0,d.F2)(t.$from.parent.content).find(e=>{var t;return null==(t=e.attrs.image)?void 0:t.source});i.attrs.source=null==e||null==(s=e.attrs.image)?void 0:s.source}}}let e="imgKeyPath"in i?i.imgKeyPath:void 0;return{...i,type:i.node.type,accesoryKeyPath:e,editType:"accessory"===i.area||"background"===i.area?i.area:void 0}}if(t instanceof a.nh){let e=t.node;return{editType:"node",id:e.attrs.id,...e}}if(t instanceof a.U3){if(t.to-t.from==1&&t.$from.nodeAfter&&!e.isActive("link")){let e=null!=n?n:t.$from.nodeAfter;return{editType:"node",id:e.attrs.id,...e}}if(e.isActive("link")){let t=e.getAttributes("link");return{attrs:t,type:e.schema.marks.link,mediaType:"embed",id:t.id}}}return null},h=e=>{let t,{editor:n,selection:l,sourceKey:o,attrs:c,nodeName:d,resetAttrs:h,resizeToFit:g}=e,{from:m}=l,x=p(n,l);if(!x)return void console.error("[updateSelectedMedia] No selectedMedia to update");if(h)t={};else if(x.type instanceof i.sX)t=x.attrs;else{var f;let e=n.state.doc.nodeAt(m);if(!e||e.type!==x.type&&e.attrs.id!==x.attrs.id)return void console.error("[updateSelectedMedia] Node has moved, cant update");t=(null==(f=p(n,l,e))?void 0:f.attrs)||{}}let b={...t,source:o,...c};if(g&&"node"===x.editType&&(b=(0,s.Ez)(b)),x&&(0,r.Vc)({previous_attrs:x.attrs,new_attrs:b,replacement_method:"media_drawer",doc_id:n.gammaDocId||"",node_id:x.attrs.id,image_type:x.type.name}),(null==x?void 0:x.type.name)==="link"){b.href=b.href||b.sourceUrl;let{from:e,to:t}=l;n.chain().extendMarkRange("link").updateAttributes("link",b).setTextSelection({from:e,to:t}).run();return}if("smartDiagram"===x.type.name&&x.accesoryKeyPath)return void n.chain().updateSmartDiagramData(m,x.accesoryKeyPath,b).run();if(x.accesoryKeyPath)return void n.chain().updateAttributesAtPos(m,{[x.accesoryKeyPath]:b}).run();let y=u.Fn[b.source],v=d||y.nodeName;v&&n.commands.command(e=>{let{tr:t,state:n}=e,i=n.schema.nodes[v];return!!i&&(t.setNodeMarkup(m,i,b).setSelection(a.nh.create(t.doc,m)).setMeta("annotationEvent",{type:"update-node-attrs",pos:m}),!0)})},g=(e,t)=>{let n=(0,d.vC)(e,t);return!!n&&!!n.config.accessoryImageKey||"smartDiagram"===t.name&&e.state.selection instanceof l.n||(t instanceof i.Z6?(0,s.bi)(t):t instanceof i.sX&&"link"===t.name)}},29614:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});let i="ai-parsed-attrs"},30228:(e,t,n)=>{"use strict";n.d(t,{Pj:()=>u,Vv:()=>c,y3:()=>d});var i=n(6029),a=n(40452),r=n(5061),l=n(21290),s=n(84431),o=n(59320);let c="block-comments-container",d="2xl",u=e=>{let{offsetFromTop:t,children:n}=e,u=(0,r.fW)();return(0,i.jsx)(a.s,{contentEditable:!1,suppressContentEditableWarning:!0,color:"gray.800",className:c,direction:"column",bg:"white",borderRadius:"xl",shadow:"xl",overflowY:"auto",transitionProperty:"common",transitionDuration:"normal",zIndex:s.$.commentsPopup,bottom:{top:"0px",[d]:"auto"},top:{top:"0px",[d]:"auto"},insetEnd:{base:"44px",[d]:0},width:{base:o.iq,[d]:o.iq},maxW:{base:"90vw",md:"80vw",[d]:o.iq},transform:{base:"translate(0, ".concat(t,"px)"),[d]:"translate(calc(".concat(u?"-100% - 10px":"100% + 10px","), 0)")},wordBreak:"break-word",height:"fit-content",maxHeight:"calc(".concat(l.bc," - 8em)"),position:"absolute",children:n})}},30481:(e,t,n)=>{"use strict";n.d(t,{Fz:()=>x,dV:()=>f,z7:()=>y});var i=n(77650),a=n(66634),r=n(7158),l=n(73581),s=n(34832),o=n(45611),c=n(88586),d=n(12562),u=n(59684),p=n(8584),h=n(63562),g=n(47314),m=n(75703);let x=()=>i.Ru._({id:"HNDdbS"});class f extends a.a{async getResponseMessages(e){let{editor:t,context:n,rangeId:a,response:{raw:r,suggestion:l,message:s}}=e;if(!l)throw new u.tF("[SuggestContentTask] No html provided in prompt response",{chatMessage:s,inputMessage:n.message,resp:r,interactionId:n.interactionId});let c=await (0,o.e)(l,{loadImages:!0});console.debug("[AIChat SuggestContentTask] modify suggestion",{transformedHtml:c,html:l});let d=new p.m(t,{description:i.Ru._({id:"nyQWMb"}),content:{type:"html",html:c},rangeId:a}),h={label:i.Ru._({id:"nyQWMb"}),modification:d,jsonContentPreview:d.getPreviewJson(t)},g=this.getOriginalModifyContentSuggestion(t,n,a);return{messages:[{from:"Designer",type:"suggestContent",resp:r,message:s||i.Ru._({id:"pMSbe+"}),suggestions:[h,g],interactionId:n.interactionId}],suggestionToApply:h}}async runPrompt(e){let t,{input:n,context:i,variables:a,trackFns:r,retries:o=2,history:p}=e;if(this.jsxPrompt&&d.of.get("aiChatJsx")){let{promise:e}=(0,s.i4)({variables:{html:a.html,message:a.message,outline:a.outline,history:p.map(e=>({role:e.role===c.VDI.Assistant?"assistant":"user",content:e.content||""}))},interactionId:i.interactionId,workspaceId:i.workspaceId,promptKey:this.jsxPrompt,opts:{timeout:d.of.get("aiRequestTimeouts").suggestContent}});t=await e}else t=await (0,l.U)(n,i.interactionId,{timeout:d.of.get("aiRequestTimeouts").suggestContent});if(!t)throw new u.tF("Couldn't get response from prompt",{resp:t,inputMessage:i.message,interactionId:i.interactionId});let h=this.parseResponse(t,a);if(h.shouldRetry){if(o<=0)throw new u.K$("Could not parse response properly after retries",{chatMessage:x(),inputMessage:i.message,resp:t,interactionId:i.interactionId});return r.trackRequestRetry({interactionId:i.interactionId,retriesRemaining:o,resp:t}),this.runPrompt({input:n,context:i,retries:o-1,trackFns:r,variables:a,history:p})}return{parsed:h,resp:t}}async run(e){let{editor:t,context:n,addMessage:i,history:a,trackFns:l,themeModificationController:s,provider:o}=e,{html:c,range:d}=this.determineTaskTarget(n.editorContext);l.trackInputContent({taskContext:n,inputContent:c});let u={message:n.message,html:c,outline:n.editorContext.outline},p=(0,h.nm)(t,n.interactionId,d),g=(0,m.K)(a||[]),x=this.prompt.prepare({variables:u,history:g,interactionId:n.interactionId,params:{provider:o}});console.debug("[AIChat SuggestContentTask] run",{html:u.html,input:x,suggestHistory:g,range:(0,h.oR)(t,p)});let f=await (0,r.wo)(x),{parsed:b,resp:y}=await this.runPrompt({input:f,history:g,context:n,variables:u,trackFns:l,retries:1}),{messages:v,suggestionToApply:C}=await this.getResponseMessages({editor:t,context:n,rangeId:p,response:b,themeModificationController:s});console.debug("[AIChat SuggestContentTask] completed",{suggestion:b.suggestion,resp:y,parsed:b,messages:v,suggestionToApply:C}),this.autoApplySuggestion({context:n,editor:t,suggestionToApply:C,resp:y,trackFns:l,themeModificationController:s}),v.forEach(e=>i(e)),l.trackRequestComplete({taskContext:n,outputMessage:b.message,outputContent:b.suggestion,resp:y})}determineTaskTarget(e){return this.getTaskTarget?this.getTaskTarget(e):e.defaultRange}getOriginalModifyContentSuggestion(e,t,n){let a=new p.m(e,{description:i.Ru._({id:"HxF6Fk"}),content:{type:"html",html:this.determineTaskTarget(t.editorContext).html},rangeId:n});return{label:i.Ru._({id:"HxF6Fk"}),modification:a,jsonContentPreview:a.getPreviewJson(e)}}autoApplySuggestion(e){let{context:t,editor:n,suggestionToApply:i,resp:a,trackFns:r,themeModificationController:l}=e;if(i){if(i.modification.isApplied(n,l))throw console.debug("[SuggestContentTask] suggestion does not change the content",i),new u.hY("Suggestion does not change content",{resp:a,interactionId:t.interactionId,chatMessage:x()});try{let{modification:e}=i;e.apply(n,l),r.trackSuggestionApplied({interactionId:t.interactionId,suggestionContent:e.getContentForTracking(),suggestionLabel:e.description,suggestionType:e.type,autoApplied:!0})}catch(e){throw new u.$v("Could not apply suggestion",{interactionId:t.interactionId})}}}constructor(e){super(e),this.prompt=e.prompt,this.jsxPrompt=e.jsxPrompt,this.parseResponse=e.parseResponse||y,this.getTaskTarget=e.getTaskTarget}}let b=RegExp("(.*?)```[A-Za-z]*\\n(.*?)\\n```(.*?)$","ims"),y=e=>{let t,n=e.match(b),i=[];if(n)i=[n[1],n[3]],t=n[2];else{let n=e.split("```");if(0===n.length)throw Error("Could not extract code from response");if(1===n.length)return(0,g.t)(n[0])?{suggestion:void 0,raw:e,message:e,shouldRetry:!0}:{suggestion:void 0,raw:e,message:e.replaceAll(/(HTML|code)/gi,"content")};i=[n[0]],t=n[1].trim()}return{suggestion:t,message:i.map(e=>e.trim()).filter(e=>e.length>0).join("\n\n").replaceAll(/(HTML|code)/gi,"content").replaceAll(/(slide)/gi,"card"),raw:e}}},30524:(e,t,n)=>{"use strict";n.d(t,{A:()=>l}),n(55729);var i=n(75287),a=n(18934),r=n(73071);let l=e=>{let{editorId:t,children:n}=e,l=(0,i.l)(),s=(0,a.A)();return(0,r.b)(t||s)&&l?n:null}},31113:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});let i={fontSize:"sm",borderRadius:"md",p:2}},31162:(e,t,n)=>{"use strict";n.d(t,{w:()=>p});var i=n(91285),a=n(86014);async function r(e,t){let n,i=e.getReader();for(;!(n=await i.read()).done;)t(n.value)}function l(){return{data:"",event:"",id:"",retry:void 0}}let s="text/event-stream",o="last-event-id";function c(e){let t=e.headers.get("content-type");if(!(null==t?void 0:t.startsWith(s)))throw Error("Expected content-type to be ".concat(s,", Actual: ").concat(t))}class d extends i.Rv{constructor(){super({transform:async(e,t)=>{if("error"===e.event)return void t.error(new a.lm("StreamError message received: ".concat(JSON.stringify(e)),e.data));t.enqueue(e)}})}}class u extends Error{constructor(e){super(),this.timeout=e}}function p(e,t,n){var p;let h=n.retries||0,g=n.backoff||1e3,m=n.timeout||null,x=null!=(p=n.streamResumingEnabled)&&p,f=0,b=new AbortController,y=!1,v=!1,C=!1,w=null,A=!1,j=()=>g*Math.pow(2,Math.max(f-1,0)),k={};return x&&(k["gamma-stream-resuming-enabled"]="true"),{stream:new i.ZY({async start(n){null!=m&&(w=setTimeout(()=>{A=!0,b.abort(),n.error(new a.wM("Stream timed out after ".concat(m,"ms")))},m));let{headers:i,...d}=t;(function(e,t){let{signal:n,headers:i,onopen:a,onmessage:d,onclose:u,onerror:p,openWhenHidden:h,fetch:g,...m}=t;return new Promise((t,x)=>{let f,b={...i};function y(){f.abort(),document.hidden||k()}b.accept||(b.accept=s),h||document.addEventListener("visibilitychange",y);let v=1e3,C=0;function w(){document.removeEventListener("visibilitychange",y),window.clearTimeout(C),f.abort()}null==n||n.addEventListener("abort",()=>{w(),t()});let A=null!=g?g:window.fetch,j=null!=a?a:c;async function k(){var n,i;f=new AbortController;try{let i,a,s,c,p=await A(e,{...m,headers:b,signal:f.signal});await j(p),await r(p.body,(n=function(e,t,n){let i=l(),a=new TextDecoder,r=!1;return function(s,o){if(0===s.length)null==n||n(i),i=l(),r=!1;else if(o>0){let n=a.decode(s.subarray(0,o)),l=o+(32===s[o+1]?2:1),c=a.decode(s.subarray(l));switch(n){case"data":r?i.data=i.data+"\n"+c:(i.data=c,r=!0);break;case"event":i.event=c;break;case"id":e(i.id=c);break;case"retry":let d=parseInt(c,10);isNaN(d)||t(i.retry=d)}}}}(e=>{e?b[o]=e:delete b[o]},e=>{v=e},d),c=!1,function(e){void 0===i?(i=e,a=0,s=-1):i=function(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(i,e);let t=i.length,r=0;for(;a<t;){c&&(10===i[a]&&(r=++a),c=!1);let e=-1;for(;a<t&&-1===e;++a)switch(i[a]){case 58:-1===s&&(s=a-r);break;case 13:c=!0;case 10:e=a}if(-1===e)break;n(i.subarray(r,e),s),r=a,s=-1}r===t?i=void 0:0!==r&&(i=i.subarray(r),a-=r)})),null==u||u(),w(),t()}catch(e){if(!f.signal.aborted)try{let t=null!=(i=null==p?void 0:p(e))?i:v;window.clearTimeout(C),C=window.setTimeout(k,t)}catch(e){w(),x(e)}}}k()})})(e,{openWhenHidden:!0,credentials:"include",...d,headers:{...i,...k},signal:b.signal,onopen:async e=>{if(!e.ok||e.headers.get("content-type")!==s)if(e.status>=400&&e.status<500&&429!==e.status)b.abort(),n.error(new a.qh("Unable to complete request"));else if(f++<h&&!y)throw new u(j());else b.abort(),n.error(new a.qh("Unable to complete request"))},onmessage(e){if(C){v||(v=!0,console.log("[AIStream] enqueue cancel event",{...e,event:"cancel",data:""}),n.enqueue({...e,event:"cancel",data:""}),n.close(),b.abort());return}A||(n.enqueue(e),y=!0)},onclose(){w&&(clearTimeout(w),w=null);try{n.close()}catch(e){console.debug("[AIStream] Failed to close stream controller:",e)}},onerror(e){if(e instanceof u){if(C)throw console.error("Stream cancelled - not retrying"),Error("Stream cancelled");return e.timeout}if(e instanceof Error){if(console.error("Uncaught stream error",e),!x)throw e;if(f++<h)return j();throw e}if(y){let e="Stream closed unexpectedly";throw console.error("Uncaught stream error",e),new a.u4(e)}}}).catch(e=>{w&&(clearTimeout(w),w=null),C||n.error(e)})}}).pipeThrough(new d),cancel:()=>{C||(C=!0)}}}},31394:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});let i=e=>{let{variant:t}=e;return{variant:"unstyled",display:"inline-flex",position:"relative",_hover:{textDecoration:"none"},minW:"min(100%, 12em)",maxW:"100%",fontSize:"1em",py:"0.5em",minH:"2.75em",w:"var(--button-width)",h:"auto",px:"link"===t?"0.5em":"1em",transitionProperty:"none","data-variant":t}}},31612:(e,t,n)=>{"use strict";n.d(t,{TD:()=>a,dg:()=>l,pX:()=>s,sA:()=>r});var i=n(58495);function a(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null!=(t=n.id)?t:(0,i.Ak)(),r="auto"===n.dismissable?new Date(Date.now()+5e3):n.dismissable;return{type:"addFeedback",payload:{id:a,message:e,severity:n.severity||"info",dismissable:r}}}function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:"removeFeedback",payload:t}}function l(e){return{type:"openContextMenu",payload:{position:e}}}function s(){return{type:"closeContextMenu",payload:void 0}}},32024:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});let i={model:"gpt-3.5-turbo-1106",provider:n(88586).eON.Azure};class a{prepare(e){let{variables:t,history:n=[],params:i}=e;return{messages:[this.getSystemChatMessage(t),...n,this.getUserChatMessage(t)],params:{...this.params,...i}}}constructor({params:e}){this.params={...i,...e}}}},32973:(e,t,n)=>{"use strict";n.d(t,{N:()=>c});var i=n(6029),a=n(17399),r=n(41896),l=n(84886),s=n(46957);let o=e=>(0,i.jsx)(l.u,{...e,children:(0,i.jsx)("pre",{children:(0,i.jsx)(r.$p,{as:"code"})})}),c=a.Ay.extend({selectable:!1,isolating:!0,addNodeView:()=>(0,r.gu)(o,{update:s.z0})})},33170:(e,t,n)=>{"use strict";n.d(t,{BT:()=>j,CF:()=>w,Ft:()=>k});var i=n(6029),a=n(88507),r=n(70315),l=n(55729),s=n(9014),o=n(3247),c=n(15342),d=n(14389),u=n(86364),p=n(61250);let h=["0%","0%","0%","0%"],g="clippable-control-wrapper",m=(e,t,n)=>e/Math.sqrt((t*t+n*n)/2)*100,x=(e,t,n)=>e/100*Math.sqrt((t*t+n*n)/2),f=(e,t,n)=>{if("circle"===e){let e=Math.min(t,n)/2;return["".concat(m(e,t,n),"%"),"at","50%","50%"]}return h},b=(e,t,n)=>"circle"===e?1:"inset"===e?t/n:null,y=(e,t)=>{if("inset"===t){let[t,n]=e[0],[i,a]=e[4];return(i-t)/(a-n)}return 1},v=(e,t,n,i)=>{let[a,r,l,s]=e;if("inset"===t){let t=parseFloat(a),o=parseFloat(r),c=parseFloat(l),u=parseFloat(s),p=d.MK/n*100,h=d.MK/i*100;if(100-u-o<p){let t=100-u-p;t>=0?e[1]="".concat(t,"%"):(e[1]="0%",e[3]="".concat(100-p,"%"))}if(100-t-c<h){let n=100-t-h;n>=0?e[2]="".concat(n,"%"):(e[2]="0%",e[0]="".concat(100-h,"%"))}}else if("circle"===t){let t=Math.max(x(parseFloat(a),n,i),d.MK);e[0]="".concat(m(t,n,i),"%")}},C=e=>{let{clipType:t,clipStyles:n,w:i,h:a}=e,[r,l,s,o]=n;if("inset"===t){let e=parseFloat(r),t=parseFloat(l),n=parseFloat(s),i=parseFloat(o),a=i/(t+i)*100,c=e/(e+n)*100,d=isNaN(a)?50:a,u=isNaN(c)?50:c,p=100-i-t,h=100-e-n;return{mask:"\n        linear-gradient(#000 0 0) ".concat(d,"% ").concat(u,"% / ").concat(p,"% ").concat(h,"%,\n        linear-gradient(rgba(0,0,0,0.4) 0 0)"),width:p,height:h,top:e,right:t,bottom:n,left:i}}if("circle"===t){let e=parseFloat(r),t=parseFloat(s),n=parseFloat(o),l=x(e,i,a),c=n/100*a-l,d=t/100*i-l,u=2*l/i*100,p=2*l/a*100,h=c/a*100,g=d/i*100;return{mask:"radial-gradient(".concat(u,"% ").concat(p,"% at ").concat(t,"% ").concat(n,"%, black 50%, rgba(0, 0, 0, 0.4) 50%) no-repeat"),width:u,height:p,top:Math.max(h,0),left:Math.max(g,0),bottom:0,right:0}}return{mask:"",width:0,height:0,top:0,left:0,bottom:0,right:0}},w=(e,t,n,i)=>{if(!e||!e.clipType||!i)return{clipType:"inset",scaleCrop:1,scaleX:1,scaleY:1,aspectRatio:i||void 0,referenceXOffset:1,referenceYOffset:1,clipPathCSSString:"",translateX:0,translateY:0};let a=e.clipPath||f(e.clipType,t,n),{clipType:r}=e,{width:l,height:s,top:o,left:c,right:d,bottom:u}=C({w:t,h:n,clipType:r,clipStyles:a}),p=100/l,h=100/s,g=(null==e?void 0:e.clipAspectRatio)||1,m=(null==e?void 0:e.clipAspectRatio)||i;return{scaleCrop:i/g<1?Math.min(h,p):Math.max(h,p),aspectRatio:m,scaleX:p,scaleY:h,translateX:c,translateY:o,referenceXOffset:t*(100/(100-c+d)-1),referenceYOffset:n*(100/(100-o+u)-1),clipPathCSSString:"".concat(r,"(").concat(a.join(" "),")"),clipType:r}},A=(0,s.yX)([s.ZW]),j={[".".concat(g)]:{zIndex:2,".moveable-control":{zIndex:2,_hover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal"},"&.data-clip-type-inset":{".moveable-control":{zIndex:2,bg:"0 none !important",borderRadius:"0px",width:"".concat(16,"px"),height:"".concat(16,"px"),border:"6px solid var(--chakra-colors-trueblue-300)",'&[data-clip-index="0"]':{borderRight:"0",borderBottom:"0",marginTop:"-".concat(2,"px"),marginLeft:"-".concat(2,"px"),cursor:"nw-resize"},'&[data-clip-index="1"]':{borderRight:"0",borderBottom:"0",borderLeft:"0",marginTop:"-".concat(2,"px"),cursor:"n-resize"},'&[data-clip-index="2"]':{borderLeft:"0",borderBottom:"0",marginTop:"-".concat(2,"px"),marginLeft:"-".concat(14,"px"),cursor:"ne-resize"},'&[data-clip-index="3"]':{borderBottom:"0",borderTop:"0",borderLeft:"0",marginLeft:"-".concat(14,"px"),cursor:"e-resize"},'&[data-clip-index="4"]':{borderTop:"0",borderLeft:"0",marginLeft:"-".concat(14,"px"),marginTop:"-".concat(14,"px"),cursor:"se-resize"},'&[data-clip-index="5"]':{borderTop:"0",borderLeft:"0",borderRight:"0",marginTop:"-".concat(14,"px"),cursor:"s-resize"},'&[data-clip-index="6"]':{borderTop:"0",borderRight:"0",marginTop:"-".concat(14,"px"),marginLeft:"-".concat(2,"px"),cursor:"sw-resize"},'&[data-clip-index="7"]':{borderTop:"0",borderBottom:"0",borderRight:"0",marginLeft:"-".concat(2,"px"),cursor:"w-resize"}}},"&.data-clip-type-circle":{".moveable-control":{bg:"trueblue.300"}},".moveable-clip-ellipse":{borderWidth:"2px",borderColor:"var(--chakra-colors-trueblue-300) !important"},".moveable-line":{display:"none"}}},k=e=>{let{clipPath:t,clipAspectRatio:n,updateResizeAttrs:s,imageWrapperRef:d,refreshDeps:h,currentWidth:m,currentHeight:x,onFinishCrop:w}=e,j=(0,c.jL)(),k=(0,c.GV)(p.$k),S=(0,l.useRef)(null),[L,I]=(0,l.useState)({clipPath:t||f(k,m,x),clipAspectRatio:n||b(k,m,x)}),E=(0,l.useCallback)(e=>{if(!m||!x||!d.current)return;let{mask:t}=C({w:m,h:x,clipType:k,clipStyles:e});d.current.style["-webkit-mask"]=t,d.current.style["-webkit-mask-repeat"]="no-repeat"},[d,k,m,x]),D=JSON.stringify(L.clipPath);(0,l.useEffect)(()=>{E(L.clipPath)},[E,D,L.clipPath]),(0,a.w)(()=>{I(e=>({...e,clipPath:f(k,m,x),clipAspectRatio:b(k,m,x)}))},[k]),(0,l.useEffect)(()=>{var e;null==(e=S.current)||e.updateTarget()},[h]);let M=(0,l.useCallback)(()=>{let e={clipType:k,...L};e.clipAspectRatio&&e.clipPath&&s(e)},[s,L,k]),R=(0,l.useRef)({fn:M,confirmOnUnmount:!0});R.current.fn=M,(0,l.useEffect)(()=>u.R.on("endClip",e=>{let{confirm:t}=e;R.current.confirmOnUnmount=t,j((0,p.uy)()),w&&w()}),[j,w]),(0,l.useEffect)(()=>{let e=R.current;return()=>{e.confirmOnUnmount&&setTimeout(e.fn,0)}},[]),(0,l.useEffect)(()=>o.WC.on("keydown","CLIPPABLE",e=>!!(0,r.Ay)("mod+x")(e)&&(e.preventDefault(),!0)),[]);let _="".concat(k,"(").concat((L.clipPath||f(k,m,x)).join(" "),")");return(0,i.jsx)(A,{ref:e=>{S.current=e},className:"".concat(g," data-clip-type-").concat(k),target:d.current,renderDirections:["ne","nw","se","sw"],origin:!1,draggable:!1,clippable:!0,clipTargetBounds:!0,clipRelative:!0,clipArea:!0,defaultClipPath:k,customClipPath:_,dragWithClip:!0,keepRatio:!0,onClip:e=>{let{clipStyles:t,clipType:n}=e;v(t,n,m,x),E(t)},onClipEnd:e=>{let{lastEvent:t}=e;if(!(null==t?void 0:t.clipStyles))return;let{clipStyles:n,clipType:i}=t;v(n,i,m,x),I({clipPath:n,clipAspectRatio:y(t.poses,k)})}})}},33424:(e,t,n)=>{"use strict";n.d(t,{Qo:()=>o,X6:()=>d,_F:()=>c,mn:()=>s,ng:()=>u});var i=n(84462),a=n.n(i),r=n(61385),l=n(36512);let s=e=>{let{isMobileDevice:t,numericFontSize:n}=e;return(t?l.AF:l.jN)/n},o=e=>"sm"===e?.875:"lg"===e?1.25:1,c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e*r.P},d=a()(e=>e?{"--top-accent-height-sm":"4.125em","--top-accent-height-md":"8em","--top-accent-height-lg":"12.375em","--top-accent-height":"var(--top-accent-height-md)","--behind-accent-height":"12em"}:{"--top-accent-height-sm":"6.25em","--top-accent-height-md":"12.5em","--top-accent-height-lg":"18.75em","--top-accent-height":"var(--top-accent-height-md)","--behind-accent-height":"24em"}),u=a()(e=>{let{isPresentMode:t,isNested:n,isFullBleed:i,displayFullBleed:a,isThumbnail:r,isMobileDevice:s,attrs:o}=e,c="none"!==o.background.type&&!n,d=r?"em":t?"rem":"em",u=a||n?"0px":s?"".concat(l.Hb).concat(d):"".concat(l.YW).concat(d),p="calc(var(--card-outer-padding-x) + ".concat(i||n?"0px":"var(--doc-padding-left, 0px)"," + ").concat(t?"var(--present-padding-left, 0px)":"0px",")"),h="calc(var(--card-outer-padding-x) + ".concat(i||n?"0px":"var(--doc-padding-right, 0px)"," + ").concat(t?"var(--present-padding-right, 0px)":"0px",")");return{outerPaddingX:u,outerPaddingY:a||n?"0px":s?"".concat(l._0/2).concat(d):!c||t||r?"".concat(l.Ri).concat(d):"".concat(l.St).concat(d),outerPaddingLeft:p,outerPaddingRight:h}})},33619:(e,t,n)=>{"use strict";n.d(t,{L:()=>C,j:()=>w});var i=n(6029),a=n(78140),r=n(36999),l=n(49611),s=n(12514),o=n(41283),c=n(37930),d=n(48478),u=n(26385),p=n(48810),h=n(99492),g=n(55597),m=n(48621),x=n(77650),f=n(55729),b=n(9118),y=n(6807),v=n(65148);let C=()=>{let e=(0,f.useMemo)(()=>{var e;let t=navigator.language.toLowerCase(),n=t.split("-")[0],i=null!=(e=b.ZD.find(e=>e.key===t))?e:b.ZD.find(e=>e.key===n);return null==i?void 0:i.key},[]),[t,n]=(0,y.M)(v.E.generateLanguage,null!=e?e:"en");return[(0,f.useMemo)(()=>{var e;return null!=(e=b.ZD.find(e=>e.key===t))?e:b.ZD[0]},[t]),n]},w=(0,f.memo)(e=>{let{locale:t,setLocale:n,buttonProps:y}=e,[v,C]=(0,f.useState)([]);(0,f.useEffect)(()=>{C(e=>{if(b.ZD.find(e=>e.key===t.key))return e;let n=[...e];return n.find(e=>e.key===t.key)||n.push(t),n})},[t.key]);let w=(0,f.useMemo)(()=>[...v,...(0,b.Mo)()],[v]);return(0,i.jsxs)(a.W,{children:[(0,i.jsx)(r.I,{as:l.$,size:"sm",boxShadow:"sm",variant:"ghost",rightIcon:(0,i.jsx)(m.g,{size:"xs",icon:h.Jt$}),leftIcon:(0,i.jsx)(m.g,{size:"xs",icon:g.mh}),minW:"150px",...y,children:t.displayName}),(0,i.jsx)(s.Z,{children:(0,i.jsx)(o.c,{minWidth:"240px",maxH:"290px",overflowY:"auto",overflowX:"hidden",zIndex:"tooltip",children:(0,i.jsx)(c.i,{value:t.key,title:x.Ru._({id:"vXIe7J"}),type:"radio",onChange:e=>{n(e)},children:w.map(e=>(0,i.jsx)(d.k,{value:e.key,children:(0,i.jsxs)(u.B,{spacing:0,children:[(0,i.jsx)(p.E,{children:e.displayName}),(0,i.jsx)(p.E,{as:"span",color:"gray.500",fontSize:"sm",children:e.displayNameLocalized()})]})},e.key))})})})]})});w.displayName="AILocalePicker"},33633:(e,t,n)=>{"use strict";n.d(t,{Wm:()=>d,t3:()=>c,uR:()=>p,ww:()=>u});var i=n(55729),a=n(74158),r=n(15342),l=n(69138),s=n(54929),o=n(22249);let c=()=>(0,r.GV)((0,o.lp)("left")),d=()=>(0,r.GV)((0,o.lp)("right")),u=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=e.panelPosition,s=(0,a.wA)(),c=(0,r.GV)((0,o.El)(e)),d=(0,i.useCallback)(()=>{s((0,o.TQ)({component:e}))},[e,s]);return(0,l.V)(()=>{!t&&c&&s((0,o.Zv)({position:n}))},[c,s,t,n],[t]),{togglePanel:(0,i.useCallback)(i=>{if(!t)return;let a=!c;(null==i?void 0:i.override)==="open"?a=!0:(null==i?void 0:i.override)==="closed"&&(a=!1),a?s((0,o.NE)({component:e,disableTransition:!!(null==i?void 0:i.disableTransition),isResizable:!!(null==i?void 0:i.isResizable),props:null==i?void 0:i.props})):s((0,o.Zv)({position:n}))},[e,n,c,s,t]),initPanel:d,isPanelOpen:c}},p=()=>{let e=(0,i.useMemo)(()=>new s.$u,[]),t=(0,i.useMemo)(()=>new s.$u,[]),n=(0,i.useMemo)(()=>new s.$u,[]);return(0,i.useEffect)(()=>{if(!n||!e||!t)return;let i=e.pipe(n),a=t.pipe(n);return()=>{i(),a()}},[e,t,n]),{leftPanelLifecycle:e,rightPanelLifecycle:t,globalPanelLifecycle:n}}},34394:(e,t,n)=>{"use strict";n.d(t,{R5:()=>u,ZQ:()=>o,cF:()=>d,oP:()=>c});var i=n(55729),a=n(68301),r=n(28630),l=n(42721),s=n(44798);let o=()=>{var e;let t=(0,a.u)("aiGeneratedImagesDefaultModel"),n=(0,s.U9)(),{user:o,setSettings:c}=(0,l.ur)(),d=null==o||null==(e=o.settings)?void 0:e.preferredAiImageModel;return d&&d in r.Xz&&(d=r.Xz[d]),[d&&n(d)?d:t,(0,i.useCallback)(e=>{null==c||c({set:{preferredAiImageModel:e}})},[c])]},c=()=>{var e;let t=(0,l.HW)(),n=a.of.get("aiGeneratedImagesDefaultModel"),i=null==t||null==(e=t.settings)?void 0:e.preferredAiImageModel;return i&&i in r.Xz&&(i=r.Xz[i]),i&&(0,s.hB)(i)?i:n},d=e=>{let{savedModel:t,checkModelAvailable:n,preferredAiImageModel:i}=e;return(t&&t in r.Xz&&(t=r.Xz[t]),t&&n(t))?t:i},u=e=>{let[t]=o();return d({savedModel:e,checkModelAvailable:(0,s.U9)(),preferredAiImageModel:t})}},34555:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var i=n(51684),a=n(77650),r=n(9922),l=n.n(r),s=n(76083),o=n(74355);let c={flywheel:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:1024.2205225919886,y:545.3520002984831,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sBqhkO1gaRDC33E9nLFRf",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Two</h4>',shapeColor:null},parentId:"page:page",index:"a4",typeName:"shape"},{x:605.5691768594324,y:545.3520002984831,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LuxCoSOJiKidTHonK_r3y",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Four</h4>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"},{x:811.2936767672497,y:332.49917028373386,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jNEccTSx5tCosurJ5Ot2M",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">One</h4>',shapeColor:null},parentId:"page:page",index:"a6",typeName:"shape"},{x:786.7936767672497,y:753.4464458368486,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OUIb317WtLr7vTROMJmRY",type:"text",props:{color:"black",size:"m",w:145.68119328124112,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Three</h4>',shapeColor:null},parentId:"page:page",index:"a7",typeName:"shape"},{x:774.4554909171899,y:664.006697053962,rotation:3.141592653589793,isLocked:!1,opacity:1,meta:{},id:"shape:gOmdcWQlSymeyfc0iFv_H",type:"arrow",parentId:"page:page",index:"a8",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:-33.715948517019974,start:{type:"point",x:-143.39749318568477,y:299.6671450013758},end:{type:"point",x:-296.8596898701958,y:124.06206342608016},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:949.3708512974239,y:475.1522148190538,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FoSkoOljiovlpXtyepQ0L",type:"arrow",parentId:"page:page",index:"a8G",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:-33.715948517019974,start:{type:"point",x:-165.31582160993514,y:295.60684693665877},end:{type:"point",x:-292.70420767490987,y:127.69426010254801},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:749.9432407400066,y:507.6958283407593,rotation:4.555309347705199,isLocked:!1,opacity:1,meta:{},id:"shape:xJbFH6GE8sktyfodgK-9d",type:"arrow",parentId:"page:page",index:"a8V",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:-33.715948517019974,start:{type:"point",x:-141.06822675649278,y:304.84894107910753},end:{type:"point",x:-293.7665666504506,y:149.96506626343376},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:973.8831014746072,y:631.4630835322564,rotation:1.413716694115406,isLocked:!1,opacity:1,meta:{},id:"shape:98AlWuZ3MNJ8HXkw_0SX8",type:"arrow",parentId:"page:page",index:"a9",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:-33.715948517019974,start:{type:"point",x:-138.9882886080492,y:300.5849857402369},end:{type:"point",x:-290.8832143177716,y:128.98965564678986},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"}],assets:[],meta:{},width:420.44444444444446,svg:'<svg direction="ltr" width="530.6513457325561" height="483.94727555311476" viewBox="597.5691768594324 324.49917028373386 530.6513457325561 483.94727555311476" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 1024.2205, 545.352)" opacity="1"><g><foreignObject width="97" height="47"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Two</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 605.5692, 545.352)" opacity="1"><g><foreignObject width="97" height="47"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Four</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 811.2937, 332.4992)" opacity="1"><g><foreignObject width="97" height="47"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">One</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 786.7937, 753.4464)" opacity="1"><g><foreignObject width="146" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Three</h4></div></div></foreignObject></g></g><g transform="matrix(-1, 0, 0, -1, 774.4555, 664.0067)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_gOmdcWQlSymeyfc0iFv_H_clip"><rect x="-396.85968987019567" y="24.0620634260801" width="353.4621966845109" height="375.60508157529574" fill="white"></rect><path d="M -300.40378806246554 133.94585662522945 L -296.8596898701958 124.06206342608016 L -290.0721229701155 132.07323909366693" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_gOmdcWQlSymeyfc0iFv_H_clip)"><rect x="-100" y="-100" width="353.4621966845109" height="375.60508157529574" fill="transparent" stroke="none"></rect><path d="M-143.39749318568477,299.6671450013758 A218.4976762338476 218.4976762338476 0 0 1 -296.8596898701958,124.06206342608016" fill="none" stroke="#e1e1e1" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -300.40378806246554 133.94585662522945 L -296.8596898701958 124.06206342608016 L -290.0721229701155 132.07323909366693" fill="none" stroke="#e1e1e1" stroke-width="3.5"></path></g></g><g transform="matrix(1, 0, 0, 1, 949.3709, 475.1522)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_FoSkoOljiovlpXtyepQ0L_clip"><rect x="-392.70420767491" y="27.694260102547986" width="327.38838606497484" height="367.9125868341108" fill="white"></rect><path d="M -297.41216590820414 137.0796279309049 L -292.70420767490987 127.69426010254801 L -286.93021982833875 136.46415544671538" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_FoSkoOljiovlpXtyepQ0L_clip)"><rect x="-100" y="-100" width="327.38838606497484" height="367.9125868341108" fill="transparent" stroke="none"></rect><path d="M-165.31582160993514,295.60684693665877 A181.55168626818823 181.55168626818823 0 0 1 -292.70420767490987,127.69426010254801" fill="none" stroke="#e1e1e1" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -297.41216590820414 137.0796279309049 L -292.70420767490987 127.69426010254801 L -286.93021982833875 136.46415544671538" fill="none" stroke="#e1e1e1" stroke-width="3.5"></path></g></g><g transform="matrix(-0.1564, -0.9877, 0.9877, -0.1564, 749.9432, 507.6958)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_xJbFH6GE8sktyfodgK-9d_clip"><rect x="-393.7665666504507" y="49.96506626343373" width="352.69833989395795" height="354.88387481567383" fill="white"></rect><path d="M -297.06219035877035 159.93446265304337 L -293.7665666504506 149.96506626343376 L -286.7806279708117 157.80385831095774" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_xJbFH6GE8sktyfodgK-9d_clip)"><rect x="-100" y="-100" width="352.69833989395795" height="354.88387481567383" fill="transparent" stroke="none"></rect><path d="M-141.06822675649278,304.84894107910753 A192.24158262862494 192.24158262862494 0 0 1 -293.7665666504506,149.96506626343376" fill="none" stroke="#e1e1e1" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -297.06219035877035 159.93446265304337 L -293.7665666504506 149.96506626343376 L -286.7806279708117 157.80385831095774" fill="none" stroke="#e1e1e1" stroke-width="3.5"></path></g></g><g transform="matrix(0.1564, 0.9877, -0.9877, 0.1564, 973.8831, 631.4631)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_98AlWuZ3MNJ8HXkw_0SX8_clip"><rect x="-390.8832143177716" y="28.989655646789856" width="351.8949257097224" height="371.59533009344705" fill="white"></rect><path d="M -294.4496119884513 138.86542435887353 L -290.8832143177716 128.98965564678986 L -284.11374656654743 137.01613098563794" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_98AlWuZ3MNJ8HXkw_0SX8_clip)"><rect x="-100" y="-100" width="351.8949257097224" height="371.59533009344705" fill="transparent" stroke="none"></rect><path d="M-138.9882886080492,300.5849857402369 A211.56192029954403 211.56192029954403 0 0 1 -290.8832143177716,128.98965564678986" fill="none" stroke="#e1e1e1" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -294.4496119884513 138.86542435887353 L -290.8832143177716 128.98965564678986 L -284.11374656654743 137.01613098563794" fill="none" stroke="#e1e1e1" stroke-width="3.5"></path></g></g></svg>'}},quadrant:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:1074.82421875,y:229.03125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0ok4F6wp2WXfO_JbW55tI",type:"arrow",parentId:"page:page",index:"a1",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:0,y:400},arrowheadStart:"arrow",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:869.5924737463713,y:27.95840719431982,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lfd5uMWVGIIFlwc_gfUf_",type:"arrow",parentId:"page:page",index:"a2",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:400},end:{type:"point",x:400,y:400},arrowheadStart:"arrow",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:1026.82421875,y:170.3671875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:c4kLEFg-x_YebbalM4bbJ",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Title</h4>',shapeColor:null},parentId:"page:page",index:"a3",typeName:"shape"},{x:1275.47265625,y:404.9296875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rr2bWXVlRik_OTR3-Mzxb",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Title</h4>',shapeColor:null},parentId:"page:page",index:"a4",typeName:"shape"},{x:770.2109375,y:404.9296875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4nADMgFMClNzOAl0NqJsR",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Title</h4>',shapeColor:null},parentId:"page:page",index:"a4V",typeName:"shape"},{x:1026.82421875,y:640.79296875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pQUKVKJOu78f_j_B0Y1_-",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Title</h4>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"}],assets:[],meta:{},width:434.6666666666667,svg:'<svg direction="ltr" width="617.26171875" height="533.42578125" viewBox="762.2109375 162.3671875 617.26171875 533.42578125" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 1074.8242, 229.0313)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_0ok4F6wp2WXfO_JbW55tI_clip"><rect x="-100" y="-100" width="200.00000000000009" height="599.8566231113605" fill="white"></rect><path d="M -5.249999999999997 9.093266739736608 L 0 0 L 5.250000000000001 9.093266739736604" fill="none" stroke="none"></path><path d="M 5.250000000000076 390.7633563716238 L 7.904787935331115e-14 399.8566231113604 L -5.249999999999922 390.76335637162384" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_0ok4F6wp2WXfO_JbW55tI_clip)"><rect x="-100" y="-100" width="200.00000000000009" height="599.8566231113605" fill="transparent" stroke="none"></rect><path d="M0,0L7.904787935331115e-14,399.8566231113604" fill="none" stroke="#1d1d1d" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -5.249999999999997 9.093266739736608 L 0 0 L 5.250000000000001 9.093266739736604" fill="none" stroke="#1d1d1d" stroke-width="3.5"></path><path d="M 5.250000000000076 390.7633563716238 L 7.904787935331115e-14 399.8566231113604 L -5.249999999999922 390.76335637162384" fill="none" stroke="#1d1d1d" stroke-width="3.5"></path></g></g><g transform="matrix(1, 0, 0, 1, 869.5925, 27.9584)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_lfd5uMWVGIIFlwc_gfUf__clip"><rect x="-99.99999999999991" y="299.8566231113604" width="610.4634900072574" height="202.2890625" fill="white"></rect><path d="M 401.39964227952714 396.84505693463564 L 410.46349000725746 402.1456856113604 L 401.34108705332034 407.3448936612464" fill="none" stroke="none"></path><path d="M 9.06384772773043 405.1572517880852 L 7.904787935331115e-14 399.8566231113604 L 9.122402953937236 394.65741506147447" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_lfd5uMWVGIIFlwc_gfUf__clip)"><rect x="-100" y="-100" width="610.4634900072574" height="202.2890625" fill="transparent" stroke="none"></rect><path d="M410.46349000725746,402.1456856113604L7.904787935331115e-14,399.8566231113604" fill="none" stroke="#1d1d1d" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M 401.39964227952714 396.84505693463564 L 410.46349000725746 402.1456856113604 L 401.34108705332034 407.3448936612464" fill="none" stroke="#1d1d1d" stroke-width="3.5"></path><path d="M 9.06384772773043 405.1572517880852 L 7.904787935331115e-14 399.8566231113604 L 9.122402953937236 394.65741506147447" fill="none" stroke="#1d1d1d" stroke-width="3.5"></path></g></g><g transform="matrix(1, 0, 0, 1, 1026.8242, 170.3672)" opacity="1"><g><foreignObject width="97" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Title</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1275.4727, 404.9297)" opacity="1"><g><foreignObject width="97" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Title</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 770.2109, 404.9297)" opacity="1"><g><foreignObject width="97" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Title</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1026.8242, 640.793)" opacity="1"><g><foreignObject width="97" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Title</h4></div></div></foreignObject></g></g></svg>'}},venn:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:1175.87109375,y:508.45703125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YuAAYaKmNVXbxRM9Ym0z4",type:"geo",props:{w:394.4375,h:394.4375,geo:"ellipse",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a1",typeName:"shape"},{x:904.79296875,y:508.45703125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ywvivjfUEJxH_FT8HCp6E",type:"geo",props:{w:394.4375,h:394.4375,geo:"ellipse",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a2",typeName:"shape"},{x:1040.3320312500002,y:270.0929726013588,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uoJ_xUvPbDuyBaVh94J02",type:"geo",props:{w:394.4375,h:394.4375,geo:"ellipse",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a3",typeName:"shape"},{x:1092.234375,y:547.42578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:W8BtDrKhUUa_fmB-YfrG4",type:"text",props:{color:"black",size:"m",w:108,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:24,html:'<p class="paragraph">Expensive</p>',shapeColor:null},parentId:"page:page",index:"a4",typeName:"shape"},{x:1282.02734375,y:547.42578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lLHXbsMOmu2pfYDmh7SMV",type:"text",props:{color:"black",size:"m",w:104,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:24,html:'<p class="paragraph">Take time</p>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"},{x:1185.5507812500002,y:689.046875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FJv1W-bQpfCY0dAUn_ezA",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:52,html:'<p class="paragraph">Low<br>quality</p>',shapeColor:null},parentId:"page:page",index:"a6",typeName:"shape"},{x:1373.08984375,y:705.67578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tT7vEjVJGLo0tv18nWtJV",type:"text",props:{color:"black",size:"m",w:107,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">Cheap</h3>',shapeColor:null},parentId:"page:page",index:"a7",typeName:"shape"},{x:1017.1328125,y:705.67578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gaQCyTxoxdrsvbDkqQV9C",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">Fast</h3>',shapeColor:null},parentId:"page:page",index:"a8",typeName:"shape"},{x:1189.5507812500002,y:424.234375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VAbhvBq-Ec1CIYnCjzhl2",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">Good</h3>',shapeColor:null},parentId:"page:page",index:"a9",typeName:"shape"}],assets:[],meta:{},width:431.1111111111111,svg:'<svg direction="ltr" width="681.5156250000002" height="648.2953009459236" viewBox="896.7929687499998 262.3461014527175 681.5156250000002 648.2953009459236" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 1175.8711, 508.457)" opacity="1"><g data-shape-type="geo"><path d="M0,197.21875a197.21875,197.21875,0,1,1,394.4375,0a197.21875,197.21875,0,1,1,-394.4375,0" width="394.4375" height="394.4375" id="shape:YuAAYaKmNVXbxRM9Ym0z4" style="fill-opacity: 0.5; stroke-width: 2;"></path><foreignObject width="394.43750000000017" height="393.93124229728244"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 904.793, 508.457)" opacity="1"><g data-shape-type="geo"><path d="M0,197.21875a197.21875,197.21875,0,1,1,394.4375,0a197.21875,197.21875,0,1,1,-394.4375,0" width="394.4375" height="394.4375" id="shape:ywvivjfUEJxH_FT8HCp6E" style="fill-opacity: 0.5; stroke-width: 2;"></path><foreignObject width="394.43750000000017" height="393.93124229728244"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1040.332, 270.093)" opacity="1"><g data-shape-type="geo"><path d="M0,197.21875a197.21875,197.21875,0,1,1,394.4375,0a197.21875,197.21875,0,1,1,-394.4375,0" width="394.4375" height="394.4375" id="shape:uoJ_xUvPbDuyBaVh94J02" style="fill-opacity: 0.5; stroke-width: 2;"></path><foreignObject width="394.43750000000017" height="393.93124229728244"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1092.2344, 547.4258)" opacity="1"><g><foreignObject width="109" height="44"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p class="paragraph">Expensive</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1282.0273, 547.4258)" opacity="1"><g><foreignObject width="105" height="44"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p class="paragraph">Take time</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1185.5508, 689.0469)" opacity="1"><g><foreignObject width="97" height="72"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p class="paragraph">Low<br>quality</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1373.0898, 705.6758)" opacity="1"><g><foreignObject width="108" height="54"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">Cheap</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1017.1328, 705.6758)" opacity="1"><g><foreignObject width="97" height="54"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">Fast</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1189.5508, 424.2344)" opacity="1"><g><foreignObject width="97" height="54"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">Good</h3></div></div></foreignObject></g></g></svg>'}},calendarWeek:{type:"diagram",attrs:{horizontalAlign:null,shapes:[{x:179.0625,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hF6E8P7CiXiSsRo7LG0FF",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"Zy",typeName:"shape"},{x:495.4840350809791,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:taayoSjVZnQxAEAkYzW8F",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"Zz",typeName:"shape"},{x:811.9055701619584,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DogbW2-V83SiEhlezSTF1",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0",typeName:"shape"},{x:1128.3271052429373,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SzwGSCVn7h1Uo_B_b-0jU",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a1",typeName:"shape"},{x:1445.4682141660628,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IAo_g6FQp9YK2JWBCaGMU",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a2",typeName:"shape"},{x:832.3614242096944,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:l_vkpYMsSpaE9s3TN_mKw",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Wed",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Wed</h3>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"},{x:1148.7829592906733,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Cw9jJcIeB18UZCowlxx0A",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Thu",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Thu</h3>',shapeColor:null},parentId:"page:page",index:"a6",typeName:"shape"},{x:1465.9240682137988,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VvguEUBmR1u7tIdodua_7",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Fri",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Fri</h3>',shapeColor:null},parentId:"page:page",index:"a7",typeName:"shape"},{x:204.97813786171344,y:211.51595163729675,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lqef5zWrrlQl9HENeGEnL",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Meeting with Jon",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Meeting with Jon</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aD",typeName:"shape"},{x:204.97813786171344,y:605.0019073645135,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IgEYD45iYr1sSFMoAwbyu",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Team bonding",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Team bonding</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDG",typeName:"shape"},{x:204.97813786171344,y:297.31890598073045,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Qim4eNR90mSPnWlJh468S",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Checking emails",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Checking emails</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDV",typeName:"shape"},{x:1154.2427431046506,y:295.64859941977187,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IL-fsOSVuSRXre2dwItqj",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"HR meetings",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">HR meetings</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDZ",typeName:"shape"},{x:1154.2427431046506,y:379.7812472022469,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bH7UwVBlNxoEzsh_1zjen",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Onboarding new hire",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Onboarding new hire</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDb",typeName:"shape"},{x:521.3996729426926,y:211.51595163729675,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HAHtaenTwvKec_w0q3MVQ",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Attend CS meeting",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Attend CS meeting</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDd",typeName:"shape"},{x:1471.3838520277761,y:379.7812472022469,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7ONsfQ5KbFBdZuwBMYOXz",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Team happy hour",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Team happy hour</p>',shapeColor:"#26A688",strokeWidth:"sm"},parentId:"page:page",index:"aDe",typeName:"shape"},{x:1471.3838520277761,y:211.51595163729675,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ov9MLbM2hIPHiHbKtLXgq",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Attend CS meeting",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Attend CS meeting</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDf",typeName:"shape"},{x:1471.3838520277761,y:295.64859941977187,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JcWFs24GgyS_MNCWFyy4F",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Office tour",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Office tour</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDg",typeName:"shape"},{x:837.8212080236717,y:211.51595163729675,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:avNg2b0XCoj-PSVRH9NqC",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"1:1 with Zach",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">1:1 with Zach</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDh",typeName:"shape"},{x:837.8212080236717,y:297.45150900814224,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:B3hQTKLjKcuwSsT8VwJpR",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Company all hands",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Company all hands</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDj",typeName:"shape"},{x:837.8212080236717,y:379.7812472022469,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Ew3E_uQg_oIqeazf2vqpP",type:"geo",props:{w:251,h:101.34061312191727,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Bugbashing diagrams V2 with eng team",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Bugbashing diagrams V2 with eng team</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDk",typeName:"shape"},{x:837.8212080236717,y:500.13645302107966,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Fg4fxWRIxgyovffXhHIzF",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Customer call",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Customer call</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDkV",typeName:"shape"},{x:1154.2427431046506,y:211.51595163729678,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VvbN_RGjDdrkdA1f5rsRd",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Vendor call",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Vendor call</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDkl",typeName:"shape"},{x:204.97813786171344,y:381.1218603241642,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2vK8h6FMVleRUW2G9Od19",type:"geo",props:{w:251,h:121.0625,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Setup a call with our food vendor at the office in SF",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Setup a call with our food vendor at the office in SF</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDl",typeName:"shape"},{x:204.97813786171344,y:521.1989530210797,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9SYkhq44JuzFO637hB390",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:" Lunch",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"><span id="hamburger" native="\uD83C\uDF54" class="emoji">\uD83C\uDF54</span> Lunch</p>',shapeColor:"#26A688",strokeWidth:"none"},parentId:"page:page",index:"aDt",typeName:"shape"},{x:515.9398891287151,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SDZcV2JidoSxClP0MxiaV",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Tue",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Tue</h3>',shapeColor:null},parentId:"page:page",index:"aE",typeName:"shape"},{x:199.518354047736,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tSOF89upJLNWmMbbVcY6R",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Mon",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Mon</h3>',shapeColor:null},parentId:"page:page",index:"aF",typeName:"shape"}],assets:[{meta:{},id:"asset:1703535279",type:"image",typeName:"asset",props:{name:"Screen Shot 2024-04-10 at 3.37.50 PM.png",src:"https://cdn-staging.gamma.app/QWjS6fBfpt/b63db3d6baac4d469108cf61a4c7ee71/original/Screen-Shot-2024-04-10-at-3.37.50-PM.png",w:2842,h:1550,mimeType:"image/png",isAnimated:!1}},{meta:{},id:"asset:-1866522948",type:"image",typeName:"asset",props:{name:"tldrawFile",src:"https://cdn-staging.gamma.app/QWjS6fBfpt/c494e974b8cc46b8910df2aa1a4051db/original/tldrawFile.png",w:3841,h:2161,mimeType:"image/png",isAnimated:!1}}],meta:{},width:null,svg:'<svg direction="ltr" width="1584.4018610418816" height="889.9095562737236" viewBox="171.0625 111.1171875 1584.4018610418816 889.9095562737236" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 204.9781, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:lqef5zWrrlQl9HENeGEnL" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 605.0019)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:IgEYD45iYr1sSFMoAwbyu" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 297.3189)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:Qim4eNR90mSPnWlJh468S" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 295.6486)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:IL-fsOSVuSRXre2dwItqj" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:bH7UwVBlNxoEzsh_1zjen" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 521.3997, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:HAHtaenTwvKec_w0q3MVQ" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:ov9MLbM2hIPHiHbKtLXgq" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 295.6486)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:JcWFs24GgyS_MNCWFyy4F" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:avNg2b0XCoj-PSVRH9NqC" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 297.4515)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:B3hQTKLjKcuwSsT8VwJpR" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L247,0 Q251,0 251,4 L251,97.3406 Q251,101.3406 247,101.3406 L4,101.3406 Q0,101.3406 0,97.3406 L0,4 Q0,0 4,0 " id="shape:Ew3E_uQg_oIqeazf2vqpP" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 500.1365)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:Fg4fxWRIxgyovffXhHIzF" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:VvbN_RGjDdrkdA1f5rsRd" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 381.1219)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L247,0 Q251,0 251,4 L251,117.0625 Q251,121.0625 247,121.0625 L4,121.0625 Q0,121.0625 0,117.0625 L0,4 Q0,0 4,0 " id="shape:2vK8h6FMVleRUW2G9Od19" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 179.0625, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:hF6E8P7CiXiSsRo7LG0FF" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 495.484, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:taayoSjVZnQxAEAkYzW8F" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 811.9056, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:DogbW2-V83SiEhlezSTF1" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1128.3271, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:SzwGSCVn7h1Uo_B_b-0jU" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1445.4682, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:IAo_g6FQp9YK2JWBCaGMU" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 832.3614, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Wed</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1148.783, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Thu</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1465.9241, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Fri</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:lqef5zWrrlQl9HENeGEnL" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Meeting with Jon</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 605.0019)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:IgEYD45iYr1sSFMoAwbyu" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Team bonding</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 297.3189)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:Qim4eNR90mSPnWlJh468S" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Checking emails</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 295.6486)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:IL-fsOSVuSRXre2dwItqj" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">HR meetings</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:bH7UwVBlNxoEzsh_1zjen" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Onboarding new hire</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 521.3997, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:HAHtaenTwvKec_w0q3MVQ" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Attend CS meeting</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:7ONsfQ5KbFBdZuwBMYOXz" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Team happy hour</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:ov9MLbM2hIPHiHbKtLXgq" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Attend CS meeting</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 295.6486)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:JcWFs24GgyS_MNCWFyy4F" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Office tour</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:avNg2b0XCoj-PSVRH9NqC" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">1:1 with Zach</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 297.4515)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:B3hQTKLjKcuwSsT8VwJpR" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Company all hands</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L247,0 Q251,0 251,4 L251,97.3406 Q251,101.3406 247,101.3406 L4,101.3406 Q0,101.3406 0,97.3406 L0,4 Q0,0 4,0 " id="shape:Ew3E_uQg_oIqeazf2vqpP" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="251" height="101.34061312191727"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Bugbashing diagrams V2 with eng team</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 500.1365)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:Fg4fxWRIxgyovffXhHIzF" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Customer call</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:VvbN_RGjDdrkdA1f5rsRd" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Vendor call</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 381.1219)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L247,0 Q251,0 251,4 L251,117.0625 Q251,121.0625 247,121.0625 L4,121.0625 Q0,121.0625 0,117.0625 L0,4 Q0,0 4,0 " id="shape:2vK8h6FMVleRUW2G9Od19" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="251" height="121.0625"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Setup a call with our food vendor at the office in SF</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 521.199)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:9SYkhq44JuzFO637hB390" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 0;"></path><foreignObject width="250.16487115239204" height="64.78836164651827" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"><span id="hamburger" native="\uD83C\uDF54" class="emoji">\uD83C\uDF54</span> Lunch</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 515.9399, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Tue</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 199.5184, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Mon</h3></div></div></foreignObject></g></g></svg>'}},calendarMonths:{type:"diagram",attrs:{horizontalAlign:null,shapes:[{x:187.0625,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hF6E8P7CiXiSsRo7LG0FF",type:"geo",props:{w:419.6875,h:677.9375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"none"},parentId:"page:page",index:"Zy",typeName:"shape"},{x:621.23828125,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:taayoSjVZnQxAEAkYzW8F",type:"geo",props:{w:419.6875,h:677.9375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"none"},parentId:"page:page",index:"Zz",typeName:"shape"},{x:1055.4140625,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DogbW2-V83SiEhlezSTF1",type:"geo",props:{w:419.6875,h:677.9375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"none"},parentId:"page:page",index:"a0",typeName:"shape"},{x:1479.765625,y:227.52734375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:n-HH4IouUsStSFr3VNbU-",type:"line",parentId:"page:page",index:"a2",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:-4.6640625,y:22115642650533118e-29},a2:{id:"a2",index:"a2",x:-1292.703125,y:2220446049250313e-28}},shapeColor:null,strokeWidth:"none"},typeName:"shape"},{x:201.34708590770333,y:145.867869309553,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:BEBrp9VENbneWCEP9Z57D",type:"text",props:{color:"black",size:"m",w:389.55916409229667,text:"January",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">January</h3>',shapeColor:null},parentId:"page:page",index:"a3",typeName:"shape"},{x:631.6081020625556,y:145.867869309553,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-3Bu-xyyud5-NY1mEsn_r",type:"text",props:{color:"black",size:"m",w:399.24346043744436,text:"February",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">February</h3>',shapeColor:null},parentId:"page:page",index:"a4",typeName:"shape"},{x:1064.4140625,y:145.867869309553,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:97V6hIrYPl_7kahzLVj4Y",type:"text",props:{color:"black",size:"m",w:397.96463853034425,text:"March",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">March</h3>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"},{x:213.4453125,y:262.6015625,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hqEIx0gJpckN8eL0a3_eG",type:"geo",props:{w:377.57421875,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Campaign brief",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Campaign brief</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a6",typeName:"shape"},{x:424.8515625,y:350.465234375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:L4SJqvXoG-EotQtRMTPY8",type:"geo",props:{w:242.98046875,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Brainstorming idea",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Brainstorming idea</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a7",typeName:"shape"},{x:642.359375,y:438.32890625000005,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5PsZHZLZu4_CVVyhnfMhV",type:"geo",props:{w:317.4921875,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Pitching V1 draft",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Pitching V1 draft</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a8",typeName:"shape"},{x:801.10546875,y:526.192578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gaTWbH01oHY5U8i7-0YWM",type:"geo",props:{w:216.140625,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Team sync",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Team sync</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a9",typeName:"shape"},{x:1017.24609375,y:614.05625,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LTp09wJ7CZ4hmqxK3TqOs",type:"geo",props:{w:216.140625,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Product launch",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Product launch</p>',shapeColor:"#26A688",strokeWidth:"none"},parentId:"page:page",index:"aA",typeName:"shape"},{x:1224.703125,y:701.919921875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YRlBT-re2qFu7J2lowdkX",type:"geo",props:{w:216.140625,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"PR push",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">PR push</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aB",typeName:"shape"}],assets:[],meta:{},width:null,svg:'<svg direction="ltr" width="1304.0390625" height="693.9375" viewBox="179.0625 111.1171875 1304.0390625 693.9375" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 187.0625, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L415.6875,0 Q419.6875,0 419.6875,4 L419.6875,673.9375 Q419.6875,677.9375 415.6875,677.9375 L4,677.9375 Q0,677.9375 0,673.9375 L0,4 Q0,0 4,0 " id="shape:hF6E8P7CiXiSsRo7LG0FF" style="fill-opacity: 1; stroke-width: 0;"></path><foreignObject width="419.6875" height="677.9375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 621.2383, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L415.6875,0 Q419.6875,0 419.6875,4 L419.6875,673.9375 Q419.6875,677.9375 415.6875,677.9375 L4,677.9375 Q0,677.9375 0,673.9375 L0,4 Q0,0 4,0 " id="shape:taayoSjVZnQxAEAkYzW8F" style="fill-opacity: 1; stroke-width: 0;"></path><foreignObject width="419.6875" height="677.9375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1055.4141, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L415.6875,0 Q419.6875,0 419.6875,4 L419.6875,673.9375 Q419.6875,677.9375 415.6875,677.9375 L4,677.9375 Q0,677.9375 0,673.9375 L0,4 Q0,0 4,0 " id="shape:DogbW2-V83SiEhlezSTF1" style="fill-opacity: 1; stroke-width: 0;"></path><foreignObject width="419.6875" height="677.9375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1479.7656, 227.5273)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M-4.66, 0L-1292.7, 0" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 201.3471, 145.8679)" opacity="1"><g><foreignObject width="390.55916409229667" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">January</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 631.6081, 145.8679)" opacity="1"><g><foreignObject width="400.24346043744436" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">February</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1064.4141, 145.8679)" opacity="1"><g><foreignObject width="399" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">March</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 213.4453, 262.6016)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L373.5742,0 Q377.5742,0 377.5742,4 L377.5742,64.8086 Q377.5742,68.8086 373.5742,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:hqEIx0gJpckN8eL0a3_eG" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="377.57421875" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Campaign brief</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 424.8516, 350.4652)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L238.9805,0 Q242.9805,0 242.9805,4 L242.9805,64.8086 Q242.9805,68.8086 238.9805,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:L4SJqvXoG-EotQtRMTPY8" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="242.98046875" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Brainstorming idea</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 642.3594, 438.3289)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L313.4922,0 Q317.4922,0 317.4922,4 L317.4922,64.8086 Q317.4922,68.8086 313.4922,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:5PsZHZLZu4_CVVyhnfMhV" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="317.4921875" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Pitching V1 draft</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 801.1055, 526.1926)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L212.1406,0 Q216.1406,0 216.1406,4 L216.1406,64.8086 Q216.1406,68.8086 212.1406,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:gaTWbH01oHY5U8i7-0YWM" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="216.140625" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Team sync</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1017.2461, 614.0562)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L212.1406,0 Q216.1406,0 216.1406,4 L216.1406,64.8086 Q216.1406,68.8086 212.1406,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:LTp09wJ7CZ4hmqxK3TqOs" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 0;"></path><foreignObject width="216.140625" height="68.80859375" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Product launch</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1224.7031, 701.9199)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L212.1406,0 Q216.1406,0 216.1406,4 L216.1406,64.8086 Q216.1406,68.8086 212.1406,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:YRlBT-re2qFu7J2lowdkX" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="216.140625" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">PR push</p></div></div></foreignObject></g></g></svg>'}},concentricCircles:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:565.8710406141417,y:267.2348052328804,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TAw6_9rfNRYvwwWYH_HCE",type:"geo",props:{w:477.70836857906545,h:477.70836857906545,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a1",typeName:"shape"},{x:616.0939715727751,y:367.685804457496,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EgzihrX9ISnR1IDnH3Nb-",type:"geo",props:{w:377.2573693544499,h:377.2573693544499,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a2",typeName:"shape"},{x:668.9469658115557,y:473.48237590821486,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PjG3dFUaDsYRxpsyfV9pW",type:"geo",props:{w:271.5513808768887,h:271.5513808768887,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a3",typeName:"shape"},{x:710.2141277616566,y:556.2474435629489,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:q-kyMkxhO2b6WeTH0ets_",type:"geo",props:{w:189.21399728645815,h:189.21399728645815,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:"#26A688",strokeWidth:"sm"},parentId:"page:page",index:"a4",typeName:"shape"},{x:464.90514248458214,y:65.35157205630884,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:j5viwZdfHENtGXtzpl0By",type:"geo",props:{w:679.628218169672,h:679.628218169672,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0",typeName:"shape"},{x:510.91801733541865,y:157.35060141748204,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ktAwuZYMrly1jH7bcYmPU",type:"geo",props:{w:587.634481733614,h:587.634481733614,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0V",typeName:"shape"},{x:725.4037617637376,y:93.6328125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:arpSUqzdolhE3v92x2Hlg",type:"text",props:{color:"black",size:"m",w:159,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Strangers</p>',shapeColor:null},parentId:"page:page",index:"a6",typeName:"shape"},{x:698.7226562500001,y:191.5703125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:p4dDCuUjLEG9hLXieB7uX",type:"text",props:{color:"black",size:"m",w:211.83203125000003,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Community</p>',shapeColor:null},parentId:"page:page",index:"a7",typeName:"shape"},{x:698.7226562500001,y:300.83203125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IQ2anr8KXqvDn1DTJJIM1",type:"text",props:{color:"black",size:"m",w:212,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Acquaintances</p>',shapeColor:null},parentId:"page:page",index:"a8",typeName:"shape"},{x:698.7226562500001,y:410.09375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:O77tcKAFokcE_JogX_h3n",type:"text",props:{color:"black",size:"m",w:212,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Friends</p>',shapeColor:null},parentId:"page:page",index:"a9",typeName:"shape"},{x:698.7226562500001,y:497.0234375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Ku24cDrP5-0A12pFZdch1",type:"text",props:{color:"black",size:"m",w:212,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Family</p>',shapeColor:null},parentId:"page:page",index:"aA",typeName:"shape"},{x:698.7226562500001,y:628.6171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Bd8YnNb0vDeKdtlRMcNh_",type:"text",props:{color:"black",size:"m",w:212,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:27,html:'<h4 class="themed-heading" style="text-align: center">Me</h4>',shapeColor:"#FFFFFF"},parentId:"page:page",index:"aB",typeName:"shape"}],assets:[{meta:{},id:"asset:1250396056",type:"image",typeName:"asset",props:{name:"tldrawFile",src:"https://cdn-staging.gamma.app/QWjS6fBfpt/1503bafa04414cc2a7b9848c75a23885/original/tldrawFile.png",w:800,h:801,mimeType:"image/png",isAnimated:!1}}],meta:{},width:360,svg:'<svg direction="ltr" width="695.4817604046791" height="695.5549853416027" viewBox="457.05160024957496 57.38818847034315 695.4817604046791 695.5549853416027" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 464.9051, 65.3516)" opacity="1"><g data-shape-type="geo"><path d="M0,339.814109084836a339.814109084836,339.814109084836,0,1,1,679.628218169672,0a339.814109084836,339.814109084836,0,1,1,-679.628218169672,0" width="679.628218169672" height="679.628218169672" id="shape:j5viwZdfHENtGXtzpl0By" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="679.4817604046791" height="679.5549853416026"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 510.918, 157.3506)" opacity="1"><g data-shape-type="geo"><path d="M0,293.817240866807a293.817240866807,293.817240866807,0,1,1,587.634481733614,0a293.817240866807,293.817240866807,0,1,1,-587.634481733614,0" width="587.634481733614" height="587.634481733614" id="shape:ktAwuZYMrly1jH7bcYmPU" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="587.4668563326944" height="587.5506630553135"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 565.871, 267.2348)" opacity="1"><g data-shape-type="geo"><path d="M0,238.85418428953272a238.85418428953272,238.85418428953272,0,1,1,477.70836857906545,0a238.85418428953272,238.85418428953272,0,1,1,-477.70836857906545,0" width="477.70836857906545" height="477.70836857906545" id="shape:TAw6_9rfNRYvwwWYH_HCE" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="477.7083685790655" height="477.70836857906556"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 616.094, 367.6858)" opacity="1"><g data-shape-type="geo"><path d="M0,188.62868467722495a188.62868467722495,188.62868467722495,0,1,1,377.2573693544499,0a188.62868467722495,188.62868467722495,0,1,1,-377.2573693544499,0" width="377.2573693544499" height="377.2573693544499" id="shape:EgzihrX9ISnR1IDnH3Nb-" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="377.2573693544497" height="377.25736935444945"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 668.947, 473.4824)" opacity="1"><g data-shape-type="geo"><path d="M0,135.77569043844434a135.77569043844434,135.77569043844434,0,1,1,271.5513808768887,0a135.77569043844434,135.77569043844434,0,1,1,-271.5513808768887,0" width="271.5513808768887" height="271.5513808768887" id="shape:PjG3dFUaDsYRxpsyfV9pW" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="271.1891698494137" height="271.3702149305733"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 710.2141, 556.2474)" opacity="1"><g data-shape-type="geo"><path d="M0,94.60699864322908a94.60699864322908,94.60699864322908,0,1,1,189.21399728645815,0a94.60699864322908,94.60699864322908,0,1,1,-189.21399728645815,0" width="189.21399728645815" height="189.21399728645815" id="shape:q-kyMkxhO2b6WeTH0ets_" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 2;"></path><foreignObject width="189.2139972864582" height="188.17746321153578" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 725.4038, 93.6328)" opacity="1"><g><foreignObject width="160" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Strangers</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 191.5703)" opacity="1"><g><foreignObject width="212.83203125000003" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Community</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 300.832)" opacity="1"><g><foreignObject width="213" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Acquaintances</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 410.0938)" opacity="1"><g><foreignObject width="213" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Friends</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 497.0234)" opacity="1"><g><foreignObject width="213" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Family</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 628.6172)" opacity="1"><g><foreignObject width="213" height="47" class="themed-heading-no-gradient" style="--body-color: #FFFFFF; --heading-color: #FFFFFF; --link-color: #FFFFFF; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading" style="text-align: center">Me</h4></div></div></foreignObject></g></g></svg>'}},targetCircles:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:929.6197161942252,y:155.0916582850458,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Lyhoe8Jk5MAMoudOizb8X",type:"geo",props:{w:500.14804571219815,h:500.14804571219815,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0G",typeName:"shape"},{x:967.92743672945,y:193.45976889185556,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:RYOvVH5HKvjk5GXZojXEJ",type:"geo",props:{w:423.4118244985782,h:423.4118244985782,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0l",typeName:"shape"},{x:1007.5906901264586,y:233.06263221727892,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:guJhyRC2_2GgZ9f0HcNJR",type:"geo",props:{w:344.20609784773154,h:344.20609784773154,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a1V",typeName:"shape"},{x:1043.7799729004403,y:269.2519149912604,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:seEkM5XtC9yIw7hoXfdbS",type:"geo",props:{w:271.8275322997684,h:271.8275322997684,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a2V",typeName:"shape"},{x:1081.7319672065987,y:307.3344023477454,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:NS2ahjw0mGlpg-PMYOxM8",type:"geo",props:{w:195.6625575867985,h:195.6625575867985,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a3V",typeName:"shape"},{x:1115.50785950286,y:340.94563257104426,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3f1yjdcch_VMlWXK600PT",type:"geo",props:{w:128.4400971402006,h:128.4400971402006,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:"#26A688",strokeWidth:"sm"},parentId:"page:page",index:"a4V",typeName:"shape"},{x:1073.6937390503244,y:381.6656811411451,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1FLv65NIvaurbbxTQrE18",type:"text",props:{color:"black",size:"m",w:212,text:"Me",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:27,html:'<h4 class="themed-heading" style="text-align: center">Me</h4>',shapeColor:"#FFFFFF"},parentId:"page:page",index:"aB",typeName:"shape"},{x:1381.0026472829704,y:173.17393949526377,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Q6dHtLEQiLE4grg0RCM-A",type:"line",parentId:"page:page",index:"aC",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:2.417216937863941,y:7.723304968297555},a2:{id:"a2",index:"a2",x:-52.226471674030236,y:48.30663418059406}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1396.40422015788,y:245.48057367585784,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:V6TsnoH4I7lC4eFh_jCVf",type:"line",parentId:"page:page",index:"aCV",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:48.001155258881184,y:41.665293041944466},a2:{id:"a2",index:"a2",x:-47.682312332765534,y:66.29026038484135}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1418.8041070476638,y:554.4103614129623,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Z7iFyapJSWnC-Nj48trDz",type:"line",parentId:"page:page",index:"aCd",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:28.116150018295414,y:-27.85190422662322},a2:{id:"a2",index:"a2",x:-138.26659908197,y:-91.24836881350053}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1396.40422015788,y:405.1656811411451,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UyPPQxh5Izzrta_PeC4Lv",type:"line",parentId:"page:page",index:"aCl",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:94.52397902306642,y:3674838211509268e-29},a2:{id:"a2",index:"a2",x:-62.28449928723883,y:3674838211509268e-29}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1396.40422015788,y:680.9410126688012,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YvmG2cbsMv-yBAjUCLAZV",type:"line",parentId:"page:page",index:"aD",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:-30.33301659894073,y:-34.31453399190673},a2:{id:"a2",index:"a2",x:-187.1016230443878,y:-198.11935311752904}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1456.428646134135,y:520.7240691140834,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EdTs6rzP02YRCn-NSSouG",type:"text",props:{color:"black",size:"m",w:190.61066381032765,text:"Friends",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Friends</p>',shapeColor:null},parentId:"page:page",index:"aE",typeName:"shape"},{x:1373.8179823238074,y:633.1902718076452,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9DzQSxc3Xru2fKGSdFx16",type:"text",props:{color:"black",size:"m",w:191,text:"Family",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Family</p>',shapeColor:null},parentId:"page:page",index:"aF",typeName:"shape"},{x:1496.9281991809464,y:383.1656811411449,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VKIjJjszvAlrkJQJfGUV1",type:"text",props:{color:"black",size:"m",w:204.36525326738322,text:"Acquaintances",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Acquaintances</p>',shapeColor:null},parentId:"page:page",index:"aG",typeName:"shape"},{x:1451.2460195004435,y:263.4599680925235,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:V6a9zGihrEPKbWp0WyYFu",type:"text",props:{color:"black",size:"m",w:204.36525326738322,text:"Community",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Community</p>',shapeColor:null},parentId:"page:page",index:"aH",typeName:"shape"},{x:1389.4198642208344,y:155.14109047464459,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tneIatSl5yj2J6kQLD4Hy",type:"text",props:{color:"black",size:"m",w:204.36525326738322,text:"Strangers",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Strangers</p>',shapeColor:null},parentId:"page:page",index:"aI",typeName:"shape"}],assets:[{meta:{},id:"asset:1250396056",type:"image",typeName:"asset",props:{name:"tldrawFile",src:"https://cdn-staging.gamma.app/QWjS6fBfpt/1503bafa04414cc2a7b9848c75a23885/original/tldrawFile.png",w:800,h:801,mimeType:"image/png",isAnimated:!1}}],meta:{},width:534.2222222222222,svg:'<svg direction="ltr" width="788.1107737708712" height="538.0491813330007" viewBox="921.8174254100752 147.14109047464459 788.1107737708712 538.0491813330007" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 929.6197, 155.0917)" opacity="1"><g data-shape-type="geo"><path d="M0,250.07402285609908a250.07402285609908,250.07402285609908,0,1,1,500.14804571219815,0a250.07402285609908,250.07402285609908,0,1,1,-500.14804571219815,0" width="500.14804571219815" height="500.14804571219815" id="shape:Lyhoe8Jk5MAMoudOizb8X" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="499.9503364963482" height="500.04918133300066"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 967.9274, 193.4598)" opacity="1"><g data-shape-type="geo"><path d="M0,211.7059122492891a211.7059122492891,211.7059122492891,0,1,1,423.4118244985782,0a211.7059122492891,211.7059122492891,0,1,1,-423.4118244985782,0" width="423.4118244985782" height="423.4118244985782" id="shape:RYOvVH5HKvjk5GXZojXEJ" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="423.17913672789973" height="423.29546462452595"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1007.5907, 233.0626)" opacity="1"><g data-shape-type="geo"><path d="M0,172.10304892386577a172.10304892386577,172.10304892386577,0,1,1,344.20609784773154,0a172.10304892386577,172.10304892386577,0,1,1,-344.20609784773154,0" width="344.20609784773154" height="344.20609784773154" id="shape:guJhyRC2_2GgZ9f0HcNJR" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="343.9254156609416" height="344.0657281324484"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1043.78, 269.2519)" opacity="1"><g data-shape-type="geo"><path d="M0,135.9137661498842a135.9137661498842,135.9137661498842,0,1,1,271.8275322997684,0a135.9137661498842,135.9137661498842,0,1,1,-271.8275322997684,0" width="271.8275322997684" height="271.8275322997684" id="shape:seEkM5XtC9yIw7hoXfdbS" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="271.4649529254623" height="271.6461821185811"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1081.732, 307.3344)" opacity="1"><g data-shape-type="geo"><path d="M0,97.83127879339925a97.83127879339925,97.83127879339925,0,1,1,195.6625575867985,0a97.83127879339925,97.83127879339925,0,1,1,-195.6625575867985,0" width="195.6625575867985" height="195.6625575867985" id="shape:NS2ahjw0mGlpg-PMYOxM8" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="195.1606169331522" height="195.41142609724233"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1115.5079, 340.9456)" opacity="1"><g data-shape-type="geo"><path d="M0,64.2200485701003a64.2200485701003,64.2200485701003,0,1,1,128.4400971402006,0a64.2200485701003,64.2200485701003,0,1,1,-128.4400971402006,0" width="128.4400971402006" height="128.4400971402006" id="shape:3f1yjdcch_VMlWXK600PT" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 2;"></path><foreignObject width="127.72281225789044" height="128.08095257852762" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1073.6937, 381.6657)" opacity="1"><g><foreignObject width="213" height="47" class="themed-heading-no-gradient" style="--body-color: #FFFFFF; --heading-color: #FFFFFF; --link-color: #FFFFFF; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading" style="text-align: center">Me</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1381.0026, 173.1739)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M2.42, 7.72L-52.23, 48.31" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1396.4042, 245.4806)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M48, 41.67L-47.68, 66.29" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1418.8041, 554.4104)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M28.12, -27.85L-138.27, -91.25" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1396.4042, 405.1657)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M94.52, 0L-62.28, 0" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1396.4042, 680.941)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M-30.33, -34.31L-187.1, -198.12" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1456.4286, 520.7241)" opacity="1"><g><foreignObject width="191" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Friends</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1373.818, 633.1903)" opacity="1"><g><foreignObject width="192" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Family</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1496.9282, 383.1657)" opacity="1"><g><foreignObject width="206" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Acquaintances</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1451.246, 263.46)" opacity="1"><g><foreignObject width="205" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Community</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1389.4199, 155.1411)" opacity="1"><g><foreignObject width="205" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Strangers</p></div></div></foreignObject></g></g></svg>'}}},d={src:"/_next/static/media/Gantt.63fb5eea.svg",height:96,width:253,blurWidth:0,blurHeight:0},u={src:"/_next/static/media/Kanban.fa47adcf.svg",height:96,width:253,blurWidth:0,blurHeight:0},p=()=>[{key:"diagram",name:()=>a.Ru._({id:"G1q1hG"}),keywords:["sketch","drawing","shapes","diagram","canvas","freeform"],shortcut:"/diagram"},{key:"calendarWeek",name:()=>a.Ru._({id:"ToE1YL"}),keywords:["week","days","calendar","diagram","kanban","schedule","timeline"],icon:i.aXh,previewImage:u},{key:"calendarMonths",name:()=>a.Ru._({id:"jIipv0"}),keywords:["month","days","calendar","diagram","kanban","schedule","gantt chart","timeline"],icon:i.nKW,previewImage:d}].map(e=>{let t="diagram"===e.key?{type:"diagram",attrs:{}}:c[e.key];return{nodeName:"diagram",icon:i.qTS,...e,execute:e=>{let n=(0,o.rZ)(),i=l()(t);i.attrs.id=n,(0,o.CD)(n,!0),e.commands.insertContent(i)},dragStartFn:e=>{let n=(0,o.rZ)(),i=l()(t);i.attrs.id=n,(0,o.CD)(n,!0),(0,s.fS)(e,i)}}}).filter(e=>!!e)},34630:(e,t,n)=>{"use strict";n.d(t,{Ni:()=>c,_D:()=>o,x_:()=>s});var i=n(58495),a=n(86014),r=n(42673),l=n(68301);let s=(e,t)=>{let n=e.getReader(),i=async()=>{var e,a,r;try{let{done:r,value:l}=await n.read();if(r)null==(a=t.onDone)||a.call(t);else{null==(e=t.onMessage)||e.call(t,l),i();return}}catch(e){null==(r=t.onError)||r.call(t,e instanceof Error?e:Error(e))}};i()},o=e=>e instanceof a.lm?{errorCode:e.code,errorMessage:e.message}:e instanceof Error?{errorMessage:e.message}:{errorMessage:e};(0,i.d_)("0123456789abcdefghijklmnopqrstuvwxyz",16);let c=(e,t,n)=>{t.skipCapturingErrors||l.of.get("disableAiErrorLogging")||(0,r.EJ)(e,n)}},34832:(e,t,n)=>{"use strict";n.d(t,{K8:()=>p,i4:()=>u,pt:()=>d});var i=n(55729),a=n(12419),r=n(34630),l=n(17859),s=n(91285);class o extends s.Rv{getContent(){return this.content}constructor(e){super({start:()=>{var t;null==(t=e.onStart)||t.call(e)},transform:async(t,n)=>{var i,a,r;"content"===t.event&&(this.content+=t.data,null==(i=e.onContent)||i.call(e,this.content)),"done"===t.event&&(null==(a=e.onComplete)||a.call(e,this.content)),"cancel"===t.event&&(null==(r=e.onCancel)||r.call(e)),n.enqueue(t)},flush(){var t;null==(t=e.onFlush)||t.call(e)}}),this.content=""}}var c=n(82927);let d=(e,t)=>({generate:(0,i.useCallback)(n=>u({...n,promptKey:e,opts:t}),[t,e])}),u=e=>{let{promptKey:t,opts:n,variables:i,interactionId:s,workspaceId:c}=e;s=s||(0,l.$F)();let{cancel:d,stream:u}=(0,a.aO)({promptKey:t,variables:i,interactionId:s,workspaceId:c},{timeout:n.timeout}),p=new o(n),h=u.pipeThrough(p);return{cancel:d,promise:new Promise((e,i)=>{(0,r.x_)(h,{onError(e){var a;null==(a=n.onError)||a.call(n,e),(0,r.Ni)(e,n,{customErrorType:"streamJsxGeneration",promptKey:t,interactionId:s}),i(e)},onDone(){e(p.getContent())}})})}},p=e=>{let{promptKey:t,variables:n,interactionId:i,workspaceId:r=(0,c.gx)(),opts:s={}}=e;return i=i||(0,l.$F)(),(0,a.fY)({promptKey:t,interactionId:i,workspaceId:r,variables:n},s)}},35289:(e,t,n)=>{"use strict";n.d(t,{p:()=>w});var i=n(6029),a=n(46898),r=n(57405),l=n(23293),s=n(48810),o=n(33787),c=n(49611),d=n(38036),u=n(36218),p=n(58959),h=n(19564),g=n(77650),m=n(15773),x=n(59230),f=n(15342),b=n(21982),y=n(43634),v=n(60908),C=n(62964);let w=e=>{let{updateAttributes:t,currentAttributes:n}=e,{sourceUrl:w,meta:A,thumbnail:j}=n,k=(0,f.GV)(y.aQ),S=(0,a.d)(),L=async()=>{w&&await (0,C.Yq)(w,t).catch(e=>{console.error("[EMBED METADATA] Error restoring preview defaults",e),S({title:g.Ru._({id:"cgB+pO",values:{0:e.error}}),status:"error",isClosable:!0,position:"top"})})};return(0,i.jsxs)(r.T,{pt:4,align:"stretch",spacing:4,children:[(0,i.jsxs)(r.T,{align:"stretch",children:[(0,i.jsx)(l.D,{size:"md",children:(0,i.jsx)(h.x6,{id:"qbzc6p"})}),(0,i.jsx)(s.E,{fontSize:"sm",color:"gray.600",children:(0,i.jsx)(h.x6,{id:"D9R1mI"})})]}),(0,i.jsxs)(r.T,{align:"stretch",p:4,borderRadius:"lg",border:"1px solid var(--chakra-colors-blue-500)",bg:"gray.50",spacing:4,children:[(null==j?void 0:j.showPlaceholder)?(0,i.jsx)(b.Pf,{hasUploadError:(null==j?void 0:j.uploadStatus)===x.A.Error,isUploading:(null==j?void 0:j.uploadStatus)===x.A.Uploading,height:"200px",borderRadius:"md"}):j?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o._,{src:j.src||j.tempUrl||"",alt:(null==A?void 0:A.title)||"",ignoreFallback:!0,borderRadius:"md"}),(0,i.jsx)(c.$,{isDisabled:j.uploadStatus===x.A.Uploading,onClick:()=>{t({thumbnail:void 0})},children:(0,i.jsx)(h.x6,{id:"YFcW0s"})})]}):k&&(0,i.jsx)(m.Z,{onUploadStart:e=>{let{file:n,tempUrl:i}=e;n.type&&(0,v.aI)(n.type)?t({thumbnail:{uploadStatus:x.A.Uploading,showPlaceholder:!0,tempUrl:null}}):t({thumbnail:{tempUrl:i,uploadStatus:x.A.Uploading,showPlaceholder:!1}})},onUploadSuccess:e=>{let{src:n}=e;t({thumbnail:{src:n}})},onUploadFailed:e=>{console.error("[EMBED METADATA] Error uploading thumbnail image",e),t({thumbnail:{uploadStatus:x.A.Error,showPlaceholder:!0,tempUrl:null}})},orgId:k||"",uploadType:"image",editType:"icon",dropHereText:g.Ru._({id:"yxTfZB",values:{0:"%{browse}"}}),customHeight:"200px",customFontSize:"sm"}),(0,i.jsxs)(r.T,{mt:2,align:"stretch",children:[(0,i.jsx)(s.E,{children:(0,i.jsx)(h.x6,{id:"MHrjPM"})}),(0,i.jsx)(d.p,{bg:"white",value:(null==A?void 0:A.title)||"",placeholder:g.Ru._({id:"bTzMt5"}),onChange:e=>{t({meta:{...A,title:e.target.value}})},"data-testid":"title-input"})]}),(0,i.jsxs)(r.T,{align:"stretch",children:[(0,i.jsx)(s.E,{children:(0,i.jsx)(h.x6,{id:"Nu4oKW"})}),(0,i.jsx)(u.T,{bg:"white",rows:4,value:(null==A?void 0:A.description)||"",placeholder:g.Ru._({id:"2VBqT4"}),onChange:e=>{t({meta:{...A,description:e.target.value}})}})]}),(0,i.jsxs)(r.T,{align:"stretch",children:[(0,i.jsx)(s.E,{children:(0,i.jsx)(h.x6,{id:"On0aF2"})}),(0,i.jsxs)(p.z,{children:[(null==A?void 0:A.icon)&&(0,i.jsx)(o._,{src:A.icon,h:"1.5em",borderRadius:"sm"}),(0,i.jsx)(d.p,{bg:"white",value:(null==A?void 0:A.site)||"",placeholder:g.Ru._({id:"SmWcKR"}),onChange:e=>{t({meta:{...n.meta,site:e.target.value}})}})]})]})]}),(0,i.jsx)(c.$,{onClick:L,children:(0,i.jsx)(h.x6,{id:"Z00hdC"})})]})}},35292:(e,t,n)=>{"use strict";n.d(t,{A:()=>d,l:()=>c});var i=n(55729),a=n(68301),r=n(15342),l=n(55084),s=n(70965),o=n(1309);let c=e=>(0,a.u)("aiImageEditing")&&(0,o.k)(e),d=()=>{let e=(0,r.jL)();(0,i.useEffect)(()=>()=>{e((0,l.CX)({chatId:(0,s.H)()}))},[e])}},35616:(e,t,n)=>{"use strict";n.d(t,{X:()=>T});var i=n(37243),a=n(41896),r=n(38934),l=n(46957),s=n(61964),o=n(39078),c=n(6029),d=n(48810),u=n(26420),p=n(49611),h=n(21938),g=n(99492),m=n(48621),x=n(47412),f=n(19564),b=n(77650),y=n(50333),v=n.n(y),C=n(55729),w=n(23746),A=n(58251),j=n(43607),k=n(91242),S=n(80180),L=n(11403),I=n(84886),E=n(50764),D=n(43216),M=n(56124);let R=e=>{let{colWidths:t}=e;return(0,c.jsxs)("colgroup",{children:[(0,c.jsx)("col",{style:{width:"0%"}}),t.map((e,t)=>(0,c.jsx)("col",{className:"col-width-control",style:{width:"".concat(e,"%")}},t))]})};R.displayName="ColGroup";let _=e=>{var t;let n=(0,j.FX)(),{node:i,editor:r,getPos:l,decorations:y,updateAttributes:E}=e,{colMinPercent:_,newColSize:N}=r.schema.nodes.table.spec,T=(0,o.cG)(i.attrs.colWidths,N,_),P=s.J3.get(i),H=y.some(e=>e.spec.isFocusedInside),F=null==(t=y.find(e=>e.spec.isColumnSelected))?void 0:t.spec.colNumber,{colWidths:B}=i.attrs,O=(0,L.En)(),V=P.height*P.width;(0,C.useEffect)(()=>{P.width!==B.length&&setTimeout(()=>{E({colWidths:(0,o.I)(P.width)})},0)},[P.width,B,E]);let W=(0,C.useCallback)(e=>{let t=l();return"number"!=typeof t?0:t+1+P.positionAt(0,e,i)},[l,i,P]),U=(0,C.useCallback)(e=>{let t=W(e+1)+1;r.chain().addColumnAfter(e).command(e=>{let{tr:n}=e,i=(0,k.s)(n.doc.resolve(t));return i&&n.setSelection(i),!0}).run()},[r,W]),G=(0,C.useCallback)(()=>{U(P.width-1)},[U,P.width]),Z=v()(i.attrs.colWidths.reduce((e,t)=>e+t,0),20);return O?V>=M.dM?(0,c.jsx)(a.VR,{children:(0,c.jsx)(d.E,{color:"red",contentEditable:!1,border:"1px solid red",p:"0.5em",children:(0,c.jsx)(f.x6,{id:"/ZI3Eo"})})}):(0,c.jsx)(I.u,{as:"div",...e,...i.attrs,children:(0,c.jsxs)(u.a,{w:"fit-content",overflowX:n?"auto":void 0,position:"relative",width:"100%",className:(0,h.cx)("table-wrapper",A.a0),"data-selection-ring":!0,children:[(0,c.jsxs)("table",{style:{width:n?"max-content":"".concat(Z,"%"),minWidth:n?"100%":void 0,maxWidth:n?"200vw":void 0,tableLayout:n?"auto":"fixed",position:"relative"},children:[(0,c.jsx)(R,{cols:P.width,colWidths:B}),(0,c.jsx)("thead",{children:(0,c.jsx)(z,{numColumns:P.width,selectedColumn:F,getColumnPosition:W,...e})}),(0,c.jsx)(a.$p,{as:"tbody",className:"table-content"})]}),(0,c.jsx)(D.A,{...e,handlePlacement:"outside","data-testid":"select-table-button",onClick:()=>{let e=W(0);r.chain().focus().selectTable(e).run()},label:b.Ru._({id:"3xRGMR"})}),H&&(0,c.jsxs)(u.a,{contentEditable:!1,suppressContentEditableWarning:!0,children:[(0,c.jsx)(x.Tz,{placement:"right",label:b.Ru._({id:"AgvHni"}),children:(0,c.jsx)(p.$,{position:"absolute",insetInlineStart:"100%",top:"0",height:"100%",onClick:G,onMouseDown:S.Fw,minWidth:"0",width:"auto",isDisabled:!T,zIndex:1,"data-testid":"add-col-end-button",size:"xs",shadow:"sm",variant:"unstyled",color:"var(--body-color)",className:w.Gx,backgroundColor:"var(--clickable-background-color)",marginInlineStart:1,w:5,children:(0,c.jsx)(m.g,{icon:g.QLR})})}),(0,c.jsx)(x.Tz,{placement:"bottom",label:b.Ru._({id:"qZd/ph"}),children:(0,c.jsx)(p.$,{position:"absolute",insetInlineStart:"0",top:"100%",width:"100%",onClick:()=>{let e=l();if("number"!=typeof e)return;let t=P.height-1,n=P.width-1,a=e+1+P.positionAt(t,n,i);r.chain().focus(a).addRowAfter().run(),requestAnimationFrame(()=>r.chain().focus(a).goToNextCell().run())},onMouseDown:S.Fw,minHeight:"0",height:6,zIndex:4,"data-testid":"add-row-end-button",size:"xs",shadow:"sm",variant:"unstyled",color:"var(--body-color)",className:w.Gx,mt:1,children:(0,c.jsx)(m.g,{icon:g.QLR})})})]})]})}):null},z=e=>{let{numColumns:t,selectedColumn:n,getColumnPosition:i,...a}=e,{editor:r}=a,l=(0,C.useCallback)(e=>{let t=i(e);r.chain().focus().selectColumn(t).run()},[r,i]);if(!t)return null;let s=Array.from(Array(t).keys());return(0,c.jsxs)("tr",{contentEditable:!1,suppressContentEditableWarning:!0,children:[(0,c.jsx)("th",{style:{padding:0}}),s.map(e=>(0,c.jsx)(N,{colNumber:e,selectColumn:l,isSelected:e===n,...a},e))]})},N=(0,C.memo)(e=>{let{colNumber:t,selectColumn:n,...i}=e,{decorations:a}=i,{colHover:r}=(0,E.L3)(a),{colFocus:l}=(0,E.lF)(a),s=(0,C.useCallback)(()=>n(t),[t,n]);return(0,c.jsx)("th",{style:{position:"relative",padding:0,border:0},className:"table-col-control",children:(0,c.jsx)(D.A,{...i,handlePlacement:"top",label:b.Ru._({id:"K3GOZ1"}),zIndex:"3",isVisible:r===t||l===t,onClick:s,"data-test-column-control":t})},t)});N.displayName="SelectColumnHeader";let T=i.bP.create({name:"table",priority:r.y.Table,containerHandle:!0,addNodeView:()=>(0,a.gu)(_,{update:l.z0}),addOptions:()=>({resizable:!0,handleWidth:10,colMinPercent:10,newColSize:20,lastColumnResizable:!1,allowTableNodeSelection:!0}),content:"tableRow+",tableRole:"table",isolating:!0,allowGapCursor:!1,group:"cardBlock layoutBlock footnoteBlock calloutBlock",parseHTML:()=>[{tag:"table"}],renderHTML(e){let{HTMLAttributes:t}=e;return["table",(0,i.KV)(this.options.HTMLAttributes,t),["tbody",0]]},addAttributes(){let e="colWidths";return{colWidths:{default:[],renderHTML:t=>{let{colWidths:n}=t;return n&&n.length?{[e]:JSON.stringify(n)}:{}},parseHTML:t=>{let n=t.getAttribute(e);if(n)try{let e=JSON.parse(n);if(Array.isArray(e))return(0,o.fF)(e),e}catch(e){}let i=t.querySelector("tr");if(!i)return[];let a=0;return i.childNodes.forEach(e=>{"TD"===e.nodeName&&a++}),(0,o.I)(a)}},fullWidthBlock:{default:!1}}},addCommands(){return{insertTable:function(){let{rows:e=3,cols:t=3,withHeaderRow:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i=>{let{dispatch:a,editor:r,commands:l}=i;if(!a)return!1;let s=function(e,t,n,i,a){let r=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;let t={};return Object.keys(e.nodes).forEach(n=>{let i=e.nodes[n];i.spec.tableRole&&(t[i.spec.tableRole]=i)}),e.cached.tableNodeTypes=t,t}(e),l=[],s=[];for(let e=0;e<n;e+=1){var c,d;let e=(c=r.cell,c.createAndFill());e&&s.push(e)}let u=[];for(let e=0;e<t;e+=1)u.push(r.row.createChecked(null,i&&0===e?l:s));return r.table.createChecked({colWidths:(0,o.I)(n)},u)}(r.schema,e,t,n);return l.insertContentAndSelect(s.toJSON())}},addColumnBefore:e=>t=>{let{state:n,dispatch:i,tr:a}=t;if(!(0,s.aH)(n.selection)||!i)return!1;let{table:r,tableStart:l}=(0,s._t)(n.selection);return(0,s.cq)(a,{table:r,col:e,tableStart:l,newColSize:this.options.newColSize,colMinPercent:this.options.colMinPercent})},addColumnAfter:e=>t=>{let{state:n,dispatch:i,tr:a}=t;if(!(0,s.aH)(n.selection)||!i)return!1;let{table:r,tableStart:l}=(0,s._t)(n.selection);return(0,s.cq)(a,{table:r,col:e+1,tableStart:l,newColSize:this.options.newColSize,colMinPercent:this.options.colMinPercent})},equalizeColumns:()=>e=>{let{state:t,dispatch:n,tr:i}=e;if(!(0,s.aH)(t.selection)||!n)return!1;let{map:a,tableStart:r}=(0,s._t)(t.selection);return i.setNodeMarkup(r-1,void 0,{colWidths:(0,o.I)(a.width)}),!0},visualizeTable:()=>e=>{let{state:t,dispatch:n,tr:i}=e;if(!(0,s.aH)(t.selection)||!n)return!1;let{map:a,tableStart:r}=(0,s._t)(t.selection);return i.setNodeMarkup(r-1,void 0,{colWidths:(0,o.I)(a.width)}),!0},deleteColumn:()=>e=>{let{state:t,dispatch:n,tr:i}=e;return!!n&&(0,s.Kl)(t.selection,i,n)},addRowBefore:()=>e=>{let{state:t,dispatch:n}=e;return(0,s.JD)(t,n)},addRowAfter:()=>e=>{let{state:t,dispatch:n}=e;return(0,s.gC)(t,n)},deleteRow:()=>e=>{let{state:t,dispatch:n,tr:i}=e;return(0,s.QN)(t.selection,i,n)},deleteTable:()=>e=>{let{state:t,tr:n,dispatch:i}=e;return!!i&&(0,s.CG)(t.selection,n,i)},deleteTableWhenEmpty:()=>e=>{let{state:t,tr:n,dispatch:i}=e;return!!i&&(0,s.lD)(t.selection,n,i)},deleteColWhenEmpty:()=>e=>{let{state:t,tr:n,dispatch:i}=e;return!!i&&(0,s.Tn)(t.selection,n,i)},deleteRowWhenEmpty:()=>e=>{let{state:t,tr:n,dispatch:i}=e;return!!i&&(0,s.rO)(t.selection,n,i)},mergeCells:()=>e=>{let{state:t,dispatch:n}=e;return(0,s.w7)(t,n)},splitCell:()=>e=>{let{state:t,dispatch:n}=e;return(0,s.L0)(t,n)},toggleHeaderColumn:()=>e=>{let{state:t,dispatch:n}=e;return(0,s.Qg)(t,n)},toggleHeaderRow:()=>e=>{let{state:t,dispatch:n}=e;return(0,s.uC)(t,n)},toggleHeaderCell:()=>e=>{let{state:t,dispatch:n}=e;return(0,s._G)(t,n)},mergeOrSplit:()=>e=>{let{state:t,dispatch:n}=e;return!!(0,s.w7)(t,n)||(0,s.L0)(t,n)},setCellAttribute:(e,t)=>n=>{let{state:i,dispatch:a}=n;return(0,s.i4)(e,t)(i,a)},goToNextCell:()=>e=>{let{state:t,dispatch:n}=e;return(0,s.D8)(1)(t,n)},goToPreviousCell:()=>e=>{let{state:t,dispatch:n}=e;return(0,s.D8)(-1)(t,n)},fixTables:()=>e=>{let{state:t,dispatch:n}=e;return n&&(0,s.rP)(t),!0},setCellSelection:e=>t=>{let{tr:n,dispatch:i}=t;if(i){let t=s.rn.create(n.doc,e.anchorCell,e.headCell);n.setSelection(t)}return!0}}},addKeyboardShortcuts(){let e=()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.deleteTableWhenEmpty(),()=>t.deleteRowWhenEmpty(),()=>t.deleteColWhenEmpty()]});return{Tab:()=>!!this.editor.commands.goToNextCell()||!!this.editor.can().addRowAfter()&&this.editor.chain().addRowAfter().goToNextCell().run(),"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:e,"Mod-Backspace":e,Delete:e,"Mod-Delete":e}},addProseMirrorPlugins(){return this.options.resizable,[(0,s.AL)({handleWidth:this.options.handleWidth,colMinPercent:this.options.colMinPercent,lastColumnResizable:this.options.lastColumnResizable}),(0,s.LF)({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){var t,n;let a={name:e.name,options:e.options,storage:e.storage};return{colMinPercent:null==(t=e.options)?void 0:t.colMinPercent,newColSize:null==(n=e.options)?void 0:n.newColSize,tableRole:(0,i.gk)((0,i.iI)(e,"tableRole",a))}}})},35623:(e,t,n)=>{"use strict";n.d(t,{D:()=>g});var i=n(37243),a=n(41896),r=n(12117),l=n(46957),s=n(6029),o=n(84886),c=n(66082);let d=e=>{let{node:t,decorations:n}=e,{fontSize:i,placeholder:r}=t.attrs;return(0,s.jsx)(o.u,{dir:(0,c.fZ)(n),...e,children:(0,s.jsx)(a.$p,{as:"li","data-testid":"bullet-list-item","data-font-size":i,"data-placeholder":r})})};var u=n(43944),p=n(91656);let h=/^\s*([-*])\s$/,g=i.bP.create({name:p.e.Bullet,content:"inline*",defining:!0,group:"block cardNotesBlock",selectable:!1,allowFontSizes:"body",addNodeView:()=>(0,a.gu)(d,{as:"ul",update:l.z0,updateWrapperEl:(e,t)=>{e.setAttribute("indent",t.node.attrs.indent)}}),addOptions:()=>({HTMLAttributes:{}}),addAttributes:()=>({indent:{default:0},fontSize:r.mD}),addInputRules(){return[(0,u.aW)({find:h,type:this.type},this.editor.state.schema)]},addKeyboardShortcuts:()=>({"Mod-Shift-8":e=>{let{editor:t}=e;return t.commands.setListItems({variant:p.e.Bullet})},"Mod-.":e=>{let{editor:t}=e;return t.commands.setListItems({variant:p.e.Bullet})}}),parseHTML(){return[{tag:'li[variant="'.concat(this.name,'"]')}]},renderHTML(e){let{HTMLAttributes:t}=e;return["li",(0,i.KV)(this.options.HTMLAttributes,t,{variant:this.name}),0]}})},35883:(e,t,n)=>{"use strict";n.d(t,{a:()=>x});var i=n(6029),a=n(78140),r=n(36999),l=n(49611),s=n(41283),o=n(99492),c=n(48621),d=n(47412),u=n(19564),p=n(77650),h=n(54229),g=n(80180),m=n(24813);let x=e=>{let{editor:t,color:n,setColor:x,analyticsSource:f}=e;return(0,i.jsxs)(a.W,{isLazy:!0,onClose:()=>t&&(0,m.q)(t),children:[(0,i.jsx)(d.Tz,{placement:"top",label:(0,i.jsx)(u.x6,{id:"XAIjEI"}),"aria-label":p.Ru._({id:"XAIjEI"}),children:(0,i.jsx)(r.I,{as:l.$,variant:"toolbar","data-formatting-menu-button":!0,rightIcon:(0,i.jsx)(c.g,{icon:o.Jt$,transform:"shrink-6"}),size:"sm",onMouseDown:g.Fw,children:(0,i.jsx)(c.g,{icon:o.fyG})})}),(0,i.jsx)(s.c,{overflow:"hidden",children:(0,i.jsx)(h.b,{currentColor:n||null,setColor:x,source:f})})]})}},36145:(e,t,n)=>{"use strict";n.d(t,{Qx:()=>g,p$:()=>b,dM:()=>m,bC:()=>y,KS:()=>h,xH:()=>p,XE:()=>u});var i=n(63867),a=n(87996),r=n(46007),l=n(60908),s=n(8376),o=n(53138);let c=e=>RegExp("^\\s*<svg.*<\\/svg>\\s*$","s").test(e);var d=n(16595);let u=(e,t,n,i)=>{let r=(n,i)=>{(0,d.Ki)(e,i||t,n)},l={onOriginalFileUpload:r,onUploadComplete:r,onUploadFailed:n=>{(0,d.wt)(e,t,n,i)}};n?(0,a.QM)(n,e.storage.mediaUpload.orgId,l):(0,a.j_)(t,e.storage.mediaUpload.orgId,l)},p=async(e,t)=>{try{let n=await fetch(t),i=await n.blob(),a=new File([i],"blob.png",{type:i.type});u(e,t,a)}catch(n){(0,d.wt)(e,t,n)}},h=e=>(0,l.u3)(e.type)||(0,r.cZ)(e.type,(0,r.QC)(e)),g=e=>new i.k_({props:{transformPasted:t=>(t.content.descendants(t=>{if("image"===t.type.name&&t.attrs.tempUrl){let n=e.storage.mediaUpload.completedUploads[t.attrs.tempUrl];n&&Object.assign(t.attrs,(0,d.wH)(t,(0,d.yK)({isError:!1,result:n})))}else if("image"===t.type.name&&t.attrs.src&&!(0,l.md)(t.attrs.src)){let n,i=t.attrs.src;if(i.startsWith("blob:")){Object.assign(t.attrs,(0,d.F)(i)),p(e,i);return}if(i.startsWith("data:")){if(!(n=(0,l.Xz)(t.attrs.src)))return;i=URL.createObjectURL(n)}Object.assign(t.attrs,(0,d.F)(i)),u(e,i,n)}}),t),handlePaste:(t,n,i)=>f(e,t,n,i),handleDOMEvents:{drop:(t,n)=>x(e,t,n)}}}),m=(e,t)=>{var n;if(!e.clipboardData)return null;let i=e.clipboardData.getData("text/html"),a=e.clipboardData.getData("text/plain");if(a&&!i&&c(a))return[(0,l.Qm)(a)];let r=Array.prototype.slice.call(e.clipboardData.items);return r.some(e=>"text/html"===e.type)&&(t.content.childCount>1||(null==(n=t.content.firstChild)?void 0:n.type.name)!=="image")?null:r.map(e=>e.getAsFile()).filter(e=>!!e).filter(h)},x=(e,t,n)=>{if(t.props.editable&&!t.props.editable(t.state))return!1;let i=b(n).filter(h);if(0===i.length)return!1;let a=(0,s.M)(t,n);return!!a&&(n.preventDefault(),(0,o.nK)(e,i,a),!0)},f=(e,t,n,i)=>{if(t.props.editable&&!t.props.editable(t.state))return!1;let a=m(n,i);if(!a||0===a.length)return!1;let{selection:r}=t.state,l=r.from;return r.empty||e.commands.deleteSelection(),(0,o.nK)(e,a,l),!0};function b(e){let t=[],n=e.target;if(e.dataTransfer){let n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else n&&n.files&&(t=n.files);return Array.prototype.slice.call(t)}let y=(e,t,n)=>{let i=m(t,n);if(!i||1!==i.length)return!1;let a=i[0],r=(0,o.YC)(a,e);return{attrs:r.content.attrs,upload:r.upload}}},36271:(e,t,n)=>{"use strict";n.d(t,{_:()=>u,h:()=>p});var i=n(63867),a=n(60122),r=n(46814),l=n(37243),s=n(97255),o=n(67200),c=n(53885);class d{apply(e,t){let n=e.getMeta(u);if(n&&n.type)return"createDraftComment"===n.type&&this.createDraftComment(n,t),"removeDraftComment"===n.type&&this.removeDraftComment(n,t),this;let i=e.getMeta(c.q);if(i&&i.type)return"refreshAnnotationDecorations"===i.type&&this.createDecorations(t),this;if((0,o.LP)(e)){try{this.createDecorations(t)}catch(e){console.log("could not create decorations: ".concat(e.message),e)}return this}return this.decorations=this.decorations.map(e.mapping,e.doc),this}removeDraftComment(e,t){return e.comments.forEach(e=>{let{targetId:t}=e;delete this.draftComments[t]}),this.createDecorations(t),this}createDraftComment(e,t){this.draftComments[e.comment.targetId]=e.comment,this.createDecorations(t)}createDecorations(e){let t=a.pJ.getState(e);if(!t.binding)return this;let{doc:n,type:i,binding:o}=t,c=[];for(let t of Object.values(this.draftComments))try{var d,u;let a=(0,r.bL)(n,i,t.relativePos,o.mapping);if(null==a)continue;let p=e.doc.resolve(a),h=t=>{let n=(0,l.xe)(e.doc,e=>e===t);if(!n||0===n.length)throw Error();return n[0].pos},g=(null==(d=p.nodeAfter)?void 0:d.isBlock)?a:h(p.parent),m=g+((null==(u=p.nodeAfter)?void 0:u.isBlock)?p.nodeAfter.nodeSize:p.parent.nodeSize);c.push(s.NZ.node(g,m,{},{isDraftComment:!0,comment:t}))}catch(e){console.log("[DraftCommentState] error: $".concat(e.message))}return this.decorations=s.zF.create(e.doc,c),this}absToRel(e,t){let n=a.pJ.getState(e),{type:i,binding:l}=n;if(!n.binding)throw Error("Y.State non initialized");return(0,r.Bw)(t,i,l.mapping)}constructor(){this.draftComments={},this.decorations=s.zF.empty}}let u=new i.hs("draftComments"),p=()=>new i.k_({key:u,state:{init:()=>new d,apply:(e,t,n,i)=>t.apply(e,i)},props:{decorations(e){let{decorations:t}=this.getState(e);return t}}})},36432:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var i=n(6029),a=n(16936),r=n(26385),l=n(48810),s=n(47412);let o=e=>{let{isDark:t,templateIcon:n,tooltip:o,label:c,isSelected:d,onClick:u,...p}=e;return(0,i.jsx)(s.Tz,{label:o,placement:"top",children:(0,i.jsx)(a.K,{onClick:u,icon:(0,i.jsxs)(r.B,{maxW:"100%",alignItems:"center",children:[n,c&&(0,i.jsx)(l.E,{maxW:"100%",w:"100%",fontSize:"xs",overflow:"hidden",textOverflow:"ellipsis",overflowX:"hidden",whiteSpace:"nowrap",textAlign:"left",children:c})]}),h:"auto",textShadow:"none",variant:"plain",p:2,flex:"1",w:"100%",cursor:"pointer",textAlign:"center",transition:"all 300ms ease",border:"1px solid",bg:t?d?"trueblue.900":"whiteAlpha.50":d?"trueblue.50":"blackAlpha.50",borderRadius:"md",boxShadow:"sm",borderColor:t?d?"trueblue.300":"whiteAlpha.100":d?"trueblue.500":"blackAlpha.100",color:t?d?"trueblue.200":"gray.400":d?"trueblue.500":"gray.500",_hover:{bg:t?d?"whiteAlpha.100":"whiteAlpha.200":d?"trueblue.100":"trueblue.50",borderColor:t?"trueblue.200":d?"trueblue.500":"trueblue.200"},position:"relative","aria-label":o,...p})})}},36433:(e,t,n)=>{"use strict";n.d(t,{G:()=>l});var i=n(15342),a=n(90098),r=n(43634);let l=()=>{let e=(0,i.GV)(r.SJ);return{logoSrc:(0,a.X)(e),logoImage:e.config.logoImage}}},36464:(e,t,n)=>{"use strict";n.d(t,{Ht:()=>i.Ht});var i=n(45373)},36512:(e,t,n)=>{"use strict";n.d(t,{AF:()=>a,HY:()=>l,Hb:()=>u,IM:()=>h,Ri:()=>o,St:()=>p,Vy:()=>m,YW:()=>d,_0:()=>c,br:()=>x,cK:()=>r,jN:()=>i,lA:()=>g,rN:()=>s,s5:()=>f});let i=3.5,a=1.5,r=2.75,l=1.5,s=2.25,o=2,c=1,d=2,u=.5,p=8,h=.5,g=60,m=95,x=115,f=47.5},36802:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});let i="ai-card-editor"},36835:(e,t,n)=>{"use strict";n.d(t,{m:()=>l});var i=n(6029),a=n(99492),r=n(48621);let l=()=>(0,i.jsxs)("span",{className:"fa-layers fa-fw fa-sm",children:[(0,i.jsx)(r.g,{icon:a.adM,style:{top:"-1rem"}}),(0,i.jsx)(r.g,{icon:a.adM,style:{bottom:"-1rem"}}),(0,i.jsx)(r.g,{icon:a.Cpz})]})},36842:(e,t,n)=>{"use strict";n.d(t,{h:()=>g});var i=n(6029),a=n(40452),r=n(58959),l=n(96990),s=n(26385),o=n(48810),c=n(19564),d=n(77650),u=n(87045),p=n(29608),h=n(89584);let g=e=>{let{draftComment:t,showUser:n=!0,showBorder:g=!0,user:m,onCommentDraftUpdate:x,onCommentSave:f,commentIdToHighlight:b,alwaysShowButtons:y=!1,...v}=e;return(0,i.jsxs)(a.s,{direction:"column",...v,children:[n&&(0,i.jsxs)(r.z,{mb:3,pt:3,children:[(0,i.jsx)(l.e,{src:null==m?void 0:m.profileImageUrl,size:"sm"}),(0,i.jsx)(s.B,{children:(0,i.jsx)(o.E,{fontWeight:"bold",fontSize:"sm",children:(0,i.jsx)(c.x6,{id:"866PMb",values:{0:null==m?void 0:m.displayName}})})})]}),t&&(null==t?void 0:t.targetHtml)&&(0,i.jsx)(h.s,{targetHtml:t.targetHtml}),(0,i.jsx)(u.B,{onUpdate:x,initialContent:(null==t?void 0:t.json)||null,clearContentOnSave:!0,editable:!0,saveButtonText:(0,i.jsx)(c.x6,{id:"26iNma"}),placeholder:d.Ru._({id:"UkDQUD"}),onCommentSave:f,showBorder:g,shouldFocus:!!(!(0,p.mG)()&&!b),alwaysShowButtons:y})]})}},37327:(e,t,n)=>{"use strict";n.d(t,{E0:()=>o,KB:()=>l,hc:()=>c,uI:()=>s});var i=n(62964),a=n(71753),r=n(64811);let l=e=>!!e.includes("://"),s=(e,t)=>{c(e)||(0,i.Yq)(e,n=>{let{doc:i,schema:r,tr:l}=t.state;(0,a.Zo)(i,t.schema.marks.link).forEach(t=>{let{node:i,pos:a}=t,s=i.marks.find(t=>"link"===t.type.name&&t.attrs.href==e);s&&l.removeMark(a,a+i.nodeSize,s).addMark(a,a+i.nodeSize,r.marks.link.create({...s.attrs,...n}))}),t.view.dispatch(l)}).catch(e=>{console.error("[Link.fetchUrlThenUpdateMarks]",e)})},o=e=>e.attrs.source||e.attrs.meta||e.attrs.embed,c=e=>{if(!e)return!1;let t=e&&e.toLowerCase();for(let e of r.r)if(t.startsWith(e+":"))return!0;return!1}},38062:(e,t,n)=>{"use strict";n.d(t,{S6:()=>f});var i=n(55729),a=n(24171),r=n(28630),l=n(44798),s=n(58809),o=n(15342),c=n(49023),d=n(7554),u=n(43634),p=n(13080);let h=e=>{var t;let{contextualTheme:n}=e;(0,c.t)();let a=(0,o.GV)(d.ST),r=(0,o.GV)(u.SJ),l=n||r,h=!!(0,o.GV)(s.Jo),g=(0,i.useMemo)(()=>Object.values(p.bz).map(e=>({title:e,presets:p.xi.filter(t=>t.category===e&&!t.hidden&&(h||t.stylePreset!==p.nv.Custom))})),[h]),m=(0,i.useCallback)(e=>Object.values(p.nv).includes(e),[]),x=(0,i.useCallback)(e=>{if(!m(e))return"";if(m(e)){var t;return(null==(t=p.xi.find(t=>t.stylePreset===e))?void 0:t.stylePrompt)||""}return""},[m]),f=(0,i.useCallback)((e,t)=>{if(!m(e))return"";if(e===p.nv.Theme){var n;return(null==l||null==(n=l.config)?void 0:n.stylePrompt)||""}return e===p.nv.Custom?t:x(e)},[m,x,null==l||null==(t=l.config)?void 0:t.stylePrompt]),b=(0,i.useCallback)(e=>p.xi.find(t=>t.stylePreset===e),[]);return{stylePresetOptions:g,getStylePromptFromPreset:f,getThemeNameFromStylePrompt:(0,i.useCallback)(e=>{var t;return(null==(t=a.find(t=>t.config.stylePrompt===e))?void 0:t.name)||""},[a]),getPresetDisplayMetadata:b,getPredefinedStylePrompt:x}};var g=n(20775),m=n(8327),x=n(34394);let f=e=>{var t,n,s,c,d,f,b,y;let{contextualTheme:v,lastUsedImageGenerationSettingsInDoc:C,aiParams:w,savedMediaContext:A,visualsMenuEnabled:j=!1}=e,[k,S]=(0,x.ZQ)(),[L,I]=(0,i.useState)(!0),E=(0,o.GV)(u.SJ),D=(0,o.GV)(u.K),M=null==E||null==(t=E.config)?void 0:t.stylePrompt,{stylePresetOptions:R,getStylePromptFromPreset:_,getThemeNameFromStylePrompt:z,getPresetDisplayMetadata:N}=h({contextualTheme:v}),{prompt:T,addPrompt:P,promptPageInfo:H,nextPrompt:F,prevPrompt:B}=(0,l.ab)(),[O,V]=(0,i.useState)(()=>{var e,t;return!!j&&(w?null!=(e=w.modelAutoselect)&&e:null!=(t=null==D?void 0:D.modelAutoselect)&&t)}),W=(0,i.useCallback)(()=>{V(!0)},[]),[U,G]=(0,i.useState)(null!=(s=null!=(n=null==w?void 0:w.model)?n:null==C?void 0:C.model)?s:k),Z=(0,i.useCallback)(e=>{V(!1),G(e)},[]),K=(0,i.useCallback)(e=>{Z(e),S(e)},[Z,S]),[Q,q]=(0,i.useState)(null!=(d=null!=(c=null==w?void 0:w.stylePreset)?c:null==C?void 0:C.stylePreset)?d:p.nv.None),[J,$]=(0,i.useState)(_(Q,null==C?void 0:C.stylePrompt)),[Y,X]=(0,i.useState)(null!=(y=null!=(b=null!=(f=null==w?void 0:w.aspectRatio)?f:(null==w?void 0:w.height)&&(null==w?void 0:w.width)?(0,m.KD)({height:w.height,width:w.width}):void 0)?b:null==C?void 0:C.aspectRatio)?y:g.X),[ee,et]=(0,i.useState)(()=>(null==w?void 0:w.visualsMenuEnabled)||(null==w?void 0:w.stylePreset)!==p.nv.Custom?(null==w?void 0:w.artStylePreset)&&w.artStylePreset in p.ll?w.artStylePreset:(null==C?void 0:C.artStylePreset)&&C.artStylePreset in p.ll?C.artStylePreset:(0,a.b)():"custom"),[en,ei]=(0,i.useState)(()=>"custom"===ee?(null==w?void 0:w.visualsMenuEnabled)?(null==w?void 0:w.artStylePrompt)||"":(null==w?void 0:w.stylePrompt)||"":p.ll[ee].prompt),ea=(0,i.useCallback)(e=>{et(e),ei(p.ll[e].prompt)},[et,ei]),er=(0,i.useMemo)(()=>{let e={stylePreset:Q,stylePrompt:J};return j&&(e=L?{stylePreset:"Theme",stylePrompt:M}:{stylePreset:"None",stylePrompt:""}),{prompt:T,model:U,aspectRatio:Y,count:3,context:A,artStylePreset:ee,artStylePrompt:en,modelAutoselect:O,visualsMenuEnabled:j,...e}},[T,U,Q,J,Y,A,ee,en,j,L,M,O]),el=(0,l.U9)();(0,i.useEffect)(()=>{O||el(U)||Z(k)},[U,k,el,Z,O]);let es=(0,i.useCallback)((e,t)=>{if(X((0,m.P6)(e)),!e.aiParams)return;let{prompt:n,stylePreset:i,stylePrompt:a}=e.aiParams,l=e.aiParams.model;n&&P(n,t),a&&$(a),i&&q(i),l&&l in r.Xz&&(l=r.Xz[l]),l&&el(l)&&G(l)},[P,el]),eo=(0,i.useCallback)(e=>{var t;let{aiParams:n}=e,{model:i,stylePrompt:a,stylePreset:r,prompt:l}=null!=n?n:{};X((0,m.P6)(e)),Z(null!=(t=null!=i?i:null==C?void 0:C.model)?t:k),$(null!=a?a:""),q(null!=r?r:p.nv.None),P(null!=l?l:"","load")},[P,Z,null==C?void 0:C.model,k]),ec=(0,i.useMemo)(()=>e=>!!e&&!!e.aiParams&&(T!==e.aiParams.prompt||U!==e.aiParams.model||Y!==(0,m.P6)(e)||Q!==e.aiParams.stylePreset),[Y,U,Q,T]);return{model:U,setModel:K,modelAutoselect:O,enableModelAutoselect:W,prompt:T,addPrompt:P,promptPageInfo:H,nextPrompt:F,prevPrompt:B,stylePrompt:J,setStylePrompt:$,stylePreset:Q,setStylePreset:q,stylePresetOptions:R,getPresetDisplayMetadata:N,getThemeNameFromStylePrompt:z,getStylePromptFromPreset:_,aspectRatio:Y,setAspectRatio:X,imageGenerateConfig:er,loadImageAiParams:es,resetImageAiParams:eo,isPromptDirty:ec,artStylePreset:ee,setArtStylePreset:ea,artStylePrompt:en,setCustomArtStylePrompt:ei,shouldUseThemeColors:L,setShouldUseThemeColors:I}}},38194:(e,t,n)=>{"use strict";n.d(t,{Ll:()=>r,cn:()=>l,vL:()=>s});var i=n(58495);let a={},r=e=>{let t=e.getAttribute("bookmark");if(!t)return!1;let n=a[t];return!!n&&n.attrs},l=e=>{let t=e.getAttribute("bookmark");if(!t)return!1;let n=a[t];return!!n&&n.content},s=e=>{let t=o.generateBookmarkId();return a[t]=e,setTimeout(()=>{delete a[t]},3e5),t},o={generateBookmarkId:()=>(0,i.Ak)(5)}},38537:(e,t,n)=>{"use strict";n.d(t,{KS:()=>u,i$:()=>p});var i=n(55765),a=n.n(i),r=n(12364),l=n.n(r),s=n(55729),o=n(83747);class c extends o.b{cleanup(){document.removeEventListener("containerResize",this.emitResize)}constructor(){super(),this.emitResize=e=>{this.emit("resize",e)},document.addEventListener("containerResize",this.emitResize)}}let d=a()(()=>new c),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,[n,i]=(0,s.useState)(!1),a=(0,s.useMemo)(d,[]);return(0,s.useEffect)(()=>{let n,r=l()(a=>{let{target:r}=a;r&&e.current&&h(e.current,r)&&(clearTimeout(n),i(!0),n=setTimeout(()=>{i(!1)},t+100))},t,{leading:!0,trailing:!1,maxWait:t});return a.on("resize",r)},[a,t,e]),n},p=e=>{e.dispatchEvent(new Event("containerResize",{bubbles:!0}))},h=(e,t)=>{let n=e;do{if(n!==t)continue;return!0}while(n=n.parentElement);return!1}},38636:(e,t,n)=>{"use strict";n.d(t,{F:()=>v});var i=n(6029),a=n(26420),r=n(33787),l=n(55729),s=n(63902),o=n(60908),c=n(21982),d=n(80314),u=n(92739),p=n(15342),h=n(48932),g=n(43634);let m=e=>{let{link:t,children:n,...a}=e,r=(0,p.GV)(g.nD),{linkUrl:s,handleClick:o}=(0,h.c)({url:t||""}),{interceptLinkClick:c,linkUrlSafe:m,isUntrusted:x,linkInterceptEnabled:f}=(0,u.i)(s),b=(0,l.useCallback)(e=>{if(null==o||o(e),!r)return f?c(e):void 0;e.preventDefault()},[r,o,c,f]);return t&&!x?(0,i.jsx)(d.N,{href:f?m||"":s,isExternal:!0,onClick:b,rel:"noopener nofollow",...a,children:n}):(0,i.jsx)(i.Fragment,{children:n})};var x=n(33170);let f=(e,t,n)=>e/100*(Math.sqrt(t*t+n*n)/Math.sqrt(2))*2,b=e=>{let t,n,i,a,r,{w:l,h:s,clipPath:c,clipType:d,src:u}=e;if(!c||!d||!u)return null;if("inset"===d){let e=.01*parseFloat(c[0]),r=.01*parseFloat(c[1]),l=.01*parseFloat(c[2]),s=.01*parseFloat(c[3]);t=s+r===0?0:1-(s+r),n=e+l===0?0:1-(e+l),i=s,a=e}else{n=t=f(parseFloat(c[0]),l,s);let e=t/2;i=(.01*parseFloat(c[2])-e/l)*l,a=(.01*parseFloat(c[3])-e/s)*s,r=!0}return{url:(0,o.bI)(u,y({crop:{cropWidth:t,cropHeight:n},gravity:{xOffset:i,yOffset:a}})),isCircle:r}},y=e=>{let{crop:{cropWidth:t,cropHeight:n},gravity:{xOffset:i,yOffset:a}}=e;return{crop:"".concat(t,":").concat(n,":nowe:").concat(i,":").concat(a),resizing_type:"auto"}},v=(0,l.forwardRef)((e,t)=>{let{imageAttrs:{src:n,tempUrl:l,resize:d,meta:u},isCroppingThisImage:p=!1,isZoomed:h=!1,objectFit:g="contain",containerWidth:f,intrinsicAspectRatio:y,isThumbnail:v,linkHref:C,containerProps:w,shouldUseImgProxyCrop:A,bodyColor:j,...k}=e;j&&n&&(n=(0,o.pO)(n,j));let S=(0,s.oR)(),L=(null==u?void 0:u.frame_count)&&u.frame_count>1,I=h||!n||L?n:(0,o.Ub)(n,v?{height:400}:{width:2e3},u),E=f||(null==u?void 0:u.width)||1,D=f&&y?f/y:(null==u?void 0:u.height)||1,{scaleCrop:M,scaleY:R,clipPathCSSString:_,translateX:z,translateY:N,aspectRatio:T,referenceXOffset:P,referenceYOffset:H}=(0,x.CF)(d,E,D,y||((null==u?void 0:u.width)&&(null==u?void 0:u.height)?u.width/u.height:1))||{},F=!p&&!!(null==d?void 0:d.clipPath),B=p?"":"scale(".concat(M,") translate(-").concat(z,"%, -").concat(N,"%)"),O=(0,o.SV)(n||l),V=(0,o.v7)(n||l),W=b({w:E,h:D,clipPath:null==d?void 0:d.clipPath,clipType:null==d?void 0:d.clipType,src:n});return(0,i.jsx)(m,{link:C,w:h?void 0:"100%",children:(0,i.jsx)(a.a,{css:{aspectRatio:"".concat(F?T:"")},className:"image","data-content-reference":"".concat(P,",").concat(H),"data-export-link":C,"data-drag-preview":!0,"data-scale-preview":!0,maxH:"var(--media-maxH)",maxW:"var(--media-maxW)",overflow:"hidden",w:h?void 0:"100%",h:"cover"==g?"100%":void 0,sx:{"@media print":{height:"unset"}},...w,children:V?(0,i.jsx)(o.FD,{src:n||l||"",poster:null==u?void 0:u.poster,objectFit:g,maxH:"calc(var(--media-maxH) * ".concat(R||1,")"),minH:"cover"==g?"calc(var(--media-maxH) / ".concat(M||1,")"):void 0,...k}):A&&(null==W?void 0:W.url)?(0,i.jsx)(r._,{alt:"",objectFit:g,maxH:"calc(var(--media-maxH) * ".concat(R||1,")"),minH:"cover"==g?"calc(var(--media-maxH) / ".concat(M||1,")"):void 0,ref:t,...n||l?{}:c.v9,src:(null==W?void 0:W.url)||I||l||"",...k}):(0,i.jsx)(r._,{alt:"",objectFit:g,maxH:"calc(var(--media-maxH) * ".concat(R||1,")"),minH:"cover"==g?"calc(var(--media-maxH) / ".concat(M||1,")"):void 0,transformOrigin:"left top",clipPath:p?"":_,ignoreFallback:h||S,transform:B,src:I||l||"",fallbackSrc:l||"",ref:t,w:O?"100%":void 0,...n||l?{}:c.v9,...k})})})});v.displayName="CroppedImage"},38934:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});let i={UniqueAttribute:1e4,CardMention:1001,DocMention:1001,UserMention:1001,UndoInputRuleKeymap:1001,HorizontalAlign:1001,Collaboration:1e3,Highlight:150,FootnoteLabel:150,TextColor:150,Code:150,Link:140,SlashMenu:104,EmojiShortcuts:104,MentionSuggestionMenu:104,List:103,CardAccentLayoutItem:103,Table:102,Image:102,Gallery:102,CardLayoutItem:101,MediaPlaceholder:101,Layout:101,Footnote:101,Card:101,Toggle:101,SmartLayout:101,KeyMapOverride:100,GlobalDragHandle:99,CardIds:1,KeyBoardCatchall:1,UndoHistory:-100}},39822:(e,t,n)=>{"use strict";n.d(t,{Po:()=>j,ZL:()=>v,aI:()=>b,f0:()=>A,nA:()=>x,vR:()=>f,zZ:()=>y});var i=n(37243),a=n(63867),r=n(55786),l=n(52762),s=n(15607),o=n(33201),c=n(60908),d=n(28700),u=n(36145),p=n(47665),h=n(17275),g=n(27246),m=n(94922);let x=(e,t,n)=>{let i=e.posAtCoords({left:t.clientX,top:t.clientY});if(!i||i.inside<0)return null;let{doc:a}=e.state,{inside:r}=i,p=a.resolve(r),h=(0,s.IV)(p,m.wL),g=(0,s.IV)(p,o.jg)[0],x=n&&(0,d.H)(n),f=(0,s.q0)(r,e);if(0===h.length||!f||!g)return null;if(!x){let e=(0,u.p$)(t).filter(e=>(0,c.u3)(e.type));return 1!==e.length?null:{pos:r,rect:f,isImageUpload:!0,file:e[0]}}return x&&"image"===x.type.name?{pos:r,rect:f,isImageUpload:!1,background:{type:l.h.IMAGE,source:x.attrs.source,image:x.attrs}}:null},f=(e,t,n,i)=>{let a;try{if(!(a=x(e,n,i)))return!1}catch(e){return console.error("(caught) [CardLayoutPlugin] handleDrop checkGalleryDropTarget error:",e),!1}return!!a&&!a.isImageUpload&&(t.setNodeAttribute(a.pos,"background",a.background),t.deleteSelection(),!0)},b=(e,t,n)=>{var i,a;let r=t.posAtCoords({left:n.clientX,top:n.clientY});if(!r||r.inside<0)return null;let{doc:l}=t.state,{inside:c}=r,d=l.resolve(c),u=(0,s.IV)(d,o.jg)[0];if(!u)return null;let h=null==(a=t.dragging)||null==(i=a.accentImage)?void 0:i.cardId;if(!h)return null;let g=h===u.node.attrs.id;return d.nodeAfter&&(0,m.wL)(d.nodeAfter)&&g?null:(0,p.W0)(e,h)},y=(e,t)=>{var n;let a=g.jV.getState(e.state);if(null==a||null==(n=a.draggingData)?void 0:n.removeLayoutFromCardId){let n=a.draggingData.removeLayoutFromCardId;a.draggingData=null;let r=(0,i.xe)(t.doc,e=>(0,o.jg)(e)&&e.attrs.id===n)[0];return!!r&&(0,h.c)(e,t,r.pos,"blank")}return!1},v=(e,t,n)=>{let i=e.posAtCoords({left:t.clientX,top:t.clientY});if(!i||i.inside<0)return null;let{doc:a}=e.state,{inside:r}=i,p=a.resolve(r),h=a.nodeAt(r),g=(null==h?void 0:h.type.name)==="cardLayoutItem";if(!h||!g)return null;let[m,...x]=(0,s.IV)(p,o.jg),f=n&&(0,d.H)(n),b=(0,s.q0)(r,e);if(!m||!b||x.length>0)return null;let y=m.node.attrs,v="blank"===y.layout?w(t,b):"behind"===y.layout?C(t,b):null;if(!v)return null;if(!f){let e=(0,u.p$)(t).filter(e=>(0,c.u3)(e.type));return 1!==e.length?null:{pos:m.pos,isImageUpload:!0,file:e[0],...v}}return f&&"image"===f.type.name?{pos:m.pos,...v,isImageUpload:!1,background:{type:l.h.IMAGE,source:f.attrs.source,image:f.attrs}}:null},C=(e,t)=>e.clientY<t.top+80||e.clientX<t.left+80||e.clientX>t.right-80?{layout:"behind",rect:t}:null,w=(e,t)=>{let n,i=t,a=Math.min(t.height/3,100),r=t.left+40,l=t.right-40;if(e.clientX<r)n="left",i={...t.toJSON(),left:t.left,right:t.left+t.width/3,top:t.top,bottom:t.bottom};else if(e.clientX>l)n="right",i={...t.toJSON(),right:t.right,left:t.right-t.width/3,top:t.top,bottom:t.bottom};else{if(!(e.clientY<t.top+a))return null;n="top",i={...t.toJSON(),left:t.left,right:t.right,top:t.top,bottom:t.top+Math.min(t.height/3,200)}}return{rect:i,layout:n}},A=(e,t,n,r,l)=>{var s;let c;try{if(!(c=v(n,r,l)))return!1}catch(e){return console.error("(caught) [handleImageDropCreateAccent] handleDrop checkCreateCardAccentDropTarget error:",e),!1}if(!c||c.isImageUpload||!c.layout)return!1;let d=c.background;t.deleteSelection();let u=t.doc.resolve(t.mapping.map(c.pos)),p=u.nodeAfter&&"card"===u.nodeAfter.type.name?u.pos:null==(s=(0,i.eL)(u,o.jg))?void 0:s.pos;if(!p)return!1;(0,h.c)(e,t,p,c.layout);let{accent:g}=(0,m.dg)(t,p);return!!g&&(t.setNodeAttribute(g.pos,"background",d),t.setSelection(a.nh.create(t.doc,g.pos)),!0)},j=(e,t,n)=>{if(!n.target)return;let i=t.posAtDOM(n.target,0);if(!i||i<0)return;let a=(0,p.Oq)(e,i),s=t.state.doc.nodeAt(i);if(!s||!(0,m.wL)(s))return;if(s.attrs.background.type===l.h.NONE)return n.preventDefault(),n.stopPropagation(),!0;let o=e.view.domAtPos(i).node;if(o&&n.dataTransfer){let e=o.querySelector("[data-content-reference]");if(e){let t=e.cloneNode(!0);t.style.width="18em",t.style.height="10em",t.style.borderRadius=".375em";let i=document.createElement("div");i.style.position="absolute",i.style.top="-9999px",i.style.left="-9999px",document.body.appendChild(i),i.appendChild(t),n.dataTransfer.clearData(),n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text/html",t.innerHTML),n.dataTransfer.setData("text/plain",t.textContent||""),n.dataTransfer.setDragImage(t,0,0),setTimeout(()=>{document.body.removeChild(i)},0)}}return(0,r.f)(e,{type:"image",attrs:{...s.attrs.background.image,source:s.attrs.background.source}}),t.dragging.accentImage={cardId:null==a?void 0:a.node.attrs.id},!0}},39892:(e,t,n)=>{"use strict";n.d(t,{g7:()=>i.g,vT:()=>a.vT,nk:()=>a.nk,ez:()=>a.ez,Fd:()=>a.Fd});var i=n(60522),a=n(89942);n(55729)},39977:(e,t,n)=>{"use strict";n.d(t,{A:()=>h,v:()=>g});var i=n(37243),a=n(63867),r=n(54958),l=n(55424),s=n(77071),o=n(52762),c=n(15607),d=n(61679),u=n(47665),p=n(50861);let h=e=>{var t,n;let{editor:d,selection:h,freshNode:g}=e;if(!h||!(h instanceof a.nh||h instanceof r.n))return null;let x=null!=g?g:h.node,f=h.$from;if((0,p.bi)(x.type))return{mediaType:m(x.attrs.source),area:"node",attrs:x.attrs,node:x,id:x.attrs.id};if("cardAccentLayoutItem"===x.type.name){let e=x.attrs;return(null==(t=e.background)?void 0:t.type)===o.h.IMAGE&&e.background.image?{mediaType:"image",area:"background",attrs:e.background.image,node:x,id:(0,i.eL)(f,u.jg).node.attrs.id,imgKeyPath:"background.image"}:null}if("cardImageItem"===x.type.name)return{mediaType:"image",area:"node",attrs:x.attrs.image,node:x,id:x.attrs.id,imgKeyPath:"image"};let b=(0,c.vC)(d,x.type);if(b&&b.config.accessoryImageKey){let e=b.config.accessoryImageKey,t={...x.attrs[e]},n="image";return(0,l.M)(h.$from.parent)&&"icon"===(0,s.BJ)(h.$from.parent.attrs.variantKey).imageType&&(n="icon"),{attrs:t,node:x,mediaType:n,id:x.attrs.id,area:"accessory",imgKeyPath:e}}if(h instanceof r.n){let e="icon";return"image"===h.context.selectionType?e="image":"icon"===h.context.selectionType&&(e="icon"),{attrs:null!=(n=h.getItemData())?n:{},node:x,mediaType:e,id:x.attrs.id,area:"accessory",imgKeyPath:h.keyPath}}return null},g=e=>{let{editor:t,pos:n,attrs:i}=e;if(!t)return;let a=t.state.doc.nodeAt(n);if(!a)return;let r=a.type.spec.imageKeyPath;if(!["image","mediaPlaceholder"].includes(a.type.name)&&!r)return void console.warn("[updateSelectedMedia] Node ".concat(a.type.name," is not compatible with updateSelectedMedia"));let l=t.chain();r?(l.updateAttributeKeyPathAtPos(n,r,i),r.startsWith("background.")&&l.updateAttributeKeyPathAtPos(n,"background.source",i.source)):"mediaPlaceholder"===a.type.name?l.insertContentAt({from:n,to:n+a.nodeSize},{type:"image",attrs:i},{updateSelection:!0}):l.updateAttributesAtPos(n,i),l.focus().scrollIntoView().run()},m=e=>e?(0,d.D)(e)?"icon":e.startsWith("image.")?"image":e.startsWith("video.")||e.startsWith("embed.")?"embed":"image":"image"},40094:(e,t,n)=>{"use strict";n.d(t,{H0:()=>c,Jz:()=>s,Kn:()=>o});var i=n(99492),a=n(77650),r=n(13731),l=n.n(r);let s=[{key:"rephrase.better",label:()=>a.Ru._({id:"WLqWVj"}),instructions:"Improve the writing",instructionsTrans:()=>a.Ru._({id:"KaTt0J"}),icon:i.xXs,group:"writing",loadingMessage:()=>a.Ru._({id:"OxbbYn"}),variationName:()=>a.Ru._({id:"5j51A1"}),completionMessage:()=>a.Ru._({id:"EF1nyz"})},{key:"edit.spelling",label:()=>a.Ru._({id:"kIRRvo"}),instructions:"Fix spelling & grammar",instructionsTrans:()=>a.Ru._({id:"7Mcbfl"}),icon:i.e68,group:"writing",loadingMessage:()=>a.Ru._({id:"vLjsO9"}),variationName:()=>a.Ru._({id:"MRZxAn"}),completionMessage:()=>a.Ru._({id:"3G04Qf"})},{key:"edit.translate",label:()=>a.Ru._({id:"pi8x/S"}),instructions:"",instructionsTrans:()=>a.Ru._({id:"E6k5Np"}),icon:i.mh,group:"writing",loadingMessage:()=>a.Ru._({id:"aKSJTV"}),variationName:()=>a.Ru._({id:"a/ppJp"}),completionMessage:()=>a.Ru._({id:"a/ppJp"})},{key:"rephrase.expand",label:()=>a.Ru._({id:"rRLXT4"}),instructions:"Make this longer - about 2x the current length",instructionsTrans:()=>a.Ru._({id:"hbj+SR"}),icon:i.ckx,group:"writing",loadingMessage:()=>a.Ru._({id:"Q+x/E4"}),variationName:()=>a.Ru._({id:"pvJgUJ"}),completionMessage:()=>a.Ru._({id:"jgdqxQ"})},{key:"rephrase.condense",label:()=>a.Ru._({id:"xTY2A5"}),instructions:"Make this more concise - about half the current length",instructionsTrans:()=>a.Ru._({id:"zeiJlg"}),icon:i.Nby,group:"writing",loadingMessage:()=>a.Ru._({id:"BjuYlr"}),variationName:()=>a.Ru._({id:"Q7U9iz"}),completionMessage:()=>a.Ru._({id:"l7sxzR"})},{key:"rephrase.simplify",label:()=>a.Ru._({id:"Lx/Sd1"}),instructions:"Simplify the language",instructionsTrans:()=>a.Ru._({id:"BS3Eqe"}),icon:i.vq5,group:"writing",loadingMessage:()=>a.Ru._({id:"AAhoH1"}),variationName:()=>a.Ru._({id:"nvmoB1"}),completionMessage:()=>a.Ru._({id:"5xpG46"})},{key:"rephrase.specifics",label:()=>a.Ru._({id:"u6rs0A"}),instructions:"Rewrite this to be more specific. Use the previous text and the outline for context. If you don't have enough details, make them up.",instructionsTrans:()=>a.Ru._({id:"pbZESM"}),icon:i.g0Y,group:"writing",loadingMessage:()=>a.Ru._({id:"HW6L/y"}),variationName:()=>a.Ru._({id:"PRHEO1"}),completionMessage:()=>a.Ru._({id:"dib9YI"})},{key:"layout.visual",label:()=>a.Ru._({id:"gcHjj/"}),instructions:"I want to make this content more visual. Make up new images to illustrate the concepts. You can rephrase the text to fit the new template, but don't alter the original voice or make up new details.",instructionsTrans:()=>a.Ru._({id:"7AVs0v"}),icon:i.Si7,group:"layout",loadingMessage:()=>a.Ru._({id:"hMtOFm"}),variationName:()=>a.Ru._({id:"p0QPRq"})},{key:"layout.addImage",label:()=>a.Ru._({id:"LfOSf5"}),instructions:"Add a new image. Keep the rest of my content and formatting the same. Don't change layout blocks or make up new details. Do not remove any of the text!",instructionsTrans:()=>a.Ru._({id:"ohc2fy"}),icon:i.Cyq,group:"layout",loadingMessage:()=>a.Ru._({id:"hMtOFm"}),variationName:()=>a.Ru._({id:"2ap0Xm"})}],o=l()(s,"group"),c=[{key:"writing",label:()=>a.Ru._({id:"4kJRen"})},{key:"layout",label:()=>a.Ru._({id:"an5hVd"})}]},40268:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});let i=new(n(83747)).b},41120:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});let i={None:{"dall-e-3":{src:"/_next/static/media/dall-e-3.e0424b3d.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFAABAAAAAAAAAAAAAAAAAAAAAP/EABUBAQEAAAAAAAAAAAAAAAAAAAQF/9oADAMBAAIQAxAAAAAJKP/EABsQAAMAAgMAAAAAAAAAAAAAAAEDEgIEABEh/9oACAEBAAE/ANDdXIyYnFkmjYHonvn/xAAaEQACAgMAAAAAAAAAAAAAAAACAwABBDOR/9oACAECAQE/AMh7qPYXZ//EABoRAAEFAQAAAAAAAAAAAAAAAAIABBIxMlH/2gAIAQMBAT8AbgEMDfF//9k=",blurWidth:8,blurHeight:6},"flux-1-pro":{src:"/_next/static/media/flux-1-pro.fcce6522.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAgiQ3/8QAGxAAAgIDAQAAAAAAAAAAAAAAAQIDEQASUSH/2gAIAQEAAT8AVFiTaR2Y3RND3XnM/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAECESH/2gAIAQIBAT8AtyWn/8QAGREAAQUAAAAAAAAAAAAAAAAAAQADEiJR/9oACAEDAQE/AHKERxf/2Q==",blurWidth:8,blurHeight:6},"flux-1-schnell":{src:"/_next/static/media/flux-1-schnell.a4d70ddb.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAmCU3/8QAHRAAAAUFAAAAAAAAAAAAAAAAAAECBBIDESEiMv/aAAgBAQABPwBbBuaSzU5KW15D/8QAGhEAAgIDAAAAAAAAAAAAAAAAAQIAESFRsf/aAAgBAgEBPwAOxvOuT//EABkRAAIDAQAAAAAAAAAAAAAAAAECABEikf/aAAgBAwEBPwAogrC8n//Z",blurWidth:8,blurHeight:6},"flux-1-ultra":{src:"/_next/static/media/flux-1-ultra.3fdf59fa.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAVAQEBAAAAAAAAAAAAAAAAAAABBf/aAAwDAQACEAMQAAAAkEN//8QAGhAAAgIDAAAAAAAAAAAAAAAAAREAEgIDE//aAAgBAQABPwDLeOdUbBluf//EABYRAQEBAAAAAAAAAAAAAAAAAAEAIf/aAAgBAgEBPwA0v//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPwCs/9k=",blurWidth:8,blurHeight:6},"flux-1-quick":{src:"/_next/static/media/flux-1-quick.01258a07.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAAmhCn/8QAHBAAAgEFAQAAAAAAAAAAAAAAAQIDAAQFERJh/9oACAEBAAE/AIsNZxRPp3ZJByelGx6K/8QAGREAAQUAAAAAAAAAAAAAAAAAAQACAwRC/9oACAECAQE/AG2Jjsr/xAAYEQACAwAAAAAAAAAAAAAAAAAAAhETMf/aAAgBAwEBPwCpJw//2Q==",blurWidth:8,blurHeight:6},"flux-kontext-pro":{src:"/_next/static/media/flux-kontext-pro.99f84493.jpg",height:270,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAiEV//8QAGxAAAgIDAQAAAAAAAAAAAAAAAQMCEQASEzH/2gAIAQEAAT8ARFcmSBUuuJNaCvLz/8QAFxEAAwEAAAAAAAAAAAAAAAAAAANCcf/aAAgBAgEBPwBkYf/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Af//Z",blurWidth:8,blurHeight:4},"flux-kontext-max":{src:"/_next/static/media/flux-kontext-max.cf46edd7.jpg",height:270,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAAmiE//8QAGhAAAgIDAAAAAAAAAAAAAAAAAhEEFAATMf/aAAgBAQABPwCvEIDCnH63rF5//8QAFhEAAwAAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AKz/xAAWEQADAAAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8ArP/Z",blurWidth:8,blurHeight:4},"flux-kontext-fast":{src:"/_next/static/media/flux-kontext-fast.22d3b15a.jpg",height:270,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAP/xAAVAQEBAAAAAAAAAAAAAAAAAAAEBf/aAAwDAQACEAMQAAAAqIr/AP/EABwQAAIABwAAAAAAAAAAAAAAAAECAAMEBRITYf/aAAgBAQABPwBLrW6GczSXU4g8Mf/EABoRAAICAwAAAAAAAAAAAAAAAAECAAMjMlH/2gAIAQIBAT8ANtoCZG17P//EABsRAAIBBQAAAAAAAAAAAAAAAAIDAAESIjJR/9oACAEDAQE/ABWut2A7cn//2Q==",blurWidth:8,blurHeight:4},"imagen-3-flash":{src:"/_next/static/media/imagen-3-flash.3b553c3d.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAACbBf8A/8QAGxAAAQQDAAAAAAAAAAAAAAAABQABERICExT/2gAIAQEAAT8AYoK49TCcZrM2X//EABkRAAIDAQAAAAAAAAAAAAAAAAEDACEiMf/aAAgBAgEBPwAPdez2f//EABgRAAIDAAAAAAAAAAAAAAAAAAADAQJS/9oACAEDAQE/AKoViD//2Q==",blurWidth:8,blurHeight:6},"imagen-3-pro":{src:"/_next/static/media/imagen-3-pro.4a7e6241.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/9oADAMBAAIQAxAAAACaAP8A/8QAHBAAAgAHAAAAAAAAAAAAAAAAAQIAAwQFExRC/9oACAEBAAE/AKa5pq4klks47CmP/8QAGBEAAgMAAAAAAAAAAAAAAAAAAQMABDL/2gAIAQIBAT8AZYcDsz//xAAZEQACAwEAAAAAAAAAAAAAAAABAwACIRL/2gAIAQMBAT8AqpengbP/2Q==",blurWidth:8,blurHeight:6},"imagen-4-pro":{src:"/_next/static/media/imagen-4-pro.0623d0cb.jpg",height:273,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAL/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAgSX/AP/EABwQAAEDBQAAAAAAAAAAAAAAAAECERIABAUTFP/aAAgBAQABPwA5K84UK2qkTF5F2r//xAAZEQEAAgMAAAAAAAAAAAAAAAABAAIhIjL/2gAIAQIBAT8AsumXgn//xAAXEQADAQAAAAAAAAAAAAAAAAAAAkJy/9oACAEDAQE/AFrR/9k=",blurWidth:8,blurHeight:4},"imagen-4-ultra":{src:"/_next/static/media/imagen-4-ultra.da78a0c4.jpg",height:273,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAUAQEAAAAAAAAAAAAAAAAAAAAE/9oADAMBAAIQAxAAAACQBf8A/8QAHBAAAQMFAAAAAAAAAAAAAAAAAgEDBAAFBhIy/9oACAEBAAE/AImT3VqKrgG2iiGnFf/EABgRAQEAAwAAAAAAAAAAAAAAAAECACIx/9oACAECAQE/ACqWtnuf/8QAGREAAgMBAAAAAAAAAAAAAAAAAQIAETKR/9oACAEDAQE/AAiVkcn/2Q==",blurWidth:8,blurHeight:4},"leonardo-phoenix":{src:"/_next/static/media/leonardo-phoenix.5a9b148e.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/9oADAMBAAIQAxAAAACQBL//xAAdEAACAQQDAAAAAAAAAAAAAAABAgQAEiEiAxRR/9oACAEBAAE/AElR+u6rHXTlW4WjYtgHHlf/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQIxcv/aAAgBAgEBPwB1HJ//xAAYEQEAAwEAAAAAAAAAAAAAAAABAAMScv/aAAgBAwEBPwAXdnbP/9k=",blurWidth:8,blurHeight:6},"luma-photon-1":{src:"/_next/static/media/luma-photon-1.1649ca4f.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAAFBv/aAAwDAQACEAMQAAAAoRNt/wD/xAAaEAABBQEAAAAAAAAAAAAAAAACAAQGITFR/9oACAEBAAE/ACkbztDeav/EABoRAAEFAQAAAAAAAAAAAAAAAAMAAQIhI5H/2gAIAQIBAT8Acxa0l1f/xAAaEQACAgMAAAAAAAAAAAAAAAACAwARATFR/9oACAEDAQE/ABSnN2sN8n//2Q==",blurWidth:8,blurHeight:6},"luma-photon-flash-1":{src:"/_next/static/media/luma-photon-flash-1.d9455e5d.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAF/9oADAMBAAIQAxAAAACSAlv/xAAZEAEAAgMAAAAAAAAAAAAAAAACACEEExb/2gAIAQEAAT8A6jPa1puzVz//xAAaEQACAgMAAAAAAAAAAAAAAAABAgADMUFR/9oACAECAQE/AHrQHeOmf//EABgRAQADAQAAAAAAAAAAAAAAAAEAAlGR/9oACAEDAQE/ACzhwn//2Q==",blurWidth:8,blurHeight:6},"recraft-v3":{src:"/_next/static/media/recraft-v3.2bd50396.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAP/xAAVAQEBAAAAAAAAAAAAAAAAAAABBP/aAAwDAQACEAMQAAAAkJH/xAAbEAACAQUAAAAAAAAAAAAAAAACAwABBQYRE//aAAgBAQABPwBmXXhVFn12JT//xAAZEQADAAMAAAAAAAAAAAAAAAABAiEAMUH/2gAIAQIBAT8ASrSdnuf/xAAWEQEBAQAAAAAAAAAAAAAAAAABAAL/2gAIAQMBAT8AdIt//9k=",blurWidth:8,blurHeight:6},"recraft-v3-svg":{src:"/_next/static/media/recraft-v3-svg.98cb7b01.svg",height:1024,width:1820,blurWidth:0,blurHeight:0},"gpt-image-1-low":{src:"/_next/static/media/gpt-image-1-low.485e4cbe.jpg",height:274,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAUAQEAAAAAAAAAAAAAAAAAAAAF/9oADAMBAAIQAxAAAAC8Gp//xAAaEAACAgMAAAAAAAAAAAAAAAABAxESABNB/9oACAEBAAE/AFUQllS2Gc2ERn//xAAWEQEBAQAAAAAAAAAAAAAAAAABAMH/2gAIAQIBAT8AML//xAAYEQACAwAAAAAAAAAAAAAAAAAAAgERMf/aAAgBAwEBPwBVWsg//9k=",blurWidth:8,blurHeight:5},"gpt-image-1-medium":{src:"/_next/static/media/gpt-image-1-medium.aeeb5175.jpg",height:333,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAgCcn/8QAGxAAAgEFAAAAAAAAAAAAAAAAAQMABAUSEyL/2gAIAQEAAT8AbeKvNbSetZXP/8QAGBEBAQADAAAAAAAAAAAAAAAAASIAMlH/2gAIAQIBAT8AVmnXuf/EABURAQEAAAAAAAAAAAAAAAAAAACR/9oACAEDAQE/AI//2Q==",blurWidth:8,blurHeight:5},"gpt-image-1-high":{src:"/_next/static/media/gpt-image-1-high.02cc2ec4.jpg",height:267,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAACBP/aAAwDAQACEAMQAAAAiCJf/8QAHhAAAgEDBQAAAAAAAAAAAAAAAgMEAAERBRITMUH/2gAIAQEAAT8Abqbgipk7Q5LkSs487r//xAAYEQEBAAMAAAAAAAAAAAAAAAACAQAzkv/aAAgBAgEBPwAt2bH1c//EABgRAQADAQAAAAAAAAAAAAAAAAIAAVKS/9oACAEDAQE/AETg81P/2Q==",blurWidth:8,blurHeight:5},"ideogram-v3-turbo":{src:"/_next/static/media/ideogram-v3-turbo.b4fc9a1d.jpg",height:240,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAH/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAAonX/xAAcEAABAwUAAAAAAAAAAAAAAAACAAMTBRIyQXH/2gAIAQEAAT8AKuvyi7CGcduur//EABgRAAMBAQAAAAAAAAAAAAAAAAECAxEA/9oACAECAQE/AGrQZjnv/8QAGhEAAgIDAAAAAAAAAAAAAAAAAQMAEQIxUf/aAAgBAwEBPwAJUbteO+T/2Q==",blurWidth:8,blurHeight:5},"ideogram-v3":{src:"/_next/static/media/ideogram-v3.4a7dfce3.jpg",height:240,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAUAQEAAAAAAAAAAAAAAAAAAAAE/9oADAMBAAIQAxAAAACgFb//xAAdEAABAgcAAAAAAAAAAAAAAAACAxMAERIVMkFR/9oACAEBAAE/AL6sRgswnk3Trs4//8QAGhEAAgIDAAAAAAAAAAAAAAAAAgMAARESMf/aAAgBAgEBPwBjmjrg75P/xAAaEQACAgMAAAAAAAAAAAAAAAACBAADERIy/9oACAEDAQE/AAVXLbNQ9T//2Q==",blurWidth:8,blurHeight:5}}}},41710:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});let i=10},41896:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>i.$,$p:()=>c,VR:()=>u.V,Lz:()=>a.L,gu:()=>a.g,hG:()=>p.h}),n(75484);var i=n(6046),a=n(71839),r=n(6029);n(55729);var l=n(63902),s=n(28613),o=n(4097);let c=e=>(0,l.oR)()?(0,r.jsx)(s.$,{...e}):(0,r.jsx)(d,{...e}),d=e=>{let t=e.as||"div",{nodeViewContentRef:n}=(0,o.c)();return(0,r.jsx)(t,{...e,ref:n,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...e.style}})};d.displayName="NodeViewContentCore";var u=n(91176),p=n(57860)},42276:(e,t,n)=>{"use strict";n.d(t,{Ch:()=>z,x6:()=>N,a6:()=>T});var i=n(6029),a=n(40452),r=n(80314),l=n(58959),s=n(48810),o=n(91938),c=n(28615),d=n(60908),u=n(15577),p=n(57405),h=n(16936),g=n(33787),m=n(99492),x=n(48621),f=n(47412),b=n(19564),y=n(77650),v=n(89263),C=n(23746),w=n(80180),A=n(50861),j=n(23103);let k=e=>{var t;let{node:n,disableOpenButton:a=!1}=e,{meta:r,source:o}=n.attrs,c=(0,A.lQ)(n.attrs),d=(0,j.B)(o),{handleOpenLinkWithInterstitial:g}=(0,v.E)(c),k="embed.custom"===o||"video.custom"===o,L=(null==r?void 0:r.icon)||(null==(t=d.image)?void 0:t.src),I=(null==r?void 0:r.site)||(k?(0,u.t$)(c):d.label());return(0,i.jsxs)(p.T,{spacing:"0.25em",align:"flex-start",color:"black",w:"100%",fontSize:"0.9em",children:[(0,i.jsxs)(l.z,{align:"center",spacing:"0.25em",w:"100%",color:"var(--body-color-muted)",children:[(0,i.jsx)(S,{icon:L}),(0,i.jsx)(s.E,{noOfLines:1,flex:1,"data-testid":"site-name",fontSize:"0.9em",children:I}),d.downloadable&&c&&(0,i.jsx)(f.Tz,{label:(0,i.jsx)(b.x6,{id:"mzI/c+"}),placement:"top",children:(0,i.jsx)(h.K,{"aria-label":y.Ru._({id:"mzI/c+"}),icon:(0,i.jsx)(x.g,{icon:m.cbP}),onClick:()=>{let e=document.createElement("a");e.href=c,e.target="_blank",e.download=(null==r?void 0:r.title)||"file.pdf",e.dispatchEvent(new MouseEvent("click"))},variant:"unstyled",sx:C.Up,fontSize:"0.7em",zIndex:2,onMouseDown:w.Fw})}),!a&&c&&(0,i.jsx)(f.Tz,{label:(0,i.jsx)(b.x6,{id:"Alx2/L"}),placement:"top",children:(0,i.jsx)(h.K,{"aria-label":y.Ru._({id:"Alx2/L"}),icon:(0,i.jsx)(x.g,{icon:m.vMs}),onClick:g,variant:"unstyled",zIndex:2,fontSize:"0.7em",onMouseDown:w.Fw,sx:C.Up})})]}),(0,i.jsx)(s.E,{fontWeight:"bold",noOfLines:1,maxW:"90%","data-testid":"title",color:"var(--body-color)",wordBreak:"break-all",children:null==r?void 0:r.title}),(null==r?void 0:r.description)&&(0,i.jsx)(s.E,{noOfLines:[2,3],whiteSpace:"normal",maxW:"100%",color:"var(--body-color-muted)",children:r.description})]})},S=e=>{let{icon:t,...n}=e;return t?(0,i.jsx)(g._,{src:t,h:"1.5em",borderRadius:"sm",...n}):(0,i.jsx)(s.E,{as:"span",...n,children:(0,i.jsx)(x.g,{icon:m.c9S})})};var L=n(26420),I=n(55597),E=n(59230),D=n(21982);let M=e=>{let t=Math.floor(Math.max(0,e)),n=Math.floor(t/3600),i=Math.floor(t%3600/60),a=n.toString().padStart(2,"0"),r=i.toString().padStart(2,"0"),l=(t%60).toString().padStart(2,"0");return n>=1?a+":"+r+":"+l:r+":"+l},R=e=>{let{node:t}=e,{thumbnail:n,meta:r,source:o}=t.attrs,c=(null==n?void 0:n.src)||(null==n?void 0:n.tempUrl);return(null==n?void 0:n.showPlaceholder)?(0,i.jsx)(D.Pf,{hasUploadError:n.uploadStatus===E.A.Error,isUploading:n.uploadStatus===E.A.Uploading,width:"100%",borderRadius:"none",icon:"embed.pdf"===o?m.O_q:m.c9S}):c?(0,i.jsxs)(a.s,{flex:1,color:"white",position:"relative",children:[(0,i.jsx)(L.a,{flex:1,overflow:"hidden",bgColor:"white",children:(0,i.jsx)(g._,{src:c,position:"absolute",objectFit:"cover",width:"100%",height:"100%"})}),(null==n?void 0:n.uploadStatus)===E.A.Uploading&&(0,i.jsx)(D.Td,{}),(null==r?void 0:r.duration)&&(0,i.jsxs)(l.z,{fontSize:"0.75em",backgroundColor:"blackAlpha.700",color:"white",position:"absolute",insetEnd:0,bottom:0,py:1,px:2,"data-thumbnail-hidden":!0,children:[(0,i.jsx)(x.g,{icon:I.ijD}),(0,i.jsx)(s.E,{children:M(r.duration)})]})]}):null},_=e=>e&&(!e.height||e.height>=50)&&(!e.width||e.width>=50),z=e=>{let{node:t}=e,{thumbnail:n,sourceUrl:l}=t.attrs;return(0,i.jsxs)(a.s,{overflow:"hidden",direction:"row",align:"stretch",wrap:"wrap",contentEditable:!1,transitionProperty:"common",transitionDuration:"normal",position:"relative",borderRadius:"inherit","data-content-reference":!0,"data-selection-ring":"inside","data-selection-background":!0,fontFamily:"body","data-drag-handle":!0,h:"100%",maxW:"var(--media-maxW)",maxH:"var(--media-maxH)",children:[n&&_(n)&&(0,i.jsx)(a.s,{flex:1,minH:"10em",minW:"min(10em, 100%)",maxW:"100%",maxH:"var(--media-maxH)",children:(0,i.jsx)(R,{node:t})}),(0,i.jsx)(a.s,{flex:1.618,minW:"min(16em, 100%)",maxW:"100%",p:"1em",position:"relative",children:(0,i.jsx)(k,{node:t})}),c.D1&&l&&(0,i.jsx)(r.N,{href:l,h:"100%",w:"100%",position:"absolute",zIndex:"-10","data-pdf-link":!0})]})},N=e=>{var t;let{node:n}=e,{thumbnail:c,meta:d,sourceUrl:p,source:h}=n.attrs,g=(0,j.B)(h);return(0,i.jsxs)(a.s,{minW:"var(--media-maxH)",w:"100%",css:{aspectRatio:"16 / 9"},maxW:"100%",maxH:"var(--media-maxH)",h:"100%",align:"stretch",boxSizing:"content-box",overflow:"hidden","data-content-reference":!0,"data-selection-ring":"inside",position:"relative",bg:"gray.50",children:[c&&_(c)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(R,{node:n}),(0,i.jsxs)(l.z,{backgroundColor:"whiteAlpha.700",backdropFilter:"blur(8px)",py:1,px:2,position:"absolute",bottom:"0",fontSize:"0.75em","data-thumbnail-hidden":!0,children:[(0,i.jsx)(S,{icon:(null==d?void 0:d.icon)||(null==(t=g.image)?void 0:t.src)}),p&&(0,i.jsx)(s.E,{color:"black",noOfLines:1,children:(null==d?void 0:d.title)||(null==d?void 0:d.site)||(0,u.t$)(p)})]})]}):(0,i.jsx)(a.s,{align:"flex-start",flex:"1",p:4,children:(0,i.jsx)(k,{node:n,disableOpenButton:!0})}),o.$.GAMMA_PUPPETEER_SERVICE&&p&&(0,i.jsx)(r.N,{href:p,h:"100%",w:"100%",position:"absolute",zIndex:"-10","data-pdf-link":!0})]})},T=e=>{var t;let{node:n}=e,{meta:r,source:l,thumbnail:s}=n.attrs,o=(0,j.B)(l),c=(null==s?void 0:s.src)||(null==s?void 0:s.tempUrl),u=c&&(0,d.Ub)(c,d.p7);return(0,i.jsx)(a.s,{minW:"var(--media-maxH)",w:"100%",css:{aspectRatio:"16 / 9"},bg:"var(--body-color-muted)",align:"center",justify:"center",bgImage:(0,d.QV)(u),backgroundSize:"cover",children:(0,i.jsx)(S,{icon:(null==r?void 0:r.icon)||(null==(t=o.image)?void 0:t.src),fontSize:"7.5em"})})}},42350:(e,t,n)=>{"use strict";n.d(t,{d:()=>g,X:()=>m});var i=n(77650),a=n(68301),r=n(91938),l=n(58929);async function s(e,t){let n="".concat(r.$.API_HOST,"/media/images/edit");return await (0,l.P)(n,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:null==t?void 0:t.signal},{parseResponse:async e=>await e.json(),maxDuration:12e4})}var o=n(28630),c=n(20615),d=n(34394),u=n(8327),p=n(81880),h=n(6272);let g={generateImage:{creditCostType:"generateImage",execute:async function(e,t){let n=async(e,n,i)=>(0,o.hU)({interactionId:t.interactionId,prompt:e,model:n,workspaceId:t.workspaceId,count:1,stylePrompt:i},t.abortController),i=(0,d.oP)();return{status:"success",images:(await Promise.all(e.prompts.map(e=>n(e,i,t.preferredAiImageStyle)))).flat().map(e=>({attrs:e.attrs})),messageId:t.interactionId}}},searchImage:{execute:async function(e,t){let{query:n}=e;return{status:"success",images:(await (0,c.g)({provider:"web",query:n,count:6,abortController:t.abortController})).map(e=>({attrs:(0,u.TF)(e,n,"web")})).slice(0,6),messageId:t.interactionId}}},removeBackground:{checkEnabled:()=>!a.of.get("disableRemoveBackground"),creditCostType:"removeBackground",execute:async function(e,t){var n,i,a;let r=t.imageToEdit,l=null==(n=t.imageToEdit)?void 0:n.src;if(!l)throw Error("Cannot remove background, no image selected");let o=await s({operation:"remove-background",interactionId:t.interactionId,messageId:t.messageId,chatId:t.chatId,workspaceId:t.workspaceId,editParams:{},url:l,width:null==r||null==(i=r.meta)?void 0:i.width,height:null==r||null==(a=r.meta)?void 0:a.height},t.abortController);return{status:"success",images:[{attrs:{source:"image.custom",query:null==r?void 0:r.query,src:o.url,meta:null==r?void 0:r.meta}}],messageId:t.interactionId}}},editContent:{execute:async function(e,t){let n=t.imageToEdit,r=null==n?void 0:n.src;if(!r)throw Error("Cannot perform maskless image edit, no image selected");let l=a.of.get("masklessEditModel"),o=(await Promise.all(e.editPrompts.map(async e=>{try{var i,a;let o=await s({operation:"maskless",interactionId:t.interactionId,messageId:t.messageId,chatId:t.chatId,workspaceId:t.workspaceId,editParams:{editPrompt:e,model:l},url:r,width:null==(i=n.meta)?void 0:i.width,height:null==(a=n.meta)?void 0:a.height},t.abortController);return{attrs:{source:"image.custom",query:null==n?void 0:n.query,src:o.url,meta:null==n?void 0:n.meta}}}catch(e){if((0,h.z)(e))throw e;return console.error("Maskless edit error:",e),null}}))).filter(Boolean);return 0===o.length?{status:"error",messageId:t.interactionId,error:i.Ru._({id:"0A5PiD"})}:{status:"success",images:o,messageId:t.interactionId}}},vectorize:{checkEnabled:e=>(0,p.D)(e),execute:async function(e,t){var n,i;let a=t.imageToEdit,r=null==a?void 0:a.src;if(!r)throw Error("Cannot vectorize, no image selected");let l=await s({operation:"vectorize",url:r,width:null==(n=a.meta)?void 0:n.width,height:null==(i=a.meta)?void 0:i.height,workspaceId:t.workspaceId,interactionId:t.interactionId,chatId:t.chatId,messageId:t.messageId,editParams:{}},t.abortController);return{status:"success",images:[{attrs:{source:"image.custom",query:null==a?void 0:a.query,src:l.url,meta:null==a?void 0:a.meta}}],messageId:t.interactionId}}},upscale:{checkEnabled:e=>(0,p.D)(e),execute:async function(e,t){var n,i;let a=t.imageToEdit,r=null==a?void 0:a.src;if(!r)throw Error("Cannot upscale, no image selected");let l=await s({operation:"upscale",editParams:{},url:r,width:null==(n=a.meta)?void 0:n.width,height:null==(i=a.meta)?void 0:i.height,workspaceId:t.workspaceId,interactionId:t.interactionId,chatId:t.chatId,messageId:t.messageId},t.abortController);return{status:"success",images:[{attrs:{source:"image.custom",query:null==a?void 0:a.query,src:l.url,meta:null==a?void 0:a.meta}}],messageId:t.interactionId}}},animate:{checkEnabled:e=>a.of.get("aiAnimate")&&(0,p.D)(e),creditCostType:"animateImage",execute:async function(e,t){var n,i,r,l;let o=t.imageToEdit,c=null==o?void 0:o.src;if(!c)throw Error("Cannot replace background, no image selected");let d=await s({operation:"animate",workspaceId:t.workspaceId,url:c,width:null==(n=o.meta)?void 0:n.width,height:null==(i=o.meta)?void 0:i.height,editParams:{prompt:e.prompt,model:a.of.get("animateImageModel"),aspectRatio:(null==(r=o.meta)?void 0:r.width)&&(null==(l=o.meta)?void 0:l.height)?o.meta.width>o.meta.height?"landscape":"portrait":"landscape"},interactionId:t.interactionId,chatId:t.chatId,messageId:t.messageId},t.abortController);return{status:"success",images:[{attrs:{source:"image.custom",query:null==o?void 0:o.query,src:d.url,meta:null==o?void 0:o.meta}}],messageId:t.interactionId}}}},m=e=>e.imageToEdit?Object.keys(g).filter(t=>{let n=g[t];return!n.checkEnabled||n.checkEnabled(e.imageToEdit)}):["generateImage","searchImage"]},42644:(e,t,n)=>{"use strict";n.d(t,{gT:()=>z,Vo:()=>_,E1:()=>R});var i=n(51684),a=n(99492),r=n(77650),l=n(59426),s=n(57792),o=n(26194),c=n.n(o),d=n(78435),u=n.n(d),p=n(68301),h=n(52055),g=n(55597),m=n(23050);let x=()=>[{key:"autoComplete",name:()=>r.Ru._({id:"ZyVTQp"}),shortcut:m.Hb,nodeName:"paragraph",icon:g._$C,keywords:["continue","autocomplete","typeahead","complete","continue","ai"],execute:e=>{e.commands.autoComplete()},featureFlag:"aiAutocomplete",creditType:"autocomplete",needsConnection:!0},{key:"aiCardAfter",name:()=>r.Ru._({id:"yk2NpI"}),nodeName:"card",icon:g._$C,execute:e=>e.commands.insertCardAfter((0,h.G)().aiCardAfter),checkDisabled:e=>!e.schema.nodes.card,keywords:["card","below","after","new"],featureFlag:"addCard2",needsConnection:!0}];var f=n(7957),b=n(54678),y=n(34555),v=n(89603),C=n(24903),w=n(91656),A=n(19250),j=n(88145),k=n(11215),S=n(55786),L=n(55860),I=n(53891);let E=()=>[{key:"toggle",name:()=>r.Ru._({id:"JFciKP"}),description:()=>r.Ru._({id:"Woijyj"}),keywords:["toggle","expand","collapse","disclosure","details"],nodeName:"toggle",icon:i.ijD,execute:e=>{let t=(0,L.n)();(0,I.bG)(t,!0),e.chain().insertContent({...(0,h.G)().toggle,attrs:{id:t}}).selectInsertedNode().run()},dragStartFn:e=>{let t=(0,L.n)();(0,I.bG)(t,!0),(0,S.f)(e,{...(0,h.G)().toggle,attrs:{id:t}})}}];var D=n(15607);let M=()=>[{key:"insertCardAfter",name:()=>r.Ru._({id:"coNSGP"}),nodeName:"card",icon:i.UiS,execute:e=>e.commands.insertCardAfter(),checkDisabled:e=>!e.schema.nodes.card,keywords:["card","below","after","new"]},{key:"insertCardInside",name:()=>r.Ru._({id:"lOmsEK"}),nodeName:"card",icon:i.ViY,execute:e=>e.commands.insertNestedCard(),checkDisabled:e=>!e.schema.nodes.card,keywords:["nested","card","sub"]},{key:"splitCard",name:()=>r.Ru._({id:"ONXbeB"}),nodeName:"card",icon:i.ufr,shortcut:"***",execute:e=>e.commands.splitCardAtSelection(),checkDisabled:e=>!e.schema.nodes.card,dragStartFn:e=>{(0,S.f)(e,(0,h.G)().normalText)},dragEndFn:e=>{e.chain().splitCardAtSelection().focusDelayed().run()},keywords:["split"]},{key:"title",name:()=>r.Ru._({id:"XxGz2W"}),nodeName:"title",icon:a.jwR,shortcut:"! Title",execute:e=>{e.chain().focus().setFontSize("title").run()},checkDisabled:(e,t)=>!!t&&!(0,D.zi)(e,"title"),keywords:["title","large"]},{key:"display",name:()=>r.Ru._({id:"ySF22d"}),nodeName:"title",icon:a.jwR,shortcut:"!! Title",execute:e=>{e.chain().focus().setFontSize("titleLg").run()},checkDisabled:(e,t)=>!!t&&!(0,D.zi)(e,"title"),keywords:["display","large"]},{key:"monster",name:()=>r.Ru._({id:"+nhv+2"}),nodeName:"title",icon:a.jwR,shortcut:"!!! Ahhhh",execute:e=>{e.chain().focus().setFontSize("titleXl").run()},checkDisabled:(e,t)=>!!t&&!(0,D.zi)(e,"title"),keywords:["monster","huge"]},{key:"h1",name:()=>r.Ru._({id:"lXKZGw"}),nodeName:"heading",icon:i.RDv,shortcut:"# Heading 1",execute:e=>{e.chain().focus().setFontSize("h1").run()},checkDisabled:(e,t)=>!!t&&!(0,D.zi)(e,"heading"),keywords:["heading","h1"]},{key:"smallText",name:()=>r.Ru._({id:"LBkaLa"}),nodeName:"paragraph",icon:a.jwR,shortcut:"/sm",execute:e=>{e.chain().focus().setFontSize("sm").run()},checkDisabled:(e,t)=>!!t&&!(0,D.zi)(e,"body"),keywords:["sm","small","paragraph"]},{key:"normalText",name:()=>r.Ru._({id:"5NwZ8t"}),nodeName:"paragraph",icon:i.jwR,shortcut:"/md",execute:e=>{e.chain().focus().setFontSize("md").run()},checkDisabled:(e,t)=>!!t&&!(0,D.zi)(e,"body"),keywords:["md","normal","paragraph","default","body"]},{key:"largeText",name:()=>r.Ru._({id:"0Sz17G"}),nodeName:"paragraph",icon:i.jwR,shortcut:"/lg",execute:e=>{e.chain().focus().setFontSize("lg").run()},checkDisabled:(e,t)=>!!t&&!(0,D.zi)(e,"body"),keywords:["lg","large","paragraph"]},{key:"h2",name:()=>r.Ru._({id:"El7NbA"}),nodeName:"heading",icon:i.K1h,shortcut:"## Heading 2",execute:e=>{e.chain().focus().setFontSize("h2").run()},checkDisabled:(e,t)=>!!t&&!(0,D.zi)(e,"heading"),keywords:["heading","h2"]},{key:"h3",name:()=>r.Ru._({id:"SFN6dN"}),nodeName:"heading",icon:i.Dn6,shortcut:"### Heading 3",execute:e=>{e.chain().focus().setFontSize("h3").run()},checkDisabled:(e,t)=>!!t&&!(0,D.zi)(e,"heading"),keywords:["heading","h3"]},{key:"h4",name:()=>r.Ru._({id:"nJeKmw"}),nodeName:"heading",icon:i.wLS,shortcut:"#### Heading 4",execute:e=>{e.chain().focus().setFontSize("h4").run()},checkDisabled:(e,t)=>!!t&&!(0,D.zi)(e,"heading"),keywords:["heading","h4"]},{key:"openEmojiPicker",name:()=>r.Ru._({id:"tKlWWY"}),nodeName:"emoji",icon:a.H82,execute:e=>e.commands.openEmojiPicker(),keywords:["symbol","emoji"]},{key:"bulletedList",name:()=>r.Ru._({id:"ynb7Kh"}),nodeName:w.e.Bullet,icon:i.pch,shortcut:"- Item",execute:e=>{e.chain().setListItems({variant:w.e.Bullet}).selectInsertedNode().run()},checkDisabled:(e,t)=>!!t&&!(0,D.aq)(e,w.e.Bullet),keywords:["bullets","unordered","ul","list"]},{key:"numberedList",name:()=>r.Ru._({id:"M3G9ZD"}),nodeName:w.e.Numbered,icon:i.Tsj,shortcut:"1. Item",execute:e=>{e.chain().setListItems({variant:w.e.Numbered}).selectInsertedNode().run()},checkDisabled:(e,t)=>!!t&&!(0,D.aq)(e,w.e.Numbered),keywords:["numbers","numbered","ordered","ol","list"]},{key:"todoList",name:()=>r.Ru._({id:"rCIbrq"}),nodeName:w.e.Todo,icon:i.AgW,shortcut:"[] Item",execute:e=>{e.chain().setListItems({variant:w.e.Todo}).selectInsertedNode().run()},checkDisabled:(e,t)=>!!t&&!(0,D.aq)(e,w.e.Todo),keywords:["todo","task","checkbox","list","checklist"]},{key:"blockquote",name:()=>r.Ru._({id:"OLMhPm"}),nodeName:"blockquote",icon:i.R9H,shortcut:"> Quote",execute:e=>e.chain().focus().toggleBlockquote().run(),keywords:["quote","blockquote"]},...(0,f.A3)(),{key:"buttonGroup",name:()=>r.Ru._({id:"hxBFty"}),nodeName:"buttonGroup",icon:i.A8r,execute:e=>e.commands.insertContentAndSelect((0,h.G)().buttonGroup),description:()=>r.Ru._({id:"IvDo5O"}),keywords:["button","link","click","call to action"]},{key:"codeBlock",name:()=>r.Ru._({id:"4A3Yzu"}),nodeName:"codeBlock",icon:i.jTw,shortcut:"```",execute:e=>{e.chain().focus().setCodeBlock().run()},keywords:["code","block","codeblock"]},{key:"mathBlock",name:()=>r.Ru._({id:"TI6GY9"}),nodeName:"math_display",featureFlag:"math",icon:i.YLF,keywords:["math","equation","latex","katex"],execute:e=>e.chain().focus().insertContent((0,h.G)().mathBlock).run(),dragEndFn:()=>{},description:()=>r.Ru._({id:"mBJFYh"})},{key:"mathInline",name:()=>r.Ru._({id:"qc9cD+"}),featureFlag:"math",nodeName:"math_inline",icon:i.Dkf,keywords:["math","equation","latex","katex"],execute:e=>e.chain().focus().insertMathInline().run(),shortcut:"$x^2$ "},{key:"table2",name:()=>r.Ru._({id:"3gSgpL"}),keywords:["table","grid","data"],nodeName:"table",shortcut:"/table",icon:i.w97,execute:e=>e.commands.insertTable({rows:2,cols:2,withHeaderRow:!1})},{key:"table3",name:()=>r.Ru._({id:"ZjN50+"}),keywords:["table","grid","data"],nodeName:"table",icon:i.w97,execute:e=>e.commands.insertTable({rows:3,cols:3,withHeaderRow:!1})},{key:"table4",name:()=>r.Ru._({id:"64S2d0"}),keywords:["table","grid","data"],nodeName:"table",icon:i.w97,execute:e=>e.commands.insertTable({rows:4,cols:4,withHeaderRow:!1})},{key:"columns2",name:()=>r.Ru._({id:"vVJ2/D"}),keywords:["columns","layout","grid","two"],nodeName:"gridLayout",shortcut:"/columns",icon:i.oZz,execute:e=>e.commands.insertLayout(2)},{key:"columns3",name:()=>r.Ru._({id:"OnuuaA"}),keywords:["columns","layout","grid","three"],nodeName:"gridLayout",icon:i.oZz,execute:e=>e.commands.insertLayout(3)},{key:"columns4",name:()=>r.Ru._({id:"hexbw8"}),keywords:["columns","layout","grid","four"],nodeName:"gridLayout",icon:i.oZz,execute:e=>e.commands.insertLayout(4)},{key:"contributors",name:()=>r.Ru._({id:"YqsXfH"}),nodeName:"contributors",icon:i.hP6,execute:e=>e.commands.insertContentAndSelect((0,h.G)().contributors),keywords:["contributors","authors","credits"]},{key:"divider",name:()=>r.Ru._({id:"R8AthW"}),nodeName:"divider",icon:i.adM,keywords:["hr","rule","line","divider"],shortcut:"---",execute:e=>e.commands.insertContentAndSelect((0,h.G)().divider)},{key:"tableOfContents",name:()=>r.Ru._({id:"9FTolD"}),nodeName:"tableOfContents",icon:i.o97,execute:e=>e.commands.insertContentAndSelect((0,h.G)().tableOfContents,-1),keywords:["toc","contents"]},{key:"gallery",name:()=>r.Ru._({id:"U+kFad"}),description:()=>r.Ru._({id:"GqdREM"}),nodeName:"gallery",shortcut:"/gallery",icon:i.Qyz,keywords:["gallery","image","layout","filmstrip","carousel"],execute:e=>e.commands.insertContentAndSelect((0,h.G)().gallery)},{key:"logo",name:()=>r.Ru._({id:"YkFus/"}),description:()=>r.Ru._({id:"YRtGxa"}),nodeName:"gallery",shortcut:"/logos",icon:i.a8v,keywords:["logo","logos","gallery"],execute:e=>e.chain().insertContentAndSelect((0,h.G)().logoGallery).run()},{key:"footnote",name:()=>r.Ru._({id:"dOxPd4"}),nodeName:"footnote",shortcut:"^note^",icon:i.sxe,execute:e=>{let t=(0,v.pN)(),n={...(0,h.G)().footnote,attrs:{noteId:t}};(0,v.Wj)(t,!0),e.commands.insertContent(n)},dragStartFn:e=>{let t=(0,v.pN)(),n={...(0,h.G)().footnote,attrs:{noteId:t}};(0,v.Wj)(t,!0),(0,S.f)(e,n)},checkDisabled:C.Q,keywords:["footnote","note","reference"]},{key:"insertDate",name:()=>r.Ru._({id:"mYGY3B"}),nodeName:"paragraph",icon:i.okg,execute:e=>{let t=(0,l.A)(new Date,"PPP",{locale:s.A});e.chain().focus().insertContent(t).run()},shortcut:"/date",featureFlag:"insertDate",keywords:["date","today","current"]},...(0,b.V)(),...E(),...(0,A.D)(),...(0,k.WP)(),...(0,y.A)(),...(0,j.b)(),...x()],R=()=>c()(M(),e=>e.priority),_=()=>u()(M(),"key"),z=function(e,t){var n;let i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!!(t.needsConnection&&a||t.featureFlag&&!p.of.get(t.featureFlag)||(null==(n=t.checkDisabled)?void 0:n.call(t,e,i)))||!!i&&!(0,D.Bi)(e,t.nodeName)}},42670:(e,t,n)=>{"use strict";n.d(t,{h:()=>eb});var i=n(6029),a=n(46898),r=n(48810),l=n(80314),s=n(24302),o=n(40452),c=n(26385),d=n(26420),u=n(17496),p=n(58959),h=n(96990),g=n(99492),m=n(48621),x=n(19564),f=n(77650),b=n(55729),y=n(74158),v=n(88586),C=n(85011),w=n(87045),A=n(17928),j=n(59320),k=n(92397),S=n(61385),L=n(47665),I=n(43634),E=n(15607),D=n(77639),M=n(75570),R=n(29608),_=n(70006),z=n(85235),N=n(53885),T=n(16936),P=n(40162),H=n(47412),F=n(82927),B=n(43787),O=n(80180);let V=e=>{let{docId:t,cardId:n,commentId:i,parentCommentId:a,targetType:r}=e,[l]=(0,v.nkJ)(),[s]=(0,v.eaJ)();function o(e,l,s,o){let c={targetId:r===v.yKx.Comment?i:n,docId:t,emoji:l,cardId:n};return("addReaction"===e&&(c={...c,targetType:r}),r===v.yKx.Comment)?{variables:{reactionInput:c},update:(n,r)=>{let{data:l}=r;n.writeFragment({id:"Doc:".concat(t),fragment:v.U$g,fragmentName:"DocCommentsUpdate",data:{comments:[a?{id:a,replies:[{id:i,reactions:[l[e]],__typename:"Comment"}],reactions:[],__typename:"Comment"}:{id:i,replies:[],reactions:[l[e]],__typename:"Comment"}]}})},optimisticResponse:{[e]:{commentId:i,count:s,emoji:l,users:o,cardId:n,__typename:"Reaction"}}}:void console.error("[useReactionUpdate] Invalid targetType: ".concat(r))}return{addReactionFn:(e,t,n)=>{l(o("addReaction",e,t,n))},removeReactionFn:(e,t,n)=>{s(o("removeReaction",e,t,n))}}};var W=n(89122),U=n(12514),G=n(26886),Z=n(27229),K=n(72316),Q=n(47317);let q=(e,t)=>e===t||null!=e.parentElement&&q(e.parentElement,t),J=e=>{let{setPopperElement:t,onPopoverClose:n,handleReactionClick:a,popperElement:r,openerElement:l,usePortal:s,isMobile:o,placement:c,...u}=e;(0,W.j)({ref:{current:r},handler(e){l&&q(e.target,l)||n()}});let p=(0,i.jsx)(d.a,{mx:3*!o,mt:o?0:"-110px",shadow:"lg",bg:"white",p:"0",w:"auto",minW:"0px",zIndex:"tooltip","data-target-name":"reaction-emoji-picker",ref:t,...u,children:(0,i.jsx)(Q.pP,{perLine:o?9:12,handlePick:e=>{a(e.id),n()},shouldFocusSearch:!(0,R.Xb)()})});return s?(0,i.jsx)(U.Z,{children:p}):p},$=e=>{let{size:t,colorScheme:n,handleReactionClick:a,placement:r,usePortal:l=!0}=e,[s]=(0,G.U)(["(max-width: 840px)","(min-width: 841px)"]),{isOpen:o,onToggle:c,onClose:u}=(0,Z.j)(),[p,h]=(0,b.useState)(!1),[y,v]=(0,b.useState)(null),[C,w]=(0,b.useState)(null),{styles:A,attributes:j,forceUpdate:k}=(0,K.E)(y,C,{placement:s?"auto":"".concat(r,"-start"),strategy:"fixed"});return(0,b.useEffect)(()=>{k&&setTimeout(()=>{k()},0)},[k]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(H.Tz,{placement:ee,label:(0,i.jsx)(x.x6,{id:"9OEgyT"}),isOpen:p,children:(0,i.jsx)(d.a,{display:"flex",onMouseEnter:()=>{h(!0)},onMouseLeave:()=>h(!1),children:(0,i.jsx)(T.K,{colorScheme:n,float:"inline-start","aria-label":f.Ru._({id:"9OEgyT"}),variant:"ghost",onClick:e=>{c(),e.stopPropagation()},size:t||"sm",ref:v,isRound:!0,icon:(0,i.jsx)(m.g,{icon:g.Q3O})})})}),o&&(0,i.jsx)(J,{usePortal:l,setPopperElement:w,onPopoverClose:u,handleReactionClick:a,popperElement:C,isPopoverOpen:o,openerElement:y,style:A.popper,isMobile:s,placement:r,...j.popper})]})};var Y=n(49611);let X=e=>{let{colorScheme:t,size:n,emoji:a,label:l,count:o,hasSelfReacted:c,handleReactionClick:u,readOnly:p}=e,{colorMode:h}=(0,s.G6)(),g="light"===h,m=(0,b.useCallback)(e=>{p||u(a,e)},[a,u,p]);return(0,i.jsx)(H.Tz,{placement:ee,label:(0,i.jsxs)(d.a,{alignContent:"center",children:[l,!p&&(0,i.jsx)(r.E,{display:"block",color:g?"gray.500":"gray.600",children:c?(0,i.jsx)(x.x6,{id:"fb/FjL"}):(0,i.jsx)(x.x6,{id:"AG3H1y"})})]}),children:(0,i.jsxs)(Y.$,{cursor:p?"default":"cursor","data-testid":"reaction-button-".concat(a),size:n||"sm",color:g?"gray.500":"gray.300",bg:c?g?"gray.50":"gray.600":"none",borderWidth:"1px",borderStyle:"solid",colorScheme:t,borderColor:c?g?"gray.200":"gray.500":"transparent",_hover:{bg:g?"gray.200":"gray.600"},variant:"ghost",borderRadius:"full",px:2,onClick:m,children:[(0,i.jsx)(Q.mY,{emojiId:a,fontSize:"sm"===n?"lg":"sm"}),(0,i.jsx)(r.E,{as:"span",fontSize:n,ms:1.5,children:o})]})})},ee="bottom",et=e=>{let{size:t,colorScheme:n,placement:a="right",usePortal:l,reactions:s,docId:c,cardId:d,commentId:u,parentCommentId:p,targetType:h,readOnly:f,innerPaddingY:b,...y}=e,{addReactionFn:C,removeReactionFn:w}=V({docId:c,commentId:u,parentCommentId:p,cardId:d,targetType:h}),{user:A}=(0,F.ur)(),j=(null==s?void 0:s.reduce((e,t)=>(t.count&&(e[t.emoji]=t),e),{}))||{},k=!f&&h===v.yKx.Card&&!j.heart,S=Object.keys(j).length>0,L=(e,t)=>{var n,i,a,r,l,s;if(!(h===v.yKx.Comment&&u||h===v.yKx.Card&&d))throw Error("[Reactions.handleReactionClick] Invalid targetType. Args: targetType: ".concat(h,", commentId: ").concat(u,", cardId: ").concat(d));if(null==(i=j[e])||null==(n=i.users.find(e=>e.id===(null==A?void 0:A.id)))?void 0:n.id){let t=(null==j||null==(a=j[e])?void 0:a.count)-1,n=(null==j||null==(r=j[e])?void 0:r.users)?j[e].users.filter(e=>e.id!==(null==A?void 0:A.id)):[];w(e,t,n)}else{let t=(null==j||null==(l=j[e])?void 0:l.count)?j[e].count+1:1,n=(null==j||null==(s=j[e])?void 0:s.users)?j[e].users.concat(A):[A];C(e,t,n)}null==t||t.stopPropagation()};return(0,i.jsxs)(o.s,{direction:"row",cursor:"default",contentEditable:!1,onMouseDown:O.Fw,mb:b?"-".concat(b/1.5,"rem"):void 0,...y,children:[k&&(0,i.jsx)(H.Tz,{label:(0,i.jsx)(x.x6,{id:"W9FRBT"}),placement:ee,children:(0,i.jsx)(T.K,{colorScheme:n,float:"inline-start","aria-label":"",variant:"ghost",onClick:e=>{L("heart",e)},size:t,isRound:!0,mr:2,icon:(0,i.jsx)(m.g,{icon:g.qcK})})}),!f&&(0,i.jsx)($,{size:t,colorScheme:n,handleReactionClick:L,usePortal:l,placement:a}),S&&(0,i.jsx)(P.B,{spacing:"sm"===t?2:1,mr:2,className:"reactions-row",children:S&&Object.entries(j).map(e=>{let[a,l]=e,s=null==l?void 0:l.users,o=!!(null==s?void 0:s.find(e=>(null==e?void 0:e.id)===(null==A?void 0:A.id))),c=(0,B.gj)({users:s,selfUserId:null==A?void 0:A.id});return(0,i.jsx)(X,{colorScheme:n,size:t,emoji:a,readOnly:f,label:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(x.x6,{id:"mRnNF/",values:{usersLabel:c,emoji:a},components:{0:(0,i.jsx)(r.E,{as:"span",color:"gray.300"})}})}),count:null==s?void 0:s.length,hasSelfReacted:o,handleReactionClick:L},a)})})]})},en=b.memo(e=>{let{docId:t,reactions:n,cardId:a,commentId:r,size:l,parentCommentId:s,placement:o="right",usePortal:c=!0,userCanComment:d,...u}=e;return(0,i.jsx)(et,{size:l,cardId:a,usePortal:c,placement:o,reactions:n,parentCommentId:s,docId:t,commentId:r,targetType:v.yKx.Comment,readOnly:!d,...u})});var ei=n(72926),ea=n(90394),er=n(29810),el=n(78140),es=n(36999),eo=n(41283),ec=n(85595),ed=n(6760),eu=n(21157),ep=n.n(eu),eh=n(26449);let eg=()=>({[v.EB6.Open]:{label:f.Ru._({id:"9ggh96"}),icon:g.SGM,successMessage:f.Ru._({id:"1INZuT"})},[v.EB6.Closed]:{label:f.Ru._({id:"pL38RI"}),icon:g.RVf,successMessage:f.Ru._({id:"gieGvY"})}}),em=e=>{let{status:t,handleCommentStatusUpdate:n}=e;return(0,i.jsx)(H.Tz,{label:eg()[t].label,"aria-label":eg()[t].label,children:(0,i.jsx)(T.K,{variant:"ghost",size:"sm",borderRadius:"full",isDisabled:!1,"aria-label":eg()[t].label,icon:(0,i.jsx)(m.g,{icon:eg()[t].icon}),onClick:()=>n(t)})})},ex=e=>{let{comment:t,selfUser:n,isInPanel:l,isSourceContentAvailable:u,showCopyCommentLink:b,showLinkToTargetContent:y,hasCommentBeenUpdated:C,onTargetClick:w,commentUrl:A,isReply:j,userCanComment:k,handleCommentStatusUpdate:S,toastPosition:L,isEditing:I,handleEditCommentClick:E,handleDeleteCommentClick:D}=e,{user:M,createdTime:R,updatedTime:_,status:z=v.EB6.Open}=t,{email:N,displayName:P,profileImageUrl:F}=M,B=(null==n?void 0:n.id)===(null==M?void 0:M.id),{onCopy:O}=(0,ea.i)(A),V=(0,s.dU)("red.500","red.300"),W=(0,a.d)();return(0,i.jsxs)(p.z,{spacing:2,align:"top",mb:3,_before:l?{content:"''",position:"absolute",w:"9px",h:"9px",mt:"15px",insetStart:j?"12px":"36px",bg:"gray.50",borderRadius:"full"}:{},children:[(0,i.jsx)(H.Tz,{label:N,"aria-label":N,children:(0,i.jsx)(h.e,{mt:1,size:"sm",name:P,src:F,ignoreFallback:!0})}),(0,i.jsxs)(c.B,{align:"center",alignItems:"flex-start",spacing:0,mb:1,children:[(0,i.jsxs)(r.E,{fontWeight:"600",mb:0,fontSize:"sm",children:[P," ",B?(0,i.jsx)(x.x6,{id:"dDUgzP"}):null]}),(0,i.jsx)(o.s,{direction:"row",w:"100%",alignItems:"flex-start",children:(0,i.jsx)(d.a,{flex:"1",children:(0,i.jsx)(H.Tz,{isDisabled:!C,label:"Updated ".concat((0,eh.OG)(_)),placement:"top",children:(0,i.jsxs)(p.z,{children:[(0,i.jsx)(r.E,{my:"0 !important",className:"comment-date",fontSize:"xs",color:"gray.500",children:ep()((0,eh.OG)(R))}),C&&(0,i.jsx)(d.a,{color:"gray.500",children:(0,i.jsx)(m.g,{size:"xs",icon:g.ml2})})]})})})})]}),(0,i.jsx)(er.h,{}),(0,i.jsxs)(p.z,{spacing:1,children:[y&&(0,i.jsx)(H.Tz,{label:u?(0,i.jsx)(x.x6,{id:"LmLruJ"}):(0,i.jsx)(x.x6,{id:"/oHV5h"}),shouldWrapChildren:!0,children:(0,i.jsx)(T.K,{size:"sm",borderRadius:"full",variant:"ghost",isDisabled:!u,"aria-label":u?f.Ru._({id:"LmLruJ"}):f.Ru._({id:"/oHV5h"}),onClick:w,icon:(0,i.jsx)(m.g,{icon:g.vh1})})}),!j&&k&&(0,i.jsx)(em,{status:z,handleCommentStatusUpdate:()=>S(t.status)}),(0,i.jsxs)(el.W,{isLazy:!0,children:[(0,i.jsx)(es.I,{as:T.K,size:"sm",variant:"ghost",borderRadius:"full","data-testid":"comment-header-menu",icon:(0,i.jsx)(m.g,{fixedWidth:!0,icon:g.vHW}),children:(0,i.jsx)(x.x6,{id:"7L01XJ"})}),(0,i.jsx)(U.Z,{children:(0,i.jsxs)(eo.c,{zIndex:"modal","data-testid":"comment-header-menulist",children:[b&&(0,i.jsx)(ec.D,{icon:(0,i.jsx)(m.g,{icon:g.CQO}),onClick:()=>{O(),W({title:f.Ru._({id:"h5GS+N"}),status:"success",duration:3e3,position:L})},children:(0,i.jsx)(x.x6,{id:"qhJCCi"})}),k&&!I&&B&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ed.N,{}),(0,i.jsx)(ec.D,{icon:(0,i.jsx)(m.g,{icon:g.MT7}),onClick:E,children:(0,i.jsx)(x.x6,{id:"ePK91l"})}),(0,i.jsx)(ec.D,{icon:(0,i.jsx)(m.g,{icon:g.yLS}),color:V,onClick:()=>{D()},"data-testid":"delete-thread",children:j?(0,i.jsx)(x.x6,{id:"FjzXBu"}):(0,i.jsx)(x.x6,{id:"xOviNB"})})]})]})})]})]})]})};var ef=n(89584);let eb=(0,b.memo)(e=>{let{comment:t,editor:n,selfUser:T,docId:P,commentIdToHighlight:H,userCanComment:F,instanceType:B,editorMode:O,isRootComment:V=!1,onClose:W,closePopup:U,...G}=e,Z="feed"===B,K="drawer"===B,Q=(0,R.Xb)()?"bottom":"top",{content:q,targetHtml:J,targetId:$,createdTime:Y,updatedTime:X,id:ee,replies:et,reactions:ea}=t,er=(0,y.wA)(),{initialDraftReply:el,updateLocalDraftReply:es,hasLocalDraftReply:eo}=(0,ei.p_)(ee),ec=(0,b.useRef)(new M.c),ed=H===ee,eu=(0,_.yO)({docId:P,id:ee}),ep=(0,b.useRef)(null),[eh,em]=(0,b.useState)(!1),[ey,ev]=(0,b.useState)(V);(0,b.useEffect)(()=>{eo&&!ey&&ev(!0)},[eo,ey]);let[eC]=(0,v.eRM)(),[ew]=(0,v.DNM)(),[eA]=(0,v.roT)(),[ej]=(0,v.Ekg)(),ek=(0,a.d)(),eS=(0,C.O2)("editor"),eL=(0,b.useCallback)(()=>{em(!0)},[]),eI=(0,b.useCallback)(()=>{es(null)},[es]),eE=[.25,.1,.25,1];(0,b.useLayoutEffect)(()=>{ed&&ep.current&&eS.scrollElementIntoView({element:ep.current})},[eS,ed]);let eD=e=>{let t=e===v.EB6.Open?v.EB6.Closed:v.EB6.Open,n={id:ee,docId:P,status:t};eA({variables:{input:n},update:(e,t)=>{let{data:n}=t,i={id:"Doc:".concat(P),fragment:D.Mi,fragmentName:"DocCommentsUpdate",data:{comments:[null==n?void 0:n.updateCommentStatus]}};e.writeFragment(i)},optimisticResponse:{updateCommentStatus:{...n,__typename:"Comment",updatedTime:new Date().toISOString()}}}).then(()=>{ek({title:(0,i.jsxs)(r.E,{children:[eg()[e].successMessage,"."," ",(0,i.jsx)(l.N,{textDecoration:"underline",onClick:()=>eD(t),children:f.Ru._({id:"9uI/rE"})})]}),status:"success",duration:5e3,isClosable:!1,position:Q})}).catch(e=>{console.error("[CommentComponent]: Error changing comment status",e),ek({title:f.Ru._({id:"+Q5eww",values:{0:e.message}}),status:"error",isClosable:!0,position:Q})}).finally(()=>{"popup"===B&&U&&U(!0)})},eM=(0,s.dU)("yellow.100","yellow.800"),eR=N.q.getState(n.state),e_=(0,b.useMemo)(()=>null==eR?void 0:eR.annotations.find(e=>e.id===$),[null==eR?void 0:eR.annotations,$]),{pos:ez}=e_||{},eN=!!(null==e_?void 0:e_.pos),eT="notification"!==B&&t.id!==j.se,eP=("notification"===B||"feed"===B)&&ez!==j.S5,eH=(0,b.useCallback)(e=>{var t;if(!(!$||!e_||!ez||(null==e||null==(t=e.target)?void 0:t.closest('[data-target-name="comment-target-expand-button"]')))){if("notification"===B)A.LF.emit(A.DN.OPEN_POPUP_COMMENT,{commentId:ee,highlightComment:!0});else if("feed"===B){let e=S.M2,t=(0,E.jB)(n,ez);if(O===z.w.DOC_VIEW)(0,k.Ib)({pos:ez,editor:n});else if(O===z.w.SLIDE_VIEW){let[t]=(0,E.TK)(n.state.doc.resolve(ez),L.jg);n.commands.spotlightCardById(t.node.attrs.id),er((0,I.mF)({attached:!1})),e=S.y0}(0,R.Xb)()&&W&&setTimeout(W,300),eS.scrollElementIntoView({element:t,delay:e})}}},[n,eS,$,B,ee,e_,ez,O,er,W]),eF=(0,b.useMemo)(()=>new Date(X).getTime()-new Date(Y).getTime()>100,[X,Y]),eB=!!t.commentId,eO=!!et&&et.length>0;return(0,i.jsxs)(o.s,{flexDir:"column",ref:ep,id:"comment-".concat(ee),className:"comment highlight-mask","data-target-id":"comment-".concat(ee),borderRadius:ed?"md":"0px",position:"relative",borderBottomWidth:V?"1px":"0px",borderBottomColor:"gray.200",_after:Z&&eO?{content:"''",position:"absolute",w:"9px",h:"9px",insetStart:"36px",bottom:9,bg:"gray.50",borderRadius:"full",transitionProperty:"common",transitionDuration:"normal"}:{},_before:eO&&Z?{content:"''",position:"absolute",w:"3px",top:7,bottom:9,insetStart:"39px",bg:"gray.50",borderRadius:"full"}:{},...G,overflowY:"hidden",children:[(0,i.jsxs)(c.B,{backgroundColor:ed?eM:"auto",transitionProperty:"border, background",transitionDuration:"normal",transitionTimingFunction:"ease",role:"group",spacing:8,children:[(0,i.jsxs)(d.a,{ps:eB&&Z?10:0,children:[(0,i.jsx)(ex,{isInPanel:Z,comment:t,selfUser:T,isSourceContentAvailable:eN,showCopyCommentLink:eT,showLinkToTargetContent:eP,hasCommentBeenUpdated:eF,onTargetClick:eH,commentUrl:eu,isReply:eB,userCanComment:F,handleCommentStatusUpdate:eD,toastPosition:Q,isEditing:eh,handleEditCommentClick:eL,handleDeleteCommentClick:()=>{let e=!!t.commentId;ej({variables:{id:ee},update:(n,i)=>{let{data:a}=i;n.writeFragment({id:"Doc:".concat(P),fragment:D.Mi,fragmentName:e?"DocRepliesRemove":"DocCommentsRemove",data:{comments:[e?{id:t.commentId,replies:[null==a?void 0:a.archiveComment],__typename:"Comment"}:null==a?void 0:a.archiveComment]}})},optimisticResponse:{archiveComment:{id:ee,__typename:"Comment",archived:!0}}}),!e&&t.targetId&&n.commands.deleteAnnotation(t.targetId),"popup"===B&&U&&U(!0),ek({title:f.Ru._({id:"Ho/Jvc"}),status:"success",duration:5e3,isClosable:!1,position:Q})}}),(0,i.jsxs)(d.a,{ps:eO&&Z?10:0,overflowY:"hidden",children:[J&&J.length&&(0,i.jsx)(ef.s,{targetHtml:J,onTargetClick:eH,isSourceContentAvailable:eN,instanceType:B}),(0,i.jsx)(w.B,{initialContent:q,editable:eh,onCancelEditingClick:()=>em(!1),saveButtonText:(0,i.jsx)(x.x6,{id:"yY7Bil"}),saveButtonIcon:(0,i.jsx)(m.g,{icon:g.e68}),onCommentSave:e=>{let n=!!t.commentId,i={id:ee,docId:P,content:e};ew({variables:{input:i},update:(e,i)=>{let{data:a}=i,r={id:"Doc:".concat(P),fragment:D.Mi,fragmentName:n?"DocRepliesUpdate":"DocCommentsUpdate",data:{comments:[n?{id:t.commentId,replies:[null==a?void 0:a.updateComment],__typename:"Comment"}:null==a?void 0:a.updateComment]}};e.writeFragment(r)},optimisticResponse:{updateComment:{...i,__typename:"Comment",updatedTime:new Date().toISOString()}}}),ek({title:f.Ru._({id:"kibWwZ"}),status:"success",duration:5e3,isClosable:!1,position:Q}),em(!1)}}),!eh&&(0,i.jsx)(en,{mt:2,docId:P,cardId:t.cardId,commentId:t.id,parentCommentId:t.commentId,reactions:ea,size:"sm",placement:"right",usePortal:!0,userCanComment:F})]})]}),et&&et.length>0&&et.map(e=>(0,i.jsx)(eb,{instanceType:B,userCanComment:F,commentIdToHighlight:H,comment:e,docId:P,selfUser:T,editor:n,editorMode:O,ps:0,p:0,pb:0},null==e?void 0:e.id))]}),F&&(0,i.jsxs)(u.S,{in:ey&&!eh,unmountOnExit:!0,transition:{enter:{when:"afterChildren",height:{duration:.3,ease:eE},opacity:{duration:.4,ease:eE}},exit:{when:"beforeChildren",height:{duration:.2,ease:eE},opacity:{duration:.3,ease:eE}}},children:[K&&(0,i.jsxs)(p.z,{align:"center",mb:3,pt:6,children:[(0,i.jsx)(h.e,{mt:1,size:"sm",name:null==T?void 0:T.displayName,src:null==T?void 0:T.profileImageUrl,ignoreFallback:!0}),(0,i.jsx)(c.B,{align:"center",alignItems:"flex-start",spacing:0,mb:1,children:(0,i.jsx)(r.E,{fontWeight:"600",mb:0,fontSize:"sm",children:(0,i.jsx)(x.x6,{id:"866PMb",values:{0:null==T?void 0:T.displayName}})})})]}),(0,i.jsx)(w.B,{ps:Z&&eO?8:0,pt:6*!K,initialContent:(null==el?void 0:el.json)||"",clearContentOnSave:!0,editable:!0,saveButtonText:(0,i.jsx)(x.x6,{id:"ImOQa9"}),saveButtonIcon:(0,i.jsx)(m.g,{icon:g.Eze}),placeholder:f.Ru._({id:"ImOQa9"}),onCommentSave:e=>{let n={targetId:t.targetId,commentId:ee,docId:P,content:e,cardId:t.cardId};eC({variables:{input:n},update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(P),fragment:D.Mi,fragmentName:"DocRepliesCreate",data:{comments:[{id:ee,replies:[null==n?void 0:n.createComment],__typename:"Comment"}]}})},optimisticResponse:{createComment:{id:j.se,__typename:"Comment",...n,user:T,archived:!1,reactions:[],createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}),ev(!1),es(null),er((0,I.zq)({id:ee})),ek({title:f.Ru._({id:"yPok8v"}),status:"success",duration:5e3,isClosable:!1,position:Q})},onCancelEditingClick:eI,onUpdate:e=>{let{editor:t}=e;es({commentId:ee,json:t.view.state.doc.toJSON(),text:t.view.state.doc.textContent})},onCreate:e=>{ec.current.resolve(e)},alwaysShowButtons:K,shouldFocus:"popup"===B&&!(0,R.Xb)()})]})]})})},42926:(e,t,n)=>{"use strict";n.d(t,{i:()=>Q,u:()=>q});var i=n(6029),a=n(68917),r=n(89122),l=n(40162),s=n(49611),o=n(78140),c=n(36999),d=n(12514),u=n(41283),p=n(26420),h=n(83550),g=n(40452),m=n(48810),x=n(72470),f=n(77979),b=n(85595),y=n(58959),v=n(29810),C=n(51684),w=n(55597),A=n(48621),j=n(47412),k=n(19564),S=n(77650),L=n(55729),I=n(57963),E=n(64961),D=n(87790),M=n(82328),R=n(90184),_=n(26814),z=n(68301),N=n(22249),T=n(15342),P=n(95889),H=n(99552),F=n(17928),B=n(26053),O=n(2095),V=n(52842),W=n(40094),U=n(99492),G=n(13777);let Z=(0,L.memo)(e=>{let{editor:t,getPos:n,onClose:a}=e,{toggleCardLayoutVariantsPanel:r,isCardLayoutVariantsPanelOpen:l}=(0,G.Y)(),o=(0,L.useCallback)(()=>{l&&r({override:"closed"});let e=t.state.doc.nodeAt(n());e&&(t.commands.selectNodeAtPos(n()),r({override:"open",isResizable:!1,props:{cardId:e.attrs.id,selectedCardRange:{from:n(),to:n()+e.nodeSize},editor:t}}),a())},[t,n,a,r,l]);return(0,i.jsx)(s.$,{variant:"plain",size:"xs",onClick:o,children:(0,i.jsxs)(g.s,{align:"center",gap:1,children:[(0,i.jsx)(A.g,{icon:U.p7g,fixedWidth:!0}),(0,i.jsx)(k.x6,{id:"3MMiDG"}),(0,i.jsx)(R.G,{type:"editCard",colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"xs",ps:0,ms:1})]})})});Z.displayName="TryNewLayoutButton";var K=n(89481);let Q=e=>{let{attrs:t,editor:n,getPos:p}=e,h=t.id,g=!!(0,T.GV)(H.Gd),{isTranslateCardOpen:m,onTranslateCardOpen:x,onTranslateCardClose:f,startTranslation:b}=(0,K.XO)({cardId:h}),y=(0,T.GV)((0,N.iZ)("chat")),v=(0,z.u)("buddyEdit"),{color:I,bg:R,hoverColor:F,hoverBg:W,borderColor:U}=(0,B.Nb)(),G=(0,L.useRef)(null),{status:Z,editCard:Q}=(0,K.S6)({editor:n,getPos:p,cardId:t.id}),J="loading"===Z,$=(0,_.tO)(void 0,"editCard",P.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD),Y=(0,L.useCallback)(e=>{var t;if($()){if((null==(t=e.operation)?void 0:t.key)==="edit.translate")return void x();Q(e)}},[$,Q,x]),X=(0,T.jL)(),ee=(0,T.GV)((0,O.C_)(t.id,"editWithAI")),et=(0,L.useCallback)(()=>{X((0,O.md)())},[X]),en=(0,L.useCallback)(()=>{X((0,O.CM)({cardId:t.id,menuType:"editWithAI"}))},[X,null==t?void 0:t.id]);(0,r.j)({ref:G,handler:e=>{if(!ee)return;let n=e.target;(null==n?void 0:n.closest('[data-card-ai-edit-menu-trigger="'.concat(t.id,'"]')))||et()}});let ei=(0,L.useRef)(null),ea=(0,z.u)("editCard2"),{isInOfflineMode:er}=(0,M.u)();if(!ea)return null;let el=v?null:(0,i.jsx)(l.B,{px:5,py:3,bg:"gray.50",mx:-2,mb:-2,justify:"center",alignItems:"center",borderBottomRadius:"xl",children:(0,i.jsx)(l.Q,{children:(0,i.jsx)(s.$,{onClick:()=>{n.commands.selectInsideCardBody(p()),y||E.R.emit("toggle",{}),et()},variant:"link",size:"sm",colorScheme:"gray",my:0,leftIcon:(0,i.jsx)(A.g,{icon:C.Y$q}),children:(0,i.jsx)(k.x6,{id:"mw/rmM"})})})});return(0,i.jsxs)(j.L8,{isDark:!1,children:[(0,i.jsxs)(o.W,{isLazy:!0,onClose:et,onOpen:en,isOpen:ee,closeOnBlur:!1,initialFocusRef:ei,children:[(0,i.jsx)(j.Tz,{label:(0,i.jsx)(k.x6,{id:"EVnzPs"}),placement:"top",shouldWrapChildren:!0,children:(0,i.jsxs)(c.I,{as:s.$,isActive:ee,isDisabled:er,"data-guider-highlight":"edit-with-ai-button","data-card-ai-edit-menu-trigger":t.id,height:V.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:U,color:I,boxShadow:"sm",cursor:"pointer",fontSize:"14px",bg:R,px:.5,_hover:{color:F,background:W},isLoading:J,pointerEvents:"auto",children:[(0,i.jsx)(A.g,{icon:w.p7g,fixedWidth:!0}),(0,i.jsx)(a.D,{})]})}),(0,i.jsx)(d.Z,{children:(0,i.jsxs)(u.c,{"data-card-ai-menu":!0,minWidth:"320px",width:"fit-content",maxWidth:"min(360px, 80vw)",fontFamily:"body",fontSize:"md",border:"none","data-card-ai-edit-menu-trigger":t.id,maxH:"60vh",display:"flex",flexDirection:"column",children:[(0,i.jsx)(q,{editCardIfAllowed:Y,onClose:et,firstItemRef:G,inputRef:ei,isDisabled:J,pb:"10%",getPos:p,editor:n,title:S.Ru._({id:"sdosNK"}),buddyEditEnabled:v,cardId:h}),el]})})]}),m&&(0,i.jsx)(D.Q,{isSite:g,isFullDoc:!1,onClose:f,startTranslation:b})]})},q=(0,L.memo)(e=>{let{editCardIfAllowed:t,onClose:n,firstItemRef:a,inputRef:r,isDisabled:l,groups:s=["writing","layout"],showCreditCosts:o=!0,opacityFadeUpsell:c=!1,getPos:d,editor:u,title:C,buddyEditEnabled:j,cardId:k,...L}=e,E="-webkit-gradient(linear, left top, left bottom, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)))";return(0,i.jsxs)(p.a,{px:.5,pt:.5,flex:1,overflowY:"auto",style:c?{WebkitMaskImage:E,maskImage:E}:s.length>1?{maskImage:"linear-gradient(to bottom, transparent, black 0%, black 90%, transparent)"}:void 0,...L,children:[(0,i.jsx)(h.r,{children:(0,i.jsxs)(g.s,{justify:"space-between",align:"center",mb:2,children:[(0,i.jsx)(m.E,{fontSize:"sm",children:C}),d&&(0,i.jsx)(Z,{editor:u,getPos:d,onClose:n})]})}),(0,i.jsx)(h.r,{children:(0,i.jsxs)(x.M,{size:"sm",mb:2,children:[(0,i.jsx)(f.W,{fontSize:"sm",color:"deepocean.300",children:(0,i.jsx)(A.g,{icon:w.p7g})}),(0,i.jsx)(I._,{initialHeight:"32px",ref:r,paddingInlineStart:9,py:1.5,borderRadius:"xl",maxLength:300,isDisabled:l,onKeyDown:e=>{var i,s;if(!l){if("Enter"===e.key&&!e.shiftKey){e.preventDefault(),e.stopPropagation();let i=null==(s=r.current)?void 0:s.value;if(!i)return;j?F.LF.emit("queueBuddyEditMessage",{message:i,context:{initiatingCardId:k}}):t({instructions:i}),n()}"ArrowDown"===e.key&&(null==(i=r.current)?void 0:i.value.length)===0&&(e.preventDefault(),e.stopPropagation(),a.current&&a.current.focus())}},placeholder:S.Ru._({id:"vKZEFh"})})]})}),W.H0.map((e,r)=>{let l=W.Kn[e.key];return l&&0!==l.length&&s.includes(e.key)?(0,i.jsx)(h.r,{title:e.label(),children:l.map((e,l)=>e.checkEnabled&&!e.checkEnabled()?null:(0,i.jsx)(b.D,{icon:(0,i.jsx)(A.g,{icon:e.icon,fixedWidth:!0}),onClick:()=>{t({operation:e}),n()},ref:0===l&&0===r?a:null,children:(0,i.jsxs)(y.z,{children:[(0,i.jsx)(m.E,{children:e.label()}),o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(v.h,{}),(0,i.jsx)(R.G,{type:"editCard",colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"sm"})]})]})},e.key))},e.key):null})]})});q.displayName="EditCardAIMenuGroups"},42938:(e,t,n)=>{"use strict";n.d(t,{M:()=>c});var i=n(6029),a=n(58959),r=n(16936),l=n(26420),s=n(99492),o=n(48621);let c=e=>{let{promptPageInfo:t,nextPrompt:n,prevPrompt:c,isDisabled:d,...u}=e;return(0,i.jsxs)(a.z,{spacing:1,...u,children:[(0,i.jsx)(r.K,{variant:"ghost",icon:(0,i.jsx)(o.g,{icon:s.Wzs}),isDisabled:d||!t.canGoPrev,onClick:()=>c(),"aria-label":"left",color:"gray.700",size:"xs"}),(0,i.jsxs)(l.a,{as:"span",color:"gray.700",fontSize:"sm",children:[t.curr," / ",t.total]}),(0,i.jsx)(r.K,{variant:"ghost",icon:(0,i.jsx)(o.g,{icon:s.XkK}),color:"gray.700",isDisabled:d||!t.canGoNext,onClick:()=>n(),"aria-label":"left",size:"xs"})]})}},43028:(e,t,n)=>{"use strict";n.d(t,{Q4:()=>m,A_:()=>p,EX:()=>h});var i=n(37243),a=n(63867),r=n(23513);function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t>0,{parent:i,doc:a}=e,s=e.start(),o=e.after();if(i.type.spec.isolating){let e=a.resolve(n?o-1:s),t=(0,r.n)(e,n?1:-1);if(n){let e=a.resolve(t.to).node();if(e&&e.isTextblock&&0===e.content.size)return t.to+1}return n?t.to:t.from}let c=e.start(e.depth-1);return l(e.doc.resolve(c),t)}n(33201);var s=n(61385),o=n(38934),c=n(72055);let d=e=>{let t=l(e,-1);return e.pos===t?s.$x:t},u=(e,t)=>{let n=l(t,1);return t.pos===n?e.state.doc.content.size-s.$x:n},p=i.YY.create({name:"KeyMapOverride",priority:o.y.KeyMapOverride,addOptions:()=>({addSelectionKeyMaps:!1}),addKeyboardShortcuts(){let e=()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.handleCardAccentDelete(),()=>{var e;return null==(e=t.handleSmartLayoutDelete)?void 0:e.call(t,!0,!1)},()=>t.deleteSelectionAndSelectNear(-1),()=>t.deleteSelection(),e=>{let{view:t,state:n,dispatch:i}=e;return(0,c.o6)(n,i,t)},()=>t.unwrapQuoteOnDelete(),e=>{let{view:n,state:i,tr:a}=e,r=t.joinBackward();return r&&a.setMeta("annotationEvent",{type:"join-backward",joinPos:i.selection.from,atBeginning:n.endOfTextblock("backward")}),r},()=>t.selectNodeBackward(),()=>t.handleLayoutDelete(!1),()=>t.handleButtonDelete(!0),()=>t.deleteCardIfEmpty(!1)]}),t=()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.handleCardAccentDelete(),()=>{var e;return null==(e=t.handleSmartLayoutDelete)?void 0:e.call(t,!0,!0)},()=>t.deleteSelectionAndSelectNear(),()=>t.deleteSelection(),e=>{let{view:n,state:i,tr:a}=e,r=t.joinForward();return r&&a.setMeta("annotationEvent",{type:"join-forward",joinPos:i.selection.from,atEnd:n.endOfTextblock("forward")}),r},()=>t.selectNodeForward(),()=>t.handleLayoutDelete(!0),()=>t.handleButtonDelete(!0),()=>t.deleteCardIfEmpty(!0)]}),n={};return this.options.addSelectionKeyMaps&&(n={"Mod-a":e=>{let{editor:t}=e,{selection:n}=t.state;if(n instanceof a.nh&&n.node.type.spec.isolating)return t.commands.selectAll();let i=l(t.state.selection.$from,-1),r=l(t.state.selection.$to,1);return n.from===i&&n.to===r?t.commands.selectAll():(t.commands.command(e=>{let{tr:t}=e;return t.setSelection(a.U3.create(t.doc,i,r)),!0}),!0)},"Mod-ArrowUp":e=>{let{editor:t}=e,n=d(t.state.selection.$from);if(!n)return!1;let i=t.state.doc.resolve(n),a=(0,r.n)(i);return!!a&&t.chain().command(e=>{let{tr:t}=e;return t.setSelection(a),!0}).scrollIntoView().run()},"Mod-Shift-ArrowUp":e=>{let{editor:t}=e,n=d(t.state.selection.$from);return!!n&&t.chain().setTextSelection({from:n,to:t.state.selection.to}).scrollIntoView().run()},"Mod-ArrowDown":e=>{let{editor:t}=e,n=u(t,t.state.selection.$to),i=t.state.doc.resolve(n),a=(0,r.n)(i);return!!a&&t.chain().command(e=>{let{tr:t}=e;return t.setSelection(a),!0}).scrollIntoView().run()},"Mod-Shift-ArrowDown":e=>{let{editor:t}=e,n=u(t,t.state.selection.$to);return t.chain().setTextSelection({from:t.state.selection.from,to:n}).scrollIntoView().run()},"Shift-Mod-a":e=>{let{editor:t}=e;return t.commands.selectAll()}}),{...n,Enter:()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),e=>{let{view:n,state:i,tr:a}=e;return a.setMeta("annotationEvent",{type:"split-block",splitPos:i.selection.from,atBeginning:n.endOfTextblock("backward")}),t.splitBlock()}]}),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,Space:()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.handleSpaceToZoom()]})}}}),h=i.YY.create({name:"UndoInputRuleKeymap",priority:o.y.UndoInputRuleKeymap,addKeyboardShortcuts:()=>({"Shift-Mod-a":e=>{let{editor:t}=e;return t.commands.selectAll()},"Mod-z":e=>{let{editor:t}=e;return t.commands.undoInputRule()},Backspace:e=>{let{editor:t}=e;return t.commands.undoInputRule()},"Mod-Backspace":e=>{let{editor:t}=e;return t.commands.undoInputRule()}})});var g=n(3247);let m=i.YY.create({name:"KeyBoardCatchall",priority:o.y.KeyBoardCatchall,addKeyboardShortcuts:()=>({Tab:e=>{let{editor:t}=e;return t.view.hasFocus()},"Shift-Tab":e=>{let{editor:t}=e;return t.view.hasFocus()}}),addProseMirrorPlugins:()=>[new a.k_({key:new a.hs("KeyBoardCatchall"),props:{handleKeyDown:(e,t)=>g.WC.handleKeydown(t)}})]})},43090:(e,t,n)=>{"use strict";n.d(t,{j:()=>H});var i=n(6029),a=n(58959),r=n(26420),l=n(26385),s=n(40452),o=n(78140),c=n(36999),d=n(49611),u=n(41283),p=n(37930),h=n(48478),g=n(61204),m=n(16936),x=n(99492),f=n(48621),b=n(47412),y=n(19564),v=n(77650),C=n(22348),w=n.n(C),A=n(55729),j=n(33612),k=n.n(j),S=n(11403),L=n(80074),I=n(33750),E=n.n(I);let D={soft:{name:"Soft",spin:[0,-40,40],lighten:[0,0,0]},duo:{name:"Duo",spin:[0,180],lighten:[0,0]},crescent:{name:"Crescent",spin:[0,-45,45,-90,90],lighten:[0,0,0,0,0]},wisp:{name:"Wisp",spin:[0,72,216],lighten:[0,0,0]},mono:{name:"Mono",spin:[0,0,0],lighten:[0,20,40]},cosmos:{name:"Cosmos",spin:[0,72,144,216,288],lighten:[0,0,0,0,0]}},M=e=>{let t="",n=[];e.forEach((e,t)=>{let i=e.setAlpha(1),a=i.toHsl().h*t,r="radial-gradient(circle at ".concat(2*a%360/360*50,"% ").concat(3*a%360/360*50,"%, ").concat(i.setAlpha(.5).toHex8String()," 0, ").concat(i.setAlpha(0).toHex8String()," ").concat(a%360/360*50+50,"%)");n.push(r)});let i=e[0].setAlpha(.5).toHex8String();return n.push("linear-gradient(0deg, ".concat(i," 0%, ").concat(i," 100%)")),{backgroundImage:n.join(",")}},R=(e,t)=>{let n=D[e],i=[];return n.spin.forEach(e=>{let n=k()(t.toHsv()).spin(e);i.push(n)}),n.lighten.forEach((e,t)=>{i[t].lighten(e)}),i},_=(e,t)=>{let n=R(e,t),i=M(n);return{colors:n,gradient:i}},z=(e,t,n)=>{t.forEach(e=>{e&&(e.style.opacity="0")}),e.forEach((e,i)=>{let a=t[i];if(!a||!n)return;let r=function(e,t){let n=e.offsetWidth,i=k()(t),a=Math.PI/180*i.toHsl().h,r=-(i.toHsl().l*n)+n;return{x:n/2-r*Math.cos(a),y:n/2-r*Math.sin(a)}}(n,e);a.style.transform="translate(calc(".concat(r.x,"px - 50%),calc(").concat(r.y,"px - 50%))"),a.style.backgroundColor=e.toHexString(),a.style.opacity="1"})},N=(0,A.forwardRef)(function(e,t){let{isPrimary:n=!1,noTransition:a=!1}=e;return(0,i.jsx)(r.a,{ref:t,borderRadius:"full",boxSize:n?7:5,pos:"absolute",zIndex:n?2:1,shadow:"base",border:"2px solid white",pointerEvents:"none",transitionProperty:a?"none":"transform",transitionDuration:"normal"})}),T=(0,A.memo)(e=>{let{updateColor:t,colors:n}=e,a=(0,A.useRef)(null),l=(0,A.useRef)(null),o=(0,A.useRef)(null),c=(0,A.useRef)(null),d=(0,A.useRef)(null),u=(0,A.useRef)(null),p=(0,A.useMemo)(()=>[l,o,c,d,u],[]);(0,A.useEffect)(()=>{z(n,p.map(e=>e.current),a.current)},[n,p]);let h=(0,A.useCallback)(e=>{if(!a.current)return;let n=a.current.getBoundingClientRect();(e.clientX||e.clientY)&&t(function(e,t,n){let i=e.current.offsetWidth,a=e.current.offsetHeight,r=i/2,l=a/2,s=function(e,t,n,i,a){let r=n-e,l=i-t,s=Math.sqrt(l*l+r*r);return E()(s,0,a)}(t,n,r,l,i/2),o=180/Math.PI*Math.atan2(l-n,r-t),c=o+360*Math.ceil(-o/360)+1,d=Math.abs(-s/i+1);return k().fromRatio({h:c,s:1,l:d})}(a,e.clientX-n.left,e.clientY-n.top))},[t]),g=(0,A.useCallback)(()=>{document.removeEventListener("mousemove",h)},[h]),m=(0,A.useCallback)(e=>{document.addEventListener("mousemove",h),document.addEventListener("mouseup",g,{once:!0}),h(e)},[h,g]);return(0,i.jsxs)(r.a,{onMouseDown:m,p:4,m:-4,position:"relative",children:[(0,i.jsx)(N,{ref:l,noTransition:!0,isPrimary:!0}),(0,i.jsx)(N,{ref:o}),(0,i.jsx)(N,{ref:c}),(0,i.jsx)(N,{ref:d}),(0,i.jsx)(N,{ref:u}),(0,i.jsx)(L.g,{ratio:1,children:(0,i.jsxs)(s.s,{ref:a,position:"relative",borderRadius:"full",shadow:"lg",children:[(0,i.jsx)(s.s,{pos:"absolute",borderRadius:"full",bg:"radial-gradient(circle closest-side, rgb(255, 255, 255), transparent)",inset:0,zIndex:1}),(0,i.jsx)(s.s,{pos:"absolute",inset:0,bg:"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",transform:"rotateZ(270deg)",borderRadius:"full"})]})})]})}),P={vibe:"mono",primaryColor:"#75d8ff",css:{}},H=e=>{let{value:t,updateValue:n,isDark:C}=e,{vibe:j,primaryColor:L}={...P,...t},[I,E]=(0,A.useState)(k()(L)),{colors:M,gradient:R}=(0,A.useMemo)(()=>_(j,I),[j,I]),z=(0,A.useCallback)(e=>{let{gradient:t}=_(j,e);n({vibe:j,primaryColor:e.toHexString(),css:t})},[j,n]),N=(0,S.wb)(z,100),H=(0,A.useCallback)(e=>{E(e),N(e)},[N]);return(0,i.jsxs)(a.z,{spacing:4,alignItems:"stretch",wrap:"wrap",children:[(0,i.jsx)(r.a,{flex:"1",minW:"120px",children:(0,i.jsx)(T,{vibe:D[j],color:I,updateColor:H,colors:M})}),(0,i.jsxs)(l.B,{flex:"2",spacing:4,minW:"180px",children:[(0,i.jsx)(s.s,{backgroundColor:C?"black":"white",...R,opacity:1,flex:"1",borderRadius:"md",shadow:"md",minH:"80px",mt:2}),(0,i.jsxs)(a.z,{children:[(0,i.jsxs)(o.W,{children:[(0,i.jsx)(c.I,{w:"100%",as:d.$,size:"sm",variant:"plain",textAlign:"start",rightIcon:(0,i.jsx)(f.g,{icon:x.Jt$}),children:D[j].name}),(0,i.jsx)(u.c,{minWidth:"240px",zIndex:"dropdown",children:(0,i.jsx)(p.i,{onChange:e=>{let{gradient:t}=_(e,I);n({vibe:e,primaryColor:I.toHexString(),css:t})},value:j,title:v.Ru._({id:"4lXZ8R"}),type:"radio",children:Object.entries(D).map(e=>{let[t,{name:n}]=e;return(0,i.jsx)(h.k,{value:t,children:n},t)})})})]}),(0,i.jsx)(g.e,{size:"sm",variant:"plain",children:(0,i.jsx)(b.Tz,{placement:"top",label:(0,i.jsx)(y.x6,{id:"OVjfHO"}),children:(0,i.jsx)(m.K,{icon:(0,i.jsx)(f.g,{icon:x.xNJ}),"aria-label":v.Ru._({id:"OVjfHO"}),onClick:()=>{H(k().fromRatio({h:w()(0,360),s:1,l:w()(.5,.8)}))}})})})]})]})]})}},43182:(e,t,n)=>{"use strict";n.d(t,{$b:()=>h,Yv:()=>d,iM:()=>p});var i=n(58495),a=n(94289),r=n(63867),l=n(68301),s=n(67200),o=n(77467),c=n(61385);let d={generate:(0,i.d_)("0123456789abcdefghijklmnopqrstuvwxyz",15)},u=new r.hs("UniqueCardId"),p=e=>{let t=e=>{var n;return null==(n=e.content)?void 0:n.map(e=>{if(!e.content||e.type!==c.Qs)return e;let n={...e,attrs:{...e.attrs,id:d.generate()}};return n.content=t(n),n})};return Object.assign({},e,{content:t(e)})},h=o.S.extend({name:"UniqueCardId"}).configure({attributeName:"id",initialValue:()=>d.generate(),syncWithFilmstrip:()=>l.of.get("transactionalFilmstrip"),filterTransaction:s.kz,pluginKey:u,transformPasted:(e,t,n)=>{let{types:i,initialValue:r,attributeName:l}=t,s={},o=e=>{let t=[];return e.forEach(e=>{if(e.isText)return void t.push(e);if(!i.includes(e.type.name))return void t.push(e.copy(o(e.content)));let n=r(),a=e.type.create({...e.attrs,[l]:n},o(e.content),e.marks);e.type.name===c.Qs&&(s={...s,[e.attrs.id]:n}),t.push(a)}),a.FK.from(t)},d=e=>{let t=[];return e.forEach(e=>{if(e.isText)return void t.push(e);if("cardMention"===e.type.name){let i=s[e.attrs.id];if(i){let a=e.type.create({...e.attrs,...i?{id:i}:{},docId:n});t.push(a)}else t.push(e);return}t.push(e.copy(d(e.content)))}),a.FK.from(t)},u=d(o(e.content));return new a.Ji(u,e.openStart,e.openEnd)}})},43183:(e,t,n)=>{"use strict";n.d(t,{w:()=>f});var i=n(6029),a=n(24302),r=n(40452),l=n(96500),s=n(58959),o=n(48810),c=n(29810),d=n(99430),u=n(19564),p=n(99038),h=n(39892),g=n(89528),m=n(74003),x=n(42721);let f=e=>{let{onClose:t,onOpen:n,segmentEvent:f,targetWorkspace:b,label:y}=e,v=(0,h.nk)(b),{openUpsellModal:C}=(0,m.I)(),w=(0,a.dU)("gray.200","gray.600"),{currentWorkspace:A}=(0,x.ur)();return!1!==v||(null==b?void 0:b.id)!==(null==A?void 0:A.id)?null:(0,i.jsxs)(r.s,{direction:"column",w:"100%",children:[(0,i.jsx)(l.c,{borderColor:w}),(0,i.jsxs)(s.z,{mt:4,mb:2,children:[(0,i.jsxs)(s.z,{children:[(0,i.jsx)(o.E,{children:y||(0,i.jsx)(u.x6,{id:"nkzjqi",values:{GAMMA_PROPER_NOUN:p.On}})}),(0,i.jsx)(g.zL,{product:"plus"})]}),(0,i.jsx)(c.h,{}),(0,i.jsx)(d.d,{onClickCapture:e=>{e.preventDefault(),C({onOpenCallback:t,onCloseCallback:n,segmentEvent:f})},isChecked:!1})]})]})}},43216:(e,t,n)=>{"use strict";n.d(t,{A:()=>m,T:()=>g});var i=n(6029),a=n(26420),r=n(55729),l=n(5061),s=n(15342),o=n(43634),c=n(70703),d=n(50764),u=n(25600),p=n(21699),h=n(216);let g=e=>({top:{top:"0",insetInlineStart:"50%",height:"16px",width:"26px",pt:"1px",icon:"⋯",zIndex:"3",transform:"translateY(-50%) translateX(".concat(e?"50%":"-50%",")"),fontSize:"15px"},left:{top:"50%",insetInlineStart:"0",height:"26px",width:"16px",zIndex:"3",transform:"translateY(-50%) translateX(".concat(e?"50%":"-50%",")"),fontSize:"15px"},outside:{top:0,insetInlineStart:-6},inside:{top:2,insetInlineStart:3},custom:{}}),m=e=>{let{handlePlacement:t,editor:n,getPos:m,decorations:x,isVisible:f,onClick:b,node:y,selected:v,extension:C,updateAttributes:w,deleteNode:A,...j}=e,k=(0,s.GV)(o.nD),S=(0,l.fW)(),L=(0,r.useCallback)(e=>{n.commands.selectNodeAtPos(m()),e.stopPropagation()},[n,m]),I=(0,r.useCallback)(e=>{var t;let i=(null==(t=e.target.closest("[data-node-view-wrapper]"))?void 0:t.querySelector("[data-selection-ring]"))||void 0;(0,c.b)(n,e.nativeEvent,m(),i),e.stopPropagation()},[n,m]);if(!k)return null;let E=(0,d.JL)(x),D=(0,p.Ms)(x),M=(0,u.b0)(x);return(null!=f||(f=E||D),"outside"===t)?(0,i.jsx)(a.a,{position:"absolute",...g(S).outside,bottom:0,width:6,children:(0,i.jsx)(h.u,{isSelected:M,isVisible:f,onClick:b||L,onDragStart:I,top:0,insetInlineStart:0,...j})}):(0,i.jsx)(h.u,{isSelected:M,isVisible:f,onClick:b||L,onDragStart:I,...g(S)[t],...j})}},43787:(e,t,n)=>{"use strict";n.d(t,{e7:()=>i,gj:()=>a}),n(831),n(55729);let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return e.length?1===e.length?e[0]:2===e.length?e.join(" and "):e.length<=t?"".concat([e.slice(0,e.length-1).join(", "),e[e.length-1]].join(", and ")):"".concat([e.slice(0,t).join(", "),"".concat(e.length-t," ").concat(e.length-t>1?"others":"other")].join(", and ")):null},a=e=>{let{users:t,selfUserId:n}=e;return i(t?[...t].sort(e=>(null==e?void 0:e.id)===n?-1:1).map(e=>(null==e?void 0:e.id)===n?"You":(null==e?void 0:e.displayName)||""):[])}},43828:(e,t,n)=>{"use strict";n.d(t,{k:()=>g});var i=n(6029),a=n(40452),r=n(16936),l=n(99492),s=n(48621),o=n(47412),c=n(19564),d=n(77650),u=n(55729),p=n(15342),h=n(43634);let g=e=>{let{editor:t,getPos:n,node:g,direction:m,maxButtons:x,tooltip:f}=e,b=(0,p.GV)(h.Cl),y=!x||g.childCount<x,v=(0,u.useCallback)(()=>{t.commands.addButtonToGroup(n())},[t,n]);return y&&b?(0,i.jsx)(a.s,{position:"relative",align:"center",children:(0,i.jsx)(o.Tz,{label:f||(0,i.jsx)(c.x6,{id:"xe7fzh"}),placement:"top",children:(0,i.jsx)(r.K,{icon:(0,i.jsx)(s.g,{icon:l.QLR}),"aria-label":d.Ru._({id:"6oU9VZ"}),size:"xs",variant:"plain",isRound:!0,onClick:v,opacity:0,className:"add-button",transitionProperty:"opacity",transitionDuration:"normal",position:"absolute",left:"column"===m?"50%":0,top:"50%",transform:"column"===m?"translateX(-50%)":"translateY(-50%)",zIndex:"sticky"})})}):null}},43944:(e,t,n)=>{"use strict";n.d(t,{B8:()=>b,uw:()=>f,Lf:()=>y,aW:()=>v});var i=n(37243),a=n(36811),r=n(47665),l=n(38934),s=n(29452),o=n.n(s),c=n(63867),d=n(97255),u=n(91656);let p=o()(10),h=["blockquote","card","sectionBreak","calloutBox"],g=(e,t)=>"numbered"===e.type.name||(0,u.x)(e)&&e.attrs.indent>t||e.isAtom||h.includes(e.type.name),m=e=>new c.k_({key:new c.hs("ListPlugin"),props:{decorations:e=>{let{doc:t}=e,n=[],i=new Map,a=(e,t)=>{var n;return(null==(n=i.get(e))?void 0:n[t])||1},r=(e,t,n)=>{let a=i.get(e);try{a[t]=n}catch(e){console.error("(caught) [ListPlugin] setCounter error",e)}},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=i.get(e)||{};p.filter(e=>e>=t).forEach(e=>{n[e]=1}),i.set(e,n)},s=0;return t.descendants((e,t,o)=>{if((0,u.x)(e)&&e.firstChild){let i=e.firstChild.marks.find(e=>"textColor"===e.type.name);(null==i?void 0:i.attrs.variant)&&n.push(d.NZ.node(t,t+e.nodeSize,{"data-text-color":i.attrs.variant})),(null==i?void 0:i.attrs.hex)&&n.push(d.NZ.node(t,t+e.nodeSize,{style:"--list-marker-text-color: ".concat(i.attrs.hex)}))}if(!o||(g(e,s)||l(o),"numbered"!==e.type.name))return;i.get(o)||l(o);let c=e.attrs.indent;s=c;let p=a(o,c);r(o,c,p+1),l(o,c+1),n.push(d.NZ.node(t,t+e.nodeSize,{},{listNumber:p}))}),0==n.length?d.zF.empty:d.zF.create(t,n)}}});var x=n(82172);let f=8,b=i.YY.create({name:"list",priority:l.y.List,addProseMirrorPlugins(){return[m(this.editor)]},addCommands:()=>({listToCards:()=>e=>{let{chain:t,state:n}=e,{selection:a,doc:l}=n,{from:s,to:o}=a,c=(0,i.Nx)(l,{from:s,to:o},u.x),d=(0,i.KP)(r.jg)(a);if(!c.length||!d)return!1;let p=d.pos+d.node.nodeSize,h=(0,x.SQ)(c),g=(0,x.pT)(h);return t().insertContentAt(p,g).scrollIntoView().run(),!0},listToSmartLayout:e=>t=>{let{chain:n,state:a}=t,{selection:r,doc:l}=a,{from:s,to:o,$from:c,$to:d}=r,p=c.blockRange(d),h=(0,i.Nx)(l,{from:s,to:o},u.x);if(!h.length||!p)return!1;let g=(0,x.SQ)(h),m=(0,x.tb)(g,e);return n().insertContentAt({from:p.start,to:p.end},m).selectInsertedNode().scrollIntoView().run(),!0},indent:e=>t=>{let{tr:n,dispatch:i,state:a}=t;if(!i)return!0;let r=!1;return n.selection.ranges.forEach(t=>{let i=t.$from.pos,l=t.$to.pos;a.doc.nodesBetween(i,l,(t,i)=>{let{indent:a}=t.attrs;Object.values(u.e).includes(t.type.name)&&a+e>=0&&a+e<=f&&(n.setNodeMarkup(i,void 0,{...t.attrs,indent:a+e}),r=!0)})}),r},setListItems:e=>{let{variant:t}=e;return e=>{let{tr:n,dispatch:i,state:a}=e;return!i||(n.selection.ranges.forEach(e=>{let i=e.$from.pos,r=e.$to.pos;a.doc.nodesBetween(i,r,(e,i)=>{Object.values(u.e).includes(e.type.name)?n.setNodeMarkup(i,a.schema.nodes[t],e.attrs):e.isTextblock&&n.setNodeMarkup(i,a.schema.nodes[t],{...e.attrs,indent:0})})}),!0)}},toggleListItems:e=>{let{variant:t}=e;return e=>{let{commands:n,editor:i}=e;return y(i,t)?n.setNode("paragraph"):n.setListItems({variant:t})}}}),addKeyboardShortcuts:()=>({Enter:e=>{let t,n,{editor:i}=e;for(let e of Object.values(u.e))if(i.isActive(e)){n=i.getAttributes(e),t=e;break}if(void 0===t)return!1;let{from:a,$from:r,empty:l}=i.state.selection;if(!l)return!1;if(0==r.parent.content.size)if(n.indent>0)return i.commands.indent(-1);else return i.commands.setNode("paragraph",n);return 0===r.parentOffset?(n.checked&&(n.checked=!1),i.chain().insertContentAt(a-1,{type:t,attrs:n}).selectInsertedNode().run()):r.parentOffset===r.parent.content.size&&(n.checked&&(n.checked=!1),i.chain().insertContentAt(a+1,{type:t,attrs:n}).selectInsertedNode().run())},Backspace:e=>{let t,n,{editor:i}=e;for(let e of Object.values(u.e))if(i.isActive(e)){n=i.getAttributes(e),t=e;break}if(void 0===t)return!1;let{$from:a,empty:r}=i.state.selection;return!!r&&0==a.parentOffset&&i.commands.setNode("paragraph",n)},Tab:e=>{let{editor:t}=e;return t.commands.indent(1)},"Shift-Tab":e=>{let{editor:t}=e;return t.commands.indent(-1)},"Mod-]":e=>{let{editor:t}=e;return t.commands.indent(1)},"Mod-[":e=>{let{editor:t}=e;return t.commands.indent(-1)}})}),y=(e,t)=>{let n=Object.values(u.e).filter(e=>e!==t);return e.isActive(t)&&!n.some(t=>e.isActive(t))},v=(e,t)=>(0,a.tC)(e,[t.nodes.heading,t.nodes.title])},44637:(e,t,n)=>{"use strict";n.d(t,{Us:()=>c,h6:()=>u,mz:()=>d});var i=n(55729),a=n(91938),r=n(88586),l=n(69768),s=n(82927),o=n(11403);let c=()=>{if(""===a.$.SHARE_TOKEN)return;let{searchParams:e}=new URL(window.location.href);e.delete("token");let t=Object.fromEntries(e.entries());(0,l.g5)({query:t})},d=e=>{let{user:t,isGammaAdminUser:n}=(0,s.ur)(),[l,{error:d}]=(0,r.TW5)();(0,o.KW)("[useAccessLinkCollaborator]: Error updating collaborator.",d),(0,i.useEffect)(()=>{var i;if(!t||!e)return;let o=null==(i=e.accessLinks)?void 0:i.find(e=>e.token===a.$.SHARE_TOKEN);if(!o)return;let d=s.lO.createForUser({...t,__typename:"User"});o.permission&&o.permission!==r.aXG.View&&d.cannot(o.permission,e)&&!n?l({variables:{docId:e.id}}).then(()=>{c(),(0,a.y)("SHARE_TOKEN","")}).catch(e=>console.error("[useAccessLinkCollaborator]: Error adding collaborator.",e)):c()},[l,e,t,n])},u=(e,t)=>{var n;if(!e||t)return null;let i=null==e||null==(n=e.accessLinks)?void 0:n.find(e=>e.token===a.$.SHARE_TOKEN);return i&&i.permission?i:null}},44798:(e,t,n)=>{"use strict";n.d(t,{B7:()=>S,RM:()=>k,Sx:()=>y,U9:()=>L,Z8:()=>v,ab:()=>j,hB:()=>E,ms:()=>D});var i=n(63867),a=n(55729),r=n(80116),l=n(34832),s=n(58809),o=n(28630),c=n(89942),d=n(15342),u=n(92397),p=n(43634),h=n(15607),g=n(33201),m=n(82927),x=n(6807),f=n(53756);let b=e=>{var t,n;if(!(e instanceof i.nh))return null;if("smartLayoutCell"===e.node.type.name&&(null==(t=e.node.textContent)?void 0:t.length)>=5)return e.node.content;let a=e.$from;for(;a.depth>0;){let e=a.node(a.depth);if("smartLayoutCell"===e.type.name&&(null==(n=e.textContent)?void 0:n.length)>=5)return e.content;a=a.doc.resolve(a.before(a.depth))}return null},y=e=>(0,a.useCallback)(()=>{if(!e)return null;let{selection:t}=e.state,n=(0,h.IV)(t.$from,g.jg)[0],i=n&&(0,u.Ub)(n.node,n.pos),{content:a}=e.state.doc.slice(i.pos+1,i.pos+i.node.nodeSize-1),l=b(t);return l?(0,r.KC)(e,l):(0,r.KC)(e,a)},[e]),v=e=>{let{editor:t,prompt:n,stylePrompt:i,addPrompt:r}=e,s=(0,d.GV)(p.sK),[o,c]=(0,a.useState)(!1),u=y(t),h=(0,a.useCallback)(()=>{c(!0),r("","push")},[r]),g=(0,a.useCallback)(e=>{r(e,"update")},[r]),x=(0,a.useCallback)(()=>{c(!1)},[]),f=(0,a.useCallback)(e=>{console.error("Error enhancing image",e),c(!1)},[]),{generate:b}=(0,l.pt)("EnhanceAIImage",{onStart:h,onContent:g,onComplete:x,onError:f,timeout:3e4}),v=(0,a.useCallback)(()=>{var e,a;if(o||!(null==s?void 0:s.id))return;let r=null==(e=(0,m.P9)(null==s?void 0:s.id))?void 0:e.id;return b({variables:{currentPrompt:n,stylePrompt:i,cardHtml:(null==t?void 0:t.isSiteNavbarEditor)?void 0:null!=(a=u())?a:void 0},workspaceId:r}).promise},[o,null==s?void 0:s.id,b,n,i,null==t?void 0:t.isSiteNavbarEditor,u]);return{isEnhancing:o,setIsEnhancing:c,runEnhanceImagePrompt:v}},C=e=>e.ind===e.history.length-1,w=e=>e.history[e.history.length-1],A={load:(e,t)=>({history:[t],ind:0}),push(e,t){return""===w(e).trim()?this.replace(e,t):{history:[...e.history,t],ind:e.history.length}},replace(e,t){let n=e.history.slice(0,-1);return{history:[...n,t],ind:n.length}},select(e,t){return C(e)&&w(e)===t?e:this.push(e,t)}},j=()=>{let e=(0,a.useRef)(!1),[t,n]=(0,a.useState)({history:[""],ind:0}),i=(0,a.useCallback)((t,i)=>{"load"===i&&n(e=>A.load(e,t)),"push"===i&&n(e=>A.push(e,t)),"update"===i&&(e.current?n(e=>A.push(e,t)):n(e=>A.replace(e,t))),"select"===i&&n(e=>A.select(e,t)),e.current="update"!==i},[]),r=(0,a.useCallback)(()=>{let{ind:e}=t;e<=0||n(e=>({...e,ind:e.ind-1}))},[t]),l=(0,a.useCallback)(()=>{let{history:e,ind:i}=t;i>=e.length-1||n(e=>({...e,ind:e.ind+1}))},[t]),{ind:s,history:o}=t;return{prompt:o[s]||"",addPrompt:i,promptPageInfo:{curr:s+1,total:o.length,canGoNext:s<o.length-1,canGoPrev:s>0},nextPrompt:l,prevPrompt:r}},k=()=>{let[e,t]=(0,x.M)("aiImageRatings",{});return{saveImageRating:(0,a.useCallback)((n,i)=>{n.savedMediaId&&(e[n.savedMediaId]=i,t(e))},[]),hasRatedImage:(0,a.useCallback)(t=>!t.savedMediaId||!!e[t.savedMediaId],[])}},S=(e,t)=>{let n=(0,d.GV)(p.sX),i=n&&!e?"doc":"user",r="doc"===i?"workspaceSavedMedia":"userSavedMedia",{data:l,loading:s}=(0,f.L)({docId:n,interactionId:e,scope:i,count:3});return{savedMedia:(0,a.useMemo)(()=>{var e;return((null==l||null==(e=l[r])?void 0:e.edges)||[]).map(e=>e.node).filter(e=>{if(t){var n;return(null==e||null==(n=e.attrs)?void 0:n.query)===t}return!0})},[l,r,t]),isLoading:s}},L=()=>{let e=(0,d.GV)(s.Jo),t=(0,c.ez)("ai_models_plus",null==e?void 0:e.organization),n=(0,c.ez)("ai_premium_models",null==e?void 0:e.organization),i=t&&n?"pro":t?"plus":"free";return e=>I(e,i)},I=(e,t)=>{let n=(0,o.kO)(e);if(!(0,o.CX)(e))return!1;let i=["free","plus","pro"];return i.indexOf(t)>=i.indexOf(n)},E=(e,t)=>{let n=(0,c.vT)("ai_models_plus",t),i=(0,c.vT)("ai_premium_models",t);return I(e,n&&i?"pro":n?"plus":"free")},D=(e,t)=>{let n=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(!t)return;let i=n.current;if(!i)return;let a=i.querySelector('[data-popover-scroll-id="'.concat(e,'"]'));if(!(a instanceof HTMLElement))return;let r=a.offsetHeight/2,l=i.offsetHeight/2,s=a.offsetTop-l+r;i.scrollTo({top:s,behavior:"instant"})},[t,e]),{scrollContainerRef:n}}},44911:(e,t,n)=>{"use strict";n.d(t,{$:()=>L});var i=n(37243),a=n(23513),r=n(52055),l=n(41896),s=n(15607),o=n(46957),c=n(6029),d=n(49611),u=n(26420),p=n(80314),h=n(48810),g=n(21938),m=n(55729),x=n(92739),f=n(15342),b=n(48932),y=n(40077),v=n(96177),C=n(43634),w=n(15587),A=n(21699),j=n(31394);let k=e=>{let{editor:t,node:n,decorations:i}=e,{href:a,variant:r,color:s}=n.attrs,o=(0,f.GV)(C.Cl),k=(0,A.Ms)(i),S=o&&k,L=(0,w.v)(i),{linkUrl:I,handleClick:E,isCurrentPage:D}=(0,b.c)({url:a}),{interceptLinkClick:M,linkUrlSafe:R,isUntrusted:_,linkInterceptEnabled:z}=(0,x.i)(I),N=z&&!0!==t.isSiteNavbarEditor,{textColor:T}=(0,v.S0)(s),P="solid"===r?{backgroundColor:s||"var(--button-color)",backgroundImage:s?void 0:"var(--button-gradient)",borderRadius:"var(--button-border-radius, var(--box-border-radius))",fontFamily:"var(--body-font)"}:"outline"===r?{border:"0px",boxShadow:"inset 0 0 0 max(1px, var(--shape-border-width)) ".concat(s||"var(--button-color)"),backgroundColor:"var(--shape-bg-color-override, var(--card-color))",borderRadius:"var(--button-border-radius, var(--box-border-radius))",fontFamily:"var(--body-font)"}:{borderRadius:"var(--button-border-radius, var(--box-border-radius))",fontFamily:"var(--body-font)"},H=(0,m.useMemo)(()=>({...(0,j.s)({variant:r})}),[r]);return(0,c.jsx)(l.VR,{children:(0,c.jsx)(d.$,{as:S?u.a:p.N,isDisabled:!!N&&_,cursor:o?"text":"pointer",userSelect:o?"auto":"none",href:N?R||void 0:I,onClick:N?M:E,...H,style:P,className:(0,g.cx)("button","solid"===r&&y.Dv),"data-export-as-image":!0,"data-export-link":a,sx:{"@media print":{width:"auto"},outline:k?"2px solid var(--chakra-ring-color) !important":void 0,lineHeight:"var(--line-height-body)"},"data-is-current-page":D,children:(0,c.jsxs)(h.E,{as:"div",noOfLines:S||L?void 0:1,wordBreak:"break-all",style:{color:"solid"===r?T||"var(--button-color-inverted)":"outline"===r?s||"var(--button-color)":void 0},textAlign:"center",children:[L&&(0,c.jsx)(h.E,{opacity:"0.3",pointerEvents:"none",contentEditable:!1,pos:"absolute",w:"100%",left:"0",textAlign:"center",children:"…"}),(0,c.jsx)(l.$p,{})]})})})};var S=n(9100);let L=i.bP.create({name:"button",content:"(text | emoji)*",marks:"",defining:!0,isolating:!0,selectable:!1,addNodeView:()=>(0,l.gu)(k,{update:o.z0}),addAttributes:()=>({href:{default:""},variant:{default:"solid"},color:{default:null}}),addCommands:()=>({addButtonToGroup:e=>t=>{let{state:n,chain:i}=t,a=n.doc.nodeAt(e);if(!a)return!1;let l=e+a.nodeSize-1;return i().insertContentAt(l,{...(0,r.G)().button,attrs:{variant:S.Dn[a.type.name].defaultVariant,href:""}}).selectInsertedNode().run(),!0},handleButtonDelete:e=>t=>{let{dispatch:n,state:r,chain:l}=t;if(!n)return!0;let o=(0,i.KP)(e=>"button"===e.type.name)(r.selection);if(!o||e&&!(0,s.Op)(o.node))return!1;let c=(0,i.KP)(e=>"buttonGroup"===e.type.name)(r.selection),d=(0,i.KP)(e=>"navbarButtons"===e.type.name)(r.selection),u=(0,i.KP)(e=>"navbarLinks"===e.type.name)(r.selection);return d||u||!c||1!==c.node.childCount?d&&1===d.node.childCount||u&&1===u.node.childCount?l().deleteNode("button").blur().run():l().deleteNode("button").command(e=>{let{tr:t}=e,n=(0,a.n)(t.doc.resolve(o.pos-1),-1);return n&&t.setSelection(n),!0}).focus().run():l().deleteNode("buttonGroup").command(e=>{let{tr:t}=e,n=(0,a.n)(t.doc.resolve(c.pos));return n&&t.setSelection(n),!0}).focus().run(),!0}}),parseHTML:()=>[{tag:"button"}],renderHTML(e){let{HTMLAttributes:t}=e;return["button",(0,i.KV)(t),0]}})},45002:(e,t,n)=>{"use strict";n.d(t,{X0:()=>f,Y3:()=>x,u4:()=>b});var i=n(6029),a=n(88507),r=n(47687),l=n.n(r),s=n(55729),o=n(9014),c=n(84431),d=n(14389),u=n(11403),p=n(38537);let h="resizeable-control-wrapper",g=(0,o.yX)([o.cM]),m=(e,t)=>Math.max(e,d.MK*Math.max(t.clientWidth/t.clientHeight,1));function x(e){let[t,n]=(0,s.useState)(!1),i=(0,u.jm)(),r=(0,s.useRef)(null),l=(0,p.KS)(r),[o,c]=(0,s.useState)(!1),d=(0,s.useCallback)(()=>{var t,i;null==(t=(i=e.commands).forceHideBubbleMenu)||t.call(i,!0),n(!0)},[e]),h=(0,s.useCallback)(()=>{var t,i;null==(t=(i=e.commands).forceHideBubbleMenu)||t.call(i,!1),n(!1)},[e]);return(0,a.w)(()=>{var t,n;null==(t=(n=e.commands).forceHideBubbleMenu)||t.call(n,o||l)},[e,o,l]),{ref:r,isResizing:o,setIsResizing:c,isAnimating:t,resizeableSx:{".moveable-control":{display:i||l||t?"none":""}},onLayoutAnimationStart:d,onLayoutAnimationComplete:h}}let f={[".".concat(h)]:{zIndex:"".concat(c.$.resizeableWrapper),".moveable-control":{bg:"white",border:"2px solid var(--chakra-colors-trueblue-300)",w:"".concat(8,"px"),h:"".concat(8,"px"),opacity:1,zIndex:10,borderRadius:0,_hover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal","&.moveable-ne, &.moveable-sw":{cursor:"nesw-resize"},"&.moveable-nw, &.moveable-se":{cursor:"nwse-resize"},"&.moveable-se, &.moveable-ne, &.moveable-e":{marginLeft:"-".concat(5,"px")},"&.moveable-sw, &.moveable-nw, &.moveable-w":{marginLeft:"-".concat(3,"px")},"&.moveable-ne, &.moveable-nw, &.moveable-n":{marginTop:"-".concat(3,"px")},"&.moveable-se, &.moveable-sw, &.moveable-s":{marginTop:"-".concat(5,"px")},"&.moveable-e, &.moveable-w":{cursor:"ew-resize",marginTop:"-".concat(4,"px")},"&.moveable-n, &.moveable-s":{cursor:"ns-resize",marginLeft:"-".concat(4,"px")}},".moveable-line":{display:"none"}}},b=e=>{let{imageWrapperRef:t,setIsResizing:n,updateResizeAttrs:a,refreshDeps:r,keepRatio:o=!0,onResizing:c}=e,u=(0,s.useRef)(null);return(0,s.useEffect)(()=>{setTimeout(()=>{requestAnimationFrame(()=>{var e,t;null==(e=u.current)||e.updateRect(),null==(t=u.current)||t.updateTarget()})},300)},[r]),(0,s.useEffect)(()=>{let e=()=>{var e;null==(e=u.current)||e.updateTarget()},t=l()(e,250);return document.addEventListener("drop",e),window.addEventListener("resize",t),()=>{document.removeEventListener("drop",e),window.removeEventListener("resize",t)}},[]),(0,i.jsx)(g,{ref:e=>{u.current=e},className:h,target:t.current,renderDirections:["se","nw","sw","ne","n","s","e","w"],keepRatio:o,draggable:!1,resizable:!0,origin:!1,onResizeStart:()=>{n(!0)},onResize:e=>{let{target:t,width:n,height:i}=e,a=m(n,t),r=o?i:m(i,t);t.style.width="".concat(a,"px"),o||(t.style.height="".concat(r,"px")),null==c||c({width:a,height:r})},onResizeEnd:e=>{let{target:t}=e,i=t.clientWidth,r=t.clientHeight,l=parseFloat(getComputedStyle(t).fontSize)/d.Ef;a({width:i/l,height:o?null:r/l,isAuto:!1}),n(!1),t.style.width="",t.style.height=""}})}},45176:(e,t,n)=>{"use strict";n.d(t,{Aj:()=>a,BA:()=>d,I0:()=>i,Vj:()=>l,XJ:()=>r,ZX:()=>c,mj:()=>o,pg:()=>s});let i=.8,a=12,r=8,l=15,s=5,o=1,c=2,d=.1},45318:(e,t,n)=>{"use strict";n.d(t,{V:()=>p});var i=n(6029),a=n(49611),r=n(55597),l=n(48621),s=n(19564),o=n(15342),c=n(35292),d=n(92137),u=n(55084);let p=e=>{let{onClick:t,image:n,backFrom:p}=e,{toggleBuddyChatPanel:h,isBuddyChatPanelOpen:g}=(0,d.n)(),m=(0,o.jL)();return(0,c.l)(n)?(0,i.jsx)(a.$,{size:"sm",variant:"solid",leftIcon:(0,i.jsx)(l.g,{icon:r.p7g}),onClick:()=>{!g&&(h(),p&&m((0,u.Po)(p))),t()},children:(0,i.jsx)(s.x6,{id:"xWEvuo"})}):null}},45373:(e,t,n)=>{"use strict";n.d(t,{Ht:()=>i8});var i=n(6029),a=n(26420),r=n(58959),l=n(47412),s=n(37243),o=n(63867),c=n(55729),d=n(22249),u=n(15342),p=n(94922),h=n(19297),g=n(98968),m=n(73813),x=n(55424),f=n(61964),b=n(43634),y=n(33201),v=n(54929),C=n(2426);let w=e=>{let t=(0,c.useRef)(null),n=(0,v.cq)(),{editor:a,tippyOptions:r,onHide:l,targetElement:s}=e;return(0,c.useEffect)(()=>{a&&a.commands.command(e=>{let{tr:i}=e;return i.setMeta(C.dX,{element:t.current,tippyOptions:r,panelLifecycle:n,onHide:l,targetElement:s}),!0})},[a,r,n,l,s]),(0,i.jsx)("div",{ref:t,className:e.className,style:{visibility:"hidden"},id:"gamma-formatting-bubble-menu",children:e.children})};var A=n(50861),j=n(43607),k=n(61204),S=n(78140),L=n(36999),I=n(49611),E=n(41283),D=n(99492),M=n(48621),R=n(19564),_=n(77650),z=n(7957),N=n(80180),T=n(92685),P=n(24813),H=n(74471);let F=e=>{let{editor:t,attrs:n,selection:a}=e,r=(0,z._w)(),s=r[n.variant],o=s?s.icon:D.jyJ;return(0,i.jsxs)(S.W,{isLazy:!0,onClose:()=>(0,P.q)(t),children:[(0,i.jsx)(l.Tz,{placement:"top",label:(0,i.jsx)(R.x6,{id:"H8b4pf"}),"aria-label":_.Ru._({id:"H8b4pf"}),children:(0,i.jsx)(L.I,{as:I.$,variant:"toolbar",rightIcon:(0,i.jsx)(M.g,{icon:D.Jt$,transform:"shrink-6"}),size:"sm",onMouseDown:N.Fw,children:(0,i.jsx)(M.g,{icon:o})})}),(0,i.jsx)(E.c,{maxW:"auto",children:(0,i.jsxs)(k.e,{flex:"row",alignItems:"center",children:[Object.entries(r).map(e=>{let[r,{name:l,icon:s}]=e;return(0,i.jsx)(H.I,{label:l,icon:s,isActive:n.icon&&n.variant===r,onClick:()=>{t.chain().focus().updateAttributes("calloutBox",{variant:r,icon:!0}).selectNodeAtPos(a.from).run()}},l)}),(0,i.jsx)(T.q,{}),(0,i.jsx)(H.I,{label:n.icon?(0,i.jsx)(R.x6,{id:"Cs6LHm"}):(0,i.jsx)(R.x6,{id:"pjF2Hd"}),icon:D.Dfk,isActive:!n.icon,onClick:()=>{t.chain().focus().updateAttributes("calloutBox",{icon:!n.icon}).selectNodeAtPos(a.from).run()}},"icon")]})})]})};var B=n(35883),O=n(70615),V=n(46898),W=n(48810),U=n(80314),G=n(32380),Z=n(87386),K=n(8255),Q=n(63821),q=n(82328),J=n(65280),$=n(68301),Y=n(22445),X=n(11235),ee=n(67909),et=n(36071),en=n(54731),ei=n(17920),ea=n(3674),er=n(96500),el=n(40691),es=n(57405),eo=n(26385),ec=n(74676),ed=n(16426),eu=n(16491),ep=n(91938),eh=n(58809),eg=n(46091),em=n(37605),ex=n(97315),ef=n(76373),eb=n(85455),ey=n(43183),ev=n(11916),eC=n(17928);let ew=e=>{let{cardId:t,format:n,doc:a,editor:r,icon:l,badge:s,accentColor:o,label:c}=e,{handleExport:d,exportInProgress:u}=(0,ev.Up)({doc:a,source:"card_export_menu",editor:r,format:n,formatLabel:c,cardIds:[t],interceptFileExport:void 0});return(0,i.jsx)(ex.N,{onClick:d,icon:l,formatLabel:c,accentColor:o,badge:s,exportInProgress:u,exportInProgressNote:(0,i.jsx)(R.x6,{id:"SJjTti"})})},eA=e=>{let{cardId:t,doc:n,editor:a,icon:r,badge:l,accentColor:s,label:o}=e,{interceptFileExport:c}=(0,ef.w)({doc:n,source:"card_export_menu",editor:a,fileName:n.title,cardIds:[t]}),{handleExport:d,exportInProgress:u}=(0,ev.Up)({doc:n,source:"card_export_menu",editor:a,format:"google_slides",formatLabel:o,cardIds:[t],interceptFileExport:c});return(0,i.jsx)(ex.N,{onClick:d,icon:r,formatLabel:o,accentColor:s,badge:l,exportInProgress:u,exportInProgressNote:(0,i.jsx)(R.x6,{id:"SJjTti"})})},ej=e=>"google_slides"===e.format?(0,i.jsx)(eu.G_,{clientId:ep.$.GOOGLE_DRIVE_IMPORT_CLIENT_ID,children:(0,i.jsx)(eA,{...e})}):(0,i.jsx)(ew,{...e}),ek=(0,eg.A)(e=>{let{isOpen:t,onClose:n,onOpen:a,cardId:r,editor:l}=e,s=(0,u.GV)(eh.Jo),o=(0,$.u)("googleSlidesExport");return(0,i.jsxs)(ee.aF,{isOpen:t,onClose:n,size:"lg",children:[(0,i.jsx)(et.m,{}),(0,i.jsxs)(en.$,{children:[(0,i.jsx)(ei.r,{children:(0,i.jsx)(R.x6,{id:"xRJ+bN"})}),(0,i.jsx)(ea.s,{}),(0,i.jsx)(er.c,{}),(0,i.jsx)(el.c,{pt:"6",children:(0,i.jsxs)(es.T,{spacing:4,align:"start",children:[(0,i.jsxs)(eo.B,{spacing:2,w:"100%",children:[(0,i.jsx)(ej,{cardId:r,format:"image",label:"PNG",icon:eb.q.png.icon,accentColor:eb.q.png.accentColor,doc:s,editor:l}),(0,i.jsx)(ej,{cardId:r,format:"pdf",label:"PDF",icon:eb.q.pdf.icon,accentColor:eb.q.pdf.accentColor,doc:s,editor:l}),(0,i.jsx)(ej,{cardId:r,format:"pptx",label:"PPTX",icon:eb.q.pptx.icon,accentColor:eb.q.pptx.accentColor,doc:s,editor:l}),o&&(0,i.jsx)(ej,{cardId:r,format:"google_slides",label:"Google Slides",icon:eb.q.google_slides.icon,accentColor:eb.q.google_slides.accentColor,badge:(0,i.jsx)(ec.E,{colorScheme:"green",children:(0,i.jsx)(R.x6,{id:"isRobC"})}),doc:s,editor:l})]}),(0,i.jsx)(W.E,{fontSize:"sm",color:"gray.600",children:(0,i.jsx)(R.x6,{id:"8LhjM/",components:{0:(0,i.jsx)(I.$,{variant:"link",as:"span",size:"sm",cursor:"pointer",onClick:()=>{n(),eC.LF.emit(eC.DN.OPEN_PAGE_SETUP,"cards")}})}})}),(0,i.jsx)(ey.w,{onClose:n,onOpen:a,segmentEvent:em.VV.GAMMA_PRO_UPSELL_EXPORT_SETTINGS_REMOVE_WATERMARK,targetWorkspace:null==s?void 0:s.organization})]})}),(0,i.jsx)(ed.j,{children:(0,i.jsx)(k.e,{children:(0,i.jsx)(I.$,{onClick:()=>{n()},children:(0,i.jsx)(R.x6,{id:"DPfwMq"})})})})]})]})});var eS=n(96632),eL=n(16936),eI=n(35292),eE=n(76565),eD=n(40268),eM=n(98071),eR=n(27246),e_=n(52762),ez=n(60908);let eN=e=>{let{editor:t,selection:n,decorations:a}=e,{node:r,from:s}=n,o=r.attrs,d=(0,eR.Bn)(a),u=(0,eM.jh)(o,null==d?void 0:d.layout),p=(0,c.useCallback)(e=>{s&&t.commands.updateAttributesAtPos(s,{fitType:e})},[t,s]),h="fit"===u;return(0,i.jsx)(l.Tz,{label:h?(0,i.jsx)(R.x6,{id:"sShDhp"}):(0,i.jsx)(R.x6,{id:"VPxUGR"}),placement:"top",children:(0,i.jsx)(eL.K,{variant:h?"activeToolbar":"toolbar",size:"sm",icon:(0,i.jsx)(M.g,{icon:D.GZ1}),onClick:()=>p(h?"fill":"fit"),boxSize:7,p:0,my:0,"aria-label":_.Ru._({id:"l1XNCT"}),isActive:h})})};var eT=n(89122),eP=n(94740),eH=n(59272),eF=n(18078),eB=n(25311),eO=n(80074),eV=n(33787),eW=n(33750),eU=n.n(eW),eG=n(50333),eZ=n.n(eG),eK=n(74158),eQ=n(12354),eq=n(56603),eJ=n(16595);let e$=e=>{let[t,n]=(0,c.useState)(null);return(0,c.useEffect)(()=>((()=>{let t=new Image;t.src=e,t.onload=()=>{let{naturalWidth:e,naturalHeight:i}=t;n(e/i)}})(),()=>{n(null)}),[e]),t},eY=(e,t,n)=>{let i=e.view.domAtPos(t);if(!i)return;let{node:a,offset:r}=i,l=a.childNodes[r].querySelector("[data-change-focus-point-el]");l&&(l.style.backgroundPosition=n?"".concat(n.x,"% ").concat(n.y,"%"):"")},eX=e=>{var t;return null==(t=(0,eJ.um)(e))?void 0:t.backgroundPos},e0=(e,t,n)=>{if(!t||!n)return;let i=(0,eq.d_)(e.state,n);if(!i)return void console.error("ChangeFocusPoint - relative pos is null");eY(e,i,null);let a=e.state.doc.nodeAt(i);if(!a)return;let r=(0,eJ.um)(a),l=(0,eJ.wH)(a,{...r,backgroundPos:t});e.commands.updateAttributesAtPos(i,l)},e1=e=>{let{editor:t,pos:n,node:i,isOpen:a}=e,r=(0,c.useRef)(null),l=(0,c.useRef)(null),s=(0,c.useRef)(null),[o,d]=(0,c.useState)(!1),u=(0,c.useRef)(),p=(0,c.useCallback)(e=>{let i=r.current;if(i){if(u.current=e,!e){i.style.left="calc(50% - 10px)",i.style.top="calc(50% - 10px)",d(!1);return}i.style.left="calc(".concat(e.x,"% - 10px)"),i.style.top="calc(".concat(e.y,"% - 10px)"),eY(t,n,e),d(50!==e.x||50!==e.y)}},[t,n]);(0,c.useEffect)(()=>{a&&p(eX(i))},[a,i,p]);let h=(0,c.useCallback)(()=>{let e={x:50,y:50};p(e);let i=(0,eq.JO)(t.state,n);e0(t,e,i)},[p,t,n]),g=(0,c.useCallback)(e=>{let t=l.current;if(!t)return;let n=t.getBoundingClientRect(),i=n.width,a=n.height,r=(e.clientX-n.left)/i,s=(e.clientY-n.top)/a;p({x:eZ()(100*eU()(r,0,1),2),y:eZ()(100*eU()(s,0,1),2)})},[p]);return(0,c.useEffect)(()=>{let e=r.current,i=l.current;if(!e||!i)return;s.current=(0,eq.JO)(t.state,n);let a=()=>{i.addEventListener("mousemove",g),window.addEventListener("mouseup",o)},o=()=>{i.removeEventListener("mousemove",g),window.removeEventListener("mouseup",o),e0(t,u.current,s.current)};return e.addEventListener("mousedown",a),()=>{e.removeEventListener("mousedown",a)}},[t,g,n]),(0,c.useEffect)(()=>{let e=l.current;if(!e)return;s.current=(0,eq.JO)(t.state,n);let i=t=>{e.addEventListener("mousemove",g),window.addEventListener("mouseup",a),g(t)},a=()=>{e.removeEventListener("mousemove",g),window.removeEventListener("mouseup",a),e0(t,u.current,s.current)};return e.addEventListener("mousedown",i),()=>{e.removeEventListener("mousedown",i)}},[t,g,n]),{dotRef:r,dotContainerRef:l,canReset:o,resetDotPosition:h}},e2=e=>{let{node:t,editor:n,pos:r,isDisabled:s=!1}=e,o=(0,eJ.um)(t),d=(null==o?void 0:o.src)||(null==o?void 0:o.tempUrl),p=e$(d),h=(0,eJ.Df)(n,t,r,o),g=(0,eK.d4)((0,eQ.CU)(h)),{dotRef:m,dotContainerRef:x,canReset:f,resetDotPosition:b}=e1({editor:n,pos:r,node:t,isOpen:g}),y=(0,u.jL)();return(0,c.useEffect)(()=>()=>{y((0,eQ.zs)())},[y]),(0,eT.j)({ref:{current:x.current},handler(){y((0,eQ.zs)())}}),(0,i.jsxs)(eP.A,{strategy:"absolute",placement:"top",isOpen:g,onClose:()=>y((0,eQ.zs)()),children:[(0,i.jsx)(l.Tz,{label:(0,i.jsx)(R.x6,{id:"BmxaoW"}),placement:"top",children:(0,i.jsx)(a.a,{my:1,children:(0,i.jsx)(eH.d,{children:(0,i.jsx)(eL.K,{variant:"toolbar",size:"sm",icon:(0,i.jsx)(M.g,{icon:D.xD0}),boxSize:7,p:0,my:0,isDisabled:s,"aria-label":_.Ru._({id:"BmxaoW"}),onClick:()=>{y((0,eQ.sI)({id:h}))}})})})}),(0,i.jsx)(eF.h,{children:(0,i.jsx)(eB.e,{p:1,children:(0,i.jsxs)(a.a,{ref:x,userSelect:"none",position:"relative",children:[(0,i.jsx)(a.a,{ref:m,borderRadius:"full",boxSize:5,pos:"absolute",zIndex:"overlay",border:"2px solid",borderColor:"gray.50",pointerEvents:"none",boxShadow:"0 0 0 2px rgba(0,0,0,.1)",bg:"white"}),d&&(0,i.jsx)(eO.g,{maxW:"300px",ratio:p||1,position:"relative",children:(0,i.jsx)(eV._,{pointerEvents:"none",src:(0,ez.Ub)(d,ez.p7,o.meta),fallbackSrc:d,objectFit:"cover",position:"absolute",top:0,insetStart:0,width:"100%",height:"100%"})}),(0,i.jsx)(I.$,{opacity:+!!f,pos:"absolute",bottom:3,insetEnd:3,variant:"plain",size:"xs",onClick:b,children:(0,i.jsx)(R.x6,{id:"OfhWJH"})})]})})})]})};var e4=n(84714),e5=n(62452),e6=n(23907),e3=n(99430),e9=n(40452);let e7=e=>{let{icon:t,label:n,children:a,iconProps:r,isHidden:l,...s}=e;return l?null:(0,i.jsxs)(eo.B,{direction:"row",spacing:8,alignItems:"center",justifyContent:"space-between",...s,children:[(0,i.jsxs)(e9.s,{gap:4,alignItems:"center",children:[t&&(0,i.jsx)(M.g,{icon:t,fixedWidth:!0,...r}),(0,i.jsx)(W.E,{children:n})]}),a]})},e8=e=>{let{icon:t,label:n,onClick:a,colorScheme:r="gray",secondaryIcon:l,secondaryLabel:s,secondaryAction:o,secondaryColorScheme:c="gray"}=e;return(0,i.jsxs)(e9.s,{px:5,py:3,bg:"gray.50",mx:-4,mb:-4,justifyContent:s?"space-between":"center",alignItems:"center",children:[s&&o&&(0,i.jsx)(I.$,{variant:"link",size:"sm",colorScheme:c,leftIcon:l?(0,i.jsx)(M.g,{icon:l,fixedWidth:!0}):void 0,onClick:o,onMouseDown:N.Fw,children:s}),(0,i.jsx)(I.$,{variant:"link",size:"sm",colorScheme:r,leftIcon:t?(0,i.jsx)(M.g,{icon:t,fixedWidth:!0}):void 0,onClick:a,onMouseDown:N.Fw,children:n})]})},te=e=>{let{...t}=e;return(0,i.jsx)(er.c,{my:1,...t})},tt=e=>{let{children:t,...n}=e;return(0,i.jsx)(eo.B,{spacing:4,p:4,...n,children:t})},tn="14px",ti="28px",ta=e=>{let{label:t,withSidePadding:n=!1,children:a,...r}=e;return(0,i.jsxs)(eo.B,{direction:"row",spacing:3,...r,children:[t&&(0,i.jsx)(eo.B,{alignSelf:"center",justifyContent:"start",minWidth:a?"max-content":"100%",h:ti,pl:n?tn:void 0,children:(0,i.jsx)(e9.s,{justifyContent:"flex-start",alignItems:"center",width:"100%",height:"100%",children:t})}),a&&(0,i.jsx)(eo.B,{alignSelf:"center",width:"100%",pr:n?tn:void 0,h:ti,children:(0,i.jsx)(e9.s,{justifyContent:"flex-end",alignItems:"center",width:"100%",height:"100%",children:a})})]})};var tr=n(66082);let tl=e=>{let{editor:t}=e;return(0,i.jsx)(k.e,{dir:"ltr",spacing:1,size:"sm",children:tr.gj.map(e=>{let{name:n,icon:a,checkActive:r,apply:l}=e;if(r&&l)return(0,i.jsx)(H.I,{label:n(),icon:a,onClick:()=>{l(t)},isActive:r(t),my:0},n())})})};var ts=n(68917),to=n(29810);let tc=e=>{let{contributors:t,hiddenContributorIds:n,toggleOneVisibleContributor:a,toggleAllVisibleContributors:r,isDisabled:s=!1}=e,o=(null==n?void 0:n.length)===0;return(0,i.jsxs)(S.W,{isLazy:!0,children:[(0,i.jsx)(L.I,{as:I.$,variant:"plain",size:"sm",boxShadow:"none",minW:"max-content",textAlign:"left",rightIcon:(0,i.jsx)(ts.D,{}),isDisabled:s,children:o?(0,i.jsx)(R.x6,{id:"lZw9AX"}):(0,i.jsx)(R.x6,{id:"8Tg/JR"})}),(0,i.jsx)(E.c,{minWidth:"max-content",padding:0,children:(0,i.jsxs)(eo.B,{spacing:1,py:3,children:[(0,i.jsx)(ta,{label:(0,i.jsx)(R.x6,{id:"lZw9AX"}),withSidePadding:!0,children:(0,i.jsx)(e3.d,{isChecked:o,onChange:r})}),(0,i.jsx)(er.c,{py:2}),(0,i.jsx)(ta,{label:(0,i.jsx)(l._x,{children:(0,i.jsx)(W.E,{children:(0,i.jsx)(R.x6,{id:"8Tg/JR"})})}),withSidePadding:!0}),t.map(e=>(0,i.jsx)(td,{contributor:e,contributors:t,toggleOneVisibleContributor:a,hiddenContributorIds:n,allVisible:o},e.user.id))]})})]})},td=e=>{let{contributor:t,contributors:n,toggleOneVisibleContributor:a,hiddenContributorIds:r,allVisible:s}=e,o=n.length-r.length==1&&!r.includes(t.user.id);return(0,i.jsxs)(ta,{label:(0,i.jsxs)(e9.s,{alignItems:"center",gap:2,children:[(0,i.jsx)(l.Vc,{size:"xs",src:t.user.profileImageUrl,opacity:s?.5:1}),(0,i.jsx)(W.E,{fontSize:"md",fontFamily:"body",opacity:s?.5:1,sx:{cursor:s?"default":"text"},children:t.user.displayName})]}),paddingY:1.25,withSidePadding:!0,children:[(0,i.jsx)(to.h,{w:4}),(0,i.jsx)(e3.d,{isChecked:!r.includes(t.user.id),onChange:()=>a(t.user.id),disabled:o})]})},tu=e=>{let{contributors:t,hiddenContributorIds:n,hasMultipleContributors:a,toggleOneVisibleContributor:r,toggleAllVisibleContributors:l}=e;return(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"YqsXfH"}),icon:D.VFr,children:(0,i.jsx)(tc,{contributors:t,hiddenContributorIds:n,toggleOneVisibleContributor:r,toggleAllVisibleContributors:l,isDisabled:!a})})};var tp=n(8527),th=n(2241);let tg=e=>{let{children:t,...n}=e,{content:a}=(0,tp.o)("Popover");return(0,i.jsx)(th.B.div,{__css:a,p:0,overflow:"hidden",borderWidth:0,minW:"auto",width:"auto",...n,children:t})},tm=()=>({square:{icon:D.Nfw,label:(0,i.jsx)(R.x6,{id:"du/PIl"})},landscape:{icon:D.vti,label:(0,i.jsx)(R.x6,{id:"BZXXSi"})},portrait:{icon:D.b0A,label:(0,i.jsx)(R.x6,{id:"79gnko"})}}),tx=e=>{let{selection:t,editor:n}=e,a=tm(),r=t.node.attrs;return(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"7bRShe"}),icon:D.VGw,children:(0,i.jsx)(k.e,{children:Object.entries(a).map(e=>{let[a,{icon:l,label:s}]=e;return(0,i.jsx)(H.I,{icon:l,label:s,onClick:()=>{n.chain().updateAttributes("gallery",{dimensions:a}).setNodeSelection(t.from).run()},isActive:r.dimensions===a},a)})})})};var tf=n(50933),tb=n(45176);let ty=e=>{let{selection:t,editor:n}=e,a=t.node.attrs.thumbHeight||tb.Aj,r=(0,c.useCallback)(e=>{n.chain().updateAttributes("gallery",{thumbHeight:e}).setNodeSelection(t.from).focus().run()},[n,t.from]);return(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"Cj2Gtd"}),icon:D.dwj,children:(0,i.jsxs)(tf.Ap,{"aria-label":"gallery-slider",min:tb.pg,max:tb.Vj,step:.25,value:a,onChange:r,w:"120px",focusThumbOnChange:!1,colorScheme:"trueblue",size:"sm",children:[(0,i.jsx)(tf.hB,{children:(0,i.jsx)(tf.hJ,{})}),(0,i.jsx)(tf.OQ,{background:"trueblue.500"})]})})};var tv=n(80215);let tC=e=>{let{selection:t,editor:n}=e,a=t.node.attrs.thumbSpacing||tb.mj,r=(0,c.useCallback)(e=>{n.chain().updateAttributes("gallery",{thumbSpacing:e}).setNodeSelection(t.from).focus().run()},[n,t.from]);return(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"EL5s3L"}),icon:D.dwj,children:(0,i.jsxs)(tf.Ap,{"aria-label":"gallery-slider",min:tb.BA,max:tb.ZX,step:.1,value:a,onChange:r,w:"120px",focusThumbOnChange:!1,colorScheme:"trueblue",size:"sm",children:[(0,i.jsx)(tf.hB,{children:(0,i.jsx)(tf.hJ,{})}),(0,i.jsx)(tf.OQ,{background:"trueblue.500"})]})})},tw=e=>{let{selection:t,editor:n}=e,a=t.node.attrs,r=!0===a.stretchFill||null===a.stretchFill;return(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"57WAKT"}),icon:D.fGk,children:(0,i.jsx)(e3.d,{isChecked:r,onChange:()=>{n.chain().updateAttributes("gallery",{stretchFill:!a.stretchFill}).setNodeSelection(t.from).run()}})})};var tA=n(55597),tj=n(90184),tk=n(24903),tS=n(66824),tL=n(49249),tI=n(83143),tE=n(71093),tD=n(89703),tM=n(2681),tR=n(37930),t_=n(48478);let tz=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{none:{label:(0,i.jsx)(R.x6,{id:"gIjBW2"})},expand:{label:(0,i.jsx)(R.x6,{id:"1A3EXy"})},newTab:{label:e?(0,i.jsx)(R.x6,{id:"YdDilE"}):(0,i.jsx)(R.x6,{id:"XGRJzS"})}}},tN=e=>{let{handleClickBehaviorChange:t,currentClickBehavior:n,enableNoClickBehavior:a=!1,canAddLink:r=!1}=e,l=tz(r);return(0,i.jsxs)(S.W,{closeOnSelect:!0,isLazy:!0,autoSelect:!1,children:[(0,i.jsx)(L.I,{as:I.$,"data-testid":"click-behavior-dropdown",size:"sm",rightIcon:(0,i.jsx)(M.g,{fixedWidth:!0,icon:D.Jt$,transform:"shrink-6"}),boxShadow:"none",onMouseDown:N.Fw,children:l[n].label}),(0,i.jsx)(E.c,{zIndex:2,children:(0,i.jsx)(tR.i,{type:"radio",onChange:e=>{t(e)},value:n,children:Object.entries(l).map(e=>{let[t,{label:n}]=e;return"none"!==t||a?(0,i.jsx)(t_.k,{value:t,onMouseOver:N.Fw,onMouseDown:N.Fw,"data-testid":"click-behavior-option-".concat(t),children:(0,i.jsx)(W.E,{children:n})},t):null})})})]})};var tT=n(72470),tP=n(38036),tH=n(77979),tF=n(62964),tB=n(19546),tO=n(37327),tV=n(15607),tW=n(15577),tU=n(4192),tG=n(70259),tZ=n(39247),tK=n(70006),tQ=n(31090),tq=n(27229);let tJ=(0,c.memo)(e=>{let{label:t,icon:n,isFocused:a,focusedItemEl:l,onClick:s,onMouseMove:o}=e;return(0,i.jsx)(tQ.ck,{px:2,py:2,mx:2,borderRadius:"md",ref:a?l:null,bg:a?"trueblue.50":"none",onClick:s,onMouseMove:o,onMouseDown:N.Fw,role:"option",cursor:"pointer",tabIndex:-1,children:(0,i.jsxs)(r.z,{pointerEvents:"none",children:[(0,i.jsx)(M.g,{icon:n,fixedWidth:!0,size:"sm"}),(0,i.jsx)(W.E,{noOfLines:1,fontSize:"sm",w:"100%",children:t})]})})});tJ.displayName="Option";let t$=(0,c.memo)(e=>{let{items:t,inputValue:n,focusedIndex:r,interactionRef:s,isScrollingRef:o,isFiltered:d,onMouseMove:u,onSelectItem:p}=e,h=t.reduce((e,t,n)=>("page"===t.type?e.pages.push({item:t,index:n}):"card"===t.type?e.cards.push({item:t,index:n}):"url"===t.type&&e.url.push({item:t,index:n}),e),{pages:[],cards:[],url:[]}),g=(0,c.useRef)(null),m=(0,c.useRef)(null);return(0,c.useEffect)(()=>{if("keyboard"!==s.current)return;let e=m.current,t=g.current;if(!e||!t)return;let n=t.clientHeight,i=e.offsetTop,a=e.offsetHeight;o.current=!0,t.scrollTo({top:i-n/2+a/2,behavior:"smooth"});let r=setTimeout(()=>{o.current=!1},50);return()=>{clearTimeout(r)}},[r,m,g,s,o]),(0,i.jsx)(a.a,{children:(0,i.jsxs)(tQ.B8,{ref:g,pos:"relative",overflowY:"auto",maxH:"min(300px, 50vh)",children:[h.pages.map((e,t)=>{let{item:s,index:o}=e;return(0,i.jsxs)(a.a,{children:[0===t&&(0,i.jsx)(l._x,{ml:4,my:1,children:d?(0,i.jsx)(R.x6,{id:"rXYeDA",values:{inputValue:n}}):(0,i.jsx)(R.x6,{id:"QIUdjp"})}),(0,i.jsx)(tJ,{label:tY(s),icon:D.A4h,isFocused:o===r,focusedItemEl:m,onClick:()=>p(s),onMouseMove:()=>u(o)})]},s.docId)}),h.cards.map((e,t)=>{let{item:s,index:o}=e;return(0,i.jsxs)(a.a,{children:[0===t&&(0,i.jsx)(l._x,{ml:4,my:1,children:d?(0,i.jsx)(R.x6,{id:"m+j0l8",values:{inputValue:n}}):(0,i.jsx)(R.x6,{id:"Ccpbzh"})}),(0,i.jsx)(tJ,{label:tY(s),icon:D.vti,isFocused:o===r,focusedItemEl:m,onClick:()=>p(s),onMouseMove:()=>u(o)})]},s.cardId)}),h.url.map((e,t)=>{let{item:n,index:s}=e;return(0,i.jsxs)(a.a,{children:[0===t&&(0,i.jsx)(l._x,{ml:4,my:1,children:(0,i.jsx)(R.x6,{id:"wuJqqq"})}),(0,i.jsx)(tJ,{label:n.value,icon:D.CQO,isFocused:s===r,focusedItemEl:m,onClick:()=>p(n),onMouseMove:()=>u(s)})]},"custom".concat(s))})]})})});t$.displayName="ListBox";let tY=e=>e.title||("card"===e.type?_.Ru._({id:"gLDJuJ"}):_.Ru._({id:"kveQAJ"})),tX=(e,t)=>tY(t).trim().toLowerCase().includes(e.trim().toLowerCase()),t0=e=>{let t=(0,tW.Se)(e)||(0,tO.hc)(e)?e:"https://"+e;return(0,tW.AY)(t)?t:""},t1=e=>{let{items:t,inputValue:n}=e;return(0,c.useMemo)(()=>{let e=t0(n),i=[...t.filter(e=>tX(n,e)),""!==e?{type:"url",value:e}:null].filter(e=>!!e),a=i.length!==t.length;return{filteredItems:i,isFiltered:a}},[t,n])},t2=e=>{let{items:t,inputValue:n,onSelect:i,onRevert:a,popoverRef:r}=e,{isOpen:l,onClose:s,onOpen:o}=(0,tq.j)(),[d,u]=(0,c.useState)(null),p=(0,c.useRef)(null),h=(0,c.useRef)(!1),g=(0,c.useCallback)(()=>{s(),u(null)},[s]),m=(0,c.useCallback)(()=>{n&&(o(),u(0))},[n,o]),x=(0,c.useCallback)(e=>{var t;(null==(t=r.current)?void 0:t.contains(e.relatedTarget))||g()},[g,r]),f=(0,c.useCallback)(e=>{i(e),g()},[g,i]),b=(0,c.useCallback)(e=>{switch(p.current="keyboard",e.key){case"Enter":case"Tab":{if(null===d)return;e.preventDefault();let n=t[d];n?f(n):g();return}case"Escape":e.preventDefault(),g(),a();return;case"ArrowDown":e.preventDefault(),l?u(e=>((null!=e?e:0)+1)%t.length):(o(),u(0));return;case"ArrowUp":e.preventDefault(),l?u(e=>{let n=(null!=e?e:0)-1;return n<0?t.length-1:n}):(o(),u(t.length-1));return}},[a,g,l,d,t,f,o]),y=(0,c.useCallback)(e=>{h.current||(p.current="mouse",u(e))},[]);return{isOpen:l,onClose:s,onOpen:o,focusedIndex:d,setFocusedIndex:u,handleSelectItem:f,onMouseMove:y,onKeyDown:b,onBlur:x,onFocus:m,interactionRef:p,isScrollingRef:h}},t4=(0,c.memo)(e=>{let{items:t,onSelect:n,onRevert:a,inputValue:r,setInputValue:l,inputRef:s}=e,o=(0,c.useRef)(null),{filteredItems:d,isFiltered:u}=t1({items:t,inputValue:r}),{onKeyDown:p,onMouseMove:h,focusedIndex:g,setFocusedIndex:m,interactionRef:x,isOpen:f,onClose:b,onOpen:y,onBlur:v,onFocus:C,handleSelectItem:w,isScrollingRef:A}=t2({items:d,onSelect:n,onRevert:a,popoverRef:o,inputValue:r}),j=(0,c.useCallback)(e=>{l(e.target.value),f||y(),m(0)},[f,y,m,l]),k=(0,c.useCallback)(()=>{f||(y(),m(0))},[f,y,m]);return(0,i.jsxs)(eP.A,{isLazy:!0,isOpen:f,onClose:b,autoFocus:!1,returnFocusOnClose:!1,matchWidth:!0,placement:"bottom",children:[(0,i.jsx)(eH.d,{children:(0,i.jsx)(tP.p,{ref:s,size:"sm",placeholder:_.Ru._({id:"BHFH/3"}),value:r,onKeyDown:p,onFocus:C,onBlur:v,onChange:j,onClick:k})}),(0,i.jsx)(eF.h,{ref:o,w:"100%",h:"100%",display:0===d.length?"none":void 0,tabIndex:-1,_focusVisible:{outline:"none"},children:(0,i.jsx)(t$,{items:d,isFiltered:u,onSelectItem:w,onMouseMove:h,inputValue:r,focusedIndex:g,interactionRef:x,isScrollingRef:A})})]})});t4.displayName="PageAwareLinkComboBox";var t5=n(99552),t6=n(85732);let t3=e=>{let{site:t}=e;return{linkablePages:null==t?void 0:t.routes.map(e=>{var t;return{docId:e.docId,title:null==(t=e.doc)?void 0:t.title}})}},t9=e=>{let{href:t,linkablePages:n}=e;if(!t)return null;let i=(0,t6.uT)(t);if(!i)return{href:t};let{docId:a,cardId:r}=i;return{...a&&(null==n?void 0:n.find(e=>e.docId===a))||null,href:t,cardId:r}},t7=e=>{let{href:t}=e,n=(0,u.GV)(t5.Gd);return(0,c.useMemo)(()=>{let{linkablePages:e}=t3({site:n}),i=t9({href:t,linkablePages:e}),a=(null==i?void 0:i.docId)&&(null==n?void 0:n.id)&&(0,tK.pF)({docId:null==i?void 0:i.docId})||t,r=null==e?void 0:e.some(e=>e.docId===(null==i?void 0:i.docId));return{linkablePages:e,existingLink:i,newTabUrl:a,isPageLink:r}},[t,n])},t8=e=>{var t;let{href:n,inputValue:s,setInputValue:o,setHref:d,clearHref:p,inputRef:h,onCloseFocusRef:g}=e,m=(0,u.GV)(b.sX),x=(0,u.GV)(tZ.rZ),{existingLink:f,linkablePages:y}=t7({href:n}),v=(0,c.useMemo)(()=>[...(y||[]).map(e=>({type:"page",docId:e.docId,title:e.title})),...x.map(e=>({type:"card",cardId:e.id,title:e.title}))],[y,x]),C=null==f?void 0:f.title,w=null!=(t=null==f?void 0:f.cardId)?t:void 0,{title:A}=(0,tG.d)({cardId:w}),j=(0,c.useCallback)(e=>{var t;e&&(d("url"===e.type?e.value:"page"===e.type?(0,tK.LN)({docId:e.docId,docTitle:e.title,absolute:!0}):(0,tK.Io)({cardId:e.cardId,docId:m})),null==g||null==(t=g.current)||t.focus({preventScroll:!0}))},[m,d,g]),k=(null==f?void 0:f.href)&&!f.docId;if(!f||k)return(0,i.jsx)(t4,{items:v,inputValue:s,setInputValue:o,inputRef:h,onSelect:j,onRevert:()=>{var e;o(n),null==g||null==(e=g.current)||e.focus()}});{let e=w?A||(0,i.jsx)(R.x6,{id:"gLDJuJ"}):C||(0,i.jsx)(R.x6,{id:"kveQAJ"});return(0,i.jsx)(r.z,{spacing:1,children:(0,i.jsx)(tU.vw,{pr:1,children:(0,i.jsxs)(r.z,{spacing:1,children:[(0,i.jsx)(M.g,{icon:w?D.vti:D.A4h}),(0,i.jsx)(l.Tz,{label:e,placement:"top",children:(0,i.jsx)(a.a,{noOfLines:1,children:e})}),p&&(0,i.jsx)(l.Tz,{label:(0,i.jsx)(R.x6,{id:"484LKL"}),placement:"top",children:(0,i.jsx)(eL.K,{size:"xs",minHeight:4,height:4,variant:"ghost","aria-label":_.Ru._({id:"484LKL"}),icon:(0,i.jsx)(M.g,{icon:D.yYc}),onMouseDown:N.Fw,onClick:()=>{p(),o("")}})})]})})})}},ne="link-input-invalid-url",nt=e=>{let{editor:t,href:n,updateHref:r,clearHref:s,removeLink:o,isEmbedLink:d=!1}=e,[p,h]=(0,c.useState)(n),g=(0,c.useRef)(null),m=(0,c.useRef)(null),x=(0,V.d)(),f=p!==n,y=!!(t.multipageEnabled||t.isSiteNavbarEditor),v=(0,u.GV)(b.bO),C=(0,tV.Cf)(n,v),{newTabUrl:w}=t7({href:n});(0,c.useEffect)(()=>{h(n)},[n]),(0,c.useEffect)(()=>{!n&&g.current&&setTimeout(()=>{var e;null==g||null==(e=g.current)||e.focus()})},[n]);let A=(0,c.useCallback)(e=>{if(!e)return;let t=e;if(d){let n=(0,tF.Sf)(e);n&&(t=n)}if(t=(0,tW.Se)(t)||(0,tO.hc)(t)?t:"https://"+t,!(0,tW.AY)(t)){r(""),x.isActive(ne)||x({id:ne,title:(0,i.jsx)(R.x6,{id:"sBZMWb"}),description:(0,i.jsx)(R.x6,{id:"jEw0Mr"}),status:"error",position:"top",duration:3e3,isClosable:!0});return}r(t),h(t)},[d,x,r]),j=(0,c.useCallback)(e=>{if(C){let i=(0,tV.Ww)(n);(0,tB.T)(t,e,i)}else try{window.open(w,"_blank")}catch(e){console.error("(caught) LinkInput error going to URL",e)}},[C,t,n,w]);return(0,i.jsxs)(e9.s,{gap:2,justify:"space-between",alignItems:"center",children:[y&&!d?(0,i.jsxs)(e9.s,{flex:1,children:[(0,i.jsx)(t8,{href:n,inputValue:p,setInputValue:h,setHref:A,clearHref:s,inputRef:g,onCloseFocusRef:m}),(0,i.jsx)(a.a,{w:"0",h:"0",ref:m,tabIndex:-1})]}):(0,i.jsxs)(tT.M,{children:[(0,i.jsx)(tP.p,{"data-testid":"link-input",ref:g,value:p,placeholder:_.Ru._({id:"Ilf1mg"}),onChange:e=>{h(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(e.preventDefault(),A(p),t.commands.focus())},size:"sm"}),p.length>0&&f&&(0,i.jsx)(tH.t,{top:"50%",transform:"translateY(-50%)",children:(0,i.jsx)(l.Tz,{placement:"top",label:(0,i.jsx)(R.x6,{id:"tfDRzk"}),children:(0,i.jsx)(eL.K,{"aria-label":_.Ru._({id:"tfDRzk"}),variant:"ghost",size:"xs",onClick:()=>{A(p)},icon:(0,i.jsx)(M.g,{icon:D.e68})})})})]}),(0,i.jsxs)(k.e,{spacing:1,size:"sm",onMouseDown:N.Fw,children:[o&&(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"484LKL"}),icon:D.vev,onClick:o,my:0}),n&&(0,i.jsx)(H.I,{label:C?(0,i.jsx)(R.x6,{id:"088Oxr"}):(0,i.jsx)(R.x6,{id:"fOj0+R"}),icon:C?D.dmS:D.vMs,onClick:j,my:0})]})]})};var nn=n(85595);let ni=e=>{let{buttonList:t}=e,n=t.filter(e=>!e.isHidden),r=1===n.length,s=n.length<=5?5:4,o=n.slice(0,s),c=n.slice(s,n.length);return(0,i.jsxs)(k.e,{size:"sm",width:"100%",children:[o.map(e=>{let{key:t,label:n,ariaLabel:s,action:o,icon:c,customIcon:d,isDisabled:u=!1,isLoading:p=!1,customButton:h}=e;return h||(c||d?(0,i.jsx)(l.Tz,{label:n,placement:"top",children:(0,i.jsx)(a.a,{flex:r?void 0:1,width:r?"33%":void 0,tabIndex:u?-1:void 0,children:(0,i.jsx)(eL.K,{"aria-label":s,icon:d||(0,i.jsx)(M.g,{icon:c,fixedWidth:!0}),onClick:o,w:"100%",isDisabled:u,isLoading:p,onMouseDown:N.Fw,shadow:"none"})})},t):null)}),!!c.length&&(0,i.jsxs)(S.W,{children:[(0,i.jsx)(l.Tz,{placement:"top",label:(0,i.jsx)(R.x6,{id:"3Siwmw"}),children:(0,i.jsx)(L.I,{as:eL.K,"aria-label":_.Ru._({id:"3Siwmw"}),icon:(0,i.jsx)(M.g,{icon:D.Dwc,fixedWidth:!0}),flex:1,shadow:"none"})}),(0,i.jsx)(E.c,{children:c.map(e=>{let{key:t,label:n,action:a,icon:r,customIcon:l}=e;return(0,i.jsx)(nn.D,{icon:l||r&&(0,i.jsx)(M.g,{icon:r,fixedWidth:!0}),onClick:a,children:n},t)})})]})]})},na=()=>({inset:{title:_.Ru._({id:"Jn5DbR"})},circle:{title:_.Ru._({id:"7xMmki"})}}),nr=e=>{let{clipType:t,onChange:n}=e;return t?(0,i.jsxs)(tM.ms,{children:[(0,i.jsx)(tM.gf,{size:"sm",borderRadius:"full",minWidth:"105px",rightIcon:(0,i.jsx)(M.g,{icon:D.Jt$,transform:"shrink-6"}),variant:"toolbar",ps:2,onMouseDown:N.Fw,children:na()[t].title}),(0,i.jsx)(tM.Q5,{children:Object.entries(na()).map(e=>{let[r,{title:l}]=e;return(0,i.jsx)(tM.tJ,{value:r,fontSize:"sm",fontWeight:600,icon:(0,i.jsx)(a.a,{visibility:r===t?"visible":"hidden",children:(0,i.jsx)(M.g,{icon:D.e68})}),onMouseDown:N.Fw,onClick:()=>{n(r)},children:(0,i.jsx)(W.E,{children:l})},r)})})]}):null},nl={expand:D.bMI,newTab:D.Ju_,none:D.IPg};var ns=n(65772),no=n(46617);let nc=e=>{let{editor:t,selection:n,handleDuplicate:a}=e,r=(0,c.useCallback)(()=>{t.chain().insertContentAt(n.from+n.node.nodeSize,n.node.toJSON()).selectInsertedNode().run()},[t,n]);return(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"euc6Ns"}),icon:D.$3n,onClick:a||r,testId:"duplicate-node-button"})},nd=e=>{let{editor:t,label:n}=e;return(0,i.jsx)(H.I,{onClick:()=>{t.chain().selectParentNode().run()},label:n,children:(0,i.jsx)(M.g,{icon:D.Hmw,flip:"horizontal"})})};var nu=n(10500);let np={src:"/_next/static/media/layout-3-cols.478d87d6.svg",height:25,width:20,blurWidth:0,blurHeight:0},nh={src:"/_next/static/media/layout-30-70.019e8aa0.svg",height:25,width:20,blurWidth:0,blurHeight:0},ng={src:"/_next/static/media/layout-4-cols.bc7869e3.svg",height:25,width:20,blurWidth:0,blurHeight:0},nm={src:"/_next/static/media/layout-50-50.a28ea4d4.svg",height:25,width:20,blurWidth:0,blurHeight:0},nx={src:"/_next/static/media/layout-70-30.abcf64e9.svg",height:25,width:20,blurWidth:0,blurHeight:0},nf=()=>[{name:_.Ru._({id:"oCWIE5"}),testId:"layout-preset-5050",image:nm,value:[50,50]},{name:_.Ru._({id:"eWUI4Z"}),testId:"layout-preset-7030",image:nx,value:[70,30]},{name:_.Ru._({id:"hOcihM"}),testId:"layout-preset-3070",image:nh,value:[30,70]},{name:_.Ru._({id:"OnuuaA"}),testId:"layout-preset-3col",image:np,value:[33.33,33.33,33.34]},{name:_.Ru._({id:"hexbw8"}),testId:"layout-preset-4col",image:ng,value:[25,25,25,25]}];var nb=n(83650),ny=n(54229),nv=n(81136),nC=n(9100);let nw=()=>({link:{title:(0,i.jsx)(R.x6,{id:"yzF66j"})},button:{title:(0,i.jsx)(R.x6,{id:"hxBFty"})},preview:{title:(0,i.jsx)(R.x6,{id:"rdUucN"})},inline:{title:(0,i.jsx)(R.x6,{id:"KKBlUU"})}}),nA=e=>{let{editor:t,selection:n,isDisabled:a}=e,r=(0,s.KP)(e=>"button"===e.type.name)(n),l=n instanceof o.U3?r?"button":"link":n.node.type.name,d="link"===l,u="button"===l,p=t.getAttributes(l),h=u?"button":d?"link":"displayStyle"in p&&p.displayStyle||"inline",g=(0,c.useCallback)(e=>{if(l===e)return;let n="inline"===e||"preview"===e;switch(l){case"link":n?t.commands.convertLinkToMedia(e):"button"===e&&t.commands.convertLinkToButton();break;case"button":"link"===e?t.commands.convertButtonToLink():n&&t.commands.convertButtonToMedia(e);break;default:"link"===e?t.commands.convertMediaToLink():"button"===e?t.commands.convertMediaToButton():t.commands.updateAttributes(l,{displayStyle:e})}},[t,l]),m=nw();return(0,i.jsxs)(S.W,{closeOnSelect:!0,isLazy:!0,autoSelect:!1,children:[(0,i.jsx)(L.I,{as:I.$,"data-testid":"display-style-dropdown",isDisabled:a,size:"sm",rightIcon:(0,i.jsx)(M.g,{fixedWidth:!0,icon:D.Jt$,transform:"shrink-6"}),boxShadow:"none",onMouseDown:N.Fw,children:m[h].title}),(0,i.jsx)(E.c,{zIndex:2,children:(0,i.jsx)(tR.i,{type:"radio",onChange:g,value:h,children:Object.entries(m).map(e=>{let[t,{title:n}]=e;return(0,i.jsx)(t_.k,{value:t,onMouseDown:N.Fw,"data-testid":"display-style-option-".concat(t),children:(0,i.jsx)(W.E,{children:n})},t)})})})]})},nj=e=>{let{editor:t,selection:n}=e,{href:a}=t.getAttributes("button"),{isPageLink:r}=t7({href:a}),l=(0,u.GV)(b.SJ),s=(0,e5.jO)(l),d=(0,e5.Ik)(s),p=(0,nv.yh)(s),h=t.getAttributes("button").color,g=n.$from.node(-1),m=nC.Dn[g.type.name],x=(0,nC.vf)().filter(e=>m.variants.includes(e.key)),f=(0,c.useCallback)(()=>t.commands.handleButtonDelete(!1),[t]),y=(0,c.useCallback)(e=>{t.commands.updateAttributes("button",{color:e})},[t]);return(0,i.jsxs)(tt,{overflow:"hidden",children:[m.linkDropdownEnabled&&a&&(n instanceof o.U3||n instanceof o.nh)&&(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"/SVg/B"}),icon:D.n2$,children:(0,i.jsx)(nA,{editor:t,selection:n,isDisabled:r})}),(0,i.jsx)(nt,{href:a||"",updateHref:e=>{t.commands.updateAttributes("button",{href:e})},clearHref:()=>{t.commands.updateAttributes("button",{href:""})},editor:t}),x.length>=2&&(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"q6YAHa"}),icon:D.Cpz,children:(0,i.jsx)(k.e,{spacing:1,size:"sm",onMouseDown:N.Fw,children:x.map(e=>{let{name:n,icon:a,key:r}=e;return(0,i.jsx)(H.I,{label:n,icon:a,onClick:()=>{t.commands.updateAttributes("button",{variant:r})},isActive:t.isActive("button",{variant:r}),my:0},n)})})}),m.alignEnabled&&(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"0j+RGO"}),icon:D.ecg,children:(0,i.jsx)(k.e,{dir:"ltr",spacing:0,size:"sm",onMouseDown:N.Fw,children:tr.gj.map(e=>{let{name:n,icon:a,checkActive:r,apply:l}=e;if(r&&l)return(0,i.jsx)(H.I,{label:n(),icon:a,onClick:()=>{l(t)},isActive:r(t),my:0},n())})})}),m.colorEnabled&&(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"jZlrte"}),icon:D.wIs,children:(0,i.jsx)(k.e,{spacing:0,size:"sm",onMouseDown:N.Fw,children:(0,i.jsxs)(S.W,{isLazy:!0,children:[(0,i.jsx)(nb.v,{color:h||d,isDefaultColor:null===h||h===d}),(0,i.jsx)(E.c,{overflow:"hidden",children:(0,i.jsx)(ny.b,{currentColor:h||(p?null:d),setColor:y,source:"ButtonColor"})})]})})}),(0,i.jsx)(e8,{label:(0,i.jsx)(R.x6,{id:"cnGeoo"}),icon:D.yLS,onClick:f,colorScheme:"red"})]})};var nk=n(29347),nS=n(23103);let nL="embed-formatting-invalid-error";var nI=n(49146),nE=n(23908),nD=n(36693),nM=n(20061),nR=n(3448),n_=n(33612),nz=n.n(n_);let nN=(e,t)=>{let n=new Set;for(let i of e)if(n.add(i[t]),n.size>1)return!1;return[...n][0]},nT=(e,t,n)=>nN(function(e,t){let n=function(e,t){if("string"==typeof e){if(!t.marks[e])throw Error("There is no mark type named '".concat(e,"'. Maybe you forgot to add the extension?"));return t.marks[e]}return e}(t,e.schema),{from:i,to:a,empty:r}=e.selection,l=[];return r?(e.storedMarks&&l.push(...e.storedMarks),l.push(...e.selection.$head.marks())):e.doc.nodesBetween(i,a,e=>{l.push(...e.marks)}),l.filter(e=>e.type.name===n.name).map(e=>({...e.attrs}))}(e,t),n),nP=e=>{let{editor:t,isLinkText:n,defaultTextColor:i}=e,a=nB(t,i,n),r=nO(t,n),l=n&&t.state.selection.empty,s=(0,c.useCallback)(e=>{l?t.chain().focus().extendMarkRange("link").setHighlightColor(e).setTextSelection({from:t.state.selection.from,to:t.state.selection.to}).run():t.chain().focus().setHighlightColor(e).run()},[t,l]),o=(0,c.useCallback)(e=>{l?t.chain().focus().extendMarkRange("link").setTextColor(e).setTextSelection({from:t.state.selection.from,to:t.state.selection.to}).run():t.chain().focus().setTextColor(e).run()},[t,l]);return{highlightColor:r,resetColorAndHighlight:(0,c.useCallback)(()=>{l?t.chain().focus().extendMarkRange("link").unsetMark("textColor").unsetMark("highlight").setTextSelection({from:t.state.selection.from,to:t.state.selection.to}).run():t.chain().focus().unsetMark("textColor").unsetMark("highlight").run()},[t,l]),setHighlightColor:s,setTextColor:o,textColor:a}},nH=e=>{let{editor:t,defaultTextColor:n,testId:a,disabled:r,useMenuButton:s=!1,isLinkText:o=!1}=e,{textColor:c,highlightColor:d,setHighlightColor:u,setTextColor:p,resetColorAndHighlight:h}=nP({editor:t,isLinkText:o,defaultTextColor:n});return(0,i.jsxs)(S.W,{isLazy:!0,onClose:()=>(0,P.q)(t),children:[s?(0,i.jsx)(nb.v,{color:d.color||c.color||void 0,isDefaultColor:!d.color&&"default"===c.state,disabled:r,"data-testid":a,isMixed:"mixed"===d.state||"mixed"===c.state}):(0,i.jsx)(l.Tz,{placement:"top",label:(0,i.jsx)(R.x6,{id:"76ESgh"}),children:(0,i.jsx)(L.I,{isDisabled:r,as:I.$,variant:"toolbar",rightIcon:(0,i.jsx)(M.g,{icon:D.Jt$,transform:"shrink-6"}),"data-testid":a,onMouseDown:N.Fw,size:"sm",children:(0,i.jsx)(nV,{color:d.color||c.color||void 0})})}),(0,i.jsx)(E.c,{overflow:"hidden",children:(0,i.jsxs)(nI.t,{isFitted:!0,variant:"soft-rounded",size:"md",defaultIndex:+!!d.color,children:[(0,i.jsxs)(nE.w,{children:[(0,i.jsx)(nD.o,{children:(0,i.jsx)(l.Tz,{label:(0,i.jsx)(R.x6,{id:"xeiujy"}),placement:"top",children:(0,i.jsx)(M.g,{icon:D.jrc})})}),(0,i.jsx)(nD.o,{children:(0,i.jsx)(l.Tz,{label:(0,i.jsx)(R.x6,{id:"gtEbeW"}),placement:"top",children:(0,i.jsx)(M.g,{icon:D.nps})})})]}),(0,i.jsxs)(nM.T,{children:[(0,i.jsx)(nR.K,{p:0,pt:2,children:(0,i.jsx)(ny.b,{currentColor:c.color||null,setColor:p,unsetColor:h,source:"TextColor"})}),(0,i.jsx)(nR.K,{p:0,pt:2,children:(0,i.jsx)(ny.b,{currentColor:d.color||"",setColor:u,unsetColor:h,source:"TextHighlight"})})]})]})})]})},nF=e=>{let{from:t}=e.state.selection,n=e.view.domAtPos(t),i=n.node instanceof HTMLElement?n.node:n.node.parentElement;if(!i)return null;let a=getComputedStyle(i).getPropertyValue("color");return a&&"rgba(0, 0, 0, 0)"!==a?nz()(a).toHexString().toUpperCase():null},nB=(e,t,n)=>{let{selection:i,doc:a,schema:r}=e.state,{from:l,to:s}=i,o=n?(0,tV.Cm)(a,l,s,r.marks.highlight):a.rangeHasMark(l,s,r.marks.highlight),c=n?(0,tV.Cm)(a,l,s,r.marks.textColor):a.rangeHasMark(l,s,r.marks.textColor);if(o)return{state:null,color:null};{if(!c)return{state:"default",color:t||nF(e)};let n=nT(e.state,"textColor","hex");return n?{state:null,color:n}:{state:"mixed",color:t||null}}},nO=(e,t)=>{let{selection:n,doc:i,schema:a}=e.state,{from:r,to:l}=n,s=t?(0,tV.Cm)(i,r,l,a.marks.highlight):i.rangeHasMark(r,l,a.marks.highlight);if(t?(0,tV.Cm)(i,r,l,a.marks.textColor):i.rangeHasMark(r,l,a.marks.textColor))return{state:null,color:null};{if(!s)return{state:"default",color:null};let t=nT(e.state,"highlight","hex");return t?{state:null,color:t}:{state:"mixed",color:null}}},nV=e=>{let{color:t,fixedWidth:n,isChecked:a}=e;return(0,i.jsxs)(eo.B,{spacing:"2px",children:[(0,i.jsx)(W.E,{children:a?(0,i.jsx)(nu.S,{}):(0,i.jsx)(M.g,{icon:tA.jrc,fixedWidth:n,size:t?"sm":void 0,transform:{y:3*!!t}})}),t&&(0,i.jsx)(e9.s,{w:5,h:1.5,bg:t,borderRadius:"sm",borderWidth:"1px",borderColor:"blackAlpha.400"})]})};var nW=n(47512),nU=n(12562),nG=n(83740),nZ=n(45934),nK=n(95889),nQ=n(62695),nq=n(33633),nJ=n(83743),n$=n(24302),nY=n(77364),nX=n(647),n0=n(95563),n1=n(83049);let n2=n(27748).o0,n4=n2+100;var n5=n(78686);let n6=e=>{let{searchQuery:t,onChange:n,placeholder:a}=e,r={searchInputBorderColor:(0,n$.dU)("gray.200","whiteAlpha.200"),searchInputBackgroundColor:(0,n$.dU)("whiteAlpha.900","blackAlpha.900"),searchInputTextColor:(0,n$.dU)("gray.800","gray.50"),searchInputCloseColorScheme:(0,n$.dU)("blackAlpha","gray")};return(0,i.jsxs)(tT.M,{size:"md",children:[(0,i.jsx)(tH.W,{pointerEvents:"none",color:"gray.400",children:(0,i.jsx)(n5.W,{})}),(0,i.jsx)(tP.p,{placeholder:a,value:t,onChange:n,backgroundColor:r.searchInputBackgroundColor,color:r.searchInputTextColor}),t&&(0,i.jsx)(tH.t,{p:4,children:(0,i.jsx)(eL.K,{variant:"ghost",colorScheme:r.searchInputCloseColorScheme,size:"xs","aria-label":_.Ru._({id:"V8yTm6"}),icon:(0,i.jsx)(M.g,{icon:D.Jyw}),onClick:()=>n({target:{value:""}})})})]})};var n3=n(25722),n9=n(55847),n7=n(90278),n8=n(77249),ie=n(86687);let it=e=>{let{initialFamily:t=null,selectedVariantHash:n=null,editor:i,selectedSmartLayoutPos:a}=e,[r,l]=(0,c.useState)(t),[s,o]=(0,c.useState)(""),[d,u]=(0,c.useState)(null),p=null,h=null,g=null;try{let e=void 0!==a?null==i?void 0:i.state.doc.nodeAt(a):null;g=(h=(p=void 0!==a&&i?(0,y.j5)(i,a):null)?(0,n9.Rv)(p):null)?(0,n7.aG)(null==e?void 0:e.attrs,h.direction):null}catch(e){console.error("[SmartLayout] unable to find decorations at ".concat(a),e.message)}let{isHorizontal:m}=(0,n3.i)(g||{},(null==h?void 0:h.numCells)||0,(null==h?void 0:h.containerSize)||0);(0,c.useEffect)(()=>{if(n){let{key:e}=(0,n8.A)(n),t=(0,ie.ML)().find(t=>t.variants.some(t=>t.variant.key===e));u((null==t?void 0:t.family.key)||null)}},[]);let x=(0,c.useCallback)(e=>{o(e.target.value),e.target.value.trim()&&r&&l(null)},[r]),f=(0,c.useCallback)(e=>e.map(e=>({...e,visible:!r||e.family.key===r})),[r]),b=(0,c.useCallback)(e=>{if(!s.trim())return e.map(e=>({...e,variants:e.variants.map(e=>({...e,options:e.options.map(e=>({...e,visible:!0}))}))}));let t=s.toLowerCase().trim();return e.map(e=>{let n=e.variants.map(n=>({...n,options:n.options.map(i=>({...i,visible:i.name().toLowerCase().includes(t)||n.variant.name().toLowerCase().includes(t)||e.family.name().toLowerCase().includes(t)}))})),i=n.some(e=>e.options.some(e=>e.visible));return{...e,variants:n,visible:i}})},[s]),v=(0,c.useCallback)(e=>e.map(e=>({...e,variants:e.variants.map(e=>({...e,options:e.options.map(e=>({...e,visible:e.visible&&(!e.hideIfVertical||m)}))}))})),[m]),C=(0,c.useCallback)(e=>{if(!d)return e;let t=e.findIndex(e=>e.family.key===d);if(-1===t)return e;let n=e[t],i=[...e];return i.splice(t,1),i.unshift({...n,family:{...n.family,name:()=>_.Ru._({id:"+0acwA"}),icon:D.i7d}}),i},[d]);return{selectedFamilyKey:r,setSelectedFamilyKey:l,searchQuery:s,handleSearchChange:x,filteredVariants:(0,c.useMemo)(()=>{let e=[...(0,ie.ML)()];return C(e=v(e=b(e=f(e))))},[f,b,v,C]),suggestedFamilyKey:d}},ii=c.memo(e=>{var t;let{selectedFamilyKey:n,setSelectedFamilyKey:r,searchQuery:l,handleSearchChange:s,suggestedFamilyKey:o}=e,d={dropdownBgColor:(0,n$.dU)("blackAlpha.100","whiteAlpha.100"),dropdownBgHoverColor:(0,n$.dU)("blackAlpha.300","whiteAlpha.300"),dropdownTextColor:(0,n$.dU)("gray.800","white")},u=(0,c.useMemo)(()=>{let e=[];return(0,ie.ML)().forEach(t=>{t.family.key===o?e.unshift({value:t.family.key,icon:D.i7d,label:_.Ru._({id:"+0acwA"})}):e.push({value:t.family.key,icon:t.family.icon,label:t.family.name()})}),[{value:"",icon:D.Qyz,label:_.Ru._({id:"XbthhE"})},...e]},[o]);return(0,i.jsxs)(e9.s,{px:4,pb:2,direction:"column",gap:2,children:[(0,i.jsx)(a.a,{mb:1,children:(0,i.jsx)(n6,{searchQuery:l,onChange:s,placeholder:_.Ru._({id:"CYJHZl"})})}),(0,i.jsxs)(e9.s,{alignItems:"center",gap:2,children:[(0,i.jsx)(W.E,{fontSize:"xs",mb:1,children:(0,i.jsx)(R.x6,{id:"2BreKV"})}),(0,i.jsxs)(S.W,{children:[(0,i.jsx)(L.I,{as:I.$,display:"flex",rightIcon:(0,i.jsx)(M.g,{icon:D.Jt$}),variant:"unstyled",size:"xs",textAlign:"start",bgColor:d.dropdownBgColor,color:d.dropdownTextColor,borderRadius:"md",px:2,_hover:{bgColor:d.dropdownBgHoverColor},children:o===n?(0,i.jsx)(R.x6,{id:"+0acwA"}):n?null==(t=(0,ie.dQ)()[n])?void 0:t.family.name():(0,i.jsx)(R.x6,{id:"XbthhE"})}),(0,i.jsx)(E.c,{children:(0,i.jsx)(tR.i,{type:"radio",value:n||"",onChange:e=>r(""===e?null:String(e)),children:u.map(e=>(0,i.jsx)(t_.k,{value:e.value,children:(0,i.jsxs)(e9.s,{alignItems:"center",gap:2,children:[(0,i.jsx)(M.g,{icon:e.icon,fixedWidth:!0}),e.label]})},e.value))})})]})]})]})});ii.displayName="FilterControls";let ia=(e,t)=>({...e,...Object.fromEntries(Object.entries(t).filter(n=>{let[i]=n;return null===e[i]||void 0===e[i]||null===t[i]}))}),ir=e=>{let{baseContent:t,variants:n}=e;return(0,Z.createDocWithCards)({settings:{cardDimensions:"16x9"}},n.map(e=>{var n,i;return{type:"card",attrs:{id:e.key},content:[{type:"cardLayoutItem",content:[{...t,attrs:{...t.attrs,options:{...null==(n=t.attrs)?void 0:n.options,...e.options},variantKey:e.variantKey},content:(null==(i=e.cellAttrs)?void 0:i.label)&&t.content?t.content.map(t=>"smartLayoutCell"===t.type?{...t,attrs:ia(t.attrs||{},e.cellAttrs||{})}:t):t.content}]}]}}))},il=(e,t,n)=>{try{var i,a;let r=e.chain(),{key:l,options:o}=(0,n8.A)(t);r.updateAttributesAtPos(n,{variantKey:l,options:o});let c=(0,ie.y_)()[t];if(!c)return;let{cellAttrs:d}=c;if(d){let t=e.view.state.doc.nodeAt(n);if(!t)return;(0,s.xe)(t,x.q).forEach(e=>{let t=n+e.pos+1,i=ia(e.node.attrs,d);r.updateNestedAttributesAtPos(t,i)})}let u=null==(a=e.view.state.doc.nodeAt(n))||null==(i=a.attrs)?void 0:i.variantKey;u!==l&&nK.zS.track(nK.VV.SMART_LAYOUT_VARIANT_CHANGED,{previousVariant:u,newVariant:l,method:"variant-panel"}),r.run()}catch(e){console.error("[Smart Layout Variant Panel] Error updating variant",e)}};var is=n(65950),io=n(58568);let ic=c.memo(e=>{let{item:t,isSelected:n,onClick:a}=e,{ref:r,width:l}=(0,io.Lh)();return(0,i.jsx)(e9.s,{ref:r,direction:"column",onClick:a,cursor:"pointer",overflow:"hidden",transition:"all 0.2s",color:n?"trueblue.600":"gray.800",bgColor:n?"trueblue.200":"transparent",_hover:{backgroundColor:n?"trueblue.150":"trueblue.100"},position:"relative",w:"100%",px:2,pt:2,pb:1,borderRadius:"md",css:{"--editor-width":"".concat(l&&1!==l?l:173,"px"),"--line-thickness":"1px"},h:"100%",children:(0,i.jsx)(is.N,{cardId:t.key,zoomIn:t.zoomIn,shadow:"md",border:"1px solid",borderColor:"gray.200",borderRadius:"md",minH:"80px",maxH:"100px"})})});ic.displayName="VariantCard";let id=()=>(0,i.jsx)(e9.s,{direction:"column",w:"100%",gap:1,opacity:.7,px:4,children:Array.from({length:3}).map((e,t)=>(0,i.jsxs)(e9.s,{direction:"column",w:"100%",mb:4,children:[(0,i.jsx)(e9.s,{alignItems:"center",justifyContent:"space-between",mb:2,children:(0,i.jsxs)(e9.s,{px:2,py:1,alignItems:"center",flex:1,children:[(0,i.jsx)(a.a,{as:"span",fontSize:"lg",me:2,children:(0,i.jsx)(a.a,{w:"16px",h:"16px",bg:"gray.200",borderRadius:"sm"})}),(0,i.jsx)(a.a,{w:"120px",h:"20px",bg:"gray.200",borderRadius:"md"})]})}),(0,i.jsx)(nJ.r,{columns:2,spacing:4,children:Array.from({length:4}).map((e,t)=>(0,i.jsxs)(e9.s,{direction:"column",overflow:"hidden",h:"100px",position:"relative",children:[(0,i.jsx)(a.a,{flex:1,borderWidth:"1px",borderColor:"gray.200",borderRadius:"md",w:"100%",position:"relative",bg:"gray.50"}),(0,i.jsx)(e9.s,{direction:"row",alignItems:"center",mt:2,children:(0,i.jsx)(a.a,{w:"80px",h:"16px",bg:"gray.200",borderRadius:"md"})})]},t))})]},t))}),iu=e=>({visibility:e?"visible":"hidden",height:e?"auto":"0",overflow:"hidden",position:e?"relative":"absolute",pointerEvents:e?"auto":"none","aria-hidden":!e,tabIndex:e?void 0:-1}),ip=Object.assign(e=>{let{selectedSmartLayoutRange:t,closePanel:n,editor:a,node:r}=e;return(0,j.lC)(a,!0),(0,c.useEffect)(()=>{var e;let i=null==a||null==(e=a.state.selection)?void 0:e.from,{from:r,to:l}=t||{};if(!r||!l||!i)return void n();let s=null==a?void 0:a.state.doc.nodeAt(r),o=(null==s?void 0:s.type.name)==="smartLayout";(i===r||i>r&&i<l)&&o||n()},[null==a?void 0:a.state.selection,t,n,null==a?void 0:a.state.doc]),(0,i.jsx)(ih,{closePanel:n,selectedSmartLayoutRange:t,editor:a,node:r})},{panelPosition:"right",panelName:"smart-layout-variant",canCollapse:!1,minWidth:400}),ih=e=>{let{closePanel:t,selectedSmartLayoutRange:n,editor:a,node:r}=e,[l,s]=(0,c.useState)(null),[o,d]=(0,c.useState)(null);(0,c.useEffect)(()=>{var e,t;if(!n||!n.from)return;let i=r&&(null==r||null==(e=r.attrs)?void 0:e.variantKey)||"",a=r&&(null==r||null==(t=r.attrs)?void 0:t.options)||{};s((0,n8.Z)(i,a)),d(ir({baseContent:null==r?void 0:r.toJSON(),variants:(0,ie.pK)()}))},[]);let u={bgColor:(0,n$.dU)("white","gray.800"),textColor:(0,n$.dU)("gray.800","white")},p=(0,c.useCallback)(e=>{a&&n&&n.from&&(s(e),requestAnimationFrame(()=>{n.from&&il(a,e,n.from)}))},[a,n]);return l?(0,i.jsx)(nX.Z,{bgColor:u.bgColor,w:"100%",pt:4,children:(0,i.jsxs)(e9.s,{direction:"column",overflowX:"hidden",w:"100%",h:"100%",children:[(0,i.jsxs)(e9.s,{position:"relative",px:4,children:[(0,i.jsx)(e9.s,{flex:1,children:(0,i.jsx)(n0.N,{children:(0,i.jsx)(R.x6,{id:"uNnHCK"})})}),(0,i.jsx)(nY.J,{onClick:t})]}),(0,i.jsx)(ig,{combinedContent:o,savedVariantHash:l,handleSelectVariant:p,editor:a,selectedSmartLayoutPos:null==n?void 0:n.from})]})}):null},ig=c.memo(e=>{let{combinedContent:t,savedVariantHash:n,handleSelectVariant:r,editor:l,selectedSmartLayoutPos:s}=e,{selectedFamilyKey:o,setSelectedFamilyKey:d,searchQuery:u,handleSearchChange:p,filteredVariants:h,suggestedFamilyKey:g}=it({selectedVariantHash:n,editor:l,selectedSmartLayoutPos:s}),[m,x]=(0,c.useState)(!1),[f,b]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{b(!0);let e=setTimeout(()=>{x(!0)},n2),t=setTimeout(()=>{b(!1)},n4);return()=>{clearTimeout(e),clearTimeout(t)}},[]),t)?(0,i.jsxs)(e9.s,{direction:"column",h:"100%",overflowY:"auto",flex:1,pt:4,children:[(0,i.jsx)(ii,{selectedFamilyKey:o,setSelectedFamilyKey:d,searchQuery:u,handleSearchChange:p,suggestedFamilyKey:g}),f&&(0,i.jsx)(id,{}),m&&(0,i.jsx)(n1.q,{initialContent:t,children:(0,i.jsx)(e9.s,{direction:"column",w:"100%",gap:1,children:h.map((e,t)=>{let l=e.visible,s=iu(l);return(0,i.jsxs)(e9.s,{direction:"column",w:"100%",...s,children:[l&&(0,i.jsx)(e9.s,{alignItems:"center",justifyContent:"space-between",children:(0,i.jsxs)(e9.s,{px:4,py:1,alignItems:"center",flex:1,children:[(0,i.jsx)(a.a,{as:"span",fontSize:"lg",me:2,children:e.family.icon&&(0,i.jsx)(M.g,{icon:e.family.icon,fixedWidth:!0,size:"sm"})}),(0,i.jsx)(W.E,{children:e.family.name()})]})}),(0,i.jsx)(nJ.r,{columns:2,gap:1,px:2,pb:2*!!l,...s,children:e.variants.flatMap(e=>e.options.map(e=>{let t=iu(l&&e.visible);return(0,i.jsx)(c.Fragment,{children:(0,i.jsx)(a.a,{...t,children:(0,i.jsx)(ic,{item:e,isSelected:n===e.key,onClick:()=>{r(e.key)}})})},e.key)}))})]},t)})})})]}):null});ig.displayName="SmartLayoutVariantList";let im=()=>{let{togglePanel:e,isPanelOpen:t}=(0,nq.ww)(ip);return{toggleSmartLayoutVariantPanel:e,isSmartLayoutVariantPanelOpen:t}};var ix=n(5380),ib=n(22115),iy=n(77071);let iv=e=>{let{variant:t,variantKey:n,updateVariant:a}=e,r=(0,c.useMemo)(()=>{var e;let t=(0,ie.ML)(),r=null==(e=t.find(e=>e.variants.some(e=>e.variant.key===n)))?void 0:e.family.key;return t.map(e=>{let t=r===e.family.key;return{key:"family-".concat(e.family.key),label:e.family.name(),icon:e.family.icon,background:t?"trueblue.50":void 0,items:e.variants.map(e=>{let t=e.variant,r=n===t.key;return{key:"variant-".concat(t.key),label:t.name(),icon:r?(0,i.jsx)(nu.S,{}):(0,i.jsx)(M.g,{fixedWidth:!0,icon:t.icon}),background:r?"trueblue.50":void 0,onClick:()=>a(t.key)}})}})},[n,a]),l=(0,c.useRef)(null),{onContextMenu:s,menuProps:o}=(0,ib.pO)(l);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(I.$,{variant:"toolbar",rightIcon:(0,i.jsx)(M.g,{icon:D.Jt$,transform:"shrink-6"}),leftIcon:(0,i.jsx)(M.g,{icon:t.icon,fixedWidth:!0}),size:"sm","data-testid":"smart-layout-variant-dropdown",onMouseDown:e=>s(e),ref:l,children:t.name()}),(0,i.jsx)(ib.tz,{...o,menuItems:r,size:"small"})]})};var iC=n(39078),iw=n(35616),iA=n(56124),ij=n(12514);let ik=e=>{let{editor:t,testId:n,disabled:a,icon:r,label:s}=e,o=tr.gj.map(e=>{let{key:n,name:a,shortcut:r,icon:l,checkActive:s,apply:o}=e;return(0,i.jsx)(H.I,{icon:l,label:a(),onClick:()=>null==o?void 0:o(t),isActive:null==s?void 0:s(t),testId:n,shortcut:r},n)});return t.shouldUseLiteMenus?(0,i.jsx)(k.e,{spacing:0,children:o}):(0,i.jsxs)(S.W,{isLazy:!0,onClose:()=>(0,P.q)(t),children:[(0,i.jsx)(l.Tz,{placement:"top",label:s,children:(0,i.jsx)(L.I,{isDisabled:a,as:I.$,variant:"toolbar","data-testid":n,onMouseDown:N.Fw,rightIcon:(0,i.jsx)(M.g,{icon:D.Jt$,transform:"shrink-6"}),children:r&&(0,i.jsx)(M.g,{icon:r})})}),(0,i.jsx)(ij.Z,{children:(0,i.jsx)(E.c,{minW:"auto",zIndex:"modalPopover",dir:"ltr",children:o})})]})};var iS=n(83550),iL=n(82172),iI=n(11215),iE=n(76083);let iD=()=>({list:{label:_.Ru._({id:"Ci8I/9"})},wrap:{label:_.Ru._({id:"T4+jD7"})}}),iM=()=>{let e=(0,iE.Vo)();return[{key:"toggle",name:()=>_.Ru._({id:"JFciKP"}),icon:D.ijD,node:"toggle",description:()=>_.Ru._({id:"rhfAX6"}),apply:t=>{(0,iE.Jb)(e.toggle,nK.oU.FORMATTING_MENU),t.chain().wrapWithToggle().run()},group:"wrap"},{key:"convertToNestedCard",name:()=>_.Ru._({id:"lOmsEK"}),node:"card",description:()=>_.Ru._({id:"gRMoQV"}),icon:D.ViY,apply:t=>{(0,iE.Jb)(e.insertCardInside,nK.oU.FORMATTING_MENU),t.chain().convertToNestedCard().run()},checkDisabled:e=>!e.schema.nodes.card||!(0,tV.pO)(e,"card"),group:"wrap"},{key:"blockquote",name:()=>_.Ru._({id:"OLMhPm"}),node:"blockquote",description:()=>_.Ru._({id:"2yuhT7"}),icon:D.R9H,shortcut:"> Quote",apply:e=>e.chain().wrapWithAnnotations("blockquote").run(),checkDisabled:e=>!(0,tV.pO)(e,"blockquote"),group:"wrap"},{key:"calloutBox",name:()=>_.Ru._({id:"1E4ojF"}),node:"calloutBox",description:()=>_.Ru._({id:"4Wf98Z"}),icon:D.iW_,apply:e=>e.chain().wrapWithAnnotations("calloutBox",{variant:"info"}).run(),checkDisabled:e=>!(0,tV.pO)(e,"calloutBox"),group:"wrap"},{key:"listToCards",name:()=>_.Ru._({id:"FJ18tL"}),icon:D.vGi,description:()=>_.Ru._({id:"hWesxP"}),group:"list",apply:e=>e.commands.listToCards(),checkDisabled:e=>!(0,iL.Jx)(e)},...(0,iI.P3)()]};var iR=n(80116),i_=n(67864),iz=n(71737),iN=n(42644),iT=n(55786),iP=n(43944),iH=n(91656);let iF=[[{key:"textColor",name:()=>_.Ru._({id:"MapzEo"}),icon:D.jrc,shortcut:"Mod+Shift+H",enabledForTables:!0,checkDisabled:iz.NO}],[{key:"bold",name:()=>_.Ru._({id:"KmydK6"}),mark:"bold",icon:tA.l5I,shortcut:"Mod+B",enabledForTables:!0},{key:"italic",name:()=>_.Ru._({id:"pzutoc"}),mark:"italic",icon:D.SIw,shortcut:"Mod+I",enabledForTables:!0},{key:"underline",name:()=>_.Ru._({id:"YyXtnN"}),mark:"underline",icon:D.chs,shortcut:"Mod+U",enabledForTables:!0},{key:"strike",name:()=>_.Ru._({id:"WhOsNE"}),mark:"strike",icon:D.$6A,shortcut:"Mod+Shift+X",enabledForTables:!0},{key:"code",name:()=>_.Ru._({id:"EWPtMO"}),mark:"code",icon:D.jTw,shortcut:"Mod+Shift+C"},{key:"math",name:()=>_.Ru._({id:"l8rp1O"}),apply:e=>e.commands.convertToMathInline(),icon:D.Dkf,featureFlag:"math",shortcut:"$$",checkDisabled:()=>!0},{key:"removeFormatting",name:()=>_.Ru._({id:"bj5jMy"}),icon:D.Dkb,apply:e=>e.chain().unsetAllMarks().focus().run(),enabledForTables:!0}],[{key:"link",name:()=>_.Ru._({id:"yzF66j"}),mark:"link",icon:D.CQO,shortcut:"Mod+K"},{key:"footnote",name:()=>_.Ru._({id:"ONAJuB"}),icon:D.sxe,apply:e=>{(0,iT.J)((0,iN.Vo)().footnote,nK.oU.FORMATTING_MENU),e.chain().toggleFootnote().run()},checkActive:e=>e.isActive("footnoteLabel"),shortcut:"Mod+Alt+F",checkDisabled:e=>(0,tk.Q)(e)||!(0,tV.pO)(e,"footnote")||(0,iz.NO)(e)}],[{key:"numbered",name:()=>_.Ru._({id:"M3G9ZD"}),icon:D.Tsj,node:"numbered",checkActive:e=>(0,iP.Lf)(e,iH.e.Numbered),shortcut:"Mod+/ or Mod+Shift+7",apply:e=>e.chain().toggleListItems({variant:iH.e.Numbered}).focus().run()},{key:"bullet",name:()=>_.Ru._({id:"ynb7Kh"}),icon:D.pch,node:"bullet",checkActive:e=>(0,iP.Lf)(e,iH.e.Bullet),apply:e=>e.chain().toggleListItems({variant:iH.e.Bullet}).focus().run(),shortcut:"Mod+. or Mod+Shift+8"},{key:"todo",name:()=>_.Ru._({id:"rCIbrq"}),icon:D.AgW,node:"todo",checkActive:e=>(0,iP.Lf)(e,iH.e.Todo),shortcut:"Mod+, or Mod+Shift+9",apply:e=>{let{from:t,to:n}=e.state.selection;e.chain().toggleListItems({variant:iH.e.Todo}).run(),requestAnimationFrame(()=>e.chain().focus().setTextSelection({from:t,to:n}).run())}}],[{key:"alignText",name:()=>_.Ru._({id:"6Hkcin"}),icon:D.ecg,enabledForTables:!0}],[{key:"convertText",name:()=>_.Ru._({id:"cXIM1U"}),checkDisabled:e=>!!e.shouldUseLiteMenus,icon:D.VH5},{key:"rewriteText",name:()=>_.Ru._({id:"C4t1b/"}),icon:tA.p7g,checkDisabled:e=>!!e.shouldUseLiteMenus,featureFlag:"aiRewrite",needsConnection:!0},{key:"visualizeText",name:()=>_.Ru._({id:"vzQMNK"}),icon:D.Gmj,apply:e=>{let{from:t,to:n}=e.state.selection,i=e.state.doc.slice(t,n),a=(0,iR.KC)(e,i.content).trim();a&&e.chain().setTextSelection(n).insertSmartDiagram({attrs:{},selectedText:a}).run()},checkDisabled:e=>{if(e.shouldUseLiteMenus)return!0;let{from:t,to:n}=e.state.selection;return 0===e.state.doc.textBetween(t,n).trim().length},featureFlag:"visualizeText",needsConnection:!0}],[{key:"comment",name:()=>_.Ru._({id:"oFsfkI"}),icon:D.DN2,checkDisabled:e=>(0,tk.Q)(e)||(0,iz.NO)(e)||!!e.shouldUseLiteMenus,needsConnection:!0,apply:e=>{let{selection:t}=e.state,{from:n,to:i}=t,[a]=(0,tV.TK)(e.state.doc.resolve(n),(e,t)=>(0,i_.cE)(t));if(!a)return void console.warn("[TEXT_FORMATTING_COMMANDS] Add comment - Unable to find annotatable parent for this selection");let r=(0,tV.r$)(e.state.doc,n,i,e=>"footnote"!==e.type.name&&"cardNotes"!==e.type.name,"__BLOCK_SEPARATOR_PLACEHOLDER").split("__BLOCK_SEPARATOR_PLACEHOLDER").join("<br /><br />");eC.LF.emit(eC.DN.CREATE_COMMENT_FROM_SELECTION,{selectionPos:n,parentPos:a.pos,text:r})}}]],iB=function(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!(t.needsConnection&&i||t.featureFlag&&!$.of.get(t.featureFlag)||(null==(n=t.checkDisabled)?void 0:n.call(t,e)))||(t.node?!(0,tV.aq)(e,t.node):!!t.mark&&!(0,tV.Au)(e,t.mark))},iO=e=>{let{editor:t,testId:n,disabled:a,icon:r,label:s}=e,{isInOfflineMode:o}=(0,q.u)(),c=iM().filter(e=>e.apply&&!iB(t,e,o));return 0===c.length?null:(0,i.jsxs)(S.W,{isLazy:!0,onClose:()=>(0,P.q)(t),children:[(0,i.jsx)(l.Tz,{placement:"top",label:s,children:(0,i.jsx)(L.I,{isDisabled:a,as:I.$,variant:"toolbar","data-testid":n,onMouseDown:N.Fw,rightIcon:(0,i.jsx)(M.g,{icon:D.Jt$,transform:"shrink-6"}),children:r&&(0,i.jsx)(M.g,{icon:r})})}),(0,i.jsx)(ij.Z,{children:(0,i.jsx)(E.c,{maxH:"min(25em, 45vh)",overflowY:"auto",maxW:"400px",children:Object.entries(iD()).map(e=>{let[n,{label:a}]=e,r=c.filter(e=>e.group===n);return 0===r.length?null:(0,i.jsx)(iS.r,{title:a,children:r.map(e=>{let{key:n,icon:a,name:r,description:l,apply:s}=e;return(0,i.jsxs)(nn.D,{value:n,icon:(0,i.jsx)(M.g,{icon:a,fixedWidth:!0}),onClick:()=>s(t),"data-testid":"text-convert-menu-".concat(n),children:[(0,i.jsx)(W.E,{children:r()}),l&&(0,i.jsx)(W.E,{color:"gray.400",fontSize:"sm",children:l()})]},n)})},n)})})})]})};var iV=n(13731),iW=n.n(iV);let iU=()=>({rephrase:{label:_.Ru._({id:"bKWhYP"})},visualize:{label:_.Ru._({id:"6n7jtr"})},reformat:{label:_.Ru._({id:"ILEG4I"})}}),iG=[{key:"rephrase.better",type:"rephrase",name:()=>_.Ru._({id:"24nR0A"}),icon:D.DKF,featureFlag:"aiRewrite",description:()=>_.Ru._({id:"8KfRLQ"}),apply:e=>{if($.of.get("buddyEdit")){let{from:t,to:n}=e.state.selection,i=e.state.doc.textBetween(t,n);eC.LF.emit("queueBuddyEditMessage",{message:_.Ru._({id:"Us1RzN",values:{plainText:i}})})}else eC.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"b5W83S"})})}},{key:"rephrase.expand",type:"rephrase",name:()=>_.Ru._({id:"XhF4Jp"}),icon:D.t6y,description:()=>_.Ru._({id:"fB02Qr"}),apply:e=>{if($.of.get("buddyEdit")){let{from:t,to:n}=e.state.selection,i=e.state.doc.textBetween(t,n);eC.LF.emit("queueBuddyEditMessage",{message:_.Ru._({id:"SnevVr",values:{plainText:i}})})}else eC.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"OXmWnl"})})},featureFlag:"aiRewrite"},{key:"rephrase.condense",type:"rephrase",name:()=>_.Ru._({id:"g/NDyG"}),icon:D.nr0,description:()=>_.Ru._({id:"Yrd0bz"}),apply:e=>{if($.of.get("buddyEdit")){let{from:t,to:n}=e.state.selection,i=e.state.doc.textBetween(t,n);eC.LF.emit("queueBuddyEditMessage",{message:_.Ru._({id:"4oqnEl",values:{plainText:i}})})}else eC.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"jBaWwf"})})},featureFlag:"aiRewrite"},{key:"visualize.keypoints",type:"visualize",name:()=>_.Ru._({id:"n+v3I1"}),description:()=>_.Ru._({id:"E9axcX"}),icon:D.bef,node:"smartLayout",checkDisabled:e=>$.of.get("buddyEdit"),apply:()=>{eC.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"bXgpVx"})})}},{key:"visualize.images",type:"visualize",name:()=>_.Ru._({id:"laUyeH"}),description:()=>_.Ru._({id:"ADlAam"}),icon:D.yvG,checkDisabled:e=>$.of.get("buddyEdit"),apply:()=>{eC.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"p2oHY3"})})}},{key:"visualize.timeline",type:"visualize",name:()=>_.Ru._({id:"Oh+9k8"}),description:()=>_.Ru._({id:"Qx1qQH"}),icon:D.v6v,checkDisabled:e=>$.of.get("buddyEdit"),apply:()=>{eC.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"4ReFRy"})})}},{key:"reformat.columns",type:"reformat",name:()=>_.Ru._({id:"KyPPwt"}),description:()=>_.Ru._({id:"52Y/fs"}),icon:D.fq7,node:"gridLayout",checkDisabled:e=>$.of.get("buddyEdit"),apply:()=>{eC.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"Y0UR8y"})})}},{key:"reformat.table",type:"reformat",name:()=>_.Ru._({id:"84sVti"}),description:()=>_.Ru._({id:"CxvNve"}),icon:D.w97,node:"table",checkDisabled:e=>$.of.get("buddyEdit"),apply:()=>{eC.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"rU0fs4"})})}},{key:"reformat.toggles",type:"reformat",name:()=>_.Ru._({id:"aRUmvo"}),icon:D.Ke8,node:"toggle",description:()=>_.Ru._({id:"914Ln8"}),checkDisabled:e=>$.of.get("buddyEdit"),apply:()=>{eC.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"rivjMe"})})}}],iZ=()=>Object.entries(iW()(iG,"type")),iK=e=>{let{editor:t,testId:n,disabled:a,icon:r,label:s}=e,o=(0,V.d)(),{isInOfflineMode:c}=(0,q.u)();return(0,i.jsxs)(S.W,{isLazy:!0,onClose:()=>(0,P.q)(t),children:[(0,i.jsx)(l.Tz,{placement:"top",label:s,children:(0,i.jsx)(L.I,{isDisabled:a,as:I.$,variant:"toolbar","data-testid":n,onMouseDown:N.Fw,color:"trueblue.500",rightIcon:(0,i.jsx)(M.g,{icon:D.Jt$,transform:"shrink-6"}),children:r&&(0,i.jsx)(M.g,{icon:r})})}),(0,i.jsx)(ij.Z,{children:(0,i.jsx)(E.c,{maxH:"min(25em, 45vh)",overflowY:"auto",maxW:"450px",children:iZ().map(e=>{let[n,a]=e,{label:r,featureFlag:l}=iU()[n];if(l&&!$.of.get(l))return;let s=a.map(e=>{if(!(!e.apply||iB(t,e,c)))return(0,i.jsxs)(nn.D,{value:e.key,icon:(0,i.jsx)(M.g,{icon:e.icon,fixedWidth:!0}),onClick:()=>iQ(e,t,o),children:[(0,i.jsx)(W.E,{children:e.name()}),e.description&&(0,i.jsx)(W.E,{color:"gray.400",fontSize:"sm",children:e.description()})]},e.key)}).filter(Boolean);return s.length?(0,i.jsx)(iS.r,{title:r,children:s},n):null})})})]})},iQ=(e,t,n)=>{let{apply:a}=e;if(!a)return;let l=a(t);if(!l)return;let s=n({position:"top",isClosable:!1,duration:null,status:"loading",colorScheme:"gray",variant:"subtle",title:(0,i.jsx)(R.x6,{id:"j4ZLea"})});l.then(()=>{n.close(s);let e=n({title:(0,i.jsxs)(r.z,{children:[(0,i.jsxs)(W.E,{noOfLines:1,children:[(0,i.jsx)(R.x6,{id:"hAmdL3"})," "]}),(0,i.jsx)(U.N,{textDecoration:"underline",onClick:()=>{(0,G.tN)(t.state),n.close(e)},children:(0,i.jsx)(R.x6,{id:"9uI/rE"})})]}),status:"success",duration:3e3,position:"top"})}).catch(e=>{n.close(s),n({title:(0,i.jsx)(R.x6,{id:"mTQLsL"}),description:e.message,status:"error",duration:3e3,position:"top"})})};var iq=n(6760),iJ=n(404),i$=n(92699),iY=n(17406),iX=n(12117),i0=n(80274);let i1=(e,t)=>!!t&&(e||!t.startsWith("/")),i2=e=>{let{editor:t}=e,{isInOfflineMode:n}=(0,q.u)(),l=(0,u.GV)(b.SJ),{bodyFont:s,headingFont:o}=l,d=e=>{t.chain().focus().setFontSize(e).run()},p=(0,tV.zi)(t,"heading"),h=(0,tV.zi)(t,"title"),g=(0,tV.zi)(t,"body"),m=(0,c.useCallback)(()=>{l.workspaceId?(0,i$.vd)({theme:l}):(0,i$.L6)({theme:l})},[l]);if(!g&&!p&&!h)return null;let x=(0,iX.Xw)(t),f="default",y=(0,i0.o)("default");f=t.isActive("title")?(0,i0.bn)(t.getAttributes("title").level)||"default":t.isActive("heading")?(0,i0.bZ)(t.getAttributes("heading").level)||"default":1===x.length&&x[0]||"default",y=(0,i0.o)(f)||y;let v=e=>"".concat(Math.sqrt(e),"em"),C=(0,iz.NO)(t),w=!!t.extensionManager.extensions.find(e=>"slashMenu"===e.name);return(0,i.jsxs)(S.W,{closeOnSelect:!0,isLazy:!0,children:[(0,i.jsx)(L.I,{size:"sm",as:I.$,rightIcon:(0,i.jsx)(M.g,{icon:D.Jt$,transform:"shrink-6"}),variant:"toolbar",pl:2,children:y.label}),(0,i.jsxs)(E.c,{maxH:"min(60em, 45vh)",overflowY:"auto",minW:"260px",children:[g&&(0,i.jsx)(tR.i,{type:"radio",value:f,children:(0,iY.QD)().filter(e=>{let[t]=e;return!(C&&"default"!==t)}).map(e=>{let[t,{label:n,size:a,flagged:l,shortcut:o}]=e,c=i1(w,o);return(0,i.jsx)(t_.k,{value:t,onClick:()=>d(t),children:(0,i.jsxs)(r.z,{children:[(0,i.jsx)(W.E,{fontFamily:s,fontSize:v(a),children:n}),c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(to.h,{}),(0,i.jsx)(W.E,{color:"gray.400",children:o})]})]})},t)})}),p&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iq.N,{}),(0,i.jsx)(tR.i,{type:"radio",value:f,children:(0,iY.KG)().reverse().map(e=>{let[t,{label:n,size:a,shortcut:l}]=e,s=i1(w,l);return(0,i.jsx)(t_.k,{value:t,onClick:()=>d(t),children:(0,i.jsxs)(r.z,{children:[(0,i.jsx)(W.E,{fontSize:v(a),fontWeight:"bold",fontFamily:o,children:n}),s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(to.h,{}),(0,i.jsx)(W.E,{color:"gray.400",children:l})]})]})},t)})})]}),h&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(iq.N,{}),(0,i.jsx)(tR.i,{type:"radio",value:f,children:(0,iY.Y5)().map(e=>{let[t,{label:n,size:a,shortcut:l}]=e,s=i1(w,l);return(0,i.jsx)(t_.k,{value:t,onClick:()=>d(t),children:(0,i.jsxs)(r.z,{children:[(0,i.jsx)(W.E,{fontSize:v(a),fontWeight:"bold",fontFamily:o,children:n}),s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(to.h,{}),(0,i.jsx)(W.E,{color:"gray.400",children:l})]})]})},t)})})]}),(0,i.jsx)(a.a,{mt:2,mb:-2,mx:-2,children:(0,i.jsx)(iJ.N,{label:(0,i.jsx)(R.x6,{id:"gJpKw8"}),leftIcon:(0,i.jsx)(M.g,{icon:D.tiU,fixedWidth:!0}),onClick:m,isDisabled:n})})]})]})},i4=e=>{let{editor:t,filterBy:n}=e,{isInOfflineMode:a}=(0,q.u)(),l="rtl"===(0,tr.CY)(t)?"alignRight":"alignLeft",s=()=>{let e=tr.gj.find(e=>e.alignment===(0,tr.F0)(t));if(e)return e.icon;let n=tr.gj.find(e=>e.key===l);return(null==n?void 0:n.icon)||D.ecg};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.e,{isAttached:!0,onMouseDown:N.Fw,children:(0,i.jsx)(i2,{editor:t})},"text"),iF.map((e,l)=>(0,i.jsx)(k.e,{spacing:0,size:"sm",onMouseDown:N.Fw,_empty:{display:"none"},children:e.filter(e=>{let i=!iB(t,e,a);return n?i&&e[n]:i}).map(e=>{let{key:n,name:a,shortcut:l,icon:o,mark:c,node:d,checkActive:u,apply:p}=e,h=p||(c?e=>e.chain().toggleMark(c).focus().run():()=>{}),g=u?u(t):c?t.isActive(c):d?t.isActive(d):void 0;if("textColor"===n)return(0,i.jsx)(nH,{shortcut:l,icon:o,editor:t},n);if("rewriteText"===n)return(0,i.jsx)(iK,{editor:t,shortcut:l,icon:o,testId:n,label:a()},n);if("convertText"===n)return(0,i.jsx)(iO,{editor:t,shortcut:l,icon:o,testId:n,label:a()},n);if("alignText"===n)return(0,i.jsx)(ik,{editor:t,shortcut:l,icon:s(),testId:n,label:a()},n);if("visualizeText"===n)return(0,i.jsx)(I.$,{variant:"toolbar",isActive:g,onClick:()=>h(t),children:(0,i.jsxs)(r.z,{spacing:1,alignItems:"center",justifyContent:"center",children:[(0,i.jsx)(M.g,{icon:o}),(0,i.jsx)(W.E,{children:a()})]})},n);else return(0,i.jsx)(H.I,{label:a(),shortcut:l,isActive:g,onClick:()=>h(t),icon:o,testId:n},n)})},l))]})};var i5=function(e){return e.enabledForTables="enabledForTables",e}({});let i6=e=>{let{editor:t,selection:n}=e,a=n.isRowSelection(),l=n.isColSelection(),c=a&&l,d=(0,s.KP)(iA.hj)(n);d&&o.nh.create(t.state.doc,null==d?void 0:d.pos);let u=Math.min(n.$anchorCell.pos,n.$headCell.pos),p=Math.max(n.$anchorCell.pos,n.$headCell.pos),{colMinPercent:h,newColSize:g}=t.schema.nodes[iw.X.name].spec,m=n.getTableNode(),x=(0,iC.cG)(m.attrs.colWidths,g,h);return(0,i.jsxs)(r.z,{spacing:1,children:[(0,i.jsx)(i4,{editor:t,filterBy:i5.enabledForTables}),(0,i.jsx)(T.q,{}),a&&!c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"1ct6G/"}),onClick:()=>{t.commands.addRowBefore(),requestAnimationFrame(()=>{t.commands.focus(u)})},testId:"add-row-before-button",children:(0,i.jsx)(M.g,{icon:D.UiS})}),(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"JUmxSq"}),onClick:()=>{t.commands.addRowAfter(),requestAnimationFrame(()=>{t.chain().focus(p).goToNextCell().run()})},testId:"add-row-after-button",children:(0,i.jsx)(M.g,{icon:D.UiS,rotation:180})}),(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"0cspe/"}),icon:D.yLS,onClick:()=>t.chain().focus().deleteRow().run(),color:"red.500",testId:"delete-row-button"})]}),l&&!c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"mwcRkO"}),onClick:()=>{let{left:e}=(0,f._t)(t.state.selection);t.commands.addColumnBefore(e),requestAnimationFrame(()=>{t.commands.focus(u)})},isDisabled:!x,testId:"add-col-before-button",children:(0,i.jsx)(M.g,{icon:D.UiS,rotation:270})}),(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"/93cy4"}),onClick:()=>{let{left:e}=(0,f._t)(t.state.selection);t.commands.addColumnAfter(e),requestAnimationFrame(()=>{t.chain().focus(u).goToNextCell().run()})},isDisabled:!x,testId:"add-col-after-button",children:(0,i.jsx)(M.g,{icon:D.UiS,rotation:90})}),(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"GAohqx"}),icon:D.yLS,onClick:()=>{t.commands.deleteColumn(),requestAnimationFrame(()=>{t.commands.focus(u)})},color:"red.500",testId:"delete-col-button"})]}),c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"SOkhdm"}),icon:D.yC$,onClick:()=>t.commands.equalizeColumns(),testId:"equalize-columns-button"}),(0,i.jsx)(T.q,{}),(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"HSI88F"}),icon:D.yLS,onClick:()=>t.chain().focus().deleteTable().run(),color:"red.500",testId:"delete-table-button"})]})]})},i3=[{component:i6,predicate:e=>e instanceof f.rn&&e.isColSelection(),offsetPx:16},{component:i6,predicate:e=>e instanceof f.rn&&e.isRowSelection(),offsetPx:12},{component:e=>{let{editor:t,selection:n}=e,a=(0,u.GV)(b.SJ),r=n.node,l=(0,e5.Ik)((0,e5.VH)(a));return r?(0,i.jsx)(e6.z,{attributes:r.attrs,updateAttributes:e=>{t.chain().updateAttributes("chart",e).focus().run()},accentColor:l,setEditing:()=>{t.commands.editSelectedChart()},editor:t,inline:!0}):null},predicate:e=>{var t,n;return e instanceof o.nh&&(null==(n=e.node)||null==(t=n.type)?void 0:t.name)==="chart"},isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,a=(0,u.GV)(b.SJ),r=t.getAttributes("link").href||"",l=!t.shouldUseLiteMenus,{isPageLink:s}=t7({href:r}),o=(0,e5.Ik)((0,e5.Jh)(a)),d=(0,c.useCallback)(e=>{t.commands.updateSurroundingLink(e)},[t]),p=(0,tD.f)(),h=(0,c.useCallback)(e=>{t.view.focus(),p({isOpen:!0}),e.stopPropagation()},[t,p]);return(0,i.jsxs)(tt,{children:[l&&r&&!(0,tO.hc)(r)&&(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"/SVg/B"}),icon:D.CQO,children:(0,i.jsx)(nA,{editor:t,selection:n,isDisabled:s})}),(0,i.jsx)(nt,{href:r,updateHref:d,clearHref:()=>{t.commands.updateSurroundingLink("")},removeLink:()=>t.commands.removeSurroundingLink(),editor:t}),l&&(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"0j+RGO"}),icon:D.ecg,children:(0,i.jsx)(k.e,{dir:"ltr",spacing:0,size:"sm",onMouseDown:N.Fw,children:tr.gj.map(e=>{let{name:n,key:a,icon:r,shortcut:l,checkActive:s,apply:o}=e;if(s&&o)return(0,i.jsx)(H.I,{label:n(),shortcut:l,isActive:s(t),onClick:()=>{o(t)},icon:r,testId:a,my:0},a)})})}),l&&(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"jZlrte"}),icon:D.wIs,children:(0,i.jsx)(nH,{editor:t,useMenuButton:!0,isLinkText:!0,defaultTextColor:o})}),l&&!(0,tO.hc)(r)&&(0,i.jsx)(e8,{label:(0,i.jsx)(R.x6,{id:"sxkWRg"}),onClick:h,icon:D.BH7})]})},predicate:(e,t)=>e instanceof o.U3&&t.isActive("link"),isPopover:!0},{component:nj,predicate:(e,t)=>t.isActive("button")&&!t.isSiteNavbarEditor,isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,{node:a,from:r}=n,l=e=>!!a&&JSON.stringify(e)===JSON.stringify(a.attrs.colWidths),{verticalAlign:s}=t.getAttributes("gridCell"),o=(0,c.useCallback)(e=>{t.chain().updateAttributes("gridCell",{verticalAlign:e===s?null:e}).selectNodeAtPos(n.from).focus().run()},[t,n,s]),d=(0,c.useCallback)(e=>{let i=t.chain();if(i.updateAttributes("gridLayout",{backgroundColor:e}),null!==e)try{let e=t.state.doc.resolve(n.from);(0,h.Ob)(e).forEach(e=>{i.updateAttributesAtPos(e.pos,{backgroundColor:null})})}catch(e){console.warn("Could not clear child cell colors:",e)}i.selectNodeAtPos(n.from).focus().run()},[t,n]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(k.e,{spacing:1,size:"sm",alignItems:"center",children:[(0,i.jsxs)(tM.ms,{isLazy:!0,children:[(0,i.jsx)(tM.gf,{as:I.$,variant:"toolbar",rightIcon:(0,i.jsx)(M.g,{icon:D.Jt$}),size:"sm","data-testid":"layout-preset-dropdown",children:(0,i.jsx)(R.x6,{id:"6v+N4U",values:{0:a.childCount}})}),(0,i.jsx)(tM.Q5,{"data-in-editor-focus":!0,fontSize:"md",children:nf().map(e=>{let{testId:n,name:a,image:s,value:o}=e;return(0,i.jsx)(tM.tJ,{"data-testid":n,icon:l(o)?(0,i.jsx)(nu.S,{w:"2rem"}):(0,i.jsx)(eV._,{h:"1rem",w:"2rem",objectFit:"cover",src:s.src}),onClick:()=>{r&&t.commands.useLayoutPreset(r,o)},children:a},a)})})]}),(0,i.jsx)(H.I,{onClick:()=>o("start"),isActive:"start"===s,label:_.Ru._({id:"/Q0jUh"}),children:(0,i.jsx)(ns.a_t,{})}),(0,i.jsx)(H.I,{onClick:()=>o("center"),isActive:"center"===s,label:_.Ru._({id:"QhuQN2"}),children:(0,i.jsx)(ns.o9M,{})}),(0,i.jsx)(H.I,{onClick:()=>o("end"),isActive:"end"===s,label:_.Ru._({id:"EPnxoe"}),children:(0,i.jsx)(ns.Awj,{})}),(0,i.jsx)(B.a,{color:a.attrs.backgroundColor,setColor:d,editor:t,analyticsSource:"Layout"}),(0,i.jsx)(T.q,{}),(0,i.jsx)(O.G,{editor:t})]})})},predicate:e=>e instanceof o.nh&&(0,h.X6)(e.node)},{component:e=>{let{editor:t,selection:n,decorations:a}=e,{isInOfflineMode:l}=(0,q.u)(),{node:s,from:o}=n,{attrs:d,isNested:u,isFirstCard:p}=(0,X.f)({node:s,decorations:a,editor:t}),{isOpen:h,onOpen:g,onClose:m}=(0,Y.E)({id:"downloadCardAsImageDisclosure"}),x=(0,c.useCallback)(()=>{null==t||t.commands.duplicateCard(o)},[t,o]),f=(0,c.useCallback)(()=>{null==t||t.commands.unnestCard(o)},[t,o]),b=(0,c.useCallback)(()=>{null==t||t.chain().mergeCardsAtPos(o).focus().run()},[t,o]),y=(0,V.d)(),v=(0,c.useCallback)(()=>{let e=t.state.doc.nodeAt(o),n=e&&(0,Z.getCardTitle)(e.toJSON());t.chain().deleteCard(o).focus().run();let a=_.Ru._({id:"0MWv65",values:{displayTitle:n?'"'.concat(n,'"'):"card"}}),l=_.Ru._({id:"9uI/rE"}),s=y({title:(0,i.jsxs)(r.z,{children:[(0,i.jsx)(W.E,{noOfLines:1,children:a}),(0,i.jsx)(U.N,{textDecoration:"underline",onClick:()=>{(0,G.tN)(t.state),y.close(s)},children:l})]}),status:"info",duration:3e3,position:"top"})},[t,o,y]),C=(0,$.u)("aiCardDesigner"),w=(0,c.useCallback)(()=>{var e;let t=null==(e=n.node)?void 0:e.attrs.id;if(!t)return;let i=prompt("What do you want to change?",Q.s);i&&K.R.emit("openSuggestionEditor",{cardId:t,userMessage:i})},[n]),A=(0,$.u)("copyCardsToDeck"),j=(0,J.T)();return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(k.e,{spacing:1,size:"sm",alignItems:"center",children:[(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"BTDPLo"}),testId:"duplicate-card",onClick:x,icon:D.$3n}),u&&(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"b+J8Wt"}),testId:"merge-into-parent-card",onClick:f,icon:D.ndq}),!u&&!p&&(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"kV34zB"}),testId:"merge-into-card-above",onClick:b,icon:D.INu}),C&&(0,i.jsx)(H.I,{onClick:w,icon:D.ESE,label:"Design with AI"}),(0,i.jsx)(eS.g,{attrs:d}),A&&(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"IAsTWw"}),onClick:()=>j([s]),icon:D.Rvk,flipIcon:"horizontal",isDisabled:l}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"xRJ+bN"}),testId:"download-card",onClick:g,icon:D.a_I,isDisabled:l}),(0,i.jsx)(ek,{onOpen:g,isOpen:h,onClose:m,cardId:d.id,editor:t})]}),(0,i.jsx)(O.G,{editor:t,handleDelete:v})]})})},predicate:e=>e instanceof o.nh&&(0,y.jg)(e.node),offsetPx:0},{component:e=>{var t;let{editor:n,selection:a,decorations:r}=e,{node:o,from:c}=a,d=(0,eR.Bn)(r),u=o.attrs,p=(0,eM.jh)(u,null==d?void 0:d.layout),h=(0,eM.JH)(u,null==d?void 0:d.layout),g=(null==(t=u.background)?void 0:t.type)===e_.h.IMAGE,m=(0,eI.l)(u.background.image),x=(0,s.eL)(n.state.doc.resolve(c),y.jg),f=o.attrs.background.type===e_.h.IMAGE&&u.background.image&&!(0,ez.v7)(u.background.image.src);return(0,i.jsx)(k.e,{spacing:1,size:"sm",alignItems:"center",children:"accent"===u.itemId&&(0,i.jsxs)(i.Fragment,{children:[h&&(0,i.jsx)(eN,{editor:n,selection:a,decorations:r}),f&&(0,i.jsx)(e2,{editor:n,pos:c,node:o,isDisabled:"fit"===p}),(h||f)&&(0,i.jsx)(T.q,{}),g&&u.background.image&&(m?(0,i.jsx)(eE.a,{attrs:u.background.image,editor:n,variant:"toolbar",size:"sm"}):(0,i.jsx)(e4.g,{editor:n,selection:a,decorations:r})),(0,i.jsx)(l.Tz,{label:g?(0,i.jsx)(R.x6,{id:"XQFMOm"}):(0,i.jsx)(R.x6,{id:"P5MuiB"}),placement:"top",children:(0,i.jsx)(eL.K,{onClick:()=>{let e=null==x?void 0:x.node.attrs.id;e&&eD.R.emit("toggleEditBackgroundDrawer",{openDrawer:!0,cardId:e})},variant:"toolbar",size:"sm",icon:(0,i.jsx)(M.g,{icon:D.MT7}),boxSize:7,p:0,"aria-label":g?_.Ru._({id:"Ov693i"}):_.Ru._({id:"B6vyEa"})})}),(0,i.jsx)(T.q,{}),(0,i.jsx)(l.Tz,{label:g?(0,i.jsx)(R.x6,{id:"sGYCGx"}):(0,i.jsx)(R.x6,{id:"6vLq+T"}),placement:"top",children:(0,i.jsx)(eL.K,{onClick:()=>(0,eM.kB)(n,c,g),variant:"toolbar",size:"sm",icon:g?(0,i.jsx)(M.g,{icon:D.K3F}):(0,i.jsx)(M.g,{icon:D.yLS}),color:"red.500",boxSize:7,p:0,"aria-label":g?_.Ru._({id:"sGYCGx"}):_.Ru._({id:"6vLq+T"})})})]})})},predicate:e=>e instanceof o.nh&&(0,p.wL)(e.node),offsetPx:6},{component:e=>{let{editor:t,selection:n}=e,a=n.$from.parent.childCount<no.ZS,{verticalAlign:r,backgroundColor:l}=n.node.attrs,s=(0,c.useCallback)(e=>{t.chain().updateAttributes("gridCell",{verticalAlign:e===r?null:e}).selectNodeAtPos(n.from).focus().run()},[t,r,n]),o=(0,c.useCallback)(e=>{t.chain().updateAttributes("gridCell",{backgroundColor:e}).selectNodeAtPos(n.from).focus().run()},[t,n]);return(0,i.jsxs)(k.e,{spacing:1,size:"sm",alignItems:"center",children:[(0,i.jsx)(nd,{editor:t,label:_.Ru._({id:"NFoeBH"}),icon:D.tjk}),a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(T.q,{}),(0,i.jsx)(H.I,{label:_.Ru._({id:"bZ9ges"}),icon:D.UiS,iconRotation:270,onClick:()=>{t.chain().insertContentAt(n.from,no.eK).run()},testId:"add-col-before-button"}),(0,i.jsx)(H.I,{label:_.Ru._({id:"7ibPpM"}),icon:D.UiS,iconRotation:90,onClick:()=>{t.chain().insertContentAt(n.from+n.node.nodeSize,no.eK).run()},testId:"add-col-after-button"}),(0,i.jsx)(nc,{editor:t,selection:n})]}),(0,i.jsx)(H.I,{onClick:()=>s("start"),isActive:"start"===r,label:_.Ru._({id:"/Q0jUh"}),children:(0,i.jsx)(ns.a_t,{})}),(0,i.jsx)(H.I,{onClick:()=>s("center"),isActive:"center"===r,label:_.Ru._({id:"QhuQN2"}),children:(0,i.jsx)(ns.o9M,{})}),(0,i.jsx)(H.I,{onClick:()=>s("end"),isActive:"end"===r,label:_.Ru._({id:"EPnxoe"}),children:(0,i.jsx)(ns.Awj,{})}),(0,i.jsx)(T.q,{}),(0,i.jsx)(B.a,{editor:t,color:l,setColor:o,analyticsSource:"LayoutCell"}),(0,i.jsx)(T.q,{}),(0,i.jsx)(O.G,{editor:t,handleDelete:()=>{t.chain().selectInsideNodeAtPos(n.from).handleLayoutDelete(!0,!1).run()}})]})},predicate:e=>e instanceof o.nh&&(0,h.NJ)(e.node)},{component:e=>{let{editor:t,selection:n,decorations:a}=e,{node:l}=n,{options:s,variantKey:o}=l.attrs,d=(0,iy.BJ)(o),{toggleSmartLayoutVariantPanel:u}=im(),p=(0,c.useCallback)(e=>{t.commands.updateNestedAttributesAtPos(n.from,e)},[t,n.from]),h=(0,c.useCallback)(()=>{u({override:"open",isResizable:!1,props:{selectedSmartLayoutRange:{from:n.from,to:n.to},editor:t,node:l}})},[u,n.from,n.to,t,l]),g=(0,c.useCallback)(e=>{p({variantKey:e}),nK.zS.track(nK.VV.SMART_LAYOUT_VARIANT_CHANGED,{previousVariant:o,newVariant:e,method:"formatting-menu-dropdown"})},[p,o]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.z,{spacing:2,children:[(0,i.jsx)(iv,{variant:d,variantKey:o,updateVariant:g}),(0,i.jsx)(T.q,{}),(0,i.jsx)(k.e,{size:"sm",children:d.options.map(e=>{var r,c;let d=(0,n9.Rv)(a),u=l.attrs,h=(0,n7.aG)(u);if(e.checkEnabled&&!e.checkEnabled({options:h,attrs:u,deco:d,node:l}))return null;let g=null!=(c=s[e.key])?c:null==(r=e.defaultValue)?void 0:r.call(e,{ctx:"menu"});return(0,i.jsx)(e.Control,{value:g,updateValue:(i,a)=>{p({options:{...s,[e.key]:i}}),a&&l.forEach((a,r)=>{t.commands.updateNestedAttributesAtPos(n.from+r+1,{options:{...a.attrs.options,[e.key]:i}})}),nK.zS.track(nK.VV.SMART_LAYOUT_OPTION_UPDATED,{variantKey:o,optionKey:e.key,previousValue:g,newValue:i,updateChildren:a,method:"formatting-menu"})},editor:t,option:e},e.key)})}),(0,i.jsx)(T.q,{}),(0,i.jsx)(I.$,{variant:"toolbar",rightIcon:(0,i.jsx)(M.g,{icon:D.LFz}),size:"sm",onClick:h,children:(0,i.jsx)(R.x6,{id:"vR68Ol"})}),(0,i.jsx)(T.q,{}),(0,i.jsx)(O.G,{editor:t})]})})},predicate:(e,t,n)=>e instanceof o.nh&&(0,x.M)(e.node)&&"smart-layout-variant"!==n.right},{component:e=>{let{editor:t,selection:n}=e,{node:a,from:r}=n,l=a.attrs.id,o=(0,x.M)(null==n?void 0:n.$from.parent)?null==n?void 0:n.$from.parent:null,{editImage:d,startRemoveBg:u,isRemovingBg:p}=(0,ix.c)({editor:t,backgroundRemovalId:l,getPos:()=>r}),{currentMediaDrawerSourceKey:h,setMediaDrawerSourceKeyAction:g}=(0,nQ.B)(),m=(0,c.useCallback)(e=>{let t=a.attrs.image,n=nU.of.get("pictographicIconsSearch")?nZ.u.key:nG.f.key;g((null==t?void 0:t.source)||n,!0),d(e,!1)},[a.attrs.image,d,g]),f=(0,ix.m)({editor:t,node:a,parentNode:o}),{toggleSmartLayoutVariantPanel:b}=im(),y=(0,c.useCallback)(e=>{let n=(0,s.eL)(e,x.M);if(!n)return;let i=n.pos,a=i+n.node.nodeSize;t.commands.selectParentNode(),b({override:"open",isResizable:!1,props:{selectedSmartLayoutRange:{from:i,to:a},editor:t,node:n.node}})},[b,t]);if(!f)return null;let{addColumnBefore:v,addColumnAfter:C,canChangeFocusPointAndRemoveBackground:w,canEditImageWithAI:A,hasImage:j,imageSlot:S,imageType:L,addDirection:E,parentVariant:z,cellOptions:N,handleDelete:P,updateAttributes:F,resetImage:B}=f;return(0,i.jsxs)(k.e,{spacing:1,size:"sm",alignItems:"center",children:[(0,i.jsx)(nd,{editor:t,label:_.Ru._({id:"NFoeBH"}),icon:null==z?void 0:z.icon}),(0,i.jsx)(T.q,{}),w&&(0,i.jsx)(e2,{editor:t,pos:r,node:a}),A?(0,i.jsx)(eE.a,{editor:t,attrs:a.attrs.image,variant:"toolbar"}):w&&(0,i.jsx)(e4.j,{onClick:u,disabled:p}),"always"===S||j?(0,i.jsx)(H.I,{label:"icon"===L?(0,i.jsx)(R.x6,{id:"JE/4q/"}):(0,i.jsx)(R.x6,{id:"9IrgTy"}),icon:"icon"===L?D.cCs:D.MT7,onClick:m}):"optional"===S?(0,i.jsx)(H.I,{label:"icon"===L?(0,i.jsx)(R.x6,{id:"1SYZRR"}):(0,i.jsx)(R.x6,{id:"pVb3uA"}),icon:"icon"===L?D.cCs:D.Cyq,onClick:m}):null,j&&(0,i.jsx)(H.I,{label:"icon"===L?(0,i.jsx)(R.x6,{id:"+4mjS6"}):(0,i.jsx)(R.x6,{id:"EyVcag"}),icon:D.K3F,color:"red.500",onClick:()=>B(r)}),("always"===S||j)&&(0,i.jsx)(T.q,{}),(0,i.jsx)(H.I,{label:_.Ru._({id:"w7mkyz"}),iconRotation:"bottom"===E?void 0:270,icon:D.UiS,onClick:()=>v(r),testId:"add-col-before-button"}),(0,i.jsx)(H.I,{label:_.Ru._({id:"1e37Dl"}),icon:D.UiS,iconRotation:"bottom"===E?180:90,onClick:()=>C(r+a.nodeSize),testId:"add-col-after-button"}),(0,i.jsx)(nc,{editor:t,selection:n}),(null==z?void 0:z.cellOptions.length)&&(null==z?void 0:z.cellOptions.length)>0?(0,i.jsx)(T.q,{}):null,(0,i.jsx)(k.e,{size:"sm",children:null==z?void 0:z.cellOptions.map(e=>{var l,s;let o=a.attrs;if(e.checkEnabled&&!e.checkEnabled({options:o.options,attrs:o}))return null;let c=null!=(s=N[e.key])?s:null==(l=e.defaultValue)?void 0:l.call(e,{ctx:"menu"});return(0,i.jsx)(e.Control,{value:c,updateValue:t=>{F(n.from,{options:{...N,[e.key]:t}}),nK.zS.track(nK.VV.SMART_LAYOUT_CELL_OPTION_UPDATED,{variantKey:null==z?void 0:z.key,optionKey:e.key,previousValue:c,newValue:t})},editor:t,option:e,pos:r},e.key)})}),(0,i.jsx)(T.q,{}),(0,i.jsx)(I.$,{variant:"toolbar",rightIcon:(0,i.jsx)(M.g,{icon:D.LFz}),size:"sm",onClick:()=>y(n.$from),children:(0,i.jsx)(R.x6,{id:"vR68Ol"})}),(0,i.jsx)(T.q,{}),(0,i.jsx)(O.G,{editor:t,handleDelete:P})]})},predicate:e=>e instanceof o.nh&&(0,x.q)(e.node)},{component:e=>{let{selection:t,editor:n}=e,r=0===t.node.childCount,{layout:s,stretchFill:o}=t.node.attrs,d=(0,c.useCallback)(()=>{n.chain().deleteSelectionAndSelectNear().run()},[n]);return r?null:(0,i.jsx)(a.a,{minW:"300px",children:(0,i.jsxs)(tt,{children:[!r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eo.B,{w:"100%",direction:"row",justify:"space-between",alignItems:"flex-start",children:(0,i.jsx)(l._x,{children:(0,i.jsx)(R.x6,{id:"U+kFad"})})}),(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"rdU729"}),icon:D.yOA,children:(0,i.jsx)(tv.lQ,{editor:n,selection:t})}),"grid"===s&&(0,i.jsx)(tx,{editor:n,selection:t}),"flex"===s&&(0,i.jsx)(tw,{editor:n,selection:t}),(0,i.jsx)(ty,{editor:n,selection:t}),"logo"===s&&(0,i.jsx)(tC,{editor:n,selection:t}),"flex"===s&&!0!==o&&null!==o&&(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"0j+RGO"}),icon:D.ecg,children:(0,i.jsx)(k.e,{dir:"ltr",spacing:0,size:"sm",onMouseDown:N.Fw,_empty:{display:"none"},children:tr.gj.map(e=>{let{key:a,name:r,shortcut:l,icon:s,apply:o,checkActive:c}=e;if(!n||!o||!c)return null;let d=c(n);return(0,i.jsx)(H.I,{shortcut:l,icon:s,label:r(),onClick:()=>{o(n),n.chain().setNodeSelection(t.from).run()},isActive:d,testId:a},a)})})})]}),(0,i.jsx)(e8,{label:(0,i.jsx)(R.x6,{id:"cnGeoo"}),icon:D.yLS,colorScheme:"red",onClick:d})]})})},predicate:e=>e instanceof o.nh&&(0,g.Pb)(e.node),isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,a=n.node.attrs;return(0,i.jsxs)(k.e,{spacing:2,size:"sm",flex:"row",alignItems:"center",children:[(0,i.jsx)(F,{editor:t,attrs:a,selection:n}),(0,i.jsx)(B.a,{color:a.color||void 0,setColor:e=>{t.chain().focus().updateAttributes("calloutBox",{color:e}).selectNodeAtPos(n.from).run()},editor:t,analyticsSource:"CalloutBox"}),(0,i.jsx)(T.q,{}),(0,i.jsx)(O.G,{editor:t})]})},predicate:e=>e instanceof o.nh&&"calloutBox"===e.node.type.name},{component:e=>{let{editor:t,selection:n}=e,a=n.node.type.name,{fullWidthBlock:r}=t.getAttributes(a),l=(0,c.useCallback)(e=>{var n,i;e.stopPropagation(),null==(n=(i=t.commands).editSelectedDrawingBlock)||n.call(i)},[t]);return(0,i.jsxs)(k.e,{spacing:0,size:"sm",alignItems:"center",dir:"ltr",children:[tr.gj.map(e=>{let{name:n,icon:l,checkActive:s,apply:o}=e;if(s&&o)return(0,i.jsx)(H.I,{label:n(),icon:l,onClick:()=>{o(t),r&&t.commands.updateAttributes(a,{fullWidthBlock:!1})},isActive:!r&&s(t)},n())}),(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"ePK91l"}),icon:D.MT7,onClick:l}),(0,i.jsx)(T.q,{}),(0,i.jsx)(O.G,{editor:t})]})},predicate:e=>e instanceof o.nh&&("drawing"===e.node.type.name||"diagram"===e.node.type.name)},{component:e=>{let{editor:t,selection:n,decorations:a}=e,{templateKey:l}=n.node.attrs,s=(0,nW.FV)(l),o=(0,nW.HF)(l);return o&&s?(0,i.jsxs)(r.z,{spacing:2,children:[(0,i.jsxs)(r.z,{spacing:1,px:2,py:1,borderRadius:"md",children:[s.icon&&(0,i.jsx)(M.g,{icon:s.icon,fixedWidth:!0}),(0,i.jsx)(W.E,{fontSize:"sm",fontWeight:"medium",color:"gray.700",children:s.label()})]}),(0,i.jsx)(T.q,{}),(0,i.jsx)(o,{editor:t,selection:n,decorations:a})]}):null},predicate:e=>e instanceof o.nh&&"smartDiagram"===e.node.type.name&&e.node.attrs.templateKey},{component:e=>{let{editor:t,selection:n}=e,{fullWidthBlock:a}=n.node.attrs,l=(0,tD.f)(),s=(0,c.useCallback)(e=>{t.view.focus(),l({isOpen:!0}),e.stopPropagation()},[t,l]),o=(0,tk.Q)(t),d=(0,g.qK)(n.$from);return(0,i.jsxs)(r.z,{spacing:0,children:[!d&&!o&&(0,i.jsxs)(e9.s,{dir:"ltr",children:[tr.gj.map(e=>{let{name:r,icon:l,checkActive:s,apply:o}=e;if(s&&o)return(0,i.jsx)(H.I,{label:r(),icon:l,onClick:()=>{o(t),a&&t.commands.updateAttributes(n.node.type.name,{fullWidthBlock:!1})},isActive:!a&&s(t)},r())}),(0,i.jsx)(T.q,{})]}),(0,i.jsxs)(k.e,{spacing:0,size:"sm",alignItems:"center",children:[(0,i.jsxs)(i.Fragment,{children:[d&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(nd,{editor:t,label:_.Ru._({id:"+v0hYZ"}),icon:D.Qyz}),(0,i.jsx)(T.q,{})]}),(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"ePK91l"}),icon:D.MT7,onClick:s,testId:"edit-button"})]}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(T.q,{}),(0,i.jsx)(O.G,{editor:t})]})]})]})},predicate:e=>e instanceof o.nh&&"mediaPlaceholder"===e.node.type.name},{component:e=>{let{editor:t,selection:n}=e,l=n.node.attrs,{resize:s,fullWidthBlock:o,id:d,src:p,tempUrl:h,href:m,clickBehavior:x}=l,{isInOfflineMode:f}=(0,q.u)(),{enterZoom:b}=(0,tE.RL)(d),y=(0,tD.f)(),v=(0,c.useCallback)(e=>{t.view.focus(),y({isOpen:!0}),e.stopPropagation()},[t,y]),C=(0,$.u)("disableRemoveBackground"),w=(0,A.gk)(x),j=(0,c.useCallback)(e=>{t.commands.updateAttributes(eQ._V.name,{clickBehavior:e})},[t]),S=(0,c.useCallback)(e=>{t.commands.updateAttributes(eQ._V.name,{href:e})},[t]),{setCropClipType:L,confirmCrop:I,cancelCrop:E,startCrop:z,resetCrop:T}=(0,tS.E)(t),P=(0,u.GV)(eQ.$k),F=(0,c.useCallback)(()=>{(0,g.wG)(n)},[n]),B=(0,tk.Q)(t),O=(0,g.qK)(n.$from),V=(0,ez.SV)(p||h),W=(0,ez.v7)(p||h),U=!O&&!B&&!W,G=!V&&!C&&!W,Z=(0,u.GV)((0,eQ.iZ)(d)),{startRemoveBg:K,isRemovingBg:Q}=(0,tL.D)({editor:t,id:d}),J=!!((null==s?void 0:s.clipPath)&&(null==s?void 0:s.clipType)),Y=(0,eI.l)(l),X=(0,c.useCallback)(()=>{Q&&eQ.RR.emit("cancelRemoveBg",{id:d}),t.chain().deleteSelectionAndSelectNear().run()},[t,d,Q]),ee=(0,c.useMemo)(()=>[{key:"zoom",ariaLabel:_.Ru._({id:"ACjxWW"}),label:(0,i.jsx)(R.x6,{id:"ACjxWW"}),action:b,icon:D.bMI},{key:"addComment",ariaLabel:_.Ru._({id:"oFsfkI"}),label:(0,i.jsx)(R.x6,{id:"oFsfkI"}),action:F,icon:D.DN2,isHidden:B,isDisabled:f},{key:"crop",ariaLabel:_.Ru._({id:"qKx+US"}),label:(0,i.jsx)(R.x6,{id:"qKx+US"}),action:()=>{z({id:d,clipType:null==s?void 0:s.clipType})},icon:D.K1P,isHidden:!U,isDisabled:Q},{key:"removeBackground",canRemoveBackground:G,ariaLabel:_.Ru._({id:"YOCRHt"}),label:(0,i.jsxs)(e9.s,{alignItems:"center",justifyContent:"center",children:[(0,i.jsx)(R.x6,{id:"ylbfBl"}),(0,i.jsx)(tj.G,{type:"removeBackground",ms:2,color:"gray.400"})]}),customIcon:(0,i.jsxs)(a.a,{as:"span",className:"fa-layers fa-fw",children:[(0,i.jsx)(M.g,{icon:D.sAw,size:"lg"}),(0,i.jsx)(M.g,{icon:tA.X46,size:"xs",transform:"shrink-5"})]}),action:K,isHidden:!G||Y,isDisabled:f,isLoading:Q},{key:"ai",customButton:(0,i.jsx)(eE.a,{editor:t,attrs:l,variant:"plain",height:"100%"},"ai"),isHidden:!Y,ariaLabel:_.Ru._({id:"EVnzPs"}),label:(0,i.jsx)(R.x6,{id:"EVnzPs"}),action:()=>{}},{key:"editGallery",ariaLabel:_.Ru._({id:"ATVjaW"}),label:(0,i.jsx)(R.x6,{id:"+v0hYZ"}),action:()=>{t.chain().selectParentNode().run()},icon:D.Qyz,isHidden:!O},{key:"edit",ariaLabel:_.Ru._({id:"ePK91l"}),label:(0,i.jsx)(R.x6,{id:"ePK91l"}),action:v,icon:D.MT7}],[F,G,U,v,t,b,d,B,O,f,Q,null==s?void 0:s.clipType,z,K,Y,l]);return(0,i.jsxs)(tt,{children:[!Z&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ni,{buttonList:ee}),(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"0j+RGO"}),icon:D.ecg,isHidden:!U,children:(0,i.jsx)(k.e,{dir:"ltr",spacing:0,size:"sm",onMouseDown:N.Fw,children:tr.gj.map(e=>{let{name:n,key:a,icon:r,shortcut:l,checkActive:c,apply:d}=e;if(c&&d)return(0,i.jsx)(H.I,{label:n(),shortcut:l,isActive:!o&&c(t),onClick:()=>{d(t),o&&t.commands.updateAttributes(eQ._V.name,{fullWidthBlock:!1,resize:{...s,width:null}})},isDisabled:Q,icon:r,testId:a,my:0},a)})})}),(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"S58tkK"}),icon:nl[w],children:(0,i.jsx)(tN,{currentClickBehavior:w,handleClickBehaviorChange:j,enableNoClickBehavior:!0,canAddLink:!0})}),"newTab"===w&&(0,i.jsx)(nt,{editor:t,href:m||"",updateHref:S,clearHref:()=>{S("")}}),(0,i.jsx)(e8,{label:(0,i.jsx)(R.x6,{id:"cnGeoo"}),icon:D.yLS,onClick:X,colorScheme:"red",secondaryLabel:(0,tI.bT)(n.node)?(0,i.jsx)(R.x6,{id:"5eaf8Z"}):void 0,secondaryAction:(0,tI.bT)(n.node)?()=>(0,tI.LQ)(t):void 0,secondaryIcon:(0,tI.bT)(n.node)?D.ub2:void 0})]}),U&&Z&&(0,i.jsxs)(r.z,{alignSelf:"stretch",my:-3,mx:-2,zIndex:"menu",children:[(0,i.jsx)(nr,{clipType:P,onChange:e=>{L({clipType:e})}}),(0,i.jsxs)(k.e,{spacing:0,size:"sm",alignItems:"center",children:[(0,i.jsx)(H.I,{label:(0,i.jsx)(R.x6,{id:"6Z0nnS"}),icon:D.ub2,isDisabled:!J,onClick:()=>{T({id:d})},my:0}),(0,i.jsx)(H.I,{color:"red.500",label:(0,i.jsx)(R.x6,{id:"7Bn152"}),icon:D.Jyw,onClick:()=>{E({id:d})},my:0}),(0,i.jsx)(H.I,{color:"green.500",label:(0,i.jsx)(R.x6,{id:"ryQtQS"}),icon:D.e68,onClick:()=>{I({id:d})},my:0})]})]})]})},predicate:e=>e instanceof o.nh&&"image"===e.node.type.name,isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,a=(0,V.d)(),r=(0,tD.f)(),l=(0,c.useCallback)(e=>{t.view.focus(),r({isOpen:!0}),e.stopPropagation()},[t,r]),s=(0,c.useCallback)(()=>{t.chain().deleteSelectionAndSelectNear().run()},[t]),o=(0,c.useCallback)(e=>{"none"!==e&&t.commands.updateAttributes(n.node.type.name,{clickBehavior:e})},[t,n]),d=(0,c.useCallback)(e=>{let r="embed.custom";(0,tF.Yq)(e,e=>{r=e.source||r,(0,nk.vI)({editor:t,selection:n,attrs:e,sourceKey:r})}).catch(e=>{a.isActive(nL)||a({id:nL,title:(0,i.jsx)(R.x6,{id:"MWOB3g"}),description:(0,i.jsx)(R.x6,{id:"iEFpL0"}),status:"error",position:"top",duration:3e3,isClosable:!0}),console.error("[caught] EmbedVideoFormattingMenu error fetching URL",e)})},[t,a,n]),u=t.getAttributes(n.node.type.name),p="displayStyle"in u&&u.displayStyle||"inline",h=(0,A.Zj)(u),m=(0,g.qK)(n.$from),x="video"===n.node.type.name,f=(0,A.eb)(u,"preview"===p&&!m),b=u.source?(0,nS.B)(u.source):null,y="inline"===p&&(x||(null==b?void 0:b.inlineInteractive))&&!m;return(0,i.jsxs)(tt,{children:[!m&&(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"/SVg/B"}),icon:"inline"===p?D.c9S:D.$qH,children:(0,i.jsx)(nA,{editor:t,selection:n})}),(0,i.jsx)(nt,{href:h||"",updateHref:d,editor:t,isEmbedLink:!0}),!y&&(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"S58tkK"}),icon:"newTab"===f?D.Ju_:D.bMI,children:(0,i.jsx)(tN,{currentClickBehavior:f,handleClickBehaviorChange:o})}),(0,i.jsx)(e8,{label:(0,i.jsx)(R.x6,{id:"cnGeoo"}),icon:D.yLS,onClick:s,colorScheme:"red",secondaryAction:l,secondaryIcon:D.BH7,secondaryLabel:(0,i.jsx)(R.x6,{id:"sxkWRg"})})]})},predicate:e=>e instanceof o.nh&&(0,A._Y)(e.node),isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,{nested:a}=n.node.attrs;return(0,i.jsxs)(k.e,{spacing:0,size:"sm",children:[(0,i.jsx)(H.I,{testId:"toc-top-level-cards",label:(0,i.jsx)(R.x6,{id:"RiLgqi"}),icon:D.ITF,onClick:()=>{t.commands.updateAttributes("tableOfContents",{nested:!1})},isActive:!a}),(0,i.jsx)(H.I,{testId:"toc-nested-cards",label:(0,i.jsx)(R.x6,{id:"nTkST4"}),icon:D.QLL,onClick:()=>{t.commands.updateAttributes("tableOfContents",{nested:!0})},isActive:a})]})},predicate:e=>e instanceof o.nh&&"tableOfContents"===e.node.type.name},{component:e=>{let{editor:t}=e,{showTime:n=!0,hiddenContributorIds:a=[]}=t.getAttributes("contributors"),r=(0,u.GV)(b.zB)||[],{toggleShowTime:s,toggleOneVisibleContributor:o,toggleAllVisibleContributors:d}=function(e){let t=(0,c.useCallback)(()=>{e.commands.toggleShowTime()},[e]);return{toggleShowTime:t,toggleOneVisibleContributor:(0,c.useCallback)(t=>{e.commands.toggleOneContributorVisibility(t)},[e]),toggleAllVisibleContributors:(0,c.useCallback)(()=>{e.commands.toggleAllContributorsVisibility()},[e])}}(t),p=r.length>1,h=(0,c.useCallback)(()=>{t.chain().deleteSelectionAndSelectNear().run()},[t]);return(0,i.jsxs)(tt,{children:[(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"0j+RGO"}),icon:D.ecg,children:(0,i.jsx)(tl,{editor:t})}),(0,i.jsx)(e7,{label:(0,i.jsx)(R.x6,{id:"4ep6pq"}),icon:D.a$,children:(0,i.jsx)(e3.d,{isChecked:n,onChange:s})}),p&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(te,{}),(0,i.jsx)(tu,{contributors:r,hasMultipleContributors:p,hiddenContributorIds:a,toggleOneVisibleContributor:o,toggleAllVisibleContributors:d})]}),(0,i.jsxs)(W.E,{fontSize:"xs",color:"gray.600",textAlign:"center",children:[(0,i.jsx)(R.x6,{id:"Xqn2KO"})," ",(0,i.jsx)(l.qT,{label:(0,i.jsx)(R.x6,{id:"CYpThg"})})]}),(0,i.jsx)(e8,{label:(0,i.jsx)(R.x6,{id:"cnGeoo"}),icon:D.yLS,colorScheme:"red",onClick:h})]})},predicate:e=>e instanceof o.nh&&"contributors"===e.node.type.name,isPopover:!0},{component:i4,predicate:e=>e instanceof o.U3}],i9=[{component:nj,predicate:(e,t)=>{var n,i;let a=null==(n=document)?void 0:n.activeElement,r=!!(null==a?void 0:a.closest('[data-active-menu="navigation"]')),l=!!(null==a?void 0:a.closest("[data-navbar-editor]"));return(r||l)&&t.isActive("button")&&!!t.isSiteNavbarEditor&&!t.multipageEnabled&&!(null==(i=document)?void 0:i.querySelector("[".concat(m.hu,"]")))},isPopover:!0}],i7={backgroundColor:"white",shadow:"lg"},i8=e=>{let{editor:t,scrollingParentSelector:n,menuContext:o,appendToSelector:p}=e;(0,j.lC)(t);let{hideTooltips:h,GammaTooltipHiderContext:g}=(0,l.ku)(),m=(0,u.GV)(b.Du),x=(0,u.GV)(d.Vt),f=t.state.selection,v=!m&&("navigation"===o?i9:i3).find(e=>e.predicate(f,t,x)),C=[];try{(0,s.BQ)(t.state.selection)&&(C=(0,y.j5)(t,t.state.selection.from))}catch(e){console.error("[FormattingMenu] unable to find decorations at ".concat(t.state.selection.from),e.message)}let A=(0,c.useMemo)(()=>({maxWidth:"none",zIndex:"var(--chakra-zIndices-popover)",placement:"top",appendTo:p?()=>document.querySelector(p):void 0,popperOptions:{modifiers:[{name:"flip",options:{fallbackPlacements:["top","top-start","top-end","bottom","bottom-start","bottom-end"]}},{name:"preventOverflow",options:{boundary:n?document.querySelector(n):void 0,altAxis:!0}}]}}),[n,p]),k="navigation"===o?"navigation":"editor";return(0,i.jsx)(g,{children:(0,i.jsx)(l.L8,{isDark:!1,children:(0,i.jsxs)(w,{editor:t,onHide:h,tippyOptions:A,children:[v&&v.isPopover&&(0,i.jsx)(tg,{"data-in-editor-focus":!0,"data-active-menu":k,"data-testid":"formatting-menu",fontFamily:"body",children:(0,i.jsx)(v.component,{editor:t,selection:f,decorations:C})}),v&&!v.isPopover&&(0,i.jsx)(a.a,{"data-active-menu":k,borderRadius:"xl",...i7,w:"auto",minW:"0px",h:"fit-content",position:"relative",bottom:v.offsetPx?"".concat(v.offsetPx,"px"):"0","data-in-editor-focus":!0,"data-testid":"formatting-menu",fontFamily:"body",children:(0,i.jsx)(r.z,{spacing:3,px:2,minH:10,children:(0,i.jsx)(v.component,{editor:t,selection:f,decorations:C})})})]})})})}},45574:(e,t,n)=>{"use strict";n.d(t,{Df:()=>a.Df,Ki:()=>a.Ki,Q8:()=>i.Q,XJ:()=>a.XJ,bY:()=>a.bY,um:()=>a.um,wH:()=>a.wH,wt:()=>a.wt,yK:()=>a.yK});var i=n(14812),a=n(16595)},45611:(e,t,n)=>{"use strict";n.d(t,{K:()=>g,e:()=>d});var i=n(29614),a=n(90047),r=n(47512),l=n(73099),s=n(98088),o=n(82927),c=n(95011);let d=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{e=e.replace(/<icon([^>]*?)\/?\s*>/gi,"<icon$1></icon>");let d=new DOMParser().parseFromString(e,"text/html");if(p(d),t.removeImagesFromLayouts){var n;u(d,(null==(n=t.imageOptions)?void 0:n.provider)||"aiGenerated"),h(d)}let g=(0,o.gx)(),m=(0,l.h)(d,"img[searches], img[query], icon[query]").map(async e=>{var n,r,l,s,o,d,u,p,h;if(e.getAttribute("bookmark"))return;let m=e.getAttribute("query")||e.getAttribute("prompt")||"",x=null==(n=t.imageOptions)?void 0:n.generateStyle,f=null==(r=t.imageOptions)?void 0:r.stylePreset,b=null==(l=t.imageOptions)?void 0:l.artStylePreset,y=null==(s=t.imageOptions)?void 0:s.artStylePrompt,v=null==(o=t.imageOptions)?void 0:o.visualsMenuEnabled,C="icon"===e.tagName.toLowerCase()||"icon"===e.getAttribute("type"),w="web"==e.getAttribute("provider")?"web":"aiGenerated",A=(null==(d=t.imageOptions)?void 0:d.provider)=="auto"?w:null==(u=t.imageOptions)?void 0:u.provider,j=(0,a.e)({query:m,provider:C?"fontawesome":A||"web",license:null==(p=t.imageOptions)?void 0:p.license,model:null==(h=t.imageOptions)?void 0:h.model,stylePrompt:x,stylePreset:f,artStylePreset:b,artStylePrompt:y,visualsMenuEnabled:v}),k=new c.t,S=t.loadImages?await (0,a.a)({loadImageId:j.loadImageId,loadImageParams:j.loadImageParams,context:{workspaceId:g},imageStore:k}):{};e.setAttribute(i.A,JSON.stringify({...j,...S}))}),x=(0,l.h)(d,"smart-diagram[prompt]").map(async e=>{let t=e.getAttribute("prompt"),n=e.getAttribute("variant"),a=e.getAttribute("language");if(!t||!n)return void console.warn("Smart diagram missing prompt or variant",e);if(!(0,r.aK)(n))return void console.warn("Invalid smart diagram variant",n);let l=(0,s.z)();e.setAttribute(i.A,JSON.stringify({id:l,aiGenerateParams:{prompt:t,language:a||void 0},aiGenerateStatus:"queued",templateKey:n}))});return await Promise.all([...m,...x]),d.body.innerHTML}catch(t){return console.error("Error transforming AI HTML",t),e}},u=(e,t)=>{if("none"===t)return void e.querySelectorAll('img:not([type="icon"])').forEach(e=>{e.hasAttribute("src")||e.remove()})},p=e=>{let t=e.getElementsByTagName("*");for(let e=0;e<t.length;e++){let n=t[e],i=n.style.textAlign;n.removeAttribute("style"),i&&(n.style.textAlign=i)}},h=e=>{e.querySelectorAll("section").forEach(e=>{if(!e.querySelector("div.body"))return;let t=e.querySelector(":scope > img:not(.accent-image)");t&&t.classList.add("accent-image")})},g=e=>{try{let t=e.getAttribute(i.A);return JSON.parse(t||"")}catch(t){return console.error("[Image] Error parsing ".concat(i.A," attrs"),e,t),!1}}},45943:(e,t,n)=>{"use strict";n.d(t,{Mu:()=>h,kf:()=>m,tE:()=>g});var i=n(37243),a=n(15902),r=n(63867),l=n(15607),s=n(15577),o=n(70006),c=n(23513),d=n(9893),u=n(37327);let p=e=>"gallery"===e.type.name,h=(e,t,n)=>{var d;let h=f(n);if(h.length>0)return h.forEach(t=>{let{mark:n}=t;(0,u.E0)(n)||(0,u.uI)(n.attrs.href,e)}),!1;let m=null==(d=t.clipboardData)?void 0:d.getData("text/plain");if(!m||!g(m))return!1;let{selection:b}=e.state;if(b instanceof r.U3&&!b.empty)return t.preventDefault(),x(e,m),!0;if(m.match(o.D_)||(0,s.Zj)(m))return!1;if(!e.schema.nodes.embed)return(0,u.uI)(m,e),!1;let y=b instanceof a.n,v=b.empty&&["paragraph","heading","title"].includes(b.$from.parent.type.name)&&(0,l.Op)(b.$from.parent),C=p(b.$from.parent),w=(0,i.BQ)(b)&&p(b.node);if(!(v||C||w||y))return!1;let A=b.from-1,j=w?{from:b.to-1,to:b.to-1}:v?{from:A,to:A+b.$from.parent.nodeSize}:{from:b.from,to:b.to};return e.chain().setTextSelection(j).insertEmbedAndFetchMetadata(m,void 0,!0).command(e=>{let{tr:t}=e,n=(0,c.i)(t);return n&&t.setSelection(n),!0}).run(),!0},g=e=>(0,s.Se)(e)&&!e.includes("\n")&&(0,s.AY)(e),m=e=>1===e.content.childCount&&e.content.firstChild.isTextblock&&g(e.content.firstChild.textContent),x=(e,t)=>{e.commands.setMark(d.N.name,{href:t}),(0,u.uI)(t,e)},f=e=>{let t=[];return e.content.descendants((e,n)=>{e.marks.filter(e=>"link"===e.type.name).forEach(e=>{t.push({mark:e,pos:n})})}),t}},46510:(e,t,n)=>{"use strict";n.d(t,{M5:()=>c,Vk:()=>l,rj:()=>s,wC:()=>o});var i=n(23460),a=n(19297);let r=e=>{var t;let{view:n,event:i}=e,a=null==(t=n.posAtCoords({left:i.clientX,top:i.clientY}))?void 0:t.inside;if(!a||-1==a)return null;let{doc:r}=n.state,l=r.nodeAt(a);return{pos:a,node:l}},l=(e,t,n)=>{var l;if(n&&!(0,a.Ny)(n,e.state.schema)||!((null==(l=t.target)?void 0:l.hasAttribute("data-media-node-wrapper"))||(0,i.xX)(t.target,e.dom,e=>e.hasAttribute("data-media-node-wrapper"))))return null;let o=r({view:e,event:t});if(!o||n&&n.content.firstChild===o.node)return null;let c=s(t.target,e);return c&&o.node?{pos:o.pos,node:o.node,side:c}:null},s=(e,t)=>{let n=(0,i.GE)(e,t.dom,"data-media-add-side");return null==n?void 0:n.getAttribute("data-media-add-side")},o=e=>{let{side:t,pasteContent:n,node:i}=e;return{type:"gridLayout",content:[{type:"gridCell",content:"left"===t?n:[i.toJSON()]},{type:"gridCell",content:"left"===t?[i.toJSON()]:n}]}},c=e=>{let{side:t,node:n}=e;return"left"===t?2:n.nodeSize+4}},46617:(e,t,n)=>{"use strict";n.d(t,{BM:()=>r,ZS:()=>i,eK:()=>a});let i=4,a={type:"gridCell",content:[{type:"paragraph"}]},r="gridLayout"},46675:(e,t,n)=>{"use strict";n.d(t,{HT:()=>c,Wz:()=>p,lz:()=>u});var i=n(94289),a=n(63867),r=n(97255),l=n(96197),s=n(48413),o=n(14503);class c extends a.LN{map(e,t){let n=e.resolve(t.map(this.$anchorCell.pos)),i=e.resolve(t.map(this.$headCell.pos));if((0,o.NH)(n)&&(0,o.NH)(i)&&(0,o.kV)(n,i)){let e=this.$anchorCell.node(-1)!=n.node(-1);return e&&this.isRowSelection()?c.rowSelection(n,i):e&&this.isColSelection()?c.colSelection(n,i):new c(n,i)}return a.U3.between(n,i)}content(){let e=this.$anchorCell.node(-1),t=s.J.get(e),n=this.$anchorCell.start(-1),a=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),r={},l=[];for(let n=a.top;n<a.bottom;n++){let s=[];for(let i=n*t.width+a.left,l=a.left;l<a.right;l++,i++){let n=t.map[i];if(!r[n]){r[n]=!0;let i=t.findCell(n),l=e.nodeAt(n),c=a.left-i.left,d=i.right-a.right;if(c>0||d>0){let e=l.attrs;c>0&&(e=(0,o.Pn)(e,0,c)),d>0&&(e=(0,o.Pn)(e,e.colspan-d,d)),l=i.left<a.left?l.type.createAndFill(e):l.type.create(e,l.content)}if(i.top<a.top||i.bottom>a.bottom){let e=(0,o.ob)(l.attrs,"rowspan",Math.min(i.bottom,a.bottom)-Math.max(i.top,a.top));l=i.top<a.top?l.type.createAndFill(e):l.type.create(e,l.content)}s.push(l)}}l.push(e.child(n).copy(i.FK.from(s)))}let c=this.isColSelection()&&this.isRowSelection()?e:l;return new i.Ji(i.FK.from(c),1,1)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Ji.empty,n=e.steps.length,r=this.ranges;if(0===t.size){if(this.isSelectingAllCells())return void(0,l.CG)(this,e);if(this.isRowSelection())return void(0,l.QN)(this,e);if(this.isColSelection())return void(0,l.Kl)(this,e)}for(let a=0;a<r.length;a++){let{$from:l,$to:s}=r[a],o=e.mapping.slice(n);e.replace(o.map(l.pos),o.map(s.pos),a?i.Ji.empty:t)}let s=a.LN.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,t){this.replace(e,new i.Ji(i.FK.from(t),0,0))}getTableNode(){return this.$anchorCell.node(-1)}isSelectingAllCells(){return s.J.get(this.$anchorCell.node(-1)).map.length===this.ranges.length}everyCell(e){let t=!0;return this.forEachCell((n,i)=>{e(n,i)||(t=!1)}),t}forEachCell(e){let t=this.$anchorCell.node(-1),n=s.J.get(t),i=this.$anchorCell.start(-1),a=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let n=0;n<a.length;n++)e(t.nodeAt(a[n]),i+a[n])}isColSelection(){let e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);return!(Math.min(e,t)>0)&&Math.max(e+this.$anchorCell.nodeAfter.attrs.rowspan,t+this.$headCell.nodeAfter.attrs.rowspan)==this.$headCell.node(-1).childCount}static colSelection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=s.J.get(e.node(-1)),i=e.start(-1),a=n.findCell(e.pos-i),r=n.findCell(t.pos-i),l=e.node(0);return a.top<=r.top?(a.top>0&&(e=l.resolve(i+n.map[a.left])),r.bottom<n.height&&(t=l.resolve(i+n.map[n.width*(n.height-1)+r.right-1]))):(r.top>0&&(t=l.resolve(i+n.map[r.left])),a.bottom<n.height&&(e=l.resolve(i+n.map[n.width*(n.height-1)+a.right-1]))),new c(e,t)}isRowSelection(){let e=s.J.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),i=e.colCount(this.$headCell.pos-t);return!(Math.min(n,i)>0)&&Math.max(n+this.$anchorCell.nodeAfter.attrs.colspan,i+this.$headCell.nodeAfter.attrs.colspan)==e.width}eq(e){return e instanceof c&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=s.J.get(e.node(-1)),i=e.start(-1),a=n.findCell(e.pos-i),r=n.findCell(t.pos-i),l=e.node(0);return a.left<=r.left?(a.left>0&&(e=l.resolve(i+n.map[a.top*n.width])),r.right<n.width&&(t=l.resolve(i+n.map[n.width*(r.top+1)-1]))):(r.left>0&&(t=l.resolve(i+n.map[r.top*n.width])),a.right<n.width&&(e=l.resolve(i+n.map[n.width*(a.top+1)-1]))),new c(e,t)}toJSON(){return{type:"CellSelection2",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new c(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return new c(e.resolve(t),e.resolve(n))}getBookmark(){return new d(this.$anchorCell.pos,this.$headCell.pos)}constructor(e,t=e){let n=e.node(-1),i=s.J.get(n),r=e.start(-1),l=i.rectBetween(e.pos-r,t.pos-r),o=e.node(0),c=i.cellsInRect(l).filter(e=>e!=t.pos-r);c.unshift(t.pos-r);let d=c.map(e=>{let t=n.nodeAt(e),i=e+r+1;return new a.yn(o.resolve(i),o.resolve(i+t.content.size))});super(d[0].$from,d[0].$to,d),this.$anchorCell=e,this.$headCell=t,this.$anchorCell=e,this.$headCell=t}}if(!c.prototype.jsonID)try{a.LN.jsonID("CellSelection2",c)}catch(e){}class d{map(e){return new d(e.map(this.anchor),e.map(this.head))}resolve(e){let t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&(0,o.kV)(t,n)?new c(t,n):a.LN.near(n,1)}constructor(e,t){this.anchor=e,this.head=t,this.anchor=e,this.head=t}}function u(e){if(!(e.selection instanceof c))return null;let t=[];return e.selection.forEachCell((e,n)=>{t.push(r.NZ.node(n,n+e.nodeSize,{class:"selectedCell"}))}),r.zF.create(e.doc,t)}function p(e,t,n){let i,r,l=(t||e).selection,o=(t||e).doc;if(l instanceof a.nh&&(r=l.node.type.spec.tableRole)){if("cell"==r||"header_cell"==r)i=c.create(o,l.from);else if("row"==r){let e=o.resolve(l.from+1);i=c.rowSelection(e,e)}else if(!n){let e=s.J.get(l.node),t=l.from+1,n=t+e.map[e.width*e.height-1];i=c.create(o,t+1,n)}}else l instanceof a.U3&&function(e){let{$from:t,$to:n}=e;if(t.pos==n.pos||t.pos<t.pos-6)return!1;let i=t.pos,a=n.pos,r=t.depth;for(;r>=0&&!(t.after(r+1)<t.end(r));r--,i++);for(let e=n.depth;e>=0&&!(n.before(e+1)>n.start(e));e--,a--);return i==a&&/row|table/.test(t.node(r).type.spec.tableRole)}(l)?i=a.U3.create(o,l.from):l instanceof a.U3&&function(e){let t,n,{$from:i,$to:a}=e;for(let e=i.depth;e>0;e--){let n=i.node(e);if("cell"===n.type.spec.tableRole||"header_cell"===n.type.spec.tableRole){t=n;break}}for(let e=a.depth;e>0;e--){let t=a.node(e);if("cell"===t.type.spec.tableRole||"header_cell"===t.type.spec.tableRole){n=t;break}}return t!==n&&0===a.parentOffset}(l)&&(i=a.U3.create(o,l.$from.start(),l.$from.end()));return i&&(t||(t=e.tr)).setSelection(i),t}},46875:(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var i=n(58809),a=n(89942),r=n(15342);let l=()=>{let e=(0,r.GV)(i.Jo);return(0,a.ez)("card_margin_elements",null==e?void 0:e.organization)}},46957:(e,t,n)=>{"use strict";n.d(t,{R$:()=>s,w_:()=>r,z0:()=>l});var i=n(68301);n(6845);let a=(e,t)=>{let n=e.filter(e=>Object.keys(e.spec).length>0),i=t.filter(e=>Object.keys(e.spec).length>0),a=n.map(e=>JSON.stringify(e.spec)),r=i.map(e=>JSON.stringify(e.spec));return{removed:a.filter(e=>!r.includes(e)),added:r.filter(e=>!a.includes(e))}},r=(e,t)=>{let n=e.filter(e=>Object.keys(e.spec).length>0),i=t.filter(e=>Object.keys(e.spec).length>0);return n.length!==i.length||JSON.stringify(n.map(e=>e.spec))!==JSON.stringify(i.map(e=>e.spec))},l=e=>{let{newNode:t,oldNode:n,updateProps:l,oldDecorations:s,newDecorations:o}=e;if(JSON.stringify(t.attrs)!==JSON.stringify(n.attrs))return l(),!0;if(r(s,o)){if(i.of.get("debugLogging")){let e=a(s,o);console.debug("============== decos ================"),console.debug("decos changed",t.type.name),e.removed.length>0&&console.debug("%c  decos removed: ".concat(e.removed.join(" ")," "),"color: red"),e.added.length>0&&console.debug("%c  decos added:   ".concat(e.added.join(" ")," "),"color: green")}l()}return!0},s=e=>{let{newNode:t,oldNode:n,updateProps:i}=e;return t.content.childCount!==n.content.childCount?(i(),!0):l(e)}},46979:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var i=n(81498);class a{get data(){if(this._data)return this._data;let e=this.findIndices();if(e.labelsOnly){let t=this.source.columns.slice(e.from.column,e.to.column+1);return new i.h({columns:t,rows:[],cells:[]})}let t=this.source.rows.slice(e.from.row,e.to.row+1),n=this.source.columns.slice(e.from.column,e.to.column+1),a=t.flatMap(e=>n.map(t=>this.source.getCell({row:e.id,column:t.id}))).filter(e=>!!e);return new i.h({rows:t,columns:n,cells:a})}clear(){let e=this.findIndices(),{rows:t,columns:n}=this.source;for(let i=e.from.column;i<=e.to.column;i++){let a=n[i];if(this.includesLabels&&(a.label=""),!e.labelsOnly)for(let n=e.from.row;n<=e.to.row;n++){let e=t[n],i=this.source.getCell({row:e.id,column:a.id});i?i.clear():this.source.setEmptyCell(e,a)}}}includes(e){if("isLabel"in e)return this.includesLabelCell(e.column);let t=this.findIndices(),n=this.source.findCellIndex(e);return!!n&&!t.labelsOnly&&!!(t.from.row<=n.row)&&!!(t.to.row>=n.row)&&!!(t.from.column<=n.column)&&!!(t.to.column>=n.column)}includesLabelCell(e){if(!this.includesLabels)return!1;let t=this.source.columns.findIndex(t=>{let{id:n}=t;return n===e});if(t<0)return!1;let n=this.findIndices();return n.from.column<=t&&n.to.column>=t}findIndices(){let{rows:e,columns:t}=this.source,n=t.findIndex(e=>{let{id:t}=e;return t===this.from.column}),i=t.findIndex(e=>{let{id:t}=e;return t===this.to.column});if(!this.to.row)return{from:{column:n},to:{column:i},labelsOnly:!0};let a=e.findIndex(e=>{let{id:t}=e;return t===this.from.row}),r=e.findIndex(e=>{let{id:t}=e;return t===this.to.row});if(-1!==[a,r,n,i].indexOf(-1))throw Error("Invalid range");return{from:{row:a,column:n},to:{row:r,column:i},labelsOnly:!1}}static nonEmpty(e){function t(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.getLines(t);for(let t=n?i.length-1:0;t!==(n?-1:i.length);n?t--:t++){let n=i[t];if(!n.isEmpty(e))return n}return null}let n=t("row"),i=t("row",!0),a=t("column"),r=t("column",!0);return n&&i&&a&&r?new this(e,{row:n.id,column:a.id},{row:i.id,column:r.id},!0):null}constructor(e,t,n,i=!1){this.source=e,this.from=t,this.to=n,this.includesLabels=i,this._data=void 0}}},47314:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});let i=e=>Array.from(new DOMParser().parseFromString(e,"text/html").body.childNodes).some(e=>1===e.nodeType)},47512:(e,t,n)=>{"use strict";n.d(t,{cy:()=>nO,HF:()=>nU,FV:()=>nW,aK:()=>nG});var i=n(6029),a=n(99492),r=n(77650),l=n(55729);let s=(e,t)=>{let n,{stepNumber:i,generalNumber:a}=e;if(null!==i&&t.step?n=t.step[i]:null!==a&&t.general&&(n=t.general[a]),n)return function(e,t){return e.image&&!e.icon&&"icon"===t?{...e,icon:e.image,image:void 0}:e}(n,e.type)},o=e=>{var t,n;let i=(null==(t=e.step)?void 0:t.some(e=>null==e?void 0:e.isEmphasized))||!1,a=(null==(n=e.general)?void 0:n.some(e=>null==e?void 0:e.isEmphasized))||!1;return i||a},c=(e,t)=>{let n=s(e,t);return(null==n?void 0:n.isEmphasized)||!1},d=(e,t)=>{let n=s(e,t);if(!n)return;let{type:i}=e;switch(i){case"text":return n.text;case"icon":return n.icon||n.image;case"image":return n.image;default:return""}},u=e=>{let{stepNumber:t,generalNumber:n,type:i}=e;return"number"!=typeof t||isNaN(t)?"number"!=typeof n||isNaN(n)?"":"general.".concat(n,".").concat(i):"step.".concat(t,".").concat(i)},p=(e,t)=>{let{stepNumber:n}=e;return!("number"!=typeof n||isNaN(n))&&t.startsWith("step.".concat(n))},h={text:void 0,icon:void 0,image:void 0},g=(e,t,n)=>{let{stepNumber:i,generalNumber:a,type:r}=e,l={...t};if(null!==i){for(l.step||(l.step=[]);l.step.length<=i;)l.step.push(void 0);l.step[i]||(l.step[i]=h),m(l.step[i],r,n)}if(null!==a){for(l.general||(l.general=[]);l.general.length<=a;)l.general.push(void 0);l.general[a]||(l.general[a]=h),m(l.general[a],r,n)}return l};function m(e,t,n){switch(t){case"text":e.text=n;break;case"icon":e.icon={source:"image.icon",src:n},e.image&&(e.image=void 0);break;case"image":e.image={source:"image",src:n}}}let x=e=>{let t=Array.from(e).find(e=>e.startsWith("step-")),n=Array.from(e).find(e=>e.startsWith("general-"));return{stepNumber:t?parseInt(t.split("-")[1])-1:null,generalNumber:n?parseInt(n.split("-")[1])-1:null}},f=(e,t)=>{let n=nW(e);if(!n||!j(n))return!1;let{stepSvgData:i}=n;return!!i&&!!t.step&&t.step.length<A(i).max},b=(e,t)=>{let n=nW(e);if(!n||!j(n))return!1;let{stepSvgData:i}=n;return!!i&&!!t.step&&t.step.length>A(i).min},y=e=>{let t=nW(e);return!!t&&!!j(t)&&t.canToggleIcons},v=(e,t)=>{let n={...e};if(e.step){let i=[...e.step],a=i.some(e=>null==e?void 0:e.text),r=i.some(e=>(null==e?void 0:e.icon)||(null==e?void 0:e.image));i.splice(t,0,{text:a?"<p>Item</p>":void 0,icon:r?{source:"image.icon",src:""}:void 0,color:void 0,isEmphasized:!1}),n.step=i}return n},C=(e,t)=>{let n={...e};if(e.step){let i=[...e.step];i.splice(t,1),n.step=i}return n},w=e=>{let t=Math.min(...e.keys()),n=Math.max(...e.keys());return{step:Array.from({length:t===n?t:Math.floor((t+n)*3/4)},()=>h),general:[]}},A=e=>({min:Math.min(...e.keys()),max:Math.max(...e.keys())}),j=e=>"stepSvgData"in e&&void 0!==e.stepSvgData;var k=n(58959),S=n(49611),L=n(48621),I=n(19564),E=n(95889),D=n(92685),M=n(61204),R=n(70615),_=n(74471),z=n(66082),N=n(68917),T=n(48810),P=n(29810),H=n(33612),F=n.n(H),B=n(94297),O=n(12180),V=n(15342),W=n(14300),U=n(62452),G=n(2681),Z=n(43634);let K=e=>{let{selected:t,onChange:n,steps:s=5,templateKey:o}=e,{defaultColorScheme:c}=nW(o),d=(0,V.GV)(Z.SJ),u=(0,U.Ik)((0,U.VH)(d)),p=Array(s).fill(0).map((e,t)=>t),h=(0,l.useMemo)(()=>Object.fromEntries(Object.entries(O.fA).map(e=>{let[t,{label:n}]=e;return[t,{label:n,scale:(0,B.M)(u,p,t)}]})),[u,s]);t&&!h[t]&&(t=void 0);let g=r.Ru._({id:"ovBPCi"});return(0,i.jsxs)(G.ms,{isLazy:!0,children:[(0,i.jsx)(G.gf,{as:S.$,variant:"toolbar",size:"sm",boxShadow:"none",leftIcon:(0,i.jsx)(L.g,{icon:a.fyG}),rightIcon:(0,i.jsx)(N.D,{}),children:t?h[t].label():g}),(0,i.jsx)(G.Q5,{zIndex:"modalPopover",children:Object.entries({default:{...h[O.gb],label:()=>g},...h}).map(e=>{let[a,{label:r,scale:l}]=e;return 1.5>[...l.values()].map(e=>F().readability(e,u)).reduce((e,t)=>Math.max(e,t),0)&&a!==t?null:(0,i.jsx)(G.tJ,{onClick:()=>{n("default"===a?c:a)},children:(0,i.jsxs)(k.z,{children:[(0,i.jsx)(T.E,{children:r()}),(0,i.jsx)(P.h,{}),"default"!==a&&(0,i.jsx)(Q,{scale:l,data:p})]})},a)})})]})},Q=e=>{let{scale:t,data:n}=e;return(0,i.jsx)(k.z,{spacing:1,children:n.map(e=>(0,i.jsx)(W.V,{color:t.get(e),size:W.E.small,tooltipIsDisabled:!0},e))})},q=e=>{let{editor:t,selection:n,children:a}=e,r=n.node.type.name,{fullWidthBlock:l}=t.getAttributes(r),{templateKey:s,data:o}=n.node.attrs;return(0,i.jsxs)(M.e,{spacing:0,size:"sm",alignItems:"center",dir:"ltr",children:[z.gj.map(e=>{let{name:n,icon:a,checkActive:o,apply:c}=e;if(o&&c)return(0,i.jsx)(_.I,{label:n(),icon:a,onClick:()=>{c(t),l&&t.commands.updateAttributes(r,{fullWidthBlock:!1}),E.zS.track(E.VV.SMART_DIAGRAM_ALIGNMENT_CHANGED,{templateKey:s,alignmentType:n(),previousFullWidth:l})},isActive:!l&&o(t)},n())}),(0,i.jsx)(D.q,{}),(0,i.jsx)(K,{selected:o.colorScheme,onChange:e=>{t.commands.updateAttributes(r,{data:{...o,colorScheme:e}}),E.zS.track(E.VV.SMART_DIAGRAM_COLOR_SCHEME_CHANGED,{templateKey:s,previousColorScheme:o.colorScheme,newColorScheme:e})},steps:5,templateKey:s}),(0,i.jsx)(D.q,{}),a,(0,i.jsx)(R.G,{editor:t})]})},J=e=>{let{editor:t,decorations:n,selection:r}=e,{data:s,templateKey:o,showIcons:c}=r.node.attrs,d=(0,l.useCallback)(e=>{try{let n=e({...s});t.commands.updateAttributesAtPos(r.from,{data:n})}catch(e){console.error("Error updating smart diagram data",e)}},[s,t.commands,r.from]),u=e=>{var t;d(t=>v(t,e)),E.zS.track(E.VV.SMART_DIAGRAM_STEPS_UPDATED,{templateKey:o,action:"add",stepIndex:e,totalSteps:(null==(t=s.steps)?void 0:t.length)||0})},p=e=>{var t;d(t=>C(t,e)),E.zS.track(E.VV.SMART_DIAGRAM_STEPS_UPDATED,{templateKey:o,action:"remove",stepIndex:e,totalSteps:(null==(t=s.steps)?void 0:t.length)||0})},h=(0,l.useCallback)(()=>{t.commands.updateAttributesAtPos(r.from,{showIcons:!c}),E.zS.track(E.VV.SMART_DIAGRAM_ICONS_TOGGLED,{templateKey:o,showIcons:!c})},[t.commands,r.from,c,o]),g=f(o,s),m=b(o,s),x=y(o);return(0,i.jsxs)(q,{editor:t,selection:r,decorations:n,children:[x&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.z,{ps:2,children:(0,i.jsx)(S.$,{size:"sm",variant:"toolbar",onClick:()=>h(),leftIcon:(0,i.jsx)(L.g,{icon:a.cCs}),children:c?(0,i.jsx)(I.x6,{id:"dBrmK7"}):(0,i.jsx)(I.x6,{id:"TMFk/9"})})}),(0,i.jsx)(D.q,{})]}),(0,i.jsxs)(k.z,{ps:2,children:[(0,i.jsx)(S.$,{size:"sm",disabled:!g,variant:"toolbar",onClick:()=>u(0),leftIcon:(0,i.jsx)(L.g,{icon:a.q_k}),children:(0,i.jsx)(I.x6,{id:"xK4Xoz"})}),(0,i.jsx)(S.$,{size:"sm",disabled:!m,variant:"toolbar",onClick:()=>p(0),leftIcon:(0,i.jsx)(L.g,{icon:a.mGv}),children:(0,i.jsx)(I.x6,{id:"pUON+Q"})}),(0,i.jsx)(D.q,{})]})]})};var $=n(40452),Y=n(41427),X=n(5061),ee=n(43607);let et=()=>(0,i.jsx)("text",{x:0,y:0,fontSize:"0",fill:"transparent",style:{opacity:0},"aria-hidden":"true",tabIndex:-1,children:"​ "},"focus-absorber");var en=n(26420),ei=n(21938),ea=n(33750),er=n.n(ea),el=n(5872),es=n(45002),eo=n(8266),ec=n(29608),ed=n(7915);let eu=(e,t)=>({color:"var(--body-color)",".pptx-exporting-image":{".smart-diagram-textbox":{visibility:"hidden"}},".smart-diagram-wrapper":{"foreignObject *":(0,ec.nr)()?{position:"static !important"}:void 0,".smart-diagram-textbox":{position:"relative",height:"100%",paddingX:"0.25em",display:"flex",flexDirection:"column",outlineWidth:"1px",outlineStyle:"none",outlineColor:"var(--grid-outline-color)",cursor:"text","> div:not(.drag-handle)":{display:"contents"},".ProseMirror":{width:"100%",height:"100%",display:"flex",flexDirection:"column",gap:"0.5rem","--flex-align":"var(--horizontal-align)",alignItems:"var(--horizontal-align)",justifyContent:"var(--vertical-align)","--line-height-body":"1.25",".block":{my:"0rem",width:"100%"}}},".block-heading, .block-title":{...(0,eo.hQ)(e).tight,"*":{overflowWrap:"break-word",wordBreak:"normal"}},".block-paragraph":{...(0,eo.xC)(e).tight,"*":{overflowWrap:"break-word",wordBreak:"normal"}},["&.is-focused, &:hover, &[".concat(ed.y,"]")]:t?{".smart-diagram-textbox, .smart-diagram-selection-box":{outlineStyle:"solid"}}:void 0}}),ep=e=>{let{children:t,svgWidthPercent:n=100,...a}=e,{isNodeSelected:r,editor:l,selectNode:s,updateResizeAttrs:o,attrs:c,alignDirection:d,isEditable:u,layoutContainerSize:p}=a,h=(0,ee.FX)(),g=n?er()(n/100/Math.min(p,1),0,1):1,{ref:m,setIsResizing:x,resizeableSx:f}=(0,es.Y3)(l),b=eu(h,u),y=(0,z.yp)(c.horizontalAlign);return(0,i.jsx)($.s,{dir:d,w:"100%",className:el.S,css:y,sx:{...f,...b},direction:"column",onMouseDown:s,children:(0,i.jsxs)(en.a,{ref:m,className:(0,ei.cx)("smart-diagram-wrapper",r?"is-focused":""),"data-drag-handle":!0,"data-content-reference":!0,"data-selection-ring":!0,w:c.width?"calc((".concat(c.width," * var(--font-size) / 16) * ").concat(g,")"):"calc(".concat(100*g,"% * var(--media-scale))"),maxW:"100%",position:"relative",children:[u&&r&&(0,i.jsx)(es.u4,{imageWrapperRef:m,setIsResizing:x,updateResizeAttrs:e=>{var t;let n=null!=(t=e.width)?t:c.width;n&&o({...c,...e,width:n/g})},refreshDeps:[c]}),t]})})};var eh=n(45214);let eg={SUBTLE_IMAGE:".subtle.image",SUBTLE_TEXT:".subtle.textbox",ACCENT_TEXT:".accent.textbox",ACCENT_IMAGE:".accent.image",BODY_TEXT:".card.textbox",LINE:".line",ACCENT_NO_BORDER:".accent.no-border",ACCENT_DIM:".accent.dim",ACCENT_LIGHT:".accent.light",ACCENT:".accent",SUBTLE_LIGHT:".subtle.light",SUBTLE_DIM:".subtle.dim",SUBTLE:".subtle",NEUTRAL:".neutral"},em={[eg.SUBTLE_IMAGE]:eh.lR,[eg.SUBTLE_TEXT]:eh.lR,[eg.ACCENT_NO_BORDER]:(0,ei.cx)(eh._B),[eg.ACCENT_DIM]:(0,ei.cx)(eh.lX,eh.D6),[eg.ACCENT_LIGHT]:(0,ei.cx)(eh.to,eh.D6),[eg.ACCENT]:(0,ei.cx)(eh._B,eh.D6),[eg.SUBTLE]:eh.D6,[eg.SUBTLE_DIM]:eh.iZ,[eg.SUBTLE_LIGHT]:eh.Eb,[eg.LINE]:eh.fu,[eg.ACCENT_TEXT]:eh.ok,[eg.ACCENT_IMAGE]:eh.ok,[eg.BODY_TEXT]:eh.VN,[eg.NEUTRAL]:eh.Xj},ex={...em,[eg.ACCENT_NO_BORDER]:(0,ei.cx)(eh.bo),[eg.ACCENT_DIM]:(0,ei.cx)(eh.Kh,eh._Z),[eg.ACCENT_LIGHT]:(0,ei.cx)(eh.Ax,eh._Z),[eg.ACCENT]:(0,ei.cx)(eh.bo,eh._Z),[eg.SUBTLE]:eh._Z},ef=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ltr";for(let n of Object.values(eg))if(e.matches(n)){let i=em[n];if("rtl"===t&&eb(e))return ex[n];return i}return""},eb=e=>["path","circle","ellipse","rect","polygon","polyline"].includes(e.tagName.toLowerCase());var ey=n(69837);let ev=e=>{let{x:t,y:n,width:a,height:r,image:l,iconSize:s=2,isEditable:o,selectItem:c,className:d,style:u}=e;return(0,i.jsx)("g",{style:u,children:(0,i.jsx)("foreignObject",{x:t,y:n,width:a,height:r,style:{overflow:"visible"},children:(0,i.jsx)(en.a,{width:"100%",height:"100%",className:d,css:{fill:"var(--body-color)"},children:(0,i.jsx)(ey.R,{image:l||null,selectCell:o?c:void 0,iconSize:s,boxProps:{w:"100%",h:"100%"}})})})})},eC=e=>{let{element:t,id:n,data:a,isEditable:r,selectItem:l,dataLookupInfo:s,isNodeSelected:p,selectedKeyPath:h}=e,g=parseFloat(t.getAttribute("x")||"0"),m=parseFloat(t.getAttribute("y")||"0"),x=parseFloat(t.getAttribute("width")||"0"),f=parseFloat(t.getAttribute("height")||"0"),b=x<50?x:50,y=f<50?f:50;if("icon"!==s.type)return{component:null};let v=d(s,a),C=u(s),w=p&&h===C,A=o(a),j=1;A&&(c(s,a)||(j=.5));let k=ef(t);return{component:(0,i.jsx)(ev,{id:n,x:g+(x-b)/2,y:m+(f-y)/2,width:b,height:y,image:v,isEditable:r,selectItem:()=>{l(C)},isItemSelected:w,style:1!==j?{opacity:j}:void 0,className:k},C)}};var ew=n(58495),eA=n(89703),ej=n(21982),ek=n(60908),eS=n(70021);let eL=e=>{let t=e.tagName.toLowerCase();return"circle"===t?"circle":"rect"===t?"rect":"path"===t?"path":"unknown"},eI=e=>{switch(eL(e)){case"circle":{let t=parseFloat(e.getAttribute("cx")||"0"),n=parseFloat(e.getAttribute("cy")||"0"),i=parseFloat(e.getAttribute("r")||"0");return{type:"circle",x:t-i,y:n-i,width:2*i,height:2*i,clipPath:'<circle cx="'.concat(t,'" cy="').concat(n,'" r="').concat(i,'" />')}}case"path":{let t=e.getAttribute("d")||"",n=function(e){let[t,n,i,a]=(0,eS.J)(e);return{x:t,y:n,width:i-t,height:a-n}}(t);return{type:"path",x:n.x,y:n.y,width:n.width,height:n.height,clipPath:'<path d="'.concat(t,'" />')}}default:return{type:"rect",x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0"),clipPath:void 0}}},eE=e=>{let t,{bodyColor:n,element:r,id:l,data:s,isEditable:o,selectItem:c,dataLookupInfo:p,isNodeSelected:h,selectedKeyPath:g}=e,m=u(p),x=e=>{null==e||e.stopPropagation(),c(m),setTimeout(()=>{(0,eA.G)(!1)},30)},f=eI(r),{x:b,y,width:v,height:C,clipPath:w}=f,A=d(p,s),j=(null==A?void 0:A.src)?(0,ek.pO)(A.src,n):null==A?void 0:A.src,k=null==A?void 0:A.loadImageStatus,S="queued"===k||"loading"===k,I=null==A?void 0:A.src,E=w?"clip-".concat((0,ew.Ak)(8)):void 0;return(w&&E&&(t=(0,i.jsxs)("clipPath",{id:E,children:["circle"===f.type&&(0,i.jsx)("circle",{cx:f.x+f.width/2,cy:f.y+f.height/2,r:f.width/2}),"path"===f.type&&(0,i.jsx)("path",{d:r.getAttribute("d")||""}),"rect"===f.type&&(0,i.jsx)("rect",{x:f.x,y:f.y,width:f.width,height:f.height})]},E)),S||!I&&"error"!==k)?{component:(0,i.jsx)("foreignObject",{x:b,y:y,width:v,height:C,style:{overflow:"visible"},clipPath:w?"url(#".concat(E,")"):void 0,children:(0,i.jsx)(ej.Pf,{width:v,height:C,isLoading:S,loadingProvider:"aiGenerated",cursor:o?"pointer":"default",onClick:o?x:void 0})},"loading-".concat(m)),clipPathDef:t}:{component:(0,i.jsxs)("g",{children:[(0,i.jsx)("image",{x:b,y:y,width:v,height:C,href:j||"",preserveAspectRatio:"xMidYMid slice",clipPath:w?"url(#".concat(E,")"):void 0},"image-".concat(l)),o&&(0,i.jsx)("foreignObject",{x:b,y:y,width:v,height:C,style:{overflow:"visible"},children:(0,i.jsx)(en.a,{className:(0,ei.cx)("image"),h:"100%",w:"100%",role:"group",pos:"relative",onMouseDown:e=>{o&&x(e)},children:(0,i.jsx)(en.a,{bg:"var(--placeholder-button-bg-color)",color:"var(--placeholder-button-text-color)",opacity:+!I,_groupHover:{opacity:1},pos:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"2em",p:"0.5em",borderRadius:"md",cursor:"pointer",children:(0,i.jsx)(L.g,{icon:a.cCs,fixedWidth:!0})})})})]}),clipPathDef:t}};var eD=n(94740),eM=n(59272),eR=n(12514),e_=n(18078),ez=n(55597),eN=n(35883),eT=n(61679),eP=n(54958),eH=n(62257),eF=n.n(eH),eB=n(216),eO=n(43216);let eV=(0,l.forwardRef)((e,t)=>{let{handlePlacement:n="outside",onClick:a,isSelected:r}=e,s=(0,V.GV)(Z.nD),o=(0,X.fW)(),c=(0,l.useCallback)(e=>{},[]);return s?(0,i.jsx)(eB.u,{ref:t,isSelected:r,isVisible:!0,onClick:a,onDragStart:c,...(0,eO.T)(o)[n],...eF()}):null});eV.displayName="SelectionHandle";let eW=e=>{let{hasFocus:t,onClickHandle:n,stepAttributes:s,updateStep:o,children:c,editor:d,selectItem:p,dataLookupInfo:h}=e,g=(0,eA.f)(),m=!!d,x=null==s?void 0:s.icon,f=!!(null==x?void 0:x.src),b=(0,l.useMemo)(()=>x?(0,eT.D)(x.source)?"icon":"image":"icon",[x]),y=(0,l.useCallback)(()=>{o&&o({icon:null,image:null})},[o]),v=(0,l.useCallback)(e=>{p&&h?(p(u({...h,type:"icon"})),d&&d.view.focus(),g({isOpen:!0}),e.stopPropagation()):d&&(d.view.focus(),g({isOpen:!0}),e.stopPropagation())},[p,h,d,g]);return(0,i.jsxs)(eD.A,{isOpen:t,autoFocus:!1,closeOnBlur:!1,closeOnEsc:!1,placement:"top",children:[(0,i.jsx)(eM.d,{children:(0,i.jsx)(eV,{handlePlacement:"top",onClick:n,isSelected:t})}),(0,i.jsx)(eR.Z,{children:(0,i.jsx)(e_.h,{width:"fit-content",children:(0,i.jsxs)(k.z,{"data-in-editor-focus":!0,children:[d&&(0,i.jsx)(_.I,{onClick:()=>{if(d&&d.state.selection instanceof eP.n){let e=d.state.selection.anchor;d.commands.selectNodeAtPos(e)}},label:r.Ru._({id:"yGxcio"}),children:(0,i.jsx)(L.g,{icon:a.Hmw,flip:"horizontal"})}),(0,i.jsx)(D.q,{}),(0,i.jsx)(eN.a,{color:null==s?void 0:s.color,setColor:e=>{null==o||o({color:e}),E.zS.track(E.VV.SMART_DIAGRAM_OPTION_UPDATED,{optionType:"elementColor",previousValue:null==s?void 0:s.color,newValue:e})},analyticsSource:"SmartDiagram"}),(0,i.jsx)(_.I,{label:r.Ru._({id:"m1crrt"}),onClick:()=>{let e=!(null==s?void 0:s.isEmphasized);null==o||o({isEmphasized:e}),E.zS.track(E.VV.SMART_DIAGRAM_OPTION_UPDATED,{optionType:"elementEmphasis",previousValue:null==s?void 0:s.isEmphasized,newValue:e})},icon:(null==s?void 0:s.isEmphasized)?ez.yy:a.yy,isActive:!1,"data-in-editor-focus":!0}),m&&(0,i.jsxs)(i.Fragment,{children:[f?(0,i.jsx)(_.I,{label:"icon"===b?(0,i.jsx)(I.x6,{id:"JE/4q/"}):(0,i.jsx)(I.x6,{id:"9IrgTy"}),icon:"icon"===b?a.cCs:a.MT7,onClick:v,"data-in-editor-focus":!0}):(0,i.jsx)(_.I,{label:"icon"===b?(0,i.jsx)(I.x6,{id:"1SYZRR"}):(0,i.jsx)(I.x6,{id:"pVb3uA"}),icon:"icon"===b?a.cCs:a.Cyq,onClick:v,"data-in-editor-focus":!0}),f&&(0,i.jsx)(_.I,{label:"icon"===b?(0,i.jsx)(I.x6,{id:"+4mjS6"}):(0,i.jsx)(I.x6,{id:"EyVcag"}),icon:a.K3F,color:"red.500",onClick:y,"data-in-editor-focus":!0})]}),c]})})})]})},eU=e=>{let{x:t,y:n,width:a,height:r,isEditable:l,selectItem:s,selectItemWithKeyPath:o,isItemSelected:c,isStepSelected:d,stepAttributes:u,updateStep:p,formattingMenuItems:h,editor:g,dataLookupInfo:m}=e;return(0,i.jsxs)("foreignObject",{x:t,y:n,width:a,height:r,style:{overflow:"visible"},children:[(0,i.jsx)(en.a,{width:"100%",height:"100%",onMouseDown:e=>{l&&(s(),e.stopPropagation())},borderRadius:"var(--box-border-radius)",css:{outlineStyle:c||d?"solid":"none",outlineColor:c?"var(--chakra-colors-trueblue-300)":"var(--grid-outline-color)",outlineWidth:c?"2px":"1px"},className:"smart-diagram-selection-box"}),c&&(0,i.jsx)(eW,{hasFocus:c,onClickHandle:s,stepAttributes:u,updateStep:p,editor:g,selectItem:o,dataLookupInfo:m,children:h})]})},eG=e=>{let{element:t,id:n,data:a,editor:r,isEditable:l,updateData:o,selectItem:c,dataLookupInfo:d,isNodeSelected:h,selectedKeyPath:g,modifyingFns:m}=e,x=parseFloat(t.getAttribute("x")||"0"),f=parseFloat(t.getAttribute("y")||"0"),b=parseFloat(t.getAttribute("width")||"0"),y=parseFloat(t.getAttribute("height")||"0");if("selection"!==d.type)return{component:null};let v=!h&&g===u(d),C=!!g&&p(d,g),w=s(d,a);return{component:(0,i.jsx)(eU,{id:n,x:x,y:f,width:b,height:y,isEditable:l,selectItem:()=>{c(u(d))},selectItemWithKeyPath:c,isItemSelected:v,isStepSelected:C,stepAttributes:w||void 0,updateStep:e=>{o(t=>{let{stepNumber:n,generalNumber:i}=d;return!0===e.isEmphasized?(t.step&&(t.step=t.step.map((e,t)=>({...e,isEmphasized:t===n}))),t.general&&(t.general=t.general.map((e,t)=>({...e,isEmphasized:t===i})))):(null!==n&&t.step&&(t.step=[...t.step],t.step[n]={...t.step[n],...e}),null!==i&&t.general&&(t.general=[...t.general],t.general[i]={...t.general[i],...e})),t})},editor:r,dataLookupInfo:d,formattingMenuItems:(0,i.jsx)(eZ,{canAddStep:m.canAddStep,canRemoveStep:m.canRemoveStep,addStep:m.addStep,removeStep:m.removeStep,dataLookupInfo:d})},u(d))}},eZ=e=>{let{canAddStep:t,canRemoveStep:n,addStep:r,removeStep:l,dataLookupInfo:s}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(D.q,{}),(0,i.jsx)(S.$,{disabled:!t,size:"sm",variant:"toolbar",onClick:()=>null!==s.stepNumber&&r(s.stepNumber),leftIcon:(0,i.jsx)(L.g,{icon:a.q_k}),ms:2,children:(0,i.jsx)(I.x6,{id:"hfkdR8"})}),(0,i.jsx)(S.$,{disabled:!t,size:"sm",variant:"toolbar",onClick:()=>null!==s.stepNumber&&r(s.stepNumber+1),leftIcon:(0,i.jsx)(L.g,{icon:a.q_k}),children:(0,i.jsx)(I.x6,{id:"Y1oj5r"})}),(0,i.jsx)(D.q,{}),(0,i.jsx)(_.I,{disabled:!n,label:(0,i.jsx)(I.x6,{id:"cnGeoo"}),onClick:()=>l(s.stepNumber),icon:a.yLS,color:"red.500"})]})};var eK=n(50535),eQ=n(80039),eq=n(89122),eJ=n(47412),e$=n(37243),eY=n(15902),eX=n(36464),e0=n(2426),e1=n(41896),e2=n(63902),e4=n(6046),e5=n(15253);let e6=e=>{let{editor:t}=e;return(0,e2.oR)()?(0,i.jsx)(e5.N,{editor:t}):(0,i.jsx)(e4.$,{editor:t})};var e3=n(11403),e9=n(8763);let e7=e$.YY.create({name:"smartDiagramKeyboard",addOptions:()=>({parentEditor:null}),addKeyboardShortcuts(){let{parentEditor:e}=this.options;return{"Mod-z":()=>null==e?void 0:e.commands.undo(),"Mod-y":()=>null==e?void 0:e.commands.redo()}}}),e8=e=>{let{className:t,selectItem:n,onChange:a,editable:r,parentEditor:s,direction:o="ltr",...c}=e,d=(0,l.useMemo)(()=>[...(0,e9.D)(),...s?[e7.configure({parentEditor:s})]:[]],[s]),u=(0,e3.lW)(a,500),p=(0,e1.hG)({extensions:d,...c,onUpdate(e){let{editor:t,transaction:n}=e;n.docChanged&&(n.getMeta("history$")||u({editor:t}))},onBlur:e=>{let{event:t}=e;t.relatedTarget instanceof HTMLElement&&t.relatedTarget.closest("[data-active-menu]")||p.commands.forceHideBubbleMenu(!0)},onFocus:()=>{p.commands.forceHideBubbleMenu(!1),setTimeout(()=>{s&&s.state.selection instanceof eY.n&&s.view.focus()},100)}}),h=p.view.hasFocus();p.shouldUseLiteMenus=!0,(0,l.useEffect)(()=>{p&&void 0!==c.content&&p.getHTML()!==c.content&&p.commands.setContent(c.content)},[c.content,p]),(0,l.useEffect)(()=>{p.setEditable(!!r)},[r,p]);let g=(0,l.useRef)(null),m=(0,l.useMemo)(()=>(function(e){var t;let n=e0.dX.getState(e.state);return(null==n?void 0:n.forceHide)!==!0&&((null==n||null==(t=n.tippyInstance)?void 0:t.state.isVisible)===!0||document.body.classList.contains("formatting-menu-open"))})(p),[p.state]);return(0,eq.j)({enabled:m&&r,ref:g,handler:e=>{e.target.closest("[data-active-menu]")||p.commands.forceHideBubbleMenu(!0)}}),(0,i.jsxs)($.s,{ref:g,dir:o,direction:"column",w:"100%",h:"100%",className:(0,ei.cx)("smart-diagram-textbox",t),borderRadius:"var(--box-border-radius)",justifyContent:"center",alignItems:"center",onMouseDown:e=>{n(),e.stopPropagation()},style:{outlineColor:h?"var(--chakra-ring-color)":void 0,outlineWidth:h?"2px":void 0},children:[(0,i.jsx)(e6,{editor:p}),(0,i.jsx)(eJ.L8,{isDark:!1,children:(0,i.jsx)(eX.Ht,{editor:p,appendToSelector:".smart-diagram-wrapper:focus-within"})})]})},te=e=>{let{x:t,y:n,width:a,height:r,style:l,...s}=e;return(0,i.jsx)("g",{style:l,children:(0,i.jsx)("foreignObject",{x:t,y:n,width:a,height:r,style:{overflow:"visible"},children:(0,i.jsx)(tn,{...s})})})},tt=(e,t)=>{if("rtl"===t){if("left"===e)return"right";if("right"===e)return"left"}return e},tn=e=>{let{text:t,isEditable:n,onUpdate:a,horizontalAlignClass:r="center",verticalAlignClass:l="middle",textDirection:s="ltr",selectItem:o,parentEditor:c,isItemSelected:d,fontSize:u="".concat(18,"px"),...p}=e,h=(0,eQ.lI)(l),g=tt(r,s),m={...(0,z.yp)(g,s),...(0,z.AS)(g,s),"--vertical-align":h};return(0,i.jsx)($.s,{direction:"column",w:"100%",h:"100%",css:m,justifyContent:"stretch",...p,className:(0,ei.cx)(n?"is-editable":""),fontSize:u,style:{transform:"rtl"===s?"scaleX(-1)":void 0},children:(0,i.jsx)(e8,{content:t,onChange:e=>{let{editor:t}=e,n=t.state.doc.content;a((0,eK.$R)(n,t.schema))},className:p.className,editable:n,selectItem:o,isItemSelected:d,parentEditor:c,direction:s})})},ti=e=>{let t=e.classList;return t.contains("right")?"right":t.contains("left")?"left":"center"},ta=e=>{let t=e.classList;return t.contains("top")?"start":t.contains("bottom")?"end":"middle"},tr=e=>{let{element:t,id:n,data:a,isEditable:r,updateData:l,selectItem:s,dataLookupInfo:p,parentEditor:h,isNodeSelected:m,selectedKeyPath:x,direction:f="ltr"}=e,b=parseFloat(t.getAttribute("x")||"0"),y=parseFloat(t.getAttribute("y")||"0"),v=parseFloat(t.getAttribute("width")||"0"),C=parseFloat(t.getAttribute("height")||"0"),w=ef(t),A=ti(t),j=ta(t);if("text"!==p.type)return{component:null};let k=d(p,a),S=u(p),L=m&&x===S,I=o(a),E=1;return I&&(c(p,a)||(E=.5)),{component:(0,i.jsx)(te,{id:n,x:b,y:y,width:v,height:C,text:k||"",isEditable:r,onUpdate:e=>{l(t=>g(p,t,e))},className:w,selectItem:()=>{s(S)},parentEditor:h,isItemSelected:L,horizontalAlignClass:A,verticalAlignClass:j,textDirection:f,style:1!==E?{opacity:E}:void 0},S)}};var tl=n(96177),ts=n(30892);let to=e=>{if(!e)return{x:void 0,y:void 0,width:void 0,height:void 0};let[t,n,i,a]=e.split(" ").map(parseFloat);return{x:t,y:n,width:i,height:a}},tc=e=>{if(!e)return null;let t=new DOMParser().parseFromString(e,"image/svg+xml").documentElement,n=t.getAttribute("viewBox")||void 0,{width:i,height:a}=to(n);return{element:t,props:{viewBox:n,width:i,height:a,preserveAspectRatio:"xMidYMid meet",overflow:"visible"}}},td=e=>{let t={};return Array.from(e.attributes).forEach(e=>{if("fill"===e.name)return;let n="class"===e.name?"className":e.name;["x","y","width","height","cx","cy","r","x1","y1","x2","y2","opacity","fill-opacity","stroke-width"].includes(e.name)?t[n]=parseFloat(e.value):("style"===e.name||"class"===e.name||e.name,t[n]=e.value)}),t},tu=e=>e instanceof SVGElement&&e.className&&"object"==typeof e.className?e.className.baseVal||"":e.className||"",tp=(e,t)=>[...new Set(Array.from(e.querySelectorAll('[class*="'.concat(t,'-"]'))).map(e=>{let n=tu(e).match(new RegExp("".concat(t,"-(\\d+)")));return n?parseInt(n[1]):0}).filter(e=>e>0))].sort((e,t)=>e-t),th=e=>tp(e,"step"),tg=e=>tp(e,"general"),tm=(e,t,n,i,a,r,l)=>{let s;t.length&&(r&&(s=(0,B.M)(n,t,r,{lightnessRange:l})),t.forEach(t=>{let n=".".concat(a,"-").concat(t),r=e.querySelector(n);if(r){let e=r.querySelectorAll(i),n=s?s.get(t):void 0;n?e.forEach(e=>{let t=tu(e),i=n;t.includes("light")?i=(0,ts.Zt)(n,5):t.includes("dim")&&(i=(0,ts.Zt)(n,-5)),e.style.setProperty("--shape-bg-color-override",i)}):e.forEach(e=>{e.style.getPropertyValue("--shape-bg-color-override")&&(e.style.removeProperty("--shape-bg-color-override"),0===e.style.length&&e.removeAttribute("style"))})}}))},tx=(e,t,n,i,a,r)=>{tm(e,t,n,i,"step",a,r)},tf=(e,t,n,i,a,r)=>{tm(e,t,n,i,"general",a,r)},tb=e=>{let{svgElement:t,theme:n,colorScheme:i}=e,a=(0,U.Ik)((0,U.VH)(n)),r=(0,U.kJ)(n),l=th(t),s=tg(t),o=".accent:not(.textbox):not(.image):not(.selection)",c=".background:not(.textbox):not(.image):not(.selection)",d="monochrome"===i?tA(a):void 0,u="monochrome"===i?tA(r):void 0;return tx(t,l,a,o,i,d),tf(t,s,a,o,i,d),tx(t,l,r,c,i,u),tf(t,s,r,c,i,u),t},ty=e=>{if(!e)return{};let t={};return e.split(";").forEach(e=>{let[n,i]=e.split(":");t[n]=i}),t},tv=(e,t,n,i)=>{let a,r={...e},l=e.className||"";if(l.includes("accent")&&!l.includes("textbox")&&!l.includes("image")&&!l.includes("selection")){var s,o,c,d;null!==n&&(null==(o=t.step)||null==(s=o[n])?void 0:s.color)?a=(0,tl.q9)(t.step[n].color):null!==i&&(null==(d=t.general)||null==(c=d[i])?void 0:c.color)&&(a=(0,tl.q9)(t.general[i].color))}return a&&(l.includes("light")?a["--shape-bg-color-override"]=(0,ts.Zt)(a["--shape-bg-color-override"],5):l.includes("dim")&&(a["--shape-bg-color-override"]=(0,ts.Zt)(a["--shape-bg-color-override"],-5)),r.style={...r.style,...a}),r},tC=(e,t,n,i)=>{let a,r={...e};if(o(t)&&(null!==n||null!==i)&&!c({stepNumber:n,generalNumber:i,type:"selection"},t)){var l;let t=1;(null==(l=r.style)?void 0:l.opacity)&&(t=parseFloat(r.style.opacity.toString())),void 0!==e.opacity&&(t=parseFloat(e.opacity.toString())),void 0!==e.fillOpacity&&(t=parseFloat(e.fillOpacity.toString())),a=.5*t}return void 0!==a&&(r.style={...r.style,opacity:a},void 0===r.fillOpacity&&(r.fillOpacity=a),void 0===r.strokeOpacity&&(r.strokeOpacity=a)),r},tw=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=to(e);return(null==i?void 0:i.height)&&i.width&&!n?Math.min(i.width/1e3*t*100,100):100},tA=e=>.5>(0,ts.VU)(e)?{min:15,max:55}:{min:55,max:95},tj=e=>{if("rect"!==e.tagName.toLowerCase())return!1;if(e.classList.contains("icon"))return!0;let t=e.getAttribute("width");return!(!t||isNaN(Number(t))||0>=Number(t))&&e.classList.contains("image")&&100>Number(t)},tk=e=>{let{nodes:t,data:n,isEditable:a,updateData:r,defaultFontSize:s,viewBoxWidth:o,viewBoxHeight:c,selectItem:d,editor:u,isNodeSelected:p,selectedKeyPath:h,modifyingFns:g,direction:m="ltr",globalSelectionElements:f,globalInteractiveElements:b,bodyColor:y,globalClipPathDefs:v}=e,C=[],w=f||[],A=b||[],j=v||[];return(Array.from(t).forEach((e,t)=>{if(e.nodeType!==Node.ELEMENT_NODE)return;let i=e.tagName.toLowerCase(),f=e.id,{stepNumber:b,generalNumber:v}=x(e.classList);if("rect"===i&&e.classList.contains("selection"))return void w.push(eG({element:e,id:f,data:n,isEditable:a,updateData:r,selectItem:d,isNodeSelected:p,selectedKeyPath:h,dataLookupInfo:{stepNumber:b,generalNumber:v,type:"selection"},modifyingFns:g,editor:u}).component);if("rect"===i&&e.classList.contains("textbox"))return void A.push(tr({element:e,id:f,data:n,isEditable:a,updateData:r,dataLookupInfo:{stepNumber:b,generalNumber:v,type:"text"},selectItem:d,isNodeSelected:p,selectedKeyPath:h,parentEditor:u,direction:m}).component);if("rect"===i&&tj(e))return void A.push(eC({element:e,id:f,data:n,isEditable:a,selectItem:d,dataLookupInfo:{stepNumber:b,generalNumber:v,type:"icon"},isNodeSelected:p,selectedKeyPath:h}).component);if(e.classList.contains("image")){let{component:t,clipPathDef:i}=eE({element:e,id:f,data:n,isEditable:a,selectItem:d,dataLookupInfo:{stepNumber:b,generalNumber:v,type:"image"},isNodeSelected:p,selectedKeyPath:h,bodyColor:y});A.push(t),i&&j.push(i);return}let k=tk({nodes:e.childNodes,data:n,isEditable:a,updateData:r,defaultFontSize:s,viewBoxWidth:o,viewBoxHeight:c,selectItem:d,isNodeSelected:p,selectedKeyPath:h,editor:u,modifyingFns:g,direction:m,globalSelectionElements:w,globalInteractiveElements:A,globalClipPathDefs:j,bodyColor:y}),S=td(e);S.style=ty(S.style),S=tC(S=tv(S,n,b,v),n,b,v);let L=ef(e,m);L&&(S.className=L),a&&("circle"===i||"ellipse"===i||"rect"===i||"path"===i)&&("object"==typeof S.style?S.style={...S.style,pointerEvents:"none"}:S.style={pointerEvents:"none"}),C.push(l.createElement(i,{...S,key:"".concat(i,"-").concat(f||t)},k.length>0?k:void 0))}),f||b)?C:[...j.length>0?[(0,i.jsx)("defs",{children:j},"clipPathDefs")]:[],...C,...w,...A]},tS=e=>{if(!e||"object"!=typeof e)return"";let t="",n=e=>{if(!e||"string"!=typeof e)return"";try{let t=new DOMParser().parseFromString(e,"text/html");return t.body.textContent||t.body.innerText||""}catch(e){return""}};return e.step&&Array.isArray(e.step)&&e.step.forEach(e=>{if(null==e?void 0:e.text){let i=n(e.text);t+=" "+i}}),e.general&&Array.isArray(e.general)&&e.general.forEach(e=>{if(null==e?void 0:e.text){let i=n(e.text);t+=" "+i}}),t.trim()},tL=e=>{let{svgData:t,isEditable:n=!1,data:a={},updateData:r=()=>{},selectItem:s,editor:o,isNodeSelected:c,selectedKeyPath:d,templateKey:u,svgDirection:p,bodyColor:h}=e,g=(0,l.useMemo)(()=>{let e=tS(a);if(e){let t=(0,Y.R_)(e);if(t)return t}return p||(0,X.C)()},[a,p]),m=(0,l.useMemo)(()=>({addStep:e=>{r(()=>v(a,e))},removeStep:e=>{r(()=>C(a,e))},canAddStep:f(u,a),canRemoveStep:b(u,a)}),[a,r,u]),x=(0,V.GV)(Z.SJ),y=(0,l.useMemo)(()=>t?tc(t):null,[t]),w=(0,l.useMemo)(()=>{if(!y)return null;let e=tk({nodes:tb({svgElement:y.element.cloneNode(!0),theme:x,colorScheme:a.colorScheme}).childNodes,data:a,isEditable:n,defaultFontSize:18,viewBoxWidth:y.props.width,viewBoxHeight:y.props.height,selectItem:s,updateData:r,editor:o,isNodeSelected:c,selectedKeyPath:d,modifyingFns:m,direction:g,bodyColor:h});return(0,i.jsxs)("svg",{...y.props,width:"100%",height:"auto",style:{maxWidth:"100%",display:"block",...y.props.style,transform:"rtl"===g?"scaleX(-1)":void 0},children:[n&&(0,i.jsx)(et,{}),e,n&&(0,i.jsx)(et,{})]})},[y,x,a,n,s,r,o,c,d,m,g,h]),A=(0,ee.FX)(),j=(0,l.useMemo)(()=>(null==y?void 0:y.props.viewBox)?tw(y.props.viewBox,e.svgScalingFactor||1,A):100,[null==y?void 0:y.props.viewBox,e.svgScalingFactor,A]);return(0,i.jsx)(ep,{svgWidthPercent:j,...e,children:(0,i.jsx)($.s,{w:"100%",position:"relative",children:t&&(0,i.jsx)($.s,{w:"100%",h:"100%",children:w})})})},tI=new Map(Object.entries({arrow_bars_1:'<svg class="arrow_bars" width="730.72064" height="121.63564000000001" viewBox="135.94768 206.94768 730.72064 121.63564000000001" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="arrow_bars" class="arrow_bars accent">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M852.616 267.766L804.904 314.531V302.766H150V232.766H804.904V221L852.616 267.766Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="189.1650390625" y="246.5625" width="577" height="40" class="step-1 accent textbox left step-1 accent textbox" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n',arrow_bars_2:'<svg class="arrow_bars" width="814.96064" height="223.40664" viewBox="93.32768 156.32768 814.96064 223.40664" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="arrow_bars" class="arrow_bars accent">\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M892.616 317.297L844.904 364.062V352.531H109V282.531H844.904V270.531L892.616 317.297Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="151.1650390625" y="296.5625" width="565" height="40" class="step-2 accent textbox left step-2 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M811.616 218.766L763.904 265.531V253.766H109V183.766H763.904V172L811.616 218.766Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="151.1650390625" y="197.5625" width="565" height="40" class="step-1 accent textbox left step-1 accent textbox" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n',arrow_bars_3:'<svg class="arrow_bars" width="898.16064" height="325.13864" viewBox="51.72768 105.72767999999999 898.16064 325.13864" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="arrow_bars" class="arrow_bars accent">\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" d="M932.616 366.828L884.904 413.594V401.766H69V331.766H884.904V320.062L932.616 366.828Z" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="113.1650390625" y="345.5625" width="563" height="40" class="step-3 accent textbox left step-3 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M852.616 268.297L804.904 315.062V303.531H69V233.531H804.904V221.531L852.616 268.297Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="113.1650390625" y="247.5625" width="563" height="40" class="step-2 accent textbox left step-2 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M771.616 169.766L723.904 216.531V204.766H69V134.766H723.904V123L771.616 169.766Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="113.1650390625" y="148.5625" width="563" height="40" class="step-1 accent textbox left step-1 accent textbox" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n',arrow_bars_4:'<svg class="arrow_bars" width="991.76064" height="427.67564" viewBox="-3.0733200000000007 86.92768 991.76064 427.67564" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="arrow_bars" class="arrow_bars accent">\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent" d="M969.615 448.766L921.903 495.531V484H15.999V414H921.903V402L969.615 448.766Z" fill="#D9DAF0" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="59.1650390625" y="427.5625" width="554" height="40" class="step-4 accent textbox left step-4 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" d="M879.615 350.062L831.903 396.828V385H15.999V315H831.903V303.297L879.615 350.062Z" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="59.1650390625" y="328.5625" width="554" height="40" class="step-3 accent textbox left step-3 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M799.615 251.531L751.903 298.297V286.766H15.999V216.766H751.903V204.766L799.615 251.531Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="59.1650390625" y="230.5625" width="554" height="40" class="step-2 accent textbox left step-2 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M718.616 152.766L670.904 199.531V187.766H16V117.766H670.904V106L718.616 152.766Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="59.1650390625" y="131.5625" width="554" height="40" class="step-1 accent textbox left step-1 accent textbox" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("arrow_bars_","")),n]})),tE="arrow_bars",tD={key:tE,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:4,l=tI.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:tE,svgScalingFactor:tD.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"Yxcx0I"}),icon:a.dmS,defaultColorScheme:"monochrome",stepSvgData:tI,previewImage:{src:"/_next/static/media/arrow_bars.a69a69a4.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:J,defaultData:()=>w(tI),svgScalingFactor:1},tM=new Map(Object.entries({number_go_up_2:'<svg class="number_go_up-frame" width="1003.6" height="436.6" viewBox="-8.3 51.7 1003.6 436.6" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="number_go_up-frame">\n<g id="step-2" class="step-2">\n<rect id="step-2-selection" x="768.5" y="86.5" width="220" height="189" stroke="black" class="step-2 selection"/>\n<rect id="step-2-card-textbox" x="779.171875" y="101.0625" width="196" height="154" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<path id="step-2_2" d="M747 103.867L747 71.3672L868.5 71.3672C869.328 71.3672 870 72.0388 870 72.8672C870 73.6956 869.328 74.3672 868.5 74.3672L750 74.3672L750 103.867C749 103.867 749.328 103.867 748.5 103.867C747.672 103.867 748 103.867 747 103.867Z" fill="#D5D6EF" class="step-2 subtle"/>\n<path d="M976,79L779,79.00000000000003L779,71.00000000000003L976,71" id="step-2_3" class="step-2 accent" fill="#8C90D2"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M240 436.133V468.633H118.5C117.672 468.633 117 467.961 117 467.133C117 466.304 117.672 465.633 118.5 465.633H237V436.133C238 436.133 237.672 436.133 238.5 436.133C239.328 436.133 239 436.133 240 436.133Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1_3" x="11" y="461" width="197" height="8" fill="#8C90D2" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="22.171875" y="249.0625" width="196" height="191" class="step-1 card textbox right bottom" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="11.5" y="241.5" width="216" height="214" stroke="black" class="step-1 selection"/>\n</g>\n<path id="general-1-image" d="M312 456H235V378H312V456Z M401 456H324V321H401V456Z M490 456H413V266H490V456Z M579 456H502V212H579V456Z M668 456H591V161H668V456Z M759 456H680V103H759V456Z" class="general-1 image" fill="#666666"/>\n</g>\n</svg>\n',bar_chart_image_2:'<svg class="bar_chart_image-frame" width="1017.12" height="441.12002" viewBox="-8.559999999999999 49.43997999999999 1017.12 441.12002" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bar_chart_image-frame">\n<g id="step-2" class="step-2">\n<rect id="step-2-selection" x="768.503" y="86.5004" width="220" height="189" stroke="black" class="step-2 selection"/>\n<rect id="step-2-card-textbox" x="779.171875" y="101.0625" width="196" height="154" class="step-2 card textbox left top" fill="#E5E5E5"/>\n<path id="step-2_2" d="M747.003 103.868L747.003 71.3676L868.503 71.3675C869.332 71.3675 870.003 72.0391 870.003 72.8675C870.003 73.696 869.332 74.3675 868.503 74.3675L750.003 74.3676L750.003 103.868C749.003 103.868 749.332 103.868 748.503 103.868C747.675 103.868 748.003 103.868 747.003 103.868Z" fill="#D5D6EF" class="step-2 subtle"/>\n<path d="M989,77L779,77.00000000000003L779,68.99998000000002L989,68.99998" id="step-2_3" class="step-2 accent" fill="#8C90D2"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M240.003 436.133V468.633H118.503C117.675 468.633 117.003 467.962 117.003 467.133C117.003 466.305 117.675 465.633 118.503 465.633H237.003V436.133C238.003 436.133 237.675 436.133 238.503 436.133C239.332 436.133 239.003 436.133 240.003 436.133Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1_3" x="11" y="463" width="197" height="8" fill="#8C90D2" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="11.171875" y="249.0625" width="196" height="191" class="step-1 card textbox right bottom" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="3.5" y="241.5" width="220" height="214" stroke="black" class="step-1 selection"/>\n</g>\n<path id="general-1-image" d="M312.006 456.001H235.006V378.001H312.006V456.001Z M401.006 456.001H324.006V321.001H401.006V456.001Z M490.006 456.001H413.006V266.001H490.006V456.001Z M579.006 456.001H502.006V212.001H579.006V456.001Z M668.006 456.001H591.006V161.001H668.006V456.001Z M759.006 456.001H680.006V103.001H759.006V456.001Z" class="general-1 image" fill="#666666"/>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),tR="bar_chart_image",t_={key:tR,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:1,l=tM.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:tR,svgScalingFactor:t_.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"jIQAYy"}),icon:a.EvL,defaultColorScheme:"monochrome",stepSvgData:tM,formattingMenu:J,defaultData:()=>w(tM),svgScalingFactor:1,featureFlag:"imagesInDiagrams"},tz=new Map(Object.entries({bubbles_1:'<svg class="bubbles" width="217.00000000000006" height="346" viewBox="391.99999999999994 93.99999999999999 217.00000000000006 346" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M500.5 104C554.9 104 599 148.1 599 202.5C599 256.9 554.9 301 500.5 301C446.1 301 402 256.9 402 202.5C402 148.1 446.1 104 500.5 104ZM500.5 116C452.727 116 414 154.727 414 202.5C414 250.273 452.727 289 500.5 289C548.273 289 587 250.273 587 202.5C587 154.727 548.273 116 500.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect x="472.056640625" y="174.7734375" width="56" height="56" class="step-1 card image" fill="#666666"/>\n<rect id="step-1-card-textbox" x="423" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="394.5" y="96.5" width="212" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bubbles_2:'<svg class="bubbles" width="400.73" height="346" viewBox="300 93.99999999999999 400.73 346" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M592.23 104C646.631 104 690.73 148.1 690.73 202.5C690.73 256.9 646.631 301 592.23 301C551.3 301 516.201 276.034 501.329 240.5L509.854 228.963C521.034 263.792 553.688 289 592.23 289C640.003 289 678.73 250.273 678.73 202.5C678.73 154.727 640.003 116 592.23 116C553.355 116 520.471 141.645 509.569 176.94L500.986 165.327C515.657 129.354 550.983 104 592.23 104Z" fill="#666BC3" class="step-2 accent"/>\n<rect x="567.056640625" y="174.91015625" width="56" height="56" class="step-2 card image" fill="#666666"/>\n<rect id="step-2-card-textbox" x="518" y="319" width="155" height="111" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="493.5" y="96.5" width="205" height="341" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M408.5 104C446.232 104 479.008 125.216 495.551 156.369V156.254L530.205 203.146L495.551 250.037V248.63C479.008 279.783 446.232 301 408.5 301C354.1 301 310 256.9 310 202.5C310 148.1 354.1 104 408.5 104ZM408.5 116C360.727 116 322 154.727 322 202.5C322 250.273 360.727 289 408.5 289C456.273 289 495 250.273 495 202.5C495 154.727 456.273 116 408.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-image" x="381" y="175" width="56" height="56" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox" x="331" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="302.5" y="96.5" width="212" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bubbles_3:'<svg class="bubbles" width="587.33376" height="348.58976" viewBox="206.70512 92.70511999999998 587.33376 348.58976" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M684.244 104C738.644 104 782.744 148.1 782.744 202.5C782.744 256.9 738.644 301 684.244 301C643.313 301 608.215 276.034 593.343 240.5L601.868 228.963C613.048 263.792 645.702 289 684.244 289C732.017 289 770.744 250.273 770.744 202.5C770.744 154.727 732.017 116 684.244 116C645.369 116 612.484 141.645 601.583 176.94L593 165.327C607.671 129.354 642.996 104 684.244 104Z" fill="#8C90D2" class="step-3 accent"/>\n<rect x="657.056640625" y="174.91015625" width="56" height="56" class="step-3 card image" fill="#666666"/>\n<rect id="step-3-card-textbox" x="611" y="319" width="155" height="111" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="585.5" y="96.5" width="205" height="341" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2_2" d="M500.912 104C538.419 104 570.999 125.09 587.443 156.057V155.942L621.89 202.554L587.443 249.166V247.766C570.999 278.733 538.419 299.824 500.912 299.824C460.191 299.824 425.277 274.965 410.516 239.595L418.996 228.118C430.079 262.79 462.563 287.896 500.912 287.896C548.399 287.895 586.895 249.399 586.896 201.912C586.896 154.425 548.399 115.929 500.912 115.929C462.232 115.929 429.519 141.469 418.714 176.605L410.175 165.052C424.735 129.245 459.876 104 500.912 104Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-image" x="474" y="175" width="56" height="56" fill="#D9D9D9" class="step-2 card image"/>\n<rect id="step-2-card-textbox" x="427" y="319" width="155" height="111" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="401.5" y="96.5" width="198" height="341" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M316.5 104C354.232 104 387.008 125.216 403.551 156.369V156.254L438.205 203.146L403.551 250.037V248.63C387.008 279.783 354.232 301 316.5 301C262.1 301 218 256.9 218 202.5C218 148.1 262.1 104 316.5 104ZM316.5 116C268.727 116 230 154.727 230 202.5C230 250.273 268.727 289 316.5 289C364.273 289 403 250.273 403 202.5C403 154.727 364.273 116 316.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-image" x="290" y="175" width="56" height="56" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox" x="240" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="214.5" y="96.5" width="206" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bubbles_4:'<svg class="bubbles" width="777.6537600000003" height="355.90976" viewBox="111.04512 89.04511999999998 777.6537600000003 355.90976" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M775.244 104C829.644 104 873.744 148.1 873.744 202.5C873.744 256.9 829.644 301 775.244 301C734.313 301 699.215 276.034 684.343 240.5L692.868 228.963C704.048 263.792 736.702 289 775.244 289C823.017 289 861.744 250.273 861.744 202.5C861.744 154.727 823.017 116 775.244 116C736.369 116 703.484 141.645 692.583 176.94L684 165.327C698.671 129.354 733.996 104 775.244 104Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect x="748.056640625" y="174.91015625" width="56" height="56" class="step-4 card image" fill="#666666"/>\n<rect id="step-4-card-textbox" x="702" y="319" width="155" height="111" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="674.5" y="96.5" width="205" height="341" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M591.912 104C629.419 104 661.999 125.09 678.443 156.057V155.942L712.89 202.554L678.443 249.166V247.766C661.999 278.733 629.419 299.824 591.912 299.824C551.191 299.824 516.277 274.965 501.516 239.595L509.996 228.118C521.079 262.79 553.563 287.896 591.912 287.896C639.399 287.895 677.895 249.399 677.896 201.912C677.896 154.425 639.399 115.929 591.912 115.929C553.232 115.929 520.519 141.469 509.714 176.605L501.175 165.052C515.735 129.245 550.876 104 591.912 104Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-image" x="565" y="175" width="56" height="56" fill="#D9D9D9" class="step-3 card image"/>\n<rect id="step-3-card-textbox" x="518" y="319" width="155" height="111" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="493.5" y="96.5" width="198" height="341" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M408.912 104C446.419 104 478.999 125.09 495.443 156.057V155.942L529.89 202.554L495.443 249.166V247.766C478.999 278.733 446.419 299.824 408.912 299.824C368.191 299.824 333.277 274.965 318.516 239.595L326.996 228.118C338.079 262.79 370.563 287.896 408.912 287.896C456.399 287.895 494.895 249.399 494.896 201.912C494.896 154.425 456.399 115.929 408.912 115.929C370.232 115.929 337.519 141.469 326.714 176.605L318.175 165.052C332.735 129.245 367.876 104 408.912 104Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-image" x="382" y="175" width="56" height="56" fill="#D9D9D9" class="step-2 card image"/>\n<rect id="step-2-card-textbox" x="335" y="319" width="155" height="111" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="310.5" y="96.5" width="198" height="341" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M224.5 104C262.232 104 295.008 125.216 311.551 156.369V156.254L346.205 203.146L311.551 250.037V248.63C295.008 279.783 262.232 301 224.5 301C170.1 301 126 256.9 126 202.5C126 148.1 170.1 104 224.5 104ZM224.5 116C176.727 116 138 154.727 138 202.5C138 250.273 176.727 289 224.5 289C272.273 289 311 250.273 311 202.5C311 154.727 272.273 116 224.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-image" x="198" y="175" width="56" height="56" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox" x="148" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="122.5" y="96.5" width="206" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bubbles_5:'<svg class="bubbles" width="967.9737600000003" height="363.22976" viewBox="16.385119999999993 85.38511999999997 967.9737600000003 363.22976" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M867.244 104C921.644 104 965.744 148.1 965.744 202.5C965.744 256.9 921.644 301 867.244 301C826.313 301 791.215 276.034 776.343 240.5L784.868 228.963C796.048 263.792 828.702 289 867.244 289C915.017 289 953.744 250.273 953.744 202.5C953.744 154.727 915.017 116 867.244 116C828.369 116 795.484 141.645 784.583 176.94L776 165.327C790.671 129.354 825.996 104 867.244 104Z" fill="#B3B5E1" class="step-5 accent"/>\n<rect x="840.056640625" y="174.91015625" width="56" height="56" class="step-5 card image" fill="#666666"/>\n<rect id="step-5-card-textbox" x="794" y="319" width="155" height="111" fill="#D9D9D9" class="step-5 card textbox"/>\n<rect id="step-5-selection" x="766.5" y="96.5" width="205" height="341" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M683.912 104C721.419 104 753.999 125.09 770.443 156.057V155.942L804.89 202.554L770.443 249.166V247.766C753.999 278.733 721.419 299.824 683.912 299.824C643.191 299.824 608.277 274.965 593.516 239.595L601.996 228.118C613.079 262.79 645.563 287.896 683.912 287.896C731.399 287.895 769.895 249.399 769.896 201.912C769.896 154.425 731.399 115.929 683.912 115.929C645.232 115.929 612.519 141.469 601.714 176.605L593.175 165.052C607.735 129.245 642.876 104 683.912 104Z" fill="#8C90D2" class="step-4 accent"/>\n<rect id="step-4-card-image" x="657" y="175" width="56" height="56" fill="#D9D9D9" class="step-4 card image"/>\n<rect id="step-4-card-textbox" x="610" y="319" width="155" height="111" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="585.5" y="96.5" width="198" height="341" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M500.912 104C538.419 104 570.999 125.09 587.443 156.057V155.942L621.89 202.554L587.443 249.166V247.766C570.999 278.733 538.419 299.824 500.912 299.824C460.191 299.824 425.277 274.965 410.516 239.595L418.996 228.118C430.079 262.79 462.563 287.896 500.912 287.896C548.399 287.895 586.895 249.399 586.896 201.912C586.896 154.425 548.399 115.929 500.912 115.929C462.232 115.929 429.519 141.469 418.714 176.605L410.175 165.052C424.735 129.245 459.876 104 500.912 104Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-image" x="474" y="175" width="56" height="56" fill="#D9D9D9" class="step-3 card image"/>\n<rect id="step-3-card-textbox" x="427" y="319" width="155" height="111" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="402.5" y="96.5" width="198" height="341" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M317.912 104C355.419 104 387.999 125.09 404.443 156.057V155.942L438.89 202.554L404.443 249.166V247.766C387.999 278.733 355.419 299.824 317.912 299.824C277.191 299.824 242.277 274.965 227.516 239.595L235.996 228.118C247.079 262.79 279.563 287.896 317.912 287.896C365.399 287.895 403.895 249.399 403.896 201.912C403.896 154.425 365.399 115.929 317.912 115.929C279.232 115.929 246.519 141.469 235.714 176.605L227.175 165.052C241.735 129.245 276.876 104 317.912 104Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-image" x="291" y="175" width="56" height="56" fill="#D9D9D9" class="step-2 card image"/>\n<rect id="step-2-card-textbox" x="244" y="319" width="155" height="111" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="219.5" y="96.5" width="198" height="341" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M133.5 104C171.232 104 204.008 125.216 220.551 156.369V156.254L255.205 203.146L220.551 250.037V248.63C204.008 279.783 171.232 301 133.5 301C79.1 301 35 256.9 35 202.5C35 148.1 79.1 104 133.5 104ZM133.5 116C85.7274 116 47 154.727 47 202.5C47 250.273 85.7274 289 133.5 289C181.273 289 220 250.273 220 202.5C220 154.727 181.273 116 133.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-image" x="107" y="175" width="56" height="56" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox" x="57" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="31.5" y="96.5" width="206" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("bubbles_","")),n]})),tN="bubble_steps",tT={key:tN,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:5,l=tz.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:tN,svgScalingFactor:tT.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"9v8/rg"}),previewImage:{src:"/_next/static/media/bubble-steps.2a853dd7.svg",height:96,width:253,blurWidth:0,blurHeight:0},allowedColorSchemes:[],stepSvgData:tz,formattingMenu:J,defaultData:()=>w(tz),svgScalingFactor:1};var tP=n(51684);let tH=new Map(Object.entries({bullseye_1:'<svg class="bullseye" width="736.7048" height="164.11880000000002" viewBox="107.8306 140.83259999999996 736.7048 164.11880000000002" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bullseye" class="bullseye">\n<g id="step-1" class="step-1">\n<path id="step-1-card" d="M569 226L569 224L696 224L696 226L569 226Z" fill="black" class="step-1 card"/>\n<path id="step-1-accent" d="M830.324 223.1C830.324 260.481 800.02 290.784 762.639 290.784C725.258 290.784 694.955 260.481 694.955 223.1C694.955 185.719 725.258 155.416 762.639 155.416C800.02 155.416 830.324 185.719 830.324 223.1Z" fill="#4046B4" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M830.368 222.684C830.368 260.065 800.065 290.368 762.684 290.368C725.303 290.368 695 260.065 695 222.684C695 185.303 725.303 155 762.684 155C800.065 155 830.368 185.303 830.368 222.684Z" fill="#4046B4" class="step-1 accent"/>\n<rect x="510.166015625" y="172.0625" width="50" height="50" class="step-1 card image" fill="#666666"/>\n<rect id="step-1-card-textbox-right" x="121.998" y="172.992" width="375" height="100" fill="#D9D9D9" class="step-1 card textbox right top"/>\n<rect id="step-1-selection" x="113.5" y="165.5" width="455" height="115" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bullseye_2:'<svg class="bullseye" width="863.6721600000001" height="319.21846000000005" viewBox="32.22292 79.32061999999999 863.6721600000001 319.21846000000005" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bullseye" class="bullseye">\n<g id="step-2" class="step-2">\n<path id="step-2_2" d="M495.432 332.674L495 331L689 281L689.432 282.674L495.432 332.674Z" fill="black" class="step-2"/>\n<path id="step-2-accent" d="M879.286 223.1C879.286 287.841 826.675 340.324 761.775 340.324C696.875 340.324 644.264 287.841 644.264 223.1C644.264 158.36 696.875 105.877 761.775 105.877C826.675 105.877 879.286 158.36 879.286 223.1Z" fill="#666BC3" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M878.135 223.101C878.135 158.999 826.041 107.029 761.775 107.029C697.509 107.029 645.416 158.999 645.416 223.101C645.416 287.202 697.509 339.172 761.775 339.172V340.323L760.256 340.314C696.562 339.509 645.08 288.153 644.273 224.615L644.264 223.101C644.264 158.36 696.876 105.877 761.775 105.877L763.294 105.887C827.494 106.698 879.286 158.866 879.286 223.101L879.276 224.615C878.463 288.658 826.168 340.323 761.775 340.323V339.172C826.041 339.172 878.135 287.202 878.135 223.101Z" fill="white" class="step-2 accent"/>\n<rect x="437.166015625" y="281" width="50" height="50" class="step-2 card image" fill="#666666"/>\n<rect id="step-2-card-textbox-right" x="48.832" y="281.93" width="375" height="100" fill="#D9D9D9" class="step-2 card textbox right top"/>\n<rect id="step-2-selection" x="41.5" y="273.5" width="454" height="116" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1_2" d="M495.15 149.447L495.545 147.765L700.999 195.993L700.604 197.676L495.15 149.447Z" fill="black" class="step-1"/>\n<path id="step-1-accent" d="M830.324 223.1C830.324 260.481 800.02 290.784 762.639 290.784C725.258 290.784 694.955 260.481 694.955 223.1C694.955 185.719 725.258 155.416 762.639 155.416C800.02 155.416 830.324 185.719 830.324 223.1Z" fill="#4046B4" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M829.172 223.101C829.172 186.356 799.384 156.569 762.64 156.568C725.895 156.568 696.107 186.356 696.107 223.101C696.108 259.845 725.895 289.633 762.64 289.633V290.784L761.765 290.779C725.078 290.315 695.425 260.661 694.961 223.975L694.955 223.101C694.955 185.72 725.259 155.416 762.64 155.416L763.514 155.422C800.492 155.89 830.323 186.012 830.323 223.101L830.318 223.975C829.85 260.952 799.729 290.784 762.64 290.784V289.633C799.384 289.633 829.172 259.845 829.172 223.101Z" fill="white" class="step-1 accent"/>\n<rect id="step-1-card-image" x="437.998" y="95.9297" width="50" height="50" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox-right" x="48.998" y="95.9297" width="375" height="100" fill="#D9D9D9" class="step-1 card textbox right top"/>\n<rect id="step-1-selection" x="41.5" y="88.5" width="454" height="115" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bullseye_3:'<svg class="bullseye" width="920.46968" height="429.40247999999997" viewBox="20.296659999999996 8.290859999999999 920.46968 429.40247999999997" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bullseye" class="bullseye">\n<g id="step-3" class="step-3">\n<path id="step-3_2" d="M482.727 366.797L482.298 365.122L638.999 324.992L639.428 326.666L482.727 366.797Z" fill="black" class="step-3"/>\n<path id="step-3-accent" d="M923.065 223.812C923.065 312.572 851.111 384.526 762.351 384.526C673.591 384.526 601.637 312.572 601.637 223.812C601.637 135.052 673.591 63.0977 762.351 63.0977C851.111 63.0977 923.065 135.052 923.065 223.812Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M921.913 223.812C921.913 135.688 850.474 64.25 762.351 64.25C674.227 64.2501 602.789 135.688 602.789 223.812C602.789 311.935 674.227 383.374 762.351 383.374V384.525L760.273 384.513C673.162 383.409 602.753 313 601.649 225.889L601.637 223.812C601.637 135.052 673.591 63.0978 762.351 63.0977L764.428 63.1104C852.23 64.2224 923.064 135.745 923.064 223.812L923.052 225.889C921.94 313.691 850.417 384.525 762.351 384.525V383.374C850.474 383.374 921.913 311.935 921.913 223.812Z" fill="white" class="step-3 accent"/>\n<rect x="424.166015625" y="320.0625" width="50" height="50" class="step-3 card image" fill="#666666"/>\n<rect id="step-3-card-textbox-right" x="37.998" y="319.992" width="375" height="100" fill="#D9D9D9" class="step-3 card textbox right top"/>\n<rect id="step-3-selection" x="30.5" y="312.5" width="452" height="115" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2_2" d="M485 215V213L644 213V215L485 215Z" fill="black" class="step-2"/>\n<path id="step-2-accent" d="M879.286 224.1C879.286 288.841 826.675 341.324 761.775 341.324C696.875 341.324 644.264 288.841 644.264 224.1C644.264 159.36 696.875 106.877 761.775 106.877C826.675 106.877 879.286 159.36 879.286 224.1Z" fill="#666BC3" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M878.135 224.101C878.135 159.999 826.041 108.029 761.775 108.029C697.509 108.029 645.416 159.999 645.416 224.101C645.416 288.202 697.509 340.172 761.775 340.172V341.323L760.256 341.314C696.562 340.509 645.08 289.153 644.273 225.615L644.264 224.101C644.264 159.36 696.876 106.877 761.775 106.877L763.294 106.887C827.494 107.698 879.286 159.866 879.286 224.101L879.276 225.615C878.463 289.658 826.168 341.323 761.775 341.323V340.172C826.041 340.172 878.135 288.202 878.135 224.101Z" fill="white" class="step-2 accent"/>\n<rect id="step-2-card-image" x="426.998" y="164.992" width="50" height="50" fill="#D9D9D9" class="step-2 card image"/>\n<rect id="step-2-card-textbox-right" x="37.998" y="164.992" width="375" height="100" fill="#D9D9D9" class="step-2 card textbox right top"/>\n<rect id="step-2-selection" x="30.5" y="157.5" width="454" height="115" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1_2" d="M571.237 61.997L572.294 60.6292L718.998 173.992L717.941 175.359L571.237 61.997Z" fill="black" class="step-1"/>\n<path id="step-1-accent" d="M830.324 224.1C830.324 261.481 800.02 291.784 762.639 291.784C725.258 291.784 694.955 261.481 694.955 224.1C694.955 186.719 725.258 156.416 762.639 156.416C800.02 156.416 830.324 186.719 830.324 224.1Z" fill="#4046B4" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M829.172 224.101C829.172 187.356 799.384 157.569 762.64 157.568C725.895 157.568 696.107 187.356 696.107 224.101C696.108 260.845 725.895 290.633 762.64 290.633V291.784L761.765 291.779C725.078 291.315 695.425 261.661 694.961 224.975L694.955 224.101C694.955 186.72 725.259 156.416 762.64 156.416L763.514 156.422C800.492 156.89 830.323 187.012 830.323 224.101L830.318 224.975C829.85 261.952 799.729 291.784 762.64 291.784V290.633C799.384 290.633 829.172 260.845 829.172 224.101Z" fill="white" class="step-1 accent"/>\n<rect id="step-1-card-image" x="514.998" y="25.9922" width="50" height="50" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox" x="125.998" y="25.9922" width="375" height="100" fill="#D9D9D9" class="step-1 card textbox right top"/>\n<rect id="step-1-selection-right" x="117.5" y="18.5" width="454" height="115" stroke="black" class="step-1 selection right"/>\n</g>\n</g>\n</svg>\n',bullseye_4:'<svg class="bullseye" width="963.0036000000001" height="501.40760000000006" viewBox="19.478699999999993 2.1036999999999964 963.0036000000001 501.40760000000006" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bullseye" class="bullseye">\n<g id="step-4" class="step-4">\n<path id="step-4_2" d="M555.463 397.023L554.356 395.695L607.999 350.992L609.105 352.32L555.463 397.023Z" fill="black" class="step-4"/>\n<path id="step-4-accent" d="M963.963 222.524C963.963 334.03 873.569 424.424 762.063 424.424C650.556 424.424 560.162 334.03 560.162 222.524C560.162 111.017 650.556 20.623 762.063 20.623C873.569 20.623 963.963 111.017 963.963 222.524Z" fill="#B3B5E1" class="step-4 accent"/>\n<path id="step-4-accent_2" d="M962.812 222.523C962.811 111.653 872.933 21.7754 762.062 21.7754C651.192 21.7755 561.315 111.653 561.314 222.523C561.314 333.394 651.192 423.272 762.062 423.272V424.424L760.757 424.42C650.286 423.72 560.865 334.3 560.166 223.829L560.162 222.523C560.162 111.017 650.556 20.6232 762.062 20.623L763.368 20.627C874.274 21.3292 963.963 111.452 963.963 222.523L963.959 223.829C963.257 334.735 873.134 424.424 762.062 424.424V423.272C872.933 423.272 962.812 333.394 962.812 222.523Z" fill="white" class="step-4 accent"/>\n<rect x="498.166015625" y="384.0625" width="50" height="50" class="step-4 card image" fill="#666666"/>\n<rect id="step-4-card-textbox-right" x="109.998" y="384.992" width="375" height="100" fill="#D9D9D9" class="step-4 card textbox right top"/>\n<rect id="step-4-selection" x="102.5" y="377.5" width="453" height="114" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3_2" d="M483.4 295.416L482.93 293.753L605.999 258.993L606.469 260.656L483.4 295.416Z" fill="black" class="step-3"/>\n<path id="step-3-accent" d="M923.065 222.812C923.065 311.572 851.111 383.526 762.351 383.526C673.591 383.526 601.637 311.572 601.637 222.812C601.637 134.052 673.591 62.0977 762.351 62.0977C851.111 62.0977 923.065 134.052 923.065 222.812Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M921.913 222.812C921.913 134.688 850.474 63.25 762.351 63.25C674.227 63.2501 602.789 134.688 602.789 222.812C602.789 310.935 674.227 382.374 762.351 382.374V383.525L760.273 383.513C673.162 382.409 602.753 312 601.649 224.889L601.637 222.812C601.637 134.052 673.591 62.0978 762.351 62.0977L764.428 62.1104C852.23 63.2224 923.064 134.745 923.064 222.812L923.052 224.889C921.94 312.691 850.417 383.525 762.351 383.525V382.374C850.474 382.374 921.913 310.935 921.913 222.812Z" fill="white" class="step-3 accent"/>\n<rect id="step-3-card-image" x="424.998" y="269.992" width="50" height="50" fill="#D9D9D9" class="step-3 card image"/>\n<rect id="step-3-card-textbox" x="37.998" y="268.992" width="375" height="100" fill="#D9D9D9" class="step-3 card textbox right top"/>\n<rect id="step-3-selection-right" x="30.5" y="262.5" width="453" height="114" stroke="black" class="step-3 selection right"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2_2" d="M484.091 172.776L484.341 171.066L648 194.993L647.75 196.703L484.091 172.776Z" fill="black" class="step-2"/>\n<path id="step-2-accent" d="M879.288 223.1C879.288 287.841 826.677 340.324 761.777 340.324C696.877 340.324 644.266 287.841 644.266 223.1C644.266 158.36 696.877 105.877 761.777 105.877C826.677 105.877 879.288 158.36 879.288 223.1Z" fill="#666BC3" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M878.137 223.101C878.137 158.999 826.043 107.029 761.777 107.029C697.511 107.029 645.418 158.999 645.418 223.101C645.418 287.202 697.511 339.172 761.777 339.172V340.323L760.258 340.314C696.564 339.509 645.082 288.153 644.275 224.615L644.266 223.101C644.266 158.36 696.878 105.877 761.777 105.877L763.296 105.887C827.496 106.698 879.288 158.866 879.288 223.101L879.278 224.615C878.465 288.658 826.17 340.323 761.777 340.323V339.172C826.043 339.172 878.137 287.202 878.137 223.101Z" fill="white" class="step-2 accent"/>\n<rect id="step-2-card-image" x="426.998" y="143.992" width="50" height="50" fill="#D9D9D9" class="step-2 card image"/>\n<rect id="step-2-card-textbox-right" x="37.998" y="143.992" width="375" height="100" fill="#D9D9D9" class="step-2 card textbox right top"/>\n<rect id="step-2-selection" x="30.5" y="138.5" width="454" height="114" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1_2" d="M570.648 60.5445L571.705 59.1768L718.994 172.992L717.938 174.359L570.648 60.5445Z" fill="black" class="step-1"/>\n<path id="step-1-accent" d="M830.322 223.1C830.322 260.481 800.018 290.784 762.637 290.784C725.256 290.784 694.953 260.481 694.953 223.1C694.953 185.719 725.256 155.416 762.637 155.416C800.018 155.416 830.322 185.719 830.322 223.1Z" fill="#4046B4" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M829.17 223.101C829.17 186.356 799.382 156.569 762.638 156.568C725.893 156.568 696.105 186.356 696.105 223.101C696.106 259.845 725.893 289.633 762.638 289.633V290.784L761.763 290.779C725.076 290.315 695.423 260.661 694.959 223.975L694.953 223.101C694.953 185.72 725.257 155.416 762.638 155.416L763.512 155.422C800.49 155.89 830.321 186.012 830.321 223.101L830.316 223.975C829.848 260.952 799.727 290.784 762.638 290.784V289.633C799.382 289.633 829.17 259.845 829.17 223.101Z" fill="white" class="step-1 accent"/>\n<rect id="step-1-card-image" x="514.998" y="24.9922" width="50" height="50" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox-right" x="125.998" y="24.9922" width="375" height="100" fill="#D9D9D9" class="step-1 card textbox right top"/>\n<rect id="step-1-selection" x="118.5" y="17.5" width="453" height="115" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("bullseye_","")),n]})),tF="bullseye",tB={key:tF,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:4,l=tH.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:tF,svgScalingFactor:tB.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"EV9YnT"}),icon:tP.pvD,previewImage:{src:"/_next/static/media/bullseye.d2d2476f.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],stepSvgData:tH,formattingMenu:J,defaultData:()=>w(tH),svgScalingFactor:1},tO=new Map(Object.entries({circle_hero_pic_4:'<svg class="circle_hero_pic-frame" width="1015.0400317382813" height="572.0402712207032" viewBox="-9.351268920898438 -18.519270610351562 1015.0400317382813 572.0402712207032" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="circle_hero_pic-frame">\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="10.168731689453125" y="31.0621337890625" width="197" height="191" class="step-1 card textbox right top" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="1.5" y="23.5" width="240" height="212" stroke="black" class="step-1 selection"/>\n<path id="step-1_2" d="M349.506 74.5V42H228.006C227.178 42 226.506 42.6716 226.506 43.5C226.506 44.3284 227.178 45 228.006 45H346.506L346.5 77.4993C346.5 78.3277 347.172 76.4993 348 76.4993C348.828 76.4993 349.506 75.3284 349.506 74.5Z" fill="#D5D6EF" class="step-1 subtle"/>\n<path d="M228.003,31.17824999999999L228.003,58.82175000000001Q228.003,61,228.003,61L220.003,61Q220.003,61,220.003,58.82175000000001L220.003,31.17824999999999Q220.003,29,220.003,29L228.003,29Q228.003,29,228.003,31.17824999999999" id="step-1_3" class="step-1 accent" fill="#8C90D2"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-selection" x="760.5" y="23.5" width="240" height="212" stroke="black" class="step-2 selection"/>\n<path id="step-2_2" d="M653.003 76.3406L653 42H774.5C775.328 42 776 42.6602 776 43.4745C776 44.2889 775.328 44.9491 774.5 44.9491H656V78C656 78.8144 655.328 77.3232 654.5 77.3232C653.671 77.3232 653.003 77.1549 653.003 76.3406Z" fill="#D5D6EF" class="step-2 subtle"/>\n<path d="M779,31.178250000000048L779,58.82174999999995Q779,61,779,61L771,61Q771,61,771,58.82174999999995L771,31.178250000000048Q771,29,771,29L779,29Q779,29,779,31.178250000000048" id="step-2_3" class="step-2 accent" fill="#8C90D2"/>\n<rect id="step-2-card-textbox" x="790.1687622070312" y="31.0621337890625" width="196" height="191" class="step-2 card textbox left top" fill="#E5E5E5"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox" x="17.171875" y="311.0621337890625" width="190" height="191" class="step-3 card textbox right bottom" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="1.50314" y="304.5" width="240" height="214" stroke="black" class="step-3 selection"/>\n<path id="step-3_2" d="M349 462.5V495H227.5C226.672 495 226 494.328 226 493.5C226 492.672 226.672 492 227.5 492H346V460.339C346 459.511 346.672 461 347.5 461C348.328 461 349 461.672 349 462.5Z" fill="#D5D6EF" class="step-3 subtle"/>\n<path d="M228.003,479.17825L228.003,506.82175Q228.003,509,228.003,509L220.003,509Q220.003,509,220.003,506.82175L220.003,479.17825Q220.003,477,220.003,477L228.003,477Q228.003,477,228.003,479.17825" id="step-3_3" class="step-3 accent" fill="#8C90D2"/>\n</g>\n<g id="step-4" class="step-4">\n<rect id="step-4-selection" x="765.5" y="306.5" width="240" height="212" stroke="black" class="step-4 selection"/>\n<path id="step-4_2" d="M649.503 462.5V495H771.003C771.832 495 772.503 494.328 772.503 493.5C772.503 492.672 771.832 492 771.003 492H652.503V460.339C652.503 459.511 651.832 461 651.003 461C650.175 461 649.503 461.672 649.503 462.5Z" fill="#D5D6EF" class="step-4 subtle"/>\n<path d="M779,479.17825000000005L779,506.82174999999995Q779,509,779,509L771,509Q771,509,771,506.82174999999995L771,479.17825000000005Q771,477,771,477L779,477Q779,477,779,479.17825000000005" id="step-4_3" class="step-4 accent" fill="#8C90D2"/>\n<rect id="step-4-card-textbox" x="784.168701171875" y="311.0621337890625" width="202" height="191" class="step-4 card textbox left bottom" fill="#E5E5E5"/>\n</g>\n<path id="general-2" d="M496.48 532.97C497.82 532.99 499.162 533.001 500.506 533.001V534.001C499.157 534.001 497.809 533.99 496.464 533.969L496.48 532.97ZM504.547 533.969C503.203 533.989 501.856 534.001 500.506 534.001V533.001C501.851 533.001 503.193 532.99 504.533 532.97L504.547 533.969ZM480.454 532.255C483.115 532.453 485.787 532.613 488.469 532.733L488.447 533.231L488.448 533.232L488.434 533.528L488.425 533.731C485.733 533.611 483.051 533.45 480.379 533.251L480.454 532.255ZM520.632 533.251C517.961 533.45 515.279 533.611 512.586 533.731L512.579 533.528L512.565 533.232L512.543 532.733C515.226 532.613 517.898 532.453 520.559 532.255L520.632 533.251ZM464.504 530.581C467.15 530.939 469.808 531.259 472.478 531.539L472.373 532.532C469.694 532.251 467.026 531.93 464.371 531.57L464.504 530.581ZM536.508 530.581L536.641 531.57C533.986 531.93 531.318 532.251 528.638 532.532L528.535 531.539C531.204 531.259 533.863 530.939 536.508 530.581ZM448.69 527.947C451.305 528.464 453.934 528.944 456.577 529.384L456.413 530.369C453.76 529.927 451.121 529.447 448.496 528.927L448.69 527.947ZM552.516 528.927C549.891 529.447 547.251 529.927 544.599 530.369L544.436 529.384C547.078 528.944 549.707 528.464 552.323 527.947L552.516 528.927ZM433.059 524.358C435.638 525.033 438.232 525.671 440.84 526.27L440.728 526.757L440.617 527.244C437.998 526.643 435.395 526.002 432.806 525.324L432.84 525.195L433.059 524.358ZM568.172 525.195L568.206 525.324C565.617 526.002 563.013 526.643 560.395 527.244L560.293 526.8L560.284 526.758L560.172 526.27C562.781 525.671 565.375 525.033 567.954 524.358L568.172 525.195ZM417.67 519.823C420.206 520.655 422.759 521.45 425.328 522.207L425.044 523.165C422.466 522.405 419.903 521.606 417.358 520.771L417.67 519.823ZM583.654 520.771C581.108 521.606 578.546 522.405 575.967 523.165L575.685 522.207C578.254 521.45 580.807 520.655 583.342 519.823L583.654 520.771ZM402.589 514.361C405.072 515.347 407.573 516.297 410.092 517.209L409.752 518.147C407.224 517.231 404.713 516.279 402.22 515.29L402.589 514.361ZM598.791 515.29C596.299 516.279 593.788 517.231 591.259 518.147L590.919 517.209C593.439 516.296 595.94 515.347 598.423 514.361L598.791 515.29ZM387.871 507.994C390.288 509.128 392.727 510.228 395.184 511.291L394.787 512.207C392.32 511.14 389.873 510.037 387.446 508.898L387.871 507.994ZM613.566 508.898C611.139 510.037 608.691 511.14 606.225 512.207L605.829 511.291C608.286 510.228 610.724 509.128 613.142 507.994L613.566 508.898ZM373.566 500.746C375.91 502.024 378.276 503.268 380.662 504.477L380.209 505.368C377.814 504.154 375.44 502.906 373.087 501.623L373.566 500.746ZM627.924 501.623C625.572 502.906 623.197 504.154 620.802 505.368L620.351 504.477C622.737 503.268 625.103 502.024 627.447 500.746L627.924 501.623ZM359.721 492.642C361.985 494.061 364.272 495.446 366.581 496.798L366.328 497.228L366.172 497.496L366.076 497.66C363.758 496.303 361.462 494.912 359.19 493.488L359.456 493.066L359.721 492.642ZM641.822 493.488C639.549 494.912 637.254 496.303 634.936 497.66L634.684 497.229L634.432 496.798C636.741 495.446 639.028 494.061 641.291 492.642L641.822 493.488ZM346.393 483.719C348.568 485.272 350.767 486.793 352.991 488.282L352.435 489.112C350.203 487.618 347.995 486.091 345.812 484.532L346.393 483.719ZM654.91 484.126L655.2 484.532C653.016 486.091 650.808 487.618 648.577 489.112L648.022 488.282C650.245 486.793 652.444 485.272 654.62 483.719L654.91 484.126ZM333.626 474.01C335.704 475.691 337.808 477.342 339.937 478.961L339.331 479.756C337.195 478.13 335.083 476.473 332.997 474.786L333.312 474.398L333.626 474.01ZM668.013 474.786C665.928 476.473 663.817 478.131 661.68 479.756L661.076 478.961C663.205 477.342 665.308 475.691 667.386 474.01L668.013 474.786ZM321.466 463.551C323.44 465.354 325.44 467.128 327.467 468.872L326.815 469.628C324.78 467.878 322.772 466.098 320.791 464.288L321.466 463.551ZM679.883 463.921L680.219 464.288C678.239 466.097 676.231 467.878 674.197 469.628L673.545 468.872C675.573 467.128 677.573 465.355 679.546 463.552L679.883 463.921ZM309.955 452.381C311.816 454.299 313.708 456.19 315.626 458.052L314.93 458.768C313.004 456.899 311.107 455.002 309.238 453.076L309.955 452.381ZM691.774 453.076C689.905 455.002 688.007 456.899 686.081 458.768L685.386 458.052C687.305 456.191 689.195 454.299 691.057 452.381L691.774 453.076ZM702.633 441.191C700.883 443.226 699.103 445.234 697.293 447.215L696.925 446.879L696.556 446.541C698.359 444.567 700.134 442.567 701.877 440.54L702.633 441.191ZM299.135 440.54C300.879 442.567 302.652 444.568 304.456 446.541L304.085 446.878L304.086 446.879L303.718 447.214C301.909 445.233 300.128 443.226 298.378 441.191L299.135 440.54ZM712.364 428.373L712.761 428.675C711.136 430.811 709.479 432.923 707.791 435.009L707.015 434.381C708.696 432.303 710.347 430.199 711.966 428.07L712.364 428.373ZM289.046 428.07C290.665 430.199 292.316 432.303 293.997 434.381L293.22 435.008C291.533 432.922 289.875 430.811 288.25 428.675L289.046 428.07ZM279.725 415.016C281.214 417.24 282.735 419.439 284.289 421.614L283.88 421.904L283.474 422.194C281.915 420.011 280.388 417.803 278.894 415.571L279.725 415.016ZM722.118 415.571C720.624 417.803 719.097 420.011 717.538 422.194L717.131 421.905L716.724 421.614C718.277 419.439 719.799 417.24 721.288 415.016L722.118 415.571ZM271.209 401.427C272.561 403.735 273.946 406.022 275.365 408.286L274.518 408.816C273.094 406.544 271.703 404.248 270.346 401.93L271.209 401.427ZM730.665 401.93C729.309 404.248 727.918 406.544 726.494 408.816L725.648 408.286C727.066 406.022 728.452 403.735 729.803 401.427L730.665 401.93ZM263.53 387.345C264.739 389.731 265.983 392.097 267.261 394.441L266.383 394.919C265.1 392.566 263.852 390.192 262.638 387.797L263.53 387.345ZM738.373 387.797C737.16 390.192 735.911 392.566 734.628 394.919L733.751 394.441C735.03 392.097 736.274 389.731 737.483 387.345L738.373 387.797ZM256.716 372.823C257.779 375.28 258.879 377.719 260.013 380.136L259.108 380.56C257.969 378.133 256.866 375.686 255.799 373.219L256.716 372.823ZM745.212 373.219C744.145 375.686 743.042 378.133 741.904 380.56L740.999 380.136C742.134 377.719 743.233 375.28 744.296 372.823L745.212 373.219ZM250.798 357.914C251.711 360.433 252.66 362.935 253.646 365.418L252.716 365.786C251.727 363.293 250.775 360.782 249.859 358.254L250.798 357.914ZM750.684 358.085L751.153 358.254C750.237 360.782 749.285 363.293 748.295 365.786L747.367 365.418C748.352 362.935 749.302 360.434 750.214 357.915L750.684 358.085ZM245.8 342.679C246.557 345.248 247.352 347.801 248.184 350.337L247.235 350.648C246.4 348.103 245.601 345.54 244.841 342.962L245.8 342.679ZM756.17 342.962C755.41 345.54 754.612 348.103 753.777 350.648L752.829 350.337C753.661 347.801 754.455 345.248 755.212 342.679L756.17 342.962ZM241.737 327.167C242.336 329.775 242.974 332.369 243.649 334.948L242.682 335.2C242.004 332.612 241.363 330.008 240.762 327.389L241.737 327.167ZM760.249 327.389C759.648 330.008 759.007 332.611 758.33 335.2L757.364 334.948C758.039 332.369 758.677 329.775 759.276 327.167L760.249 327.389ZM238.623 311.43C239.063 314.073 239.543 316.702 240.06 319.317L239.079 319.51C238.559 316.885 238.079 314.246 237.637 311.594L238.623 311.43ZM763.374 311.594C762.933 314.246 762.452 316.885 761.933 319.51L761.443 319.415L760.953 319.317C761.47 316.702 761.949 314.073 762.389 311.43L763.374 311.594ZM236.468 295.529C236.748 298.199 237.068 300.857 237.426 303.503L236.436 303.635C236.076 300.98 235.755 298.312 235.474 295.633L236.468 295.529ZM765.538 295.633C765.256 298.312 764.936 300.98 764.576 303.635L764.081 303.57L763.586 303.503C763.945 300.857 764.264 298.199 764.544 295.529L765.538 295.633ZM235.274 279.538C235.394 282.22 235.554 284.892 235.752 287.553L234.755 287.627C234.556 284.956 234.395 282.273 234.275 279.581L235.274 279.538ZM766.237 279.559L766.737 279.581C766.617 282.273 766.456 284.956 766.256 287.627L765.26 287.553C765.459 284.892 765.619 282.22 765.739 279.538L766.237 279.559ZM234.006 267.501C234.006 266.151 234.017 264.804 234.037 263.459L235.037 263.474C235.017 264.814 235.006 266.156 235.006 267.501C235.006 268.845 235.017 270.187 235.037 271.527L234.037 271.542C234.017 270.197 234.006 268.85 234.006 267.501ZM767.006 267.501C767.006 268.85 766.995 270.197 766.975 271.542L765.976 271.527C765.996 270.187 766.006 268.845 766.006 267.501C766.006 266.156 765.996 264.814 765.976 263.474L766.975 263.459C766.995 264.804 767.006 266.151 767.006 267.501ZM235.752 247.448C235.554 250.109 235.394 252.781 235.274 255.464L234.775 255.441L234.275 255.42C234.395 252.727 234.556 250.045 234.755 247.374L235.752 247.448ZM766.256 247.374C766.456 250.045 766.617 252.727 766.737 255.42L766.238 255.442L766.237 255.441L765.739 255.464C765.619 252.781 765.459 250.109 765.26 247.448L766.256 247.374ZM236.931 231.431L237.426 231.499C237.068 234.144 236.748 236.803 236.468 239.472L235.474 239.368C235.755 236.688 236.076 234.02 236.436 231.365L236.931 231.431ZM764.576 231.365C764.936 234.02 765.256 236.688 765.538 239.368L764.544 239.472C764.264 236.803 763.945 234.144 763.586 231.499L764.081 231.431L764.576 231.365ZM239.57 215.587L240.06 215.684C239.543 218.3 239.063 220.929 238.623 223.571L237.637 223.407C238.079 220.755 238.559 218.115 239.079 215.49L239.57 215.587ZM761.933 215.49C762.452 218.115 762.933 220.755 763.374 223.407L762.389 223.571C761.949 220.929 761.47 218.3 760.953 215.684L761.443 215.587L761.933 215.49ZM243.649 200.053C242.974 202.632 242.336 205.226 241.737 207.835L241.249 207.722L240.762 207.611C241.363 204.993 242.004 202.389 242.682 199.801L243.649 200.053ZM758.33 199.801C759.007 202.389 759.648 204.993 760.249 207.611L759.763 207.723L759.762 207.722L759.276 207.835C758.677 205.226 758.039 202.632 757.364 200.053L758.33 199.801ZM248.184 184.665C247.352 187.201 246.557 189.753 245.8 192.322L244.841 192.039C245.601 189.46 246.4 186.898 247.235 184.352L248.184 184.665ZM753.777 184.352C754.612 186.898 755.41 189.46 756.17 192.039L755.212 192.322C754.455 189.753 753.661 187.201 752.829 184.665L753.777 184.352ZM748.295 169.215C749.285 171.707 750.237 174.218 751.153 176.747L750.214 177.088C749.302 174.568 748.352 172.067 747.367 169.584L748.295 169.215ZM253.646 169.584C252.66 172.067 251.711 174.568 250.798 177.087L249.859 176.747C250.775 174.218 251.727 171.707 252.716 169.215L253.646 169.584ZM260.013 154.865C258.879 157.283 257.779 159.721 256.716 162.178L255.799 161.781C256.866 159.315 257.969 156.867 259.108 154.44L260.013 154.865ZM741.904 154.44C743.042 156.867 744.145 159.315 745.212 161.781L744.296 162.178C743.233 159.721 742.134 157.283 740.999 154.865L741.904 154.44ZM266.823 140.321L267.261 140.56C265.983 142.904 264.739 145.27 263.53 147.656L262.638 147.204C263.852 144.809 265.1 142.434 266.383 140.082L266.823 140.321ZM734.628 140.082C735.912 142.434 737.16 144.809 738.373 147.204L737.483 147.656C736.274 145.27 735.03 142.904 733.751 140.56L734.628 140.082ZM275.365 126.716C273.946 128.979 272.561 131.266 271.209 133.575L270.778 133.322L270.346 133.07C271.703 130.752 273.094 128.457 274.518 126.184L275.365 126.716ZM726.494 126.184C727.918 128.457 729.309 130.752 730.665 133.07L730.235 133.323L730.234 133.322L729.803 133.575C728.452 131.266 727.066 128.979 725.648 126.716L726.494 126.184ZM283.881 113.096L284.289 113.387C282.735 115.563 281.214 117.762 279.725 119.985L278.894 119.429C280.388 117.198 281.915 114.99 283.474 112.806L283.881 113.096ZM717.538 112.806C719.097 114.99 720.624 117.198 722.118 119.429L721.288 119.985C719.799 117.762 718.277 115.563 716.724 113.387L717.538 112.806ZM293.997 100.621C292.316 102.699 290.665 104.802 289.046 106.931L288.25 106.326C289.876 104.189 291.533 102.078 293.22 99.9919L293.997 100.621ZM707.791 99.9929C709.479 102.078 711.136 104.189 712.761 106.326L711.966 106.931C710.347 104.802 708.696 102.699 707.015 100.621L707.791 99.9929ZM304.087 88.1228L304.456 88.4607C302.653 90.434 300.879 92.4344 299.135 94.4617L298.378 93.8093C300.128 91.7746 301.908 89.7665 303.718 87.7859L304.087 88.1228ZM697.293 87.7869C699.103 89.7673 700.883 91.7748 702.633 93.8093L701.877 94.4617C700.134 92.4345 698.36 90.4339 696.557 88.4607L697.293 87.7869ZM315.626 76.949C313.708 78.8109 311.817 80.7022 309.956 82.6208L309.238 81.9246C311.107 79.9987 313.004 78.101 314.93 76.2322L315.626 76.949ZM686.081 76.2322C688.007 78.101 689.905 79.9988 691.774 81.9246L691.058 82.6208C689.196 80.7022 687.305 78.8119 685.386 76.95L686.081 76.2322ZM674.197 65.3728C676.231 67.1228 678.24 68.9029 680.22 70.7126L679.885 71.0808L679.546 71.4509C677.573 69.6478 675.573 67.8733 673.545 66.1296L674.197 65.3728ZM327.467 66.1296C325.44 67.8732 323.439 69.6469 321.466 71.45L320.792 70.7126C322.773 68.9031 324.78 67.1227 326.815 65.3728L327.467 66.1296ZM339.937 56.0408C337.808 57.6599 335.704 59.3107 333.626 60.9919L332.998 60.2146C335.084 58.5272 337.195 56.8699 339.331 55.2449L339.937 56.0408ZM661.68 55.2449C663.817 56.87 665.928 58.5271 668.014 60.2146L667.386 60.9919C665.308 59.3107 663.205 57.6599 661.076 56.0408L661.68 55.2449ZM352.991 46.7195C350.767 48.208 348.568 49.7298 346.393 51.283L345.812 50.4685C347.995 48.9095 350.203 47.3825 352.435 45.8884L352.991 46.7195ZM648.577 45.8884C650.808 47.3825 653.016 48.9095 655.2 50.4685L654.62 51.283C652.444 49.7298 650.245 48.208 648.022 46.7195L648.577 45.8884ZM366.581 38.2039C364.272 39.5553 361.985 40.9406 359.721 42.3591L359.19 41.5125C361.462 40.0884 363.758 38.6973 366.076 37.3406L366.581 38.2039ZM634.936 37.3406C637.254 38.6973 639.549 40.0884 641.822 41.5125L641.291 42.3591C639.028 40.9406 636.741 39.5553 634.432 38.2039L634.936 37.3406ZM380.662 30.5242C378.276 31.7332 375.91 32.9773 373.566 34.2556L373.087 33.3777C375.44 32.0945 377.814 30.8462 380.209 29.6326L380.662 30.5242ZM620.802 29.6326C623.197 30.8462 625.572 32.0945 627.924 33.3777L627.447 34.2556C625.103 32.9773 622.737 31.7332 620.351 30.5242L620.802 29.6326ZM395.184 23.7107C392.727 24.7736 390.288 25.8732 387.871 27.0076L387.446 26.1023C389.873 24.9636 392.32 23.8607 394.787 22.7937L395.184 23.7107ZM606.225 22.7937C608.691 23.8607 611.139 24.9636 613.566 26.1023L613.142 27.0076C610.724 25.8732 608.286 24.7736 605.829 23.7107L606.225 22.7937ZM410.093 17.7927C407.574 18.705 405.072 19.6546 402.589 20.6404L402.22 19.7107C404.713 18.7212 407.224 17.769 409.752 16.8533L410.093 17.7927ZM591.259 16.8533C593.788 17.769 596.299 18.7212 598.791 19.7107L598.423 20.6404C595.94 19.6547 593.439 18.705 590.92 17.7927L591.259 16.8533ZM425.328 12.7947C422.759 13.5517 420.206 14.3465 417.67 15.1785L417.358 14.2292C419.903 13.3941 422.466 12.5956 425.044 11.8357L425.328 12.7947ZM575.967 11.8357C578.546 12.5956 581.108 13.3941 583.654 14.2292L583.342 15.1785C580.807 14.3465 578.254 13.5517 575.685 12.7947L575.967 11.8357ZM440.719 8.20483L440.84 8.7312C438.232 9.3302 435.638 9.96808 433.059 10.6433L432.806 9.67651C435.395 8.99869 437.998 8.35789 440.617 7.75659L440.719 8.20483ZM560.395 7.75659C563.013 8.35788 565.617 8.9987 568.206 9.67651L567.954 10.6433C565.375 9.96808 562.781 9.33021 560.172 8.7312L560.395 7.75659ZM456.577 5.61792C453.934 6.05786 451.305 6.53708 448.69 7.05444L448.592 6.56323L448.496 6.073C451.121 5.55363 453.76 5.07322 456.413 4.63159L456.577 5.61792ZM544.599 4.63159C547.251 5.07322 549.891 5.55364 552.516 6.073L552.42 6.56421L552.419 6.56323L552.323 7.05444C549.707 6.53708 547.078 6.05786 544.436 5.61792L544.599 4.63159ZM472.478 3.46265C469.808 3.74275 467.15 4.06203 464.504 4.42065L464.437 3.92456L464.371 3.43042C467.026 3.07045 469.694 2.74965 472.373 2.46851L472.478 3.46265ZM528.638 2.46851C531.318 2.74964 533.986 3.07046 536.641 3.43042L536.576 3.92554L536.575 3.92456L536.508 4.42065C533.863 4.06203 531.204 3.74275 528.535 3.46265L528.638 2.46851ZM488.442 1.65405L488.469 2.26831C485.787 2.38799 483.115 2.54812 480.454 2.74683L480.379 1.74976C483.051 1.5503 485.733 1.38942 488.425 1.26929L488.442 1.65405ZM512.586 1.26929C515.279 1.38941 517.961 1.55031 520.632 1.74976L520.559 2.74683C517.898 2.54812 515.226 2.38799 512.543 2.26831L512.571 1.65405L512.586 1.26929ZM500.506 1.00073C501.856 1.00073 503.203 1.01102 504.547 1.03101L504.533 2.03101C503.193 2.01109 501.851 2.00073 500.506 2.00073C499.162 2.00073 497.82 2.01109 496.48 2.03101L496.464 1.03101C497.809 1.01101 499.157 1.00073 500.506 1.00073Z" fill="#D5D6EF" class="general-2 subtle"/>\n<path id="general-1" d="M746.006 269.001C746.006 133.691 636.316 24.0007 501.006 24.0007C365.697 24.0007 256.006 133.691 256.006 269.001C256.006 404.31 365.697 514.001 501.006 514.001V515.001C365.144 515.001 255.006 404.863 255.006 269.001C255.006 133.139 365.144 23.0007 501.006 23.0007C636.868 23.0007 747.006 133.139 747.006 269.001C747.006 404.863 636.868 515.001 501.006 515.001V514.001C636.316 514.001 746.006 404.31 746.006 269.001Z" fill="#4046B4" class="general-1 accent"/>\n<path id="general-1-image" d="M501.003 23.5004C636.589 23.5004 746.503 133.414 746.503 269C746.503 404.586 636.589 514.5 501.003 514.5C365.417 514.5 255.503 404.586 255.503 269C255.503 133.414 365.417 23.5004 501.003 23.5004Z" class="general-1 image" fill="#666666"/>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),tV="circle_hero_pic",tW={key:tV,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:1,l=tO.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:tV,svgScalingFactor:tW.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"s8JAhG"}),icon:a.EvL,defaultColorScheme:null,stepSvgData:tO,formattingMenu:J,defaultData:()=>w(tO),svgScalingFactor:1,featureFlag:"imagesInDiagrams"},tU=new Map(Object.entries({hot_air_balloons_1:'<svg class="hot_air_balloons" width="799.6246960000001" height="442.8915960000001" viewBox="70.78670199999998 56.614802 799.6246960000001 442.8915960000001" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="hot_air_balloons" class="hot_air_balloons">\n<g id="step-1" class="step-1">\n<path id="step-1-accent-no-border" d="M748.035 436.992H746.484V395.756H748.035V436.992ZM732.565 72.9727C709.583 85.3485 692.581 127.636 692.228 178.12L692.216 178.123L745.819 398.9L639.533 178.506H639.497C639.497 178.481 639.497 178.456 639.497 178.431L639.164 177.739H639.501C639.883 124.183 680.251 80.0234 732.565 72.9727ZM759.924 72.7188C813.221 78.8861 854.631 123.493 855.018 177.74H855.034L854.909 178.665L748.852 398.581L800.729 178.124H800.744C800.389 127.286 783.151 84.7593 759.924 72.7188ZM748.035 71.9922C750.35 72.0083 752.648 72.0976 754.926 72.2559C765.757 75.9123 775.698 86.5114 783.466 102.315C792.968 121.649 798.954 148.312 799.191 177.894L748.035 395.298V71.9922ZM746.486 395.068L693.781 177.995C694.006 148.373 699.995 121.671 709.508 102.315C717.162 86.7419 726.926 76.219 737.573 72.416C740.512 72.1572 743.485 72.0131 746.486 71.9922V395.068Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_2" d="M747.164 436.129C760.419 436.129 771.164 446.874 771.164 460.129C771.164 473.384 760.419 484.129 747.164 484.129C733.909 484.129 723.164 473.384 723.164 460.129C723.164 446.874 733.909 436.129 747.164 436.129ZM747.164 439.129C735.566 439.129 726.164 448.531 726.164 460.129C726.164 471.727 735.566 481.129 747.164 481.129C758.762 481.129 768.164 471.727 768.164 460.129C768.164 448.531 758.762 439.129 747.164 439.129ZM747.164 440.129C758.21 440.129 767.164 449.083 767.164 460.129C767.164 471.175 758.21 480.129 747.164 480.129C736.118 480.129 727.164 471.175 727.164 460.129C727.164 449.083 736.118 440.129 747.164 440.129Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_3" d="M106.164 222.992C117.21 222.992 126.164 231.946 126.164 242.992C126.164 254.038 117.21 262.992 106.164 262.992C95.1184 262.992 86.1641 254.038 86.1641 242.992C86.1641 231.946 95.1184 222.992 106.164 222.992ZM106.164 225.492C96.4991 225.492 88.6641 233.327 88.6641 242.992C88.6641 252.657 96.4991 260.492 106.164 260.492C115.829 260.492 123.664 252.657 123.664 242.992C123.664 233.327 115.829 225.492 106.164 225.492ZM106.164 226.325C115.369 226.325 122.831 233.787 122.831 242.992C122.831 252.197 115.369 259.659 106.164 259.659C96.9593 259.659 89.4971 252.197 89.4971 242.992C89.4971 233.787 96.9593 226.325 106.164 226.325Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left-top" x="148.164" y="233.992" width="352" height="79" fill="#D9D9D9" class="step-1 card textbox left top"/>\n<rect id="step-1-accent-image" x="97.1641" y="233.992" width="18.33" height="18.33" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="89.6641" y="226.492" width="418" height="94" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',hot_air_balloons_2:'<svg class="hot_air_balloons" width="836.83704" height="444.18604" viewBox="79.90698 56.906980000000004 836.83704 444.18604" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="hot_air_balloons" class="hot_air_balloons">\n<g id="step-2" class="step-2">\n<path id="step-2-accent-no-border" d="M793.652 438H792.102V396.764H793.652V438ZM791.434 399.908L729.035 270.52L749.644 227.787L791.434 399.908ZM805.541 73.7266C858.838 79.8939 900.248 124.501 900.635 178.748H900.651L900.526 179.673L794.469 399.589L846.346 179.132H846.361C846.006 128.294 828.768 85.7671 805.541 73.7266ZM793.648 73C795.963 73.0161 798.261 73.1054 800.539 73.2637C811.37 76.9201 821.311 87.5192 829.079 103.323C838.581 122.656 844.567 149.32 844.805 178.901L793.648 396.306V73ZM792.099 396.076L750.703 225.586L778.854 167.215L778.966 166.397H778.951C778.781 142.533 769.621 120.781 754.653 104.285C754.808 103.963 754.964 103.642 755.12 103.323C762.774 87.7498 772.539 77.2268 783.186 73.4238C786.124 73.165 789.097 73.0209 792.099 73V396.076ZM718.503 102.432C726.133 119.444 730.844 141.973 731.017 166.736H731.003L713.944 239.227L713 237.269L729.645 166.534C729.449 142.221 724.857 120.141 717.457 103.432C717.803 103.096 718.152 102.763 718.503 102.432ZM778.182 73.9805C768.695 79.0888 760.23 89.2945 753.531 103.068C748.446 97.6569 742.725 92.8382 736.484 88.7285C748.933 81.1576 763.059 76.0187 778.182 73.9805Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_2" d="M792.777 437C806.032 437 816.777 447.745 816.777 461C816.777 474.255 806.032 485 792.777 485C779.523 485 768.777 474.255 768.777 461C768.777 447.745 779.523 437 792.777 437ZM792.777 440C781.179 440 771.777 449.402 771.777 461C771.777 472.598 781.179 482 792.777 482C804.375 482 813.777 472.598 813.777 461C813.777 449.402 804.375 440 792.777 440ZM792.777 441C803.823 441 812.777 449.954 812.777 461C812.777 472.046 803.823 481 792.777 481C781.732 481 772.777 472.046 772.777 461C772.777 449.954 781.732 441 792.777 441Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_3" d="M116 279C127.046 279 136 287.954 136 299C136 310.046 127.046 319 116 319C104.954 319 96 310.046 96 299C96 287.954 104.954 279 116 279ZM116 281.5C106.335 281.5 98.5 289.335 98.5 299C98.5 308.665 106.335 316.5 116 316.5C125.665 316.5 133.5 308.665 133.5 299C133.5 289.335 125.665 281.5 116 281.5ZM116 282.333C125.205 282.333 132.667 289.795 132.667 299C132.667 308.205 125.205 315.667 116 315.667C106.795 315.667 99.333 308.205 99.333 299C99.333 289.795 106.795 282.333 116 282.333Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left-top" x="158" y="290" width="352" height="79" fill="#D9D9D9" class="step-2 card textbox left top"/>\n<rect id="step-2-accent-image" x="107" y="290" width="18.33" height="18.33" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="99.5" y="282.5" width="418" height="94" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent-no-border" d="M684.686 437.768H683.315V358.952H684.686V437.768ZM671.021 73.8662C650.723 84.7967 635.706 122.145 635.395 166.733L635.384 166.736L682.728 361.729L588.854 167.074H588.822C588.822 167.052 588.822 167.031 588.822 167.009L588.527 166.397H588.826C589.163 119.096 624.817 80.0935 671.021 73.8662ZM695.187 73.6416C742.259 79.0887 778.833 118.485 779.175 166.397H779.189L779.078 167.215L685.407 361.447L731.226 166.736H731.239C730.926 121.836 715.701 84.2761 695.187 73.6416ZM684.686 73C686.73 73.0142 688.759 73.0926 690.771 73.2324C700.337 76.4618 709.118 85.8237 715.979 99.7822C724.371 116.858 729.657 140.408 729.867 166.534L684.686 358.548V73ZM683.315 358.346L636.766 166.624C636.964 140.462 642.253 116.877 650.655 99.7822C657.416 86.0272 666.041 76.7328 675.444 73.374C678.04 73.1455 680.665 73.0185 683.315 73V358.346Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_2" d="M684 437C697.255 437 708 447.745 708 461C708 474.255 697.255 485 684 485C670.745 485 660 474.255 660 461C660 447.745 670.745 437 684 437ZM684 440C672.402 440 663 449.402 663 461C663 472.598 672.402 482 684 482C695.598 482 705 472.598 705 461C705 449.402 695.598 440 684 440ZM684 441C695.046 441 704 449.954 704 461C704 472.046 695.046 481 684 481C672.954 481 664 472.046 664 461C664 449.954 672.954 441 684 441Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_3" d="M116 170C127.046 170 136 178.954 136 190C136 201.046 127.046 210 116 210C104.954 210 96 201.046 96 190C96 178.954 104.954 170 116 170ZM116 172.5C106.335 172.5 98.5 180.335 98.5 190C98.5 199.665 106.335 207.5 116 207.5C125.665 207.5 133.5 199.665 133.5 190C133.5 180.335 125.665 172.5 116 172.5ZM116 173.333C125.205 173.333 132.667 180.795 132.667 190C132.667 199.205 125.205 206.667 116 206.667C106.795 206.667 99.333 199.205 99.333 190C99.333 180.795 106.795 173.333 116 173.333Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left-top" x="158" y="181" width="352" height="79" fill="#D9D9D9" class="step-1 card textbox left top"/>\n<rect id="step-1-accent-image" x="107" y="181" width="18.33" height="18.33" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="99.5" y="173.5" width="418" height="94" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',hot_air_balloons_3:'<svg class="hot_air_balloons" width="925.46896" height="447.59496" viewBox="37.20252 55.20252 925.46896 447.59496" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="hot_air_balloons" class="hot_air_balloons">\n<g id="step-3" class="step-3">\n<path id="step-3-accent-no-border" d="M837.871 438H836.32V396.764H837.871V438ZM835.656 399.908L773.258 270.52L793.866 227.787L835.656 399.908ZM849.764 73.7266C903.06 79.8939 944.471 124.501 944.857 178.748H944.874L944.749 179.673L838.691 399.589L890.568 179.132H890.584C890.229 128.294 872.991 85.7671 849.764 73.7266ZM837.875 73C840.19 73.0161 842.488 73.1054 844.766 73.2637C855.596 76.9201 865.538 87.5192 873.306 103.323C882.808 122.656 888.794 149.32 889.031 178.901L837.875 396.306V73ZM836.321 396.076L794.926 225.586L823.077 167.215L823.188 166.397H823.174C823.004 142.533 813.844 120.781 798.876 104.285C799.031 103.963 799.186 103.642 799.343 103.323C806.997 87.7498 816.761 77.2268 827.408 73.4238C830.347 73.165 833.32 73.0209 836.321 73V396.076ZM762.726 102.432C770.355 119.444 775.066 141.973 775.239 166.736H775.226L758.167 239.227L757.223 237.269L773.867 166.534C773.672 142.221 769.079 120.141 761.68 103.432C762.026 103.096 762.375 102.763 762.726 102.432ZM822.4 73.9805C812.914 79.0888 804.448 89.2945 797.75 103.068C792.665 97.6569 786.944 92.8382 780.703 88.7285C793.152 81.1576 807.277 76.0187 822.4 73.9805Z" fill="#666BC3" class="step-3 accent no-border"/>\n<path id="step-3-accent-no-border_2" d="M837 437C850.255 437 861 447.745 861 461C861 474.255 850.255 485 837 485C823.745 485 813 474.255 813 461C813 447.745 823.745 437 837 437ZM837 440C825.402 440 816 449.402 816 461C816 472.598 825.402 482 837 482C848.598 482 858 472.598 858 461C858 449.402 848.598 440 837 440ZM837 441C848.046 441 857 449.954 857 461C857 472.046 848.046 481 837 481C825.954 481 817 472.046 817 461C817 449.954 825.954 441 837 441Z" fill="#666BC3" class="step-3 accent no-border"/>\n<path id="step-3-accent-no-border_3" d="M75 333C86.0457 333 95 341.954 95 353C95 364.046 86.0457 373 75 373C63.9543 373 55 364.046 55 353C55 341.954 63.9543 333 75 333ZM75 335.5C65.335 335.5 57.5 343.335 57.5 353C57.5 362.665 65.335 370.5 75 370.5C84.665 370.5 92.5 362.665 92.5 353C92.5 343.335 84.665 335.5 75 335.5ZM75 336.333C84.2047 336.333 91.667 343.795 91.667 353C91.667 362.205 84.2047 369.667 75 369.667C65.7953 369.667 58.333 362.205 58.333 353C58.333 343.795 65.7953 336.333 75 336.333Z" fill="#666BC3" class="step-3 accent no-border"/>\n<rect id="step-3-card-textbox-left-top" x="117" y="344" width="352" height="79" fill="#D9D9D9" class="step-3 card textbox left top"/>\n<rect id="step-3-accent-image" x="66" y="344" width="18.33" height="18.33" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="58.5" y="336.5" width="418" height="94" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent-no-border" d="M728.685 437.768H727.314V358.952H728.685V437.768ZM726.727 361.729L664.32 232.325L684.931 189.589L726.727 361.729ZM739.186 73.6416C786.258 79.0887 822.832 118.485 823.174 166.397H823.188L823.077 167.215L729.406 361.447L775.225 166.736H775.238C774.925 121.836 759.7 84.2761 739.186 73.6416ZM728.685 73C730.729 73.0142 732.758 73.0926 734.771 73.2324C744.336 76.4618 753.117 85.8237 759.978 99.7822C768.37 116.858 773.656 140.408 773.866 166.534L728.685 358.548V73ZM727.314 358.346L685.868 187.646L701.502 155.229L701.732 153.524C701.5 138.332 697.078 124.143 689.557 112.039C691.089 107.664 692.795 103.564 694.654 99.7822C701.415 86.0272 710.04 76.7328 719.443 73.374C722.039 73.1455 724.664 73.0185 727.314 73V358.346ZM653.161 108.945C657.424 122.034 659.951 137.669 660.068 154.49H660.057L649.146 200.857L648.324 199.154L658.876 154.314C658.745 137.989 656.334 122.822 652.279 110.069C652.57 109.692 652.865 109.318 653.161 108.945ZM715.021 73.8662C704.277 79.6514 695.014 92.8374 688.627 110.58C683.915 103.344 678.08 96.8903 671.365 91.459C683.907 82.2669 698.814 76.0504 715.021 73.8662Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_2" d="M728 437C741.255 437 752 447.745 752 461C752 474.255 741.255 485 728 485C714.745 485 704 474.255 704 461C704 447.745 714.745 437 728 437ZM728 440C716.402 440 707 449.402 707 461C707 472.598 716.402 482 728 482C739.598 482 749 472.598 749 461C749 449.402 739.598 440 728 440ZM728 441C739.046 441 748 449.954 748 461C748 472.046 739.046 481 728 481C716.954 481 708 472.046 708 461C708 449.954 716.954 441 728 441Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_3" d="M75 224C86.0457 224 95 232.954 95 244C95 255.046 86.0457 264 75 264C63.9543 264 55 255.046 55 244C55 232.954 63.9543 224 75 224ZM75 226.5C65.335 226.5 57.5 234.335 57.5 244C57.5 253.665 65.335 261.5 75 261.5C84.665 261.5 92.5 253.665 92.5 244C92.5 234.335 84.665 226.5 75 226.5ZM75 227.333C84.2047 227.333 91.667 234.795 91.667 244C91.667 253.205 84.2047 260.667 75 260.667C65.7953 260.667 58.333 253.205 58.333 244C58.333 234.795 65.7953 227.333 75 227.333Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left-top" x="117" y="235" width="352" height="79" fill="#D9D9D9" class="step-2 card textbox left top"/>\n<rect id="step-2-accent-image" x="66" y="235" width="18.33" height="18.33" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="58.5" y="227.5" width="418" height="94" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent-no-border" d="M619.596 437H618.404V321.596H619.596V437ZM607.717 73.7529C590.07 83.2555 577.015 115.725 576.744 154.488L576.735 154.49L617.894 324.01L536.283 154.784H536.256C536.256 154.765 536.256 154.746 536.256 154.727L536 154.196H536.259C536.552 113.074 567.548 79.1667 607.717 73.7529ZM628.725 73.5576C669.427 78.2676 701.1 112.176 701.731 153.524L701.501 155.229L620.223 323.764L660.056 154.49H660.067C659.795 115.455 646.559 82.8028 628.725 73.5576ZM619.596 73C621.373 73.0124 623.138 73.0806 624.887 73.2021C633.203 76.0097 640.837 84.1483 646.801 96.2832C654.097 111.128 658.693 131.601 658.875 154.314L619.596 321.243V73ZM618.404 321.067L577.936 154.393C578.108 131.648 582.707 111.145 590.012 96.2832C595.889 84.3253 603.386 76.2451 611.562 73.3252C613.818 73.1265 616.1 73.0161 618.404 73V321.067Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_2" d="M619 437C632.255 437 643 447.745 643 461C643 474.255 632.255 485 619 485C605.745 485 595 474.255 595 461C595 447.745 605.745 437 619 437ZM619 440C607.402 440 598 449.402 598 461C598 472.598 607.402 482 619 482C630.598 482 640 472.598 640 461C640 449.402 630.598 440 619 440ZM619 441C630.046 441 639 449.954 639 461C639 472.046 630.046 481 619 481C607.954 481 599 472.046 599 461C599 449.954 607.954 441 619 441Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_3" d="M75 115C86.0457 115 95 123.954 95 135C95 146.046 86.0457 155 75 155C63.9543 155 55 146.046 55 135C55 123.954 63.9543 115 75 115ZM75 117.5C65.335 117.5 57.5 125.335 57.5 135C57.5 144.665 65.335 152.5 75 152.5C84.665 152.5 92.5 144.665 92.5 135C92.5 125.335 84.665 117.5 75 117.5ZM75 118.333C84.2047 118.333 91.667 125.795 91.667 135C91.667 144.205 84.2047 151.667 75 151.667C65.7953 151.667 58.333 144.205 58.333 135C58.333 125.795 65.7953 118.333 75 118.333Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left-top" x="117" y="126" width="352" height="79" fill="#D9D9D9" class="step-1 card textbox left top"/>\n<rect id="step-1-accent-image" x="66" y="126" width="18.33" height="18.33" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="58.5" y="118.5" width="418" height="94" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',hot_air_balloons_4:'<svg class="hot_air_balloons" width="1008.6648" height="456.0409" viewBox="-1.397400000000001 53.3565 1008.6648 456.0409" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="hot_air_balloons" class="hot_air_balloons">\n<g id="step-4" class="step-4">\n<path id="step-4-accent-no-border" d="M880.871 438H879.32V396.764H880.871V438ZM878.656 399.908L816.258 270.52L836.866 227.787L878.656 399.908ZM892.76 73.7266C946.057 79.8939 987.467 124.501 987.854 178.748H987.87L987.745 179.673L881.688 399.589L933.564 179.132H933.58C933.225 128.294 915.987 85.7671 892.76 73.7266ZM880.871 73C883.186 73.0161 885.484 73.1054 887.762 73.2637C898.593 76.9201 908.534 87.5192 916.302 103.323C925.804 122.656 931.79 149.32 932.027 178.901L880.871 396.306V73ZM879.321 396.076L837.926 225.586L866.077 167.215L866.188 166.397H866.174C866.004 142.533 856.844 120.781 841.876 104.285C842.031 103.963 842.186 103.642 842.343 103.323C849.997 87.7498 859.761 77.2268 870.408 73.4238C873.347 73.165 876.32 73.0209 879.321 73V396.076ZM805.726 102.432C813.355 119.444 818.066 141.973 818.239 166.736H818.226L801.167 239.227L800.223 237.269L816.867 166.534C816.672 142.221 812.079 120.141 804.68 103.432C805.026 103.096 805.375 102.763 805.726 102.432ZM865.4 73.9805C855.914 79.0888 847.448 89.2945 840.75 103.068C835.665 97.6569 829.944 92.8382 823.703 88.7285C836.152 81.1576 850.277 76.0187 865.4 73.9805Z" fill="#4046B4" class="step-4 accent no-border"/>\n<path id="step-4-accent-no-border_2" d="M880 437C893.255 437 904 447.745 904 461C904 474.255 893.255 485 880 485C866.745 485 856 474.255 856 461C856 447.745 866.745 437 880 437ZM880 440C868.402 440 859 449.402 859 461C859 472.598 868.402 482 880 482C891.598 482 901 472.598 901 461C901 449.402 891.598 440 880 440ZM880 441C891.046 441 900 449.954 900 461C900 472.046 891.046 481 880 481C868.954 481 860 472.046 860 461C860 449.954 868.954 441 880 441Z" fill="#4046B4" class="step-4 accent no-border"/>\n<path id="step-4-accent-no-border_3" d="M38 400C49.0457 400 58 408.954 58 420C58 431.046 49.0457 440 38 440C26.9543 440 18 431.046 18 420C18 408.954 26.9543 400 38 400ZM38 402.5C28.335 402.5 20.5 410.335 20.5 420C20.5 429.665 28.335 437.5 38 437.5C47.665 437.5 55.5 429.665 55.5 420C55.5 410.335 47.665 402.5 38 402.5ZM38 403.333C47.2047 403.333 54.667 410.795 54.667 420C54.667 429.205 47.2047 436.667 38 436.667C28.7953 436.667 21.333 429.205 21.333 420C21.333 410.795 28.7953 403.333 38 403.333Z" fill="#4046B4" class="step-4 accent no-border"/>\n<rect id="step-4-card-textbox-left-top" x="79.9102" y="411" width="352" height="79" fill="#D9D9D9" class="step-4 card textbox left top"/>\n<rect id="step-4-accent-image" x="28.9102" y="411" width="18.33" height="18.33" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="21.4102" y="403.5" width="418" height="94" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent-no-border" d="M766.36 437.768H764.99V358.952H766.36V437.768ZM764.402 361.729L701.996 232.325L722.606 189.589L764.402 361.729ZM776.861 73.6416C823.934 79.0887 860.508 118.485 860.85 166.397H860.864L860.753 167.215L767.082 361.447L812.9 166.736H812.914C812.601 121.836 797.376 84.2761 776.861 73.6416ZM766.36 73C768.405 73.0142 770.434 73.0926 772.446 73.2324C782.012 76.4618 790.793 85.8237 797.653 99.7822C806.046 116.858 811.332 140.408 811.542 166.534L766.36 358.548V73ZM764.99 358.346L723.544 187.646L739.178 155.229L739.408 153.524C739.176 138.332 734.754 124.143 727.232 112.039C728.765 107.664 730.471 103.564 732.33 99.7822C739.091 86.0272 747.715 76.7328 757.119 73.374C759.714 73.1455 762.339 73.0185 764.99 73V358.346ZM690.837 108.945C695.1 122.034 697.627 137.669 697.744 154.49H697.732L686.821 200.857L686 199.154L696.552 154.314C696.421 137.989 694.01 122.822 689.955 110.069C690.246 109.692 690.54 109.318 690.837 108.945ZM752.696 73.8662C741.953 79.6514 732.69 92.8374 726.303 110.58C721.591 103.344 715.756 96.8903 709.041 91.459C721.582 82.2669 736.49 76.0504 752.696 73.8662Z" fill="#666BC3" class="step-3 accent no-border"/>\n<path id="step-3-accent-no-border_2" d="M771 437C784.255 437 795 447.745 795 461C795 474.255 784.255 485 771 485C757.745 485 747 474.255 747 461C747 447.745 757.745 437 771 437ZM771 440C759.402 440 750 449.402 750 461C750 472.598 759.402 482 771 482C782.598 482 792 472.598 792 461C792 449.402 782.598 440 771 440ZM771 441C782.046 441 791 449.954 791 461C791 472.046 782.046 481 771 481C759.954 481 751 472.046 751 461C751 449.954 759.954 441 771 441Z" fill="#666BC3" class="step-3 accent no-border"/>\n<path id="step-3-accent-no-border_3" d="M38 291C49.0457 291 58 299.954 58 311C58 322.046 49.0457 331 38 331C26.9543 331 18 322.046 18 311C18 299.954 26.9543 291 38 291ZM38 293.5C28.335 293.5 20.5 301.335 20.5 311C20.5 320.665 28.335 328.5 38 328.5C47.665 328.5 55.5 320.665 55.5 311C55.5 301.335 47.665 293.5 38 293.5ZM38 294.333C47.2047 294.333 54.667 301.795 54.667 311C54.667 320.205 47.2047 327.667 38 327.667C28.7953 327.667 21.333 320.205 21.333 311C21.333 301.795 28.7953 294.333 38 294.333Z" fill="#666BC3" class="step-3 accent no-border"/>\n<rect id="step-3-card-textbox-left-top" x="79.9102" y="302" width="352" height="79" fill="#D9D9D9" class="step-3 card textbox left top"/>\n<rect id="step-3-accent-image" x="28.9102" y="302" width="18.33" height="18.33" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="21.4102" y="294.5" width="418" height="94" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent-no-border" d="M662.598 437H661.406V321.596H662.598V437ZM619.991 146.417C619.849 149.073 619.765 151.765 619.746 154.488L619.737 154.49L660.896 324.01L597.75 193.074L619.991 146.417ZM671.727 73.5576C712.429 78.2676 744.102 112.176 744.733 153.524L744.503 155.229L663.225 323.764L703.058 154.49H703.069C702.797 115.455 689.561 82.8028 671.727 73.5576ZM662.598 73C664.375 73.0124 666.139 73.0806 667.889 73.2021C676.205 76.0097 683.839 84.1483 689.803 96.2832C697.099 111.128 701.694 131.601 701.877 154.314L662.598 321.243V73ZM661.406 321.067L620.938 154.393C620.965 150.711 621.111 147.089 621.363 143.539L621.775 142.676L621.998 141.747C621.989 140.448 621.943 139.157 621.863 137.875C623.568 121.789 627.528 107.445 633.014 96.2832C638.891 84.3253 646.388 76.2451 654.563 73.3252C656.82 73.1265 659.102 73.0161 661.406 73V321.067ZM585.653 123.203C586.484 129.187 586.951 135.489 586.996 142.001H586.986L582.475 161.397L581.781 159.961L585.994 141.852C585.948 136.059 585.566 130.438 584.891 125.065C585.137 124.441 585.392 123.82 585.653 123.203ZM650.719 73.7529C636.535 81.3906 625.32 103.865 621.322 132.52C619.375 118.622 613.319 106.044 604.42 96.0508C616.768 84.2216 632.834 76.1633 650.719 73.7529Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_2" d="M662 437C675.255 437 686 447.745 686 461C686 474.255 675.255 485 662 485C648.745 485 638 474.255 638 461C638 447.745 648.745 437 662 437ZM662 440C650.402 440 641 449.402 641 461C641 472.598 650.402 482 662 482C673.598 482 683 472.598 683 461C683 449.402 673.598 440 662 440ZM662 441C673.046 441 682 449.954 682 461C682 472.046 673.046 481 662 481C650.954 481 642 472.046 642 461C642 449.954 650.954 441 662 441Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_3" d="M38 182C49.0457 182 58 190.954 58 202C58 213.046 49.0457 222 38 222C26.9543 222 18 213.046 18 202C18 190.954 26.9543 182 38 182ZM38 184.5C28.335 184.5 20.5 192.335 20.5 202C20.5 211.665 28.335 219.5 38 219.5C47.665 219.5 55.5 211.665 55.5 202C55.5 192.335 47.665 184.5 38 184.5ZM38 185.333C47.2047 185.333 54.667 192.795 54.667 202C54.667 211.205 47.2047 218.667 38 218.667C28.7953 218.667 21.333 211.205 21.333 202C21.333 192.795 28.7953 185.333 38 185.333Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left-top" x="79.9102" y="193" width="352" height="79" fill="#D9D9D9" class="step-2 card textbox left top"/>\n<rect id="step-2-accent-image" x="28.9102" y="193" width="18.33" height="18.33" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="21.4102" y="185.5" width="418" height="94" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent-no-border" d="M553 437H552V284H553V437ZM543.022 73.3936C528.2 81.4684 517.236 109.06 517.008 141.999L517 142.001L551.57 286.052L483.023 142.251H483C483 142.235 483 142.218 483 142.202L482.785 141.751H483.003C483.249 106.807 509.283 77.994 543.022 73.3936ZM560.668 73.2275C595.04 77.2513 621.745 106.354 621.996 141.747L621.773 142.676L553.527 285.843L586.984 142.001H586.994C586.765 108.831 575.648 81.0836 560.668 73.2275ZM553 72.7539C554.493 72.7644 555.975 72.8225 557.444 72.9258C564.429 75.3115 570.841 82.2273 575.851 92.5391C581.979 105.153 585.839 122.551 585.992 141.852L553 283.701V72.7539ZM552 283.552L518.009 141.918C518.154 122.59 522.016 105.168 528.151 92.5391C533.088 82.3776 539.385 75.5115 546.252 73.0303C548.147 72.8614 550.064 72.7675 552 72.7539V283.552Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_2" d="M552 437C565.255 437 576 447.745 576 461C576 474.255 565.255 485 552 485C538.745 485 528 474.255 528 461C528 447.745 538.745 437 552 437ZM552 440C540.402 440 531 449.402 531 461C531 472.598 540.402 482 552 482C563.598 482 573 472.598 573 461C573 449.402 563.598 440 552 440ZM552 441C563.046 441 572 449.954 572 461C572 472.046 563.046 481 552 481C540.954 481 532 472.046 532 461C532 449.954 540.954 441 552 441Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_3" d="M38 73C49.0457 73 58 81.9543 58 93C58 104.046 49.0457 113 38 113C26.9543 113 18 104.046 18 93C18 81.9543 26.9543 73 38 73ZM38 75.5C28.335 75.5 20.5 83.335 20.5 93C20.5 102.665 28.335 110.5 38 110.5C47.665 110.5 55.5 102.665 55.5 93C55.5 83.335 47.665 75.5 38 75.5ZM38 76.333C47.2047 76.333 54.667 83.7953 54.667 93C54.667 102.205 47.2047 109.667 38 109.667C28.7953 109.667 21.333 102.205 21.333 93C21.333 83.7953 28.7953 76.333 38 76.333Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left-top" x="79.9102" y="84" width="352" height="79" fill="#D9D9D9" class="step-1 card textbox left top"/>\n<rect id="step-1-accent-image" x="28.9102" y="84" width="18.33" height="18.33" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="21.4102" y="76.5" width="418" height="94" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("hot_air_balloons_","")),n]})),tG="hot_air_balloons",tZ={key:tG,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:4,l=tU.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:tG,svgScalingFactor:tZ.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"5Ds1yY"}),icon:a.yM2,previewImage:{src:"/_next/static/media/hot_air_balloon.6db7640a.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",stepSvgData:tU,formattingMenu:J,defaultData:()=>w(tU),svgScalingFactor:1},tK=new Map(Object.entries({iceberg_icons_1:'<svg class="iceberg_icons" width="814.32" height="435.8203" viewBox="93.34 49.47670000000001 814.32 435.8203" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.137C307.957 397.962 306.072 407.252 303.5 420.637L254.5 469.637L231 417.137V408.637L213.25 387.137H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.137L344.999 350.137L315.999 371.637C314.016 377.406 312.426 382.418 311.069 387.137H213.249L195.499 365.637L174.129 306.137H354.39L353.999 307.137Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.137H174.13L170 294.637C159.36 271.216 136.651 256.643 109 227.137C109.247 226.801 109.495 226.469 109.74 226.137H385.609L354.391 306.137Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 145.637L337.5 172.637L394 204.637L385.609 226.137H109.74C131.313 196.945 144.614 180.826 159 147.137L160.421 144.137H166.846C164.932 146.754 164.424 149.061 164 152.637C159.879 162.321 157.165 167.745 151.5 177.137C141.279 189.176 136.783 196.9 128 210.137L123 218.137V220.637L233.5 212.137L270.5 191.137C269.722 179.753 272.476 173.422 281 162.137C283.168 158.406 283.645 156.396 282.5 152.637L270.847 144.137H321.607L322.5 145.637Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.1367C280.948 93.4269 286.901 97.0982 297.493 103.632L297.501 103.637L321.608 144.137H270.848L240.001 121.637C246.708 101.22 251.58 88.7555 252.001 74.1367C231.212 85.7865 217.838 92.8554 211.001 100.137L199.001 124.137C188.124 132.784 179.864 134.33 169.001 141.637C168.13 142.527 167.425 143.346 166.847 144.137H160.422L163.501 137.637C189.956 125.875 199.846 117.528 205.501 98.6367C217.083 86.4132 232.165 78.6253 255.501 65.1367H257.501L271.001 85.1367Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 85.2734C438.046 85.2734 447 94.2277 447 105.273C447 116.319 438.046 125.273 427 125.273C416.629 125.273 408.103 117.38 407.1 107.273H299.583L298.393 105.273H407C407 94.2277 415.954 85.2734 427 85.2734Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="82.2734" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-image" x="417" y="95.2734" width="20" height="20" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="409.5" y="74.7734" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_icons_2:'<svg class="iceberg_icons" width="814.32" height="435.8197" viewBox="93.34 50.2033 814.32 435.8197" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.863C307.957 398.689 306.072 407.978 303.5 421.363L254.5 470.363L231 417.863V409.363L213.25 387.863H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.863L344.999 350.863L315.999 372.363C314.016 378.133 312.426 383.144 311.069 387.863H213.249L195.499 366.363L174.129 306.863H354.39L353.999 307.863Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.863H174.13L170 295.363C159.36 271.942 136.651 257.37 109 227.863C109.247 227.528 109.495 227.195 109.74 226.863H385.609L354.391 306.863Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 146.363L337.5 173.363L394 205.363L385.609 226.863H109.74C131.313 197.671 144.614 181.553 159 147.863L160.421 144.863H166.846C164.932 147.48 164.424 149.788 164 153.363C159.879 163.048 157.165 168.472 151.5 177.863C141.279 189.903 136.783 197.626 128 210.863L123 218.863V221.363L233.5 212.863L270.5 191.863C269.722 180.48 272.476 174.149 281 162.863C283.168 159.132 283.645 157.123 282.5 153.363L270.847 144.863H321.607L322.5 146.363Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.8633C280.948 94.1535 286.901 97.8248 297.493 104.358L297.501 104.363L321.608 144.863H270.848L240.001 122.363C246.708 101.947 251.58 89.482 252.001 74.8633C231.212 86.5131 217.838 93.5819 211.001 100.863L199.001 124.863C188.124 133.511 179.864 135.057 169.001 142.363C168.13 143.254 167.425 144.073 166.847 144.863H160.422L163.501 138.363C189.956 126.602 199.846 118.254 205.501 99.3633C217.083 87.1398 232.165 79.3519 255.501 65.8633H257.501L271.001 85.8633Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 86C438.046 86 447 94.9543 447 106C447 117.046 438.046 126 427 126C416.629 126 408.103 118.107 407.1 108H299.583L298.393 106H407C407 94.9543 415.954 86 427 86Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="83" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-image" x="417" y="96" width="20" height="20" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="409.5" y="75.5" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M427 166C438.046 166 447 174.954 447 186C447 197.046 438.046 206 427 206C415.954 206 407 197.046 407 186H359.57L356.039 184H407.1C408.103 173.893 416.629 166 427 166Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="465" y="163" width="427" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-accent-image" x="417" y="176" width="20" height="20" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="409.5" y="155.5" width="490" height="60" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_icons_3:'<svg class="iceberg_icons" width="814.32" height="435.8197" viewBox="93.34 50.2033 814.32 435.8197" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.863C307.957 398.689 306.072 407.978 303.5 421.363L254.5 470.363L231 417.863V409.363L213.25 387.863H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.863L344.999 350.863L315.999 372.363C314.016 378.133 312.426 383.144 311.069 387.863H213.249L195.499 366.363L174.129 306.863H354.39L353.999 307.863Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.863H174.13L170 295.363C159.36 271.942 136.651 257.37 109 227.863C109.247 227.528 109.495 227.195 109.74 226.863H385.609L354.391 306.863Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 146.363L337.5 173.363L394 205.363L385.609 226.863H109.74C131.313 197.671 144.614 181.553 159 147.863L160.421 144.863H166.846C164.932 147.48 164.424 149.788 164 153.363C159.879 163.048 157.165 168.472 151.5 177.863C141.279 189.903 136.783 197.626 128 210.863L123 218.863V221.363L233.5 212.863L270.5 191.863C269.722 180.48 272.476 174.149 281 162.863C283.168 159.132 283.645 157.123 282.5 153.363L270.847 144.863H321.607L322.5 146.363Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.8633C280.948 94.1535 286.901 97.8248 297.493 104.358L297.501 104.363L321.608 144.863H270.848L240.001 122.363C246.708 101.947 251.58 89.482 252.001 74.8633C231.212 86.5131 217.838 93.5819 211.001 100.863L199.001 124.863C188.124 133.511 179.864 135.057 169.001 142.363C168.13 143.254 167.425 144.073 166.847 144.863H160.422L163.501 138.363C189.956 126.602 199.846 118.254 205.501 99.3633C217.083 87.1398 232.165 79.3519 255.501 65.8633H257.501L271.001 85.8633Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 86C438.046 86 447 94.9543 447 106C447 117.046 438.046 126 427 126C416.629 126 408.103 118.107 407.1 108H299.583L298.393 106H407C407 94.9543 415.954 86 427 86Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="83" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-image" x="417" y="96" width="20" height="20" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="409.5" y="75.5" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M427 166C438.046 166 447 174.954 447 186C447 197.046 438.046 206 427 206C415.954 206 407 197.046 407 186H359.57L356.039 184H407.1C408.103 173.893 416.629 166 427 166Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="465" y="163" width="427" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-accent-image" x="417" y="176" width="20" height="20" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="409.5" y="155.5" width="490" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M427 246C438.046 246 447 254.954 447 266C447 277.046 438.046 286 427 286C416.29 286 407.546 277.581 407.025 267H370L370.78 265H407.025C407.546 254.419 416.29 246 427 246Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="465" y="243" width="427" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-accent-image" x="417" y="256" width="20" height="20" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="409.5" y="235.5" width="490" height="60" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_icons_4:'<svg class="iceberg_icons" width="814.32" height="435.8197" viewBox="93.34 50.2033 814.32 435.8197" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.863C307.957 398.689 306.072 407.978 303.5 421.363L254.5 470.363L231 417.863V409.363L213.25 387.863H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.863L344.999 350.863L315.999 372.363C314.016 378.133 312.426 383.144 311.069 387.863H213.249L195.499 366.363L174.129 306.863H354.39L353.999 307.863Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.863H174.13L170 295.363C159.36 271.942 136.651 257.37 109 227.863C109.247 227.528 109.495 227.195 109.74 226.863H385.609L354.391 306.863Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 146.363L337.5 173.363L394 205.363L385.609 226.863H109.74C131.313 197.671 144.614 181.553 159 147.863L160.421 144.863H166.846C164.932 147.48 164.424 149.788 164 153.363C159.879 163.048 157.165 168.472 151.5 177.863C141.279 189.903 136.783 197.626 128 210.863L123 218.863V221.363L233.5 212.863L270.5 191.863C269.722 180.48 272.476 174.149 281 162.863C283.168 159.132 283.645 157.123 282.5 153.363L270.847 144.863H321.607L322.5 146.363Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.8633C280.948 94.1535 286.901 97.8248 297.493 104.358L297.501 104.363L321.608 144.863H270.848L240.001 122.363C246.708 101.947 251.58 89.482 252.001 74.8633C231.212 86.5131 217.838 93.5819 211.001 100.863L199.001 124.863C188.124 133.511 179.864 135.057 169.001 142.363C168.13 143.254 167.425 144.073 166.847 144.863H160.422L163.501 138.363C189.956 126.602 199.846 118.254 205.501 99.3633C217.083 87.1398 232.165 79.3519 255.501 65.8633H257.501L271.001 85.8633Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 86C438.046 86 447 94.9543 447 106C447 117.046 438.046 126 427 126C416.629 126 408.103 118.107 407.1 108H299.583L298.393 106H407C407 94.9543 415.954 86 427 86Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="83" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-image" x="417" y="96" width="20" height="20" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="409.5" y="75.5" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M427 166C438.046 166 447 174.954 447 186C447 197.046 438.046 206 427 206C415.954 206 407 197.046 407 186H359.57L356.039 184H407.1C408.103 173.893 416.629 166 427 166Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="465" y="163" width="427" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-accent-image" x="417" y="176" width="20" height="20" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="409.5" y="155.5" width="490" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M427 246C438.046 246 447 254.954 447 266C447 277.046 438.046 286 427 286C416.29 286 407.546 277.581 407.025 267H370L370.78 265H407.025C407.546 254.419 416.29 246 427 246Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="465" y="243" width="427" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-accent-image" x="417" y="256" width="20" height="20" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="409.5" y="235.5" width="490" height="60" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M427 326C438.046 326 447 334.954 447 346C447 357.046 438.046 366 427 366C416.629 366 408.103 358.107 407.1 348H345.627L346.046 346H407C407 334.954 415.954 326 427 326Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="465" y="323" width="427" height="45" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-accent-image" x="417" y="336" width="20" height="20" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="409.5" y="315.5" width="490" height="60" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_icons_5:'<svg class="iceberg_icons" width="814.32" height="435.8197" viewBox="93.34 50.2033 814.32 435.8197" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.863C307.957 398.689 306.072 407.978 303.5 421.363L254.5 470.363L231 417.863V409.363L213.25 387.863H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.863L344.999 350.863L315.999 372.363C314.016 378.133 312.426 383.144 311.069 387.863H213.249L195.499 366.363L174.129 306.863H354.39L353.999 307.863Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.863H174.13L170 295.363C159.36 271.942 136.651 257.37 109 227.863C109.247 227.528 109.495 227.195 109.74 226.863H385.609L354.391 306.863Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 146.363L337.5 173.363L394 205.363L385.609 226.863H109.74C131.313 197.671 144.614 181.553 159 147.863L160.421 144.863H166.846C164.932 147.48 164.424 149.788 164 153.363C159.879 163.048 157.165 168.472 151.5 177.863C141.279 189.903 136.783 197.626 128 210.863L123 218.863V221.363L233.5 212.863L270.5 191.863C269.722 180.48 272.476 174.149 281 162.863C283.168 159.132 283.645 157.123 282.5 153.363L270.847 144.863H321.607L322.5 146.363Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.8633C280.948 94.1535 286.901 97.8248 297.493 104.358L297.501 104.363L321.608 144.863H270.848L240.001 122.363C246.708 101.947 251.58 89.482 252.001 74.8633C231.212 86.5131 217.838 93.5819 211.001 100.863L199.001 124.863C188.124 133.511 179.864 135.057 169.001 142.363C168.13 143.254 167.425 144.073 166.847 144.863H160.422L163.501 138.363C189.956 126.602 199.846 118.254 205.501 99.3633C217.083 87.1398 232.165 79.3519 255.501 65.8633H257.501L271.001 85.8633Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 86C438.046 86 447 94.9543 447 106C447 117.046 438.046 126 427 126C416.629 126 408.103 118.107 407.1 108H299.583L298.393 106H407C407 94.9543 415.954 86 427 86Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="83" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-image" x="417" y="96" width="20" height="20" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="409.5" y="75.5" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M427 166C438.046 166 447 174.954 447 186C447 197.046 438.046 206 427 206C415.954 206 407 197.046 407 186H359.57L356.039 184H407.1C408.103 173.893 416.629 166 427 166Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="465" y="163" width="427" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-accent-image" x="417" y="176" width="20" height="20" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="409.5" y="155.5" width="490" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M427 246C438.046 246 447 254.954 447 266C447 277.046 438.046 286 427 286C416.29 286 407.546 277.581 407.025 267H370L370.78 265H407.025C407.546 254.419 416.29 246 427 246Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="465" y="243" width="427" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-accent-image" x="417" y="256" width="20" height="20" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="409.5" y="235.5" width="490" height="60" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M427 326C438.046 326 447 334.954 447 346C447 357.046 438.046 366 427 366C416.629 366 408.103 358.107 407.1 348H345.627L346.046 346H407C407 334.954 415.954 326 427 326Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="465" y="323" width="427" height="45" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-accent-image" x="417" y="336" width="20" height="20" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="409.5" y="315.5" width="490" height="60" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M427 407C438.046 407 447 415.954 447 427C447 438.046 438.046 447 427 447C416.629 447 408.103 439.107 407.1 429H296L298 427H407C407 415.954 415.954 407 427 407Z" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="465" y="404" width="427" height="45" fill="#D9D9D9" class="step-5 card textbox left"/>\n<rect id="step-5-accent-image" x="417" y="417" width="20" height="20" fill="#D9D9D9" class="step-5 accent image"/>\n<rect id="step-5-selection" x="409.5" y="396.5" width="490" height="60" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("iceberg_icons_","")),n]})),tQ=new Map(Object.entries({iceberg_1:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_2:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M431 176C436.523 176 441 180.477 441 186C441 191.523 436.523 196 431 196C425.477 196 421 191.523 421 186H369.57L366.039 184H421.2C422.127 179.436 426.162 176 431 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="457" y="164" width="411" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="449.5" y="156.5" width="426" height="60" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_3:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M431 176C436.523 176 441 180.477 441 186C441 191.523 436.523 196 431 196C425.477 196 421 191.523 421 186H369.57L366.039 184H421.2C422.127 179.436 426.162 176 431 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="457" y="164" width="411" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="449.5" y="156.5" width="426" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M431 257C436.523 257 441 261.477 441 267C441 272.523 436.523 277 431 277C425.477 277 421 272.523 421 267H380L380.78 265H421.2C422.127 260.436 426.162 257 431 257Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="457" y="245" width="411" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="449.5" y="237.5" width="426" height="60" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_4:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M431 176C436.523 176 441 180.477 441 186C441 191.523 436.523 196 431 196C425.477 196 421 191.523 421 186H369.57L366.039 184H421.2C422.127 179.436 426.162 176 431 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="457" y="164" width="411" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="449.5" y="156.5" width="426" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M431 257C436.523 257 441 261.477 441 267C441 272.523 436.523 277 431 277C425.477 277 421 272.523 421 267H380L380.78 265H421.2C422.127 260.436 426.162 257 431 257Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="457" y="245" width="411" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="449.5" y="237.5" width="426" height="60" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M431 338C436.523 338 441 342.477 441 348C441 353.523 436.523 358 431 358C425.477 358 421 353.523 421 348H355.627L356.046 346H421.2C422.127 341.436 426.162 338 431 338Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" x="457" y="325" width="411" height="45" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-selection" x="449.5" y="317.5" width="426" height="60" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_5:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M431 176C436.523 176 441 180.477 441 186C441 191.523 436.523 196 431 196C425.477 196 421 191.523 421 186H369.57L366.039 184H421.2C422.127 179.436 426.162 176 431 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="457" y="164" width="411" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="449.5" y="156.5" width="426" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M431 257C436.523 257 441 261.477 441 267C441 272.523 436.523 277 431 277C425.477 277 421 272.523 421 267H380L380.78 265H421.2C422.127 260.436 426.162 257 431 257Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="457" y="245" width="411" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="449.5" y="237.5" width="426" height="60" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M431 338C436.523 338 441 342.477 441 348C441 353.523 436.523 358 431 358C425.477 358 421 353.523 421 348H355.627L356.046 346H421.2C422.127 341.436 426.162 338 431 338Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" x="457" y="325" width="411" height="45" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-selection" x="449.5" y="317.5" width="426" height="60" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M431 419C436.523 419 441 423.477 441 429C441 434.523 436.523 439 431 439C425.477 439 421 434.523 421 429H306L308 427H421.2C422.127 422.436 426.162 419 431 419Z" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-card-textbox-left" x="457" y="406" width="411" height="45" fill="#D9D9D9" class="step-5 card textbox left"/>\n<rect id="step-5-selection" x="449.5" y="398.5" width="426" height="60" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("iceberg_","")),n]})),tq="iceberg",tJ={key:tq,Component:e=>{var t,n;let{data:a,showIcons:r}=e,l=null!=(n=null==(t=a.step)?void 0:t.length)?n:5,s=(r?tK:tQ).get(l);return s?(0,i.jsx)(tL,{svgData:s,templateKey:tq,svgScalingFactor:tJ.svgScalingFactor,...e}):(console.error("No SVG data found for key",l),null)},label:()=>r.Ru._({id:"bxoNRj"}),icon:a.CcM,previewImage:{src:"/_next/static/media/iceberg.19ae6dcf.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",stepSvgData:tK,formattingMenu:J,defaultData:()=>w(tK),svgScalingFactor:1,canToggleIcons:!0},t$=new Map(Object.entries({ideas_1:'<svg class="ideas" width="407" height="398.217" viewBox="296 4 407 398.217" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ideas" class="ideas">\n<g id="general-1" class="general-1">\n<rect id="general-1-accent" x="306" y="14" width="387" height="62" rx="17.2811" fill="#1A378E" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="320" y="25" width="360" height="40" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-subtle" x="390.597" y="219.406" width="218.894" height="172.811" rx="5.76036" fill="#E3EAF8" class="step-1 subtle"/>\n<rect id="step-1-subtle-textbox" x="410" y="264" width="180" height="112" fill="#D9D9D9" class="step-1 subtle textbox"/>\n<g id="step-1-accent" class="step-1 accent">\n<circle id="step-1-accent_2" cx="500.044" cy="219.406" r="34.5622" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_3" cx="500.044" cy="154.89" r="17.2811" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_4" cx="500.044" cy="116.297" r="8.64054" fill="#1A378E" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="480.999" y="199.984" width="38" height="38" fill="#D9D9D9" class="step-1 accent image"/>\n</g>\n<rect id="step-1-selection" x="382.5" y="99.5" width="235" height="301" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',ideas_2:'<svg class="ideas" width="540.3684000000001" height="372.78340000000003" viewBox="229.60829999999999 3.6083 540.3684000000001 372.78340000000003" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ideas" class="ideas">\n<g id="general-1" class="general-1">\n<rect id="general-1-accent" x="306" y="14" width="387" height="62" rx="17.2811" fill="#1A378E" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="320" y="25" width="360" height="40" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-subtle" x="240" y="193" width="219" height="173" rx="5.76036" fill="#E3EAF8" class="step-1 subtle"/>\n<rect id="step-1-subtle-textbox" x="259.586" y="236.992" width="180" height="112" fill="#D9D9D9" class="step-1 subtle textbox"/>\n<g id="step-1-accent" class="step-1 accent">\n<circle id="step-1-accent_2" cx="349.446" cy="193.484" r="34.5622" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_3" cx="395.529" cy="149.133" r="17.2811" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_4" cx="421.45" cy="116.297" r="8.64054" fill="#1A378E" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="330.586" y="173.984" width="38" height="38" fill="#D9D9D9" class="step-1 accent image"/>\n</g>\n<rect id="step-1-selection" x="233.5" y="96.5" width="232" height="277" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-subtle" x="540.585" y="190.328" width="219" height="172.81" rx="5.76036" fill="#E3EAF8" class="step-2 subtle"/>\n<rect id="step-2-subtle-textbox" x="560.586" y="235.328" width="180" height="112" fill="#D9D9D9" class="step-2 subtle textbox"/>\n<g id="step-2-accent" class="step-2 accent">\n<circle id="step-2-accent_2" cx="649.814" cy="190.82" r="34.5622" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_3" cx="601.427" cy="146.469" r="17.2811" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_4" cx="573.777" cy="113.633" r="8.64054" fill="#1A378E" class="step-2 accent"/>\n<rect id="step-2-accent-image" x="631.586" y="171.328" width="38" height="38" fill="#D9D9D9" class="step-2 accent image"/>\n</g>\n<rect id="step-2-selection" x="533.5" y="96.5" width="233" height="277" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',ideas_3:'<svg class="ideas" width="759.80944" height="407.44043999999997" viewBox="120.80227999999998 -0.61172 759.80944 407.44043999999997" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ideas" class="ideas">\n<g id="general-1" class="general-1">\n<rect id="general-1-accent" x="306" y="14" width="387" height="62" rx="17.2811" fill="#1A378E" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="320" y="25" width="360" height="40" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-subtle" x="135.414" y="193.484" width="218.894" height="172.811" rx="5.76036" fill="#E3EAF8" class="step-1 subtle"/>\n<rect id="step-1-subtle-textbox" x="155" y="236.992" width="180" height="112" fill="#D9D9D9" class="step-1 subtle textbox"/>\n<g id="step-1-accent" class="step-1 accent">\n<circle id="step-1-accent_2" cx="244.861" cy="193.484" r="34.5622" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_3" cx="290.943" cy="149.133" r="17.2811" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_4" cx="316.865" cy="116.297" r="8.64054" fill="#1A378E" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="226" y="173.984" width="38" height="38" fill="#D9D9D9" class="step-1 accent image"/>\n</g>\n<rect id="step-1-selection" x="128.5" y="98.5" width="234" height="275" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-subtle" x="391.598" y="219.406" width="218.894" height="172.811" rx="5.76036" fill="#E3EAF8" class="step-2 subtle"/>\n<rect id="step-2-subtle-textbox" x="411" y="261.992" width="180" height="112" fill="#D9D9D9" class="step-2 subtle textbox"/>\n<g id="step-2-accent" class="step-2 accent">\n<circle id="step-2-accent_2" cx="501.045" cy="219.406" r="34.5622" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_3" cx="501.045" cy="154.89" r="17.2811" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_4" cx="501.045" cy="116.297" r="8.64054" fill="#1A378E" class="step-2 accent"/>\n<rect id="step-2-accent-image" x="482" y="199.984" width="38" height="38" fill="#D9D9D9" class="step-2 accent image"/>\n</g>\n<rect id="step-2-selection" x="383.5" y="99.5" width="235" height="301" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-subtle" x="647" y="190.328" width="219" height="177" rx="5.76036" fill="#E3EAF8" class="step-3 subtle"/>\n<rect id="step-3-subtle-textbox" x="667" y="235.328" width="180" height="112" fill="#D9D9D9" class="step-3 subtle textbox"/>\n<g id="step-3-accent" class="step-3 accent">\n<circle id="step-3-accent_2" cx="756.228" cy="190.82" r="34.5622" fill="#1A378E" class="step-3 accent"/>\n<circle id="step-3-accent_3" cx="707.842" cy="146.469" r="17.2811" fill="#1A378E" class="step-3 accent"/>\n<circle id="step-3-accent_4" cx="680.191" cy="113.633" r="8.64054" fill="#1A378E" class="step-3 accent"/>\n<rect id="step-3-accent-image" x="738" y="171.328" width="38" height="38" fill="#D9D9D9" class="step-3 accent image"/>\n</g>\n<rect id="step-3-selection" x="639.5" y="97.5" width="235" height="278" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',ideas_4:'<svg class="ideas" width="896.48" height="413.722" viewBox="50.758 -3.240000000000002 896.48 413.722" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ideas" class="ideas">\n<g id="general-1" class="general-1">\n<rect id="general-1-accent" x="306" y="14" width="387" height="62" rx="17.2811" fill="#1A378E" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="320" y="25" width="360" height="40" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-subtle" x="67.998" y="187.992" width="191" height="173" rx="5.76036" fill="#E3EAF8" class="step-1 subtle"/>\n<rect id="step-1-subtle-textbox" x="83.998" y="231.992" width="160" height="112" fill="#D9D9D9" class="step-1 subtle textbox"/>\n<g id="step-1-accent" class="step-1 accent">\n<circle id="step-1-accent_2" cx="163.445" cy="189.484" r="34.5622" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_3" cx="209.527" cy="145.133" r="17.2811" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_4" cx="235.449" cy="112.297" r="8.64054" fill="#1A378E" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="144.584" y="169.984" width="38" height="38" fill="#D9D9D9" class="step-1 accent image"/>\n</g>\n<rect id="step-1-selection" x="60.5" y="95.5" width="206" height="274" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<rect id="step-4-subtle" x="738.998" y="188.992" width="191" height="177" rx="5.76036" fill="#E3EAF8" class="step-4 subtle"/>\n<rect id="step-4-subtle-textbox" x="753.998" y="234.992" width="160" height="112" fill="#D9D9D9" class="step-4 subtle textbox"/>\n<g id="step-4-accent" class="step-4 accent">\n<circle id="step-4-accent_2" cx="833.812" cy="189.82" r="34.5622" fill="#1A378E" class="step-4 accent"/>\n<circle id="step-4-accent_3" cx="785.426" cy="145.469" r="17.2811" fill="#1A378E" class="step-4 accent"/>\n<circle id="step-4-accent_4" cx="757.775" cy="112.633" r="8.64054" fill="#1A378E" class="step-4 accent"/>\n<rect id="step-4-accent-image" x="815.584" y="170.328" width="38" height="38" fill="#D9D9D9" class="step-4 accent image"/>\n</g>\n<rect id="step-4-selection" x="731.5" y="95.5" width="207" height="279" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-subtle" x="290.584" y="217.242" width="191" height="176" rx="5.76036" fill="#E3EAF8" class="step-2 subtle"/>\n<rect id="step-2-subtle-textbox" x="306.998" y="263.992" width="160" height="112" fill="#D9D9D9" class="step-2 subtle textbox"/>\n<g id="step-2-accent" class="step-2 accent">\n<circle id="step-2-accent_2" cx="386.629" cy="216.664" r="34.5622" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_3" cx="402.426" cy="151.979" r="17.2811" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_4" cx="413.102" cy="112.81" r="8.64054" fill="#1A378E" class="step-2 accent"/>\n<rect id="step-2-accent-image" x="367.998" y="197.992" width="38" height="38" fill="#D9D9D9" class="step-2 accent image"/>\n</g>\n<rect id="step-2-selection" x="283.5" y="95.5" width="207" height="305" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-subtle" x="514.998" y="215.992" width="191" height="175" rx="5.76036" fill="#E3EAF8" class="step-3 subtle"/>\n<rect id="step-3-subtle-textbox" x="531.998" y="261.992" width="160" height="112" fill="#D9D9D9" class="step-3 subtle textbox"/>\n<g id="step-3-accent" class="step-3 accent">\n<circle id="step-3-accent_2" cx="610.629" cy="215.664" r="34.5622" fill="#1A378E" class="step-3 accent"/>\n<circle id="step-3-accent_3" cx="591.577" cy="150.598" r="17.2811" fill="#1A378E" class="step-3 accent"/>\n<circle id="step-3-accent_4" cx="584.29" cy="112.698" r="8.64054" fill="#1A378E" class="step-3 accent"/>\n<rect id="step-3-accent-image" x="590.998" y="195.992" width="38" height="38" fill="#D9D9D9" class="step-3 accent image"/>\n</g>\n<rect id="step-3-selection" x="507.5" y="95.5" width="207" height="303" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("ideas_","")),n]})),tY="ideas",tX={key:tY,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:3,l=t$.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:tY,svgScalingFactor:tX.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"zaDZll"}),icon:tP.rC2,previewImage:{src:"/_next/static/media/ideas.f8852ea0.svg",height:96,width:253,blurWidth:0,blurHeight:0},stepSvgData:t$,defaultData:()=>w(t$),formattingMenu:J,svgScalingFactor:1},t0=new Map(Object.entries({infinity_4:'<svg class="infinity-frame" width="955.95677734375" height="374.7676904296875" viewBox="20.6709033203125 75.5268603515625 955.95677734375 374.7676904296875" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="infinity-frame">\n<g id="general-2" class="general-2 accent">\n<g id="general-2-accent" class="general-2 accent">\n<g id="general-2-accent_2" class="general-2 accent">\n<path d="M742.095 268.652L742.017 271.88C738.656 329.608 690.791 375.385 632.233 375.385L630.812 375.376C603.725 375.033 578.998 364.893 560.008 348.337L586.302 345.725L588.397 318.999C600.337 328.779 615.601 334.648 632.233 334.648C667.71 334.648 696.967 307.953 700.998 273.532L700.929 273.538L720.315 253.838L742.095 268.652Z" fill="#8C90D2"/>\n<path d="M743.183 269.393L743.077 269.402L743.079 269.322L743.183 269.393Z" fill="#8C90D2"/>\n</g>\n<path id="general-2-accent_3" d="M633.652 153.394C693.735 154.155 742.206 203.108 742.206 263.385C742.206 275.032 740.391 286.255 737.036 296.79C740.071 287.256 741.844 277.159 742.153 266.694L720.312 251.838L701.004 271.459C701.311 268.81 701.47 266.116 701.47 263.385C701.47 225.123 670.462 194.121 632.23 194.121C615.238 194.121 599.55 200.335 587.5 210.5L561.334 207.477L559.586 180.802C578.961 163.738 604.386 153.385 632.23 153.385L633.652 153.394Z" fill="#8C90D2" class="general-2 accent"/>\n<path id="general-2-accent_4" fill-rule="evenodd" clip-rule="evenodd" d="M585.917 212.527L444.5 350.5L444 351L443.5 351.5L416.401 349.132L415 322L558 182.5L559.417 209.146L585.917 212.527Z" fill="#8C90D2" class="general-2 accent"/>\n</g>\n<rect id="general-2-accent-image" x="603" y="240" width="55" height="55" class="general-2 image subtle" fill="#666666"/>\n</g>\n<g id="general-1" class="general-1 accent">\n<g id="general-1-accent" class="general-1 accent">\n<path id="general-1-accent_2" d="M278 258L284.906 253.172L287 255L303.919 269.855C303.919 269.842 303.92 269.829 303.92 269.815C304.751 306.871 335.044 336.646 372.281 336.646C388.615 336.646 399.981 333.498 411.742 323.939V324.562L413.211 351.338C413.211 351.338 424.965 352.084 432.5 352.5C436.209 352.705 442 353 442 353L440.5 354.5C421.742 369.722 398.319 377.385 372.281 377.385L370.871 377.376C311.302 376.621 263.237 328.127 263.164 268.388L278 258Z" fill="#D9DAF0" class="general-1 accent"/>\n<path id="general-1-accent_3" d="M373.691 159.128C398.043 159.436 420.472 167.724 438.486 181.496L438.494 181.489L439.013 181.902C439.675 182.415 440.333 182.935 440.983 183.463V183.473L444.007 186.434L444.772 187.624L444.783 187.613L444.781 187.638L444.788 187.648L444.779 187.656L442.706 214.101L441.403 214.229L441.402 214.218L421.093 216.282H420.758L417.218 216.634L416.715 216.27L416.718 216.268C404.765 206.037 389.243 199.857 372.28 199.857C334.987 199.858 304.659 229.722 303.915 266.855L285 251L263 266C264.597 207.122 313.024 159.119 372.28 159.119L373.691 159.128Z" fill="#D9DAF0" class="general-1 accent"/>\n<path id="general-1-accent_4" d="M586.254 316.815L586.191 321.234L586.17 321.259L584.184 343.96L563.289 345.843H563.287L558.286 346.149L558.121 345.999L558.124 345.997L419.695 218.873L444.278 216.824L445.227 216.864L445.3 215.12H445.323L447.16 189.079L586.254 316.815Z" fill="#D9DAF0" class="general-1 accent"/>\n</g>\n<rect id="general-1-accent-image" x="344" y="240" width="55" height="55" class="general-1 image subtle" fill="#666666"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-accent-line" d="M371.574 107.945V170.186C374.483 170.476 376.755 172.932 376.755 175.918C376.755 179.099 374.176 181.678 370.995 181.678C367.814 181.678 365.235 179.099 365.234 175.918C365.234 172.93 367.509 170.472 370.422 170.185V109.098H231.598V107.945H371.574Z" fill="#4046B4" class="step-1 line subtle"/>\n<rect id="step-1-textbox" x="39.0546875" y="93.91064453125" width="184" height="90" class="step-1 textbox right top" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="30.5" y="86.5" width="355" height="106" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-accent-line" d="M770.185 107.945V109.098H631.36V170.186C634.271 170.475 636.544 172.931 636.544 175.918C636.544 179.099 633.964 181.678 630.783 181.678C627.602 181.678 625.024 179.099 625.023 175.918C625.023 172.931 627.297 170.473 630.208 170.185V107.945H770.185Z" fill="#4046B4" class="step-2 line subtle"/>\n<rect id="step-2-textbox" x="774.243896484375" y="93.91064453125" width="184" height="90" class="step-2 textbox left top" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="615.5" y="86.5" width="355" height="106" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-accent-line" d="M630.779 348.15C633.961 348.15 636.54 350.729 636.54 353.91C636.54 356.897 634.267 359.352 631.356 359.642V420.731H770.181V421.884H630.204V359.643C627.293 359.354 625.02 356.897 625.02 353.91C625.02 350.729 627.598 348.151 630.779 348.15Z" fill="#4046B4" class="step-3 line subtle"/>\n<rect id="step-3-textbox" x="774.243896484375" y="341.9107666015625" width="184" height="90" class="step-3 textbox left bottom" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="615.5" y="334.5" width="355" height="106" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4-accent-line" d="M370.995 348.15C374.176 348.151 376.755 350.729 376.755 353.91C376.755 356.897 374.481 359.354 371.57 359.643V421.883H231.594V420.73H370.418V359.642C367.507 359.352 365.234 356.897 365.234 353.91C365.235 350.729 367.814 348.15 370.995 348.15Z" fill="#4046B4" class="step-4 line subtle"/>\n<rect id="step-4-textbox" x="39.0546875" y="341.9107666015625" width="184" height="90" class="step-4 textbox right bottom" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="30.5" y="334.5" width="355" height="106" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),t1="infinity",t2={key:t1,Component:e=>{var t,n;let a=null!=(n=null==(t=e.data.step)?void 0:t.length)?n:4,r=t0.get(a);return r?(0,i.jsx)(tL,{svgData:r,templateKey:t1,svgScalingFactor:t2.svgScalingFactor,...e}):(console.error("No SVG data found for key",a),null)},label:()=>r.Ru._({id:"5o9DHo"}),icon:tP.C8j,previewImage:{src:"/_next/static/media/infinity.e9530b60.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],formattingMenu:J,stepSvgData:t0,defaultData:()=>w(t0),svgScalingFactor:1},t4=new Map(Object.entries({inputs_1:'<svg class="inputs-frame" width="240.00000000000023" height="362" viewBox="381 -1 240.00000000000023 362" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="500" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="433.1640625" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M595 9C603.837 9 611 16.1634 611 25V133C611 141.837 603.837 149 595 149H517.599L501 172L484.401 149H407C398.163 149 391 141.837 391 133V25C391 16.1634 398.163 9 407 9H595Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="401.1640625" y="19.0625" width="196.99996948242188" height="115.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="383.55" y="1.55034" width="234.899" height="177.899" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',inputs_2:'<svg class="inputs-frame" width="240.72000000000023" height="538.72" viewBox="380.64 -1.3599999999999994 240.72000000000023 538.72" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="501" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="434.0703125" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M595 527C603.837 527 611 519.837 611 511V403C611 394.163 603.837 387 595 387H517.599L501 364L484.401 387H407C398.163 387 391 394.163 391 403V511C391 519.837 398.163 527 407 527H595Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-textbox" x="401.9765625" y="398.0625" width="196.99996948242188" height="115.99998474121094" class="step-2 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="383.55" y="356.55" width="234.899" height="177.899" stroke="black" stroke-width="1.10067" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M595 9C603.837 9 611 16.1634 611 25V133C611 141.837 603.837 149 595 149H517.599L501 172L484.401 149H407C398.163 149 391 141.837 391 133V25C391 16.1634 398.163 9 407 9H595Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="401.0703125" y="19.0625" width="196.99996948242188" height="115.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="383.55" y="1.55034" width="234.899" height="177.899" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',inputs_3:'<svg class="inputs-frame" width="674.44" height="506.94000000000005" viewBox="163.038 -3.9700000000000006 674.44 506.94000000000005" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="500" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="433.9921875" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M620.508 330C619.83 330 619.163 330.042 618.508 330.124V330H591.008L604.508 347.005V474C604.508 482.837 611.671 490 620.508 490H808.508C817.344 490 824.508 482.837 824.508 474V346C824.508 337.163 817.344 330 808.508 330H620.508Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-textbox" x="617.9921875" y="343.0625" width="191.99998474121094" height="132.99998474121094" class="step-2 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="583.536" y="322.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3_2" d="M380.008 330C380.685 330 381.353 330.042 382.008 330.124V330H409.508L396.008 347.005V474C396.008 482.837 388.844 490 380.008 490H192.008C183.171 490 176.008 482.837 176.008 474V346C176.008 337.163 183.171 330 192.008 330H380.008Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-textbox" x="188.9921875" y="343.0625" width="191.99998474121094" height="132.99998474121094" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="168.536" y="322.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-3 selection"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M594 9C602.837 9 610 16.1634 610 25V133C610 141.837 602.837 149 594 149H516.599L500 172L483.401 149H406C397.163 149 390 141.837 390 133V25C390 16.1634 397.163 9 406 9H594Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="400.9921875" y="19.0625" width="196.99996948242188" height="115.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="382.55" y="1.55034" width="234.899" height="177.899" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',inputs_4:'<svg class="inputs-frame" width="675.48" height="456.9800000000001" viewBox="164.018 46.01 675.48 456.9800000000001" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="501" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="434.1640625" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M621.336 330C620.659 330 619.991 330.042 619.336 330.124V330H591.836L605.336 347.005V474C605.336 482.837 612.499 490 621.336 490H809.336C818.172 490 825.336 482.837 825.336 474V346C825.336 337.163 818.172 330 809.336 330H621.336Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-textbox" x="617.9921875" y="343.0625" width="191.99998474121094" height="132.99998474121094" class="step-2 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="584.364" y="322.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3_2" d="M381.008 330C381.685 330 382.353 330.042 383.008 330.124V330H410.508L397.008 347.005V474C397.008 482.837 389.844 490 381.008 490H193.008C184.171 490 177.008 482.837 177.008 474V346C177.008 337.163 184.171 330 193.008 330H381.008Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-textbox" x="189.1640625" y="343.0625" width="191.99998474121094" height="132.99998474121094" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="169.536" y="322.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4_2" d="M381.008 219C381.685 219 382.353 218.958 383.008 218.876V219H410.508L397.008 201.995V75C397.008 66.1635 389.844 59 381.008 59H193.008C184.171 59 177.008 66.1635 177.008 75V203C177.008 211.837 184.171 219 193.008 219H381.008Z" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-textbox" x="189.1640625" y="72.0625" width="191.99998474121094" height="132.99998474121094" class="step-4 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="169.536" y="51.5359" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-4 selection"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M622.508 219C621.83 219 621.163 218.958 620.508 218.876V219H593.008L606.508 201.995V75C606.508 66.1635 613.671 59 622.508 59H810.508C819.344 59 826.508 66.1635 826.508 75V203C826.508 211.837 819.344 219 810.508 219H622.508Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="619.1640625" y="72.0625" width="191.99998474121094" height="132.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="585.536" y="51.5359" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',inputs_5:'<svg class="inputs-frame" width="705.2396" height="544.1246" viewBox="148.4377 -2.5623000000000005 705.2396 544.1246" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="501" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="434.1640625" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3_2" d="M558.508 368C557.83 368 557.163 368.042 556.508 368.124V368H529.008L542.508 385.005V512C542.508 520.837 549.671 528 558.508 528H746.508C755.344 528 762.508 520.837 762.508 512V384C762.508 375.163 755.344 368 746.508 368H558.508Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-textbox" x="555.1640625" y="381.0625" width="191.99998474121094" height="132.99998474121094" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="521.536" y="360.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-3 selection"/>\n</g>\n<g id="step-5" class="step-5 subtle">\n<path id="step-5_2" d="M366 348C374.837 348 382 340.837 382 332V284.878L404.998 267.32L382 251.681V204C382 195.163 374.837 188 366 188H178C169.163 188 162 195.163 162 204V332C162 340.837 169.163 348 178 348H366Z" fill="#D5D6EF" class="step-5 subtle"/>\n<rect id="step-5-textbox" x="173.1640625" y="201.0625" width="195.99996948242188" height="132.99998474121094" class="step-5 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="152.536" y="180.536" width="251.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-5 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4_2" d="M442.008 368C442.685 368 443.353 368.042 444.008 368.124V368H471.508L458.008 385.005V512C458.008 520.837 450.844 528 442.008 528H254.008C245.171 528 238.008 520.837 238.008 512V384C238.008 375.163 245.171 368 254.008 368H442.008Z" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-textbox" x="250.1640625" y="381.0625" width="191.99998474121094" height="132.99998474121094" class="step-4 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="230.536" y="360.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-4 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M636.115 348C627.279 348 620.115 340.837 620.115 332V284.878L597.117 267.32L620.115 251.681V204C620.115 195.163 627.279 188 636.115 188H824.115C832.952 188 840.115 195.163 840.115 204V332C840.115 340.837 832.952 348 824.115 348H636.115Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-selection" x="597.536" y="180.536" width="253.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-2 selection"/>\n<rect id="step-2-textbox" x="631.1640625" y="200.0625" width="195.99996948242188" height="132.99998474121094" class="step-2 textbox subtle" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M592 11C600.837 11 608 18.1634 608 27V135C608 143.837 600.837 151 592 151H514.599L498 174L481.401 151H404C395.163 151 388 143.837 388 135V27C388 18.1634 395.163 11 404 11H592Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="398.1640625" y="21.0625" width="196.99996948242188" height="115.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="380.55" y="3.55034" width="234.899" height="177.899" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',inputs_6:'<svg class="inputs-frame" width="684.4396000000003" height="543.3246" viewBox="158.83769999999998 -2.1623000000000054 684.4396000000003 543.3246" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="501" cy="268" r="83" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="434.1640625" y="218.0625" width="132" height="98" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1_2" d="M558.508 171C557.83 171 557.163 170.958 556.508 170.876V171H529.008L542.508 153.995V27C542.508 18.1635 549.671 11 558.508 11H746.508C755.344 11 762.508 18.1635 762.508 27V155C762.508 163.837 755.344 171 746.508 171H558.508Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="555.1640625" y="24.0625" width="191.99998474121094" height="132.99998474121094" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="521.536" y="3.53595" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-1 selection"/>\n</g>\n<g id="step-6" class="step-6 subtle">\n<path id="step-6_2" d="M442.008 171C442.685 171 443.353 170.958 444.008 170.876V171H471.508L458.008 153.995V27C458.008 18.1635 450.844 11 442.008 11H254.008C245.171 11 238.008 18.1635 238.008 27V155C238.008 163.837 245.171 171 254.008 171H442.008Z" fill="#D5D6EF" class="step-6 subtle"/>\n<rect id="step-6-textbox" x="250.1640625" y="24.0625" width="191.99998474121094" height="132.99998474121094" class="step-6 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-6-selection" x="230.536" y="3.53595" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-6 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4_2" d="M442.008 368C442.685 368 443.353 368.042 444.008 368.124V368H471.508L458.008 385.005V512C458.008 520.837 450.844 528 442.008 528H254.008C245.171 528 238.008 520.837 238.008 512V384C238.008 375.163 245.171 368 254.008 368H442.008Z" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-textbox" x="250.1640625" y="381.0625" width="191.99998474121094" height="132.99998474121094" class="step-4 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="230.536" y="360.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3_2" d="M558.508 368C557.83 368 557.163 368.042 556.508 368.124V368H529.008L542.508 385.005V512C542.508 520.837 549.671 528 558.508 528H746.508C755.344 528 762.508 520.837 762.508 512V384C762.508 375.163 755.344 368 746.508 368H558.508Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-textbox" x="555.1640625" y="381.0625" width="191.99998474121094" height="132.99998474121094" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="521.536" y="360.536" width="247.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2_2" d="M626.115 348C617.279 348 610.115 340.837 610.115 332V284.878L587.117 267.32L610.115 251.681V204C610.115 195.163 617.279 188 626.115 188H814.115C822.952 188 830.115 195.163 830.115 204V332C830.115 340.837 822.952 348 814.115 348H626.115Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-selection" x="587.536" y="180.536" width="253.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-2 selection"/>\n<rect id="step-2-textbox" x="621.1640625" y="200.0625" width="195.99996948242188" height="132.99998474121094" class="step-2 textbox subtle" fill="#E5E5E5"/>\n</g>\n<g id="step-5" class="step-5 subtle">\n<path id="step-5_2" d="M376 348C384.837 348 392 340.837 392 332V284.878L414.998 267.32L392 251.681V204C392 195.163 384.837 188 376 188H188C179.163 188 172 195.163 172 204V332C172 340.837 179.163 348 188 348H376Z" fill="#D5D6EF" class="step-5 subtle"/>\n<rect id="step-5-textbox" x="183.1640625" y="201.0625" width="195.99996948242188" height="132.99998474121094" class="step-5 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="162.536" y="180.536" width="251.928" height="173.928" stroke="black" stroke-width="1.0719" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),t5="inputs",t6={key:t5,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:6,l=t4.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:t5,svgScalingFactor:t6.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"h8Oe96"}),previewImage:{src:"/_next/static/media/inputs.835e6090.svg",height:96,width:253,blurWidth:0,blurHeight:0},allowedColorSchemes:[],stepSvgData:t4,formattingMenu:J,defaultData:()=>w(t4)},t3=new Map(Object.entries({nested_diamond_4:'<svg class="nested_diamond" width="923.3276130002498" height="479.32827550001747" viewBox="40.23968724975512 61.31402474999518 923.3276130002498 479.32827550001747" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="nested_diamond" class="nested_diamond">\n<g id="step-4" class="step-4">\n<path id="step-4-neutral" d="M289.735 517.933C289.7 517.968 289.663 518 289.628 518.034C290.622 518.138 291.631 518.192 292.652 518.192H917.037C932.928 518.192 945.811 505.31 945.811 489.419V452.973C945.811 437.082 932.928 424.199 917.037 424.199H383.468L289.735 517.933Z" fill="#F5F2F2" class="step-4 neutral"/>\n<path id="step-4-accent-no-border" d="M357.167 447.532C359.119 445.58 359.119 442.414 357.167 440.461L283.356 366.65C281.403 364.697 278.237 364.697 276.285 366.65L202.473 440.461C200.521 442.414 200.521 445.58 202.473 447.532L276.285 521.344C278.237 523.296 281.403 523.296 283.356 521.344L357.167 447.532Z" fill="#4046B4" class="step-4 accent no-border"/>\n<rect id="step-4-card-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-4 card textbox left" x="485.808" y="448"/>\n<rect id="step-4-accent-image" width="45" height="45" fill="#D9D9D9" class="step-4 accent image" x="257" y="421"/>\n<rect id="step-4-selection" x="252.308" y="413.5" width="661" height="87" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-neutral" d="M402.325 405.019H917.037C932.928 405.019 945.81 392.136 945.811 376.245V339.799C945.811 323.908 932.928 311.025 917.037 311.025H496.318L402.325 405.019Z" fill="#F5F2F2" class="step-3 neutral"/>\n<path id="step-3-accent-no-border" d="M283.37 270.328C281.418 268.375 278.253 268.375 276.3 270.328L154.288 392.339C152.336 394.292 152.336 397.458 154.288 399.411L276.3 521.422C278.253 523.374 281.418 523.374 283.37 521.422L405.382 399.411C407.335 397.458 407.335 394.292 405.382 392.339L283.37 270.328ZM276.285 364.523C278.237 362.571 281.402 362.571 283.355 364.523L358.227 439.395C360.18 441.348 360.18 444.514 358.227 446.466L283.355 521.337C281.402 523.29 278.237 523.29 276.285 521.337L201.412 446.466C199.46 444.514 199.46 441.348 201.412 439.395L276.285 364.523Z" fill="#666BC3" class="step-3 accent no-border"/>\n<rect id="step-3-card-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-3 card textbox left" x="485.808" y="335"/>\n<rect id="step-3-image-accent" width="45" height="45" fill="#D9D9D9" class="step-3 image accent" x="257" y="307"/>\n<rect id="step-3-selection" x="252.308" y="299.5" width="661" height="88" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-neutral" d="M497.572 291.842H917.037C932.928 291.842 945.81 278.959 945.811 263.068V226.622C945.811 210.731 932.928 197.848 917.037 197.848H403.578L497.572 291.842Z" fill="#F5F2F2" class="step-2 neutral"/>\n<path id="step-2-accent-no-border" d="M283.428 175.496C281.476 173.543 278.31 173.543 276.357 175.496L107.096 344.756C105.144 346.709 105.144 349.875 107.096 351.828L151.917 396.647C151.012 394.783 151.331 392.475 152.878 390.928L276.299 267.507C278.252 265.555 281.418 265.555 283.371 267.507L406.791 390.928C408.405 392.542 408.685 394.985 407.63 396.886L452.689 351.828C454.641 349.875 454.642 346.709 452.689 344.756L283.428 175.496Z" fill="#B3B5E1" class="step-2 accent no-border"/>\n<rect id="step-2-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-2 card textbox left" x="485.808" y="221"/>\n<rect id="step-2-accent-image" width="45" height="45" fill="#D9D9D9" class="step-2 accent image" x="257" y="212"/>\n<rect id="step-2-selection" x="252.308" y="204.5" width="662" height="70" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-neutral" d="M292.652 84.6738C291.923 84.6738 291.201 84.7007 290.485 84.7539L384.397 178.667H917.037C932.928 178.667 945.81 165.785 945.811 149.894V113.447C945.811 97.5561 932.928 84.6739 917.037 84.6738H292.652Z" fill="#F5F2F2" class="step-1 neutral"/>\n<path id="step-1-accent-no-border" d="M283.267 80.5347C281.315 78.5822 278.148 78.5822 276.196 80.5347L59.4604 297.27C57.5078 299.223 57.5079 302.389 59.4604 304.341L104.896 349.776C103.517 347.824 103.7 345.108 105.447 343.361L276.294 172.513C278.247 170.561 281.412 170.561 283.365 172.513L454.212 343.361C455.81 344.958 456.1 347.367 455.084 349.259L500.002 304.341C501.955 302.389 501.955 299.223 500.002 297.27L283.267 80.5347Z" fill="#D9DAF0" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-1 card textbox left" x="485.808" y="109"/>\n<rect id="step-1-accent-image" width="45" height="45" fill="#D9D9D9" class="step-1 accent image" x="257" y="109"/>\n<rect id="step-1-selection" x="254.308" y="101.5" width="657" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',nested_diamond_2:'<svg class="nested_diamond" width="728.0270400000003" height="282.1467900000028" viewBox="136.99947999999972 125.99948000000013 728.0270400000003 282.1467900000028" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="nested_diamond" class="nested_diamond">\n<g id="step-2" class="step-2">\n<path id="step-2-neutral" d="M307.541 371.017H822.253C838.144 371.017 851.026 358.134 851.026 342.243V305.797C851.026 289.906 838.144 277.023 822.253 277.023H401.534L307.541 371.017Z" fill="#F5F2F2" class="step-2 neutral"/>\n<path id="step-2-accent-no-border" d="M355.343 318.87C357.295 316.918 357.295 313.752 355.343 311.799L281.531 237.988C279.579 236.035 276.413 236.035 274.46 237.988L200.649 311.799C198.696 313.752 198.696 316.918 200.649 318.87L274.46 392.681C276.413 394.634 279.579 394.634 281.531 392.681L355.343 318.87Z" fill="#4046B4" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-2 card textbox left" x="394.02700000000004" y="304.014"/>\n<rect id="step-2-accent-image" width="40" height="40" fill="#D9D9D9" class="step-2 accent image" x="258" y="287"/>\n<rect id="step-2-selection" x="253.52599999999995" y="281.504" width="568" height="75" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-neutral" d="M402.788 257.842H822.253C838.144 257.842 851.026 244.959 851.026 229.068V192.622C851.026 176.731 838.144 163.848 822.253 163.848H308.794L402.788 257.842Z" fill="#F5F2F2" class="step-1 neutral"/>\n<path id="step-1-accent-no-border" d="M281.546 141.464C279.594 139.512 276.429 139.512 274.476 141.464L152.464 263.476C150.512 265.429 150.512 268.595 152.464 270.547L274.476 392.559C276.428 394.511 279.594 394.511 281.546 392.559L403.558 270.547C405.511 268.595 405.511 265.429 403.558 263.476L281.546 141.464ZM274.46 235.66C276.413 233.707 279.579 233.707 281.532 235.66L356.403 310.532C358.355 312.484 358.355 315.65 356.403 317.603L281.532 392.474C279.579 394.427 276.413 394.427 274.46 392.474L199.588 317.603C197.636 315.65 197.636 312.484 199.588 310.532L274.46 235.66Z" fill="#666BC3" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-1 card textbox left" x="394.02700000000004" y="187"/>\n<rect id="step-1-accent-image" width="40" height="40" fill="#D9D9D9" class="step-1 accent image" x="258" y="187"/>\n<rect id="step-1-selection" x="253.52599999999995" y="179.5" width="568" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',nested_diamond_3:'<svg class="nested_diamond" width="885.2266540000002" height="382.9001790000003" viewBox="57.97693549999997 116.9764105000004 885.2266540000002 382.9001790000003" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="nested_diamond" class="nested_diamond">\n<g id="step-3" class="step-3">\n<path id="step-3-neutral" d="M270.104 467.905C270.07 467.94 270.032 467.973 269.997 468.007C270.991 468.111 272 468.165 273.021 468.165H897.406C913.297 468.165 926.18 455.283 926.18 439.392V402.945C926.18 387.054 913.297 374.172 897.406 374.172H363.837L270.104 467.905Z" fill="#F5F2F2" class="step-3 neutral"/>\n<path id="step-3-accent-no-border" d="M326.535 407.484C328.488 405.531 328.488 402.365 326.535 400.412L252.724 326.601C250.771 324.649 247.605 324.649 245.653 326.601L171.841 400.412C169.889 402.365 169.889 405.531 171.841 407.484L245.653 481.295C247.605 483.247 250.771 483.247 252.724 481.295L326.535 407.484Z" fill="#4046B4" class="step-3 accent no-border"/>\n<rect id="step-3-card-textbox-left" width="457" height="45" fill="#D9D9D9" class="step-3 card textbox left" x="435.18100000000004" y="396.008"/>\n<rect id="step-3-accent-image" width="40" height="40" fill="#D9D9D9" class="step-3 accent image" x="229" y="378.023"/>\n<rect id="step-3-selection" x="224.67999999999995" y="370.504" width="674" height="78" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-neutral" d="M426.641 304.434C428.593 306.386 428.593 309.551 426.641 311.504L383.176 354.969H897.402C913.293 354.969 926.176 342.086 926.176 326.195V289.742C926.176 273.851 913.293 260.969 897.402 260.969H383.176L426.641 304.434Z" fill="#F5F2F2" class="step-2 neutral"/>\n<path id="step-2-accent-no-border" d="M252.74 230.294C250.787 228.342 247.622 228.342 245.669 230.294L123.658 352.306C121.705 354.259 121.705 357.425 123.658 359.377L245.669 481.389C247.622 483.341 250.787 483.341 252.74 481.389L374.751 359.377C376.704 357.425 376.704 354.259 374.751 352.306L252.74 230.294ZM245.654 324.49C247.606 322.537 250.772 322.537 252.725 324.49L327.596 399.362C329.549 401.314 329.549 404.48 327.596 406.433L252.725 481.304C250.772 483.257 247.606 483.257 245.654 481.304L170.782 406.433C168.829 404.48 168.829 401.314 170.782 399.362L245.654 324.49Z" fill="#666BC3" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left" width="457" height="45" fill="#D9D9D9" class="step-2 card textbox left" x="435.18100000000004" y="287.008"/>\n<rect id="step-2-accent-image" width="40" height="40" fill="#D9D9D9" class="step-2 accent image" x="229" y="275"/>\n<rect id="step-2-selection" x="224.67999999999995" y="267.5" width="674" height="72" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-neutral" d="M273.021 149.643C272.293 149.643 271.57 149.669 270.854 149.723L364.767 243.636H897.406C913.297 243.636 926.18 230.753 926.18 214.862V178.416C926.18 162.525 913.297 149.643 897.406 149.643H273.021Z" fill="#F5F2F2" class="step-1 neutral"/>\n<path id="step-1-accent-no-border" d="M252.797 135.464C250.844 133.512 247.679 133.512 245.726 135.464L76.4646 304.726C74.5125 306.678 74.5125 309.844 76.4646 311.796L121.286 356.616C120.381 354.753 120.7 352.444 122.248 350.897L245.669 227.476C247.621 225.523 250.787 225.523 252.74 227.476L376.161 350.897C377.775 352.511 378.054 354.953 377 356.855L422.058 311.796C424.011 309.844 424.01 306.678 422.058 304.726L252.797 135.464Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left" width="457" height="45" fill="#D9D9D9" class="step-1 card textbox left" x="435.18100000000004" y="173.008"/>\n<rect id="step-1-accent-image" width="40" height="40" fill="#D9D9D9" class="step-1 accent image" x="229" y="176"/>\n<rect id="step-1-selection" x="224.67999999999995" y="165.5" width="674" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("nested_diamond_","")),n]})),t9="nested_diamond",t7={key:t9,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:3,l=t3.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:t9,svgScalingFactor:t7.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"C5zvEL"}),icon:a.euE,previewImage:{src:"/_next/static/media/nested_diamonds.fbef844a.svg",height:96,width:253,blurWidth:0,blurHeight:0},allowedColorSchemes:[],stepSvgData:t3,formattingMenu:J,defaultData:()=>w(t3),defaultColorScheme:"monochrome",svgScalingFactor:1},t8=new Map(Object.entries({packed_circles_1:'<svg class="packed_circles-frame" width="320" height="320" viewBox="341 108 320 320" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="501" cy="268" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="376.16796875" y="190.0625" width="247" height="161" class="step-1 textbox accent" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="351.5" y="118.5" width="299" height="299" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',packed_circles_2:'<svg class="packed_circles-frame" width="570.96416" height="377.96016" viewBox="215.01992 79.01992 570.96416 377.96016" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="376" cy="240" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="249.16796875" y="161.0625" width="251" height="163" class="step-1 textbox accent" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="226.5" y="90.5" width="299" height="299" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<circle id="step-2-accent" cx="655.004" cy="326" r="120" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="561.16796875" y="264.0625" width="185" height="121" class="step-2 textbox accent" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="535.5" y="206.5" width="239" height="239" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',packed_circles_3:'<svg class="packed_circles-frame" width="583.44" height="499.44" viewBox="208.78 17.78 583.44 499.44" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="370" cy="179" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="237.16796875" y="96.0625" width="263" height="171" class="step-1 textbox accent" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="220.5" y="29.5" width="299" height="299" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<circle id="step-2-accent" cx="661" cy="166" r="120" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="557.16796875" y="98.0625" width="205" height="133" class="step-2 textbox accent" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="541.5" y="46.5" width="239" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<circle id="step-3-accent" cx="551" cy="396" r="110" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="460.16796875" y="333.0625" width="179" height="131" class="step-3 textbox accent" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="441.5" y="286.5" width="219" height="219" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',packed_circles_4:'<svg class="packed_circles-frame" width="748.8" height="486.8" viewBox="126.6 50.6 748.8 486.8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="291" cy="329" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-selection" x="129.5" y="170.5" width="315" height="315" stroke="black" class="step-1 selection"/>\n<rect id="step-1-accent-textbox" x="164.16796875" y="247.0625" width="251" height="163" class="step-1 textbox accent" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<circle id="step-2-accent" cx="542" cy="185" r="120" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="443.16796875" y="120.0625" width="195" height="127" class="step-2 textbox accent" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="414.5" y="57.5" width="255" height="255" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<circle id="step-3-accent" cx="751" cy="324" r="110" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="661.16796875" y="262.0625" width="177" height="129" class="step-3 textbox accent" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="641.5" y="214.5" width="219" height="219" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<circle id="step-4-accent" cx="544" cy="423" r="100" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="459.16796875" y="363.0625" width="167" height="121" class="step-4 textbox accent" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="437.5" y="319.5" width="211" height="211" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',packed_circles_5:'<svg class="packed_circles-frame" width="748.8" height="550.8" viewBox="126.6 -13.4 748.8 550.8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="291" cy="329" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="164.16796875" y="247.0625" width="251" height="163" class="step-1 textbox accent" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="141.5" y="179.5" width="315" height="315" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<circle id="step-2-accent" cx="542" cy="185" r="120" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="443.16796875" y="120.0625" width="195" height="127" class="step-2 textbox accent" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="422.5" y="65.5" width="255" height="255" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<circle id="step-3-accent" cx="751" cy="324" r="110" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="661.16796875" y="262.0625" width="177" height="129" class="step-3 textbox accent" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="641.5" y="214.5" width="219" height="219" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<circle id="step-4-accent" cx="544" cy="423" r="100" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="459.16796875" y="363.0625" width="167" height="121" class="step-4 textbox accent" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="444.5" y="323.5" width="199" height="199" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5 accent">\n<circle id="step-5-accent" cx="343.5" cy="88.5" r="87.5" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-accent-textbox" x="268.16796875" y="41.0625" width="147" height="96" class="step-5 textbox accent" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="256.5" y="1.5" width="174" height="174" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),ne="packed_circles",nt={key:ne,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:5,l=t8.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:ne,svgScalingFactor:nt.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"QhL7JY"}),icon:a.GEE,defaultColorScheme:"monochrome",stepSvgData:t8,previewImage:{src:"/_next/static/media/packed-circles.50bed684.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:J,defaultData:()=>w(t8),svgScalingFactor:1},nn=new Map(Object.entries({pinwheel_4:'<svg class="pinwheel" width="965.1158399999999" height="471.75724" viewBox="18.44008 32.12168 965.1158399999999 471.75724" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="pinwheel" class="pinwheel">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M499.646 257.01C497.493 257.23 495.522 258.062 493.905 259.326L393.133 158.178L499.099 50.6816L499.646 257.01Z" fill="#4046B4" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M492.525 260.598C490.948 262.323 489.903 264.543 489.651 266.998L392.09 266.321L392.261 159.473L492.525 260.598Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="439" y="143" width="35" height="35" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-card-textbox" x="37" y="169" width="334" height="79" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="27.5" y="135.5" width="455" height="121" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M718.061 266.454L511.945 267.001C511.72 264.795 510.852 262.78 509.535 261.142L610.564 160.488L718.061 266.454Z" fill="#666BC3" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M609.268 159.62L508.242 259.785C506.483 258.22 504.229 257.201 501.742 256.994L502.419 159.449L609.268 159.62Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-image" x="593" y="213" width="35" height="35" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-card-textbox" x="520" y="61" width="334" height="79" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="512.5" y="54.5" width="349" height="202" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M608.346 377.823L502.38 485.319L501.832 279.309C504.078 279.102 506.13 278.233 507.795 276.898L608.346 377.823Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M609.39 269.679L609.219 376.527L509.156 275.606C510.746 273.823 511.773 271.53 511.962 269.002L609.39 269.679Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-image" x="526.996" y="360" width="35" height="35" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-card-textbox" x="630.996" y="283" width="334" height="79" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="520.5" y="274.5" width="453" height="127" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M489.62 268.908C489.766 271.116 490.55 273.149 491.792 274.824L390.82 375.422L283.324 269.456L489.62 268.908Z" fill="#B3B5E1" class="step-4 accent"/>\n<path id="step-4-accent_2" d="M493.034 276.232C494.787 277.918 497.085 279.04 499.64 279.302L498.966 376.463L392.117 376.292L493.034 276.232Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-image" x="373" y="294.002" width="35" height="35" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-card-textbox" x="147" y="393" width="334" height="79" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="139.5" y="286.502" width="349" height="193" stroke="black" class="step-4 selection"/>\n</g>\n<g id="general-1" class="general-1">\n<circle id="general-1-subtle" cx="501" cy="268" r="9" fill="#D9DAF0" class="general-1 subtle"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("pinwheel_","")),n]})),ni="pinwheel",na={key:ni,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:1,l=nn.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:ni,svgScalingFactor:na.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"MVp6kM"}),icon:a.SiZ,previewImage:{src:"/_next/static/media/pinwheel.728e4518.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",stepSvgData:nn,formattingMenu:J,defaultData:()=>w(nn),svgScalingFactor:1},nr=new Map([[4,'<svg class="puzzle" width="994.2397920000001" height="493.886492" viewBox="4.789203999999998 14.192504 994.2397920000001 493.886492" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="puzzle" class="puzzle">\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M575.792 33.3125C591.699 33.3125 604.594 46.2075 604.594 62.1143V73.6348H669.108V139.879H680.631C696.537 139.879 709.432 152.774 709.433 168.681C709.433 184.587 696.538 197.482 680.631 197.482H669.108V257.967H611.505V252.206C611.505 233.118 596.03 217.645 576.942 217.645C557.854 217.645 542.38 233.118 542.38 252.206V257.967H484.776V199.211H490.537C509.625 199.211 525.099 183.736 525.1 164.648C525.099 145.56 509.625 130.087 490.537 130.087H484.776V73.6348H546.99V62.1143C546.99 46.2075 559.885 33.3125 575.792 33.3125Z" fill="#D9DAF0" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" opacity="0.5" x="733.909" y="118.992" width="246" height="97" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-accent-image" opacity="0.5" x="535.909" y="128.992" width="86" height="74" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="528.5" y="111.5" width="459" height="112" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M575.792 223.406C591.699 223.406 604.594 236.301 604.594 252.208V263.729H669.108V329.973H680.631C696.537 329.973 709.432 342.868 709.433 358.774C709.433 374.681 696.538 387.576 680.631 387.576H669.108V448.061H611.505V442.3C611.505 423.212 596.03 407.738 576.942 407.738C557.854 407.738 542.38 423.212 542.38 442.3V448.061H484.776V389.305H490.537C509.625 389.305 525.099 373.83 525.1 354.742C525.099 335.654 509.625 320.181 490.537 320.181H484.776V263.729H546.99V252.208C546.99 236.301 559.885 223.406 575.792 223.406Z" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="733.909" y="305" width="246" height="97" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-accent-image" x="535.909" y="315" width="86" height="74" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="528.5" y="296.5" width="459" height="112" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M351.713 264.305V270.064C351.713 289.153 367.186 304.627 386.274 304.627C405.363 304.627 420.837 289.153 420.837 270.064V264.305H478.44V324.788H489.963C505.869 324.788 518.764 337.683 518.765 353.59C518.765 369.497 505.87 382.391 489.963 382.392H478.44V448.636H413.926V460.157C413.926 476.064 401.031 488.959 385.124 488.959C369.217 488.959 356.322 476.064 356.322 460.157V448.636H294.108V392.185H299.869C318.957 392.185 334.432 376.71 334.432 357.622C334.432 338.534 318.957 323.061 299.869 323.061H294.108V264.305H351.713Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox-right" x="23.9092" y="305" width="246" height="97" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-accent-image" x="347.909" y="327" width="86" height="74" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="16.5" y="297.5" width="426" height="111" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M354.595 79.4004C354.595 98.4884 370.068 113.963 389.156 113.963C408.244 113.963 423.719 98.4885 423.719 79.4004V73.6406H480.17V135.853H491.691C507.598 135.853 520.493 148.748 520.493 164.654C520.493 180.561 507.598 193.456 491.691 193.456H480.17V257.972H413.927V269.493C413.927 285.4 401.031 298.295 385.124 298.295C369.218 298.295 356.323 285.4 356.322 269.493V257.972H295.839V200.368H301.6C320.687 200.368 336.161 184.894 336.161 165.807C336.161 146.719 320.688 131.244 301.6 131.244H295.839V73.6406H354.595V79.4004Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="348" y="141.008" width="86" height="74" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-card-textbox-right" x="25" y="119.008" width="245" height="96" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-selection" x="16.5" y="111.508" width="425" height="111" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n']]),nl="puzzle",ns={key:nl,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:4,l=nr.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:nl,svgScalingFactor:ns.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"nT0180"}),icon:tP.wvb,defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],previewImage:{src:"/_next/static/media/puzzle.f9b38688.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:J,stepSvgData:nr,defaultData:()=>w(nr),svgScalingFactor:1},no=new Map([[1,'<svg class="quadrant" width="1001" height="501" viewBox="0 0 1001 501" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="quadrant" class="quadrant">\n<path id="general-6-accent" d="M510.64 430.569C511.202 431.131 511.202 432.043 510.64 432.605L501.475 441.77C500.913 442.332 500.001 442.332 499.439 441.77L490.274 432.605C489.712 432.043 489.711 431.131 490.274 430.569C490.836 430.006 491.748 430.007 492.31 430.569L499.017 437.275L499.017 69.8051L492.31 76.5117C491.748 77.0739 490.836 77.074 490.274 76.5117C489.711 75.9493 489.712 75.0377 490.274 74.4753L499.439 65.3105C500.001 64.7481 500.913 64.7481 501.475 65.3105L510.64 74.4753C511.202 75.0377 511.202 75.9493 510.64 76.5117C510.077 77.074 509.166 77.0739 508.603 76.5117L501.897 69.8051L501.897 437.275L508.603 430.569C509.166 430.007 510.077 430.006 510.64 430.569Z" fill="#4046B4" class="general-6 accent"/>\n<path id="general-5-accent" d="M778.005 233.851C778.567 233.289 779.479 233.289 780.041 233.851L789.206 243.016C789.768 243.579 789.768 244.49 789.206 245.053L780.041 254.217C779.479 254.78 778.567 254.78 778.005 254.217C777.442 253.655 777.442 252.743 778.005 252.181L784.711 245.474H215.628L222.335 252.181C222.897 252.743 222.897 253.655 222.335 254.217C221.773 254.78 220.861 254.78 220.299 254.217L211.134 245.053C210.571 244.49 210.571 243.579 211.134 243.016L220.299 233.851C220.861 233.289 221.773 233.289 222.335 233.851C222.897 234.414 222.897 235.325 222.335 235.888L215.628 242.594H784.711L778.005 235.888C777.442 235.325 777.442 234.414 778.005 233.851Z" fill="#4046B4" class="general-5 accent"/>\n<rect id="general-4-card-textbox" y="226" width="197" height="35" fill="#D9D9D9" class="general-4 card textbox"/>\n<rect id="general-3-card-textbox" x="310.656" y="455.152" width="380.183" height="34.5621" fill="#D9D9D9" class="general-3 card textbox"/>\n<rect id="general-2-card-textbox" x="803" y="226" width="197" height="35" fill="#D9D9D9" class="general-2 card textbox"/>\n<rect id="general-1-card-textbox" x="310.083" y="17.3652" width="380.183" height="34.5621" fill="#D9D9D9" class="general-1 card textbox"/>\n<g id="step-3" class="step-3">\n<circle id="step-3-accent" cx="371.042" cy="300.042" r="23.0417" fill="#D5D6EF" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="276" y="334" width="202" height="71" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-accent-image" x="357.14" y="286.418" width="28" height="28" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="262.25" y="269.25" width="218.5" height="144.5" stroke="black" stroke-width="0.5" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<circle id="step-4-accent" cx="641.902" cy="300.747" r="23.0417" fill="#D5D6EF" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="541" y="335" width="202" height="71" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-accent-image" x="628" y="287" width="28" height="28" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="533.25" y="270.25" width="217.5" height="143.5" stroke="black" stroke-width="0.5" class="step-4 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-accent" cx="641.902" cy="115.747" r="23.0417" fill="#D5D6EF" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="541" y="150" width="202" height="71" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-accent-image" x="628" y="102" width="28" height="28" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="533.25" y="85.25" width="217.5" height="143.5" stroke="black" stroke-width="0.5" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<circle id="step-1-accent" cx="370.902" cy="115.747" r="23.0417" fill="#D5D6EF" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="270" y="150" width="202" height="71" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-accent-image" x="357" y="102" width="28" height="28" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="262.25" y="85.25" width="217.5" height="143.5" stroke="black" stroke-width="0.5" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n\n    ']]),nc="quadrants",nd={key:nc,Component:e=>{let t=no.get(1);return t?(0,i.jsx)(tL,{svgData:t,templateKey:nc,svgScalingFactor:nd.svgScalingFactor,...e}):(console.error("No SVG data found for key",1),null)},label:()=>r.Ru._({id:"o/Eq9R"}),icon:tP.Nfw,previewImage:{src:"/_next/static/media/quadrant.755601ce.svg",height:96,width:253,blurWidth:0,blurHeight:0},stepSvgData:no,formattingMenu:J,defaultData:()=>w(no),svgScalingFactor:1},nu=new Map(Object.entries({ribbon_arrows_2:'<svg class="ribbon_arrows" width="436.64399999999995" height="463.68179999999995" viewBox="283.309 35.2422 436.64399999999995 463.68179999999995" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ribbon_arrows" class="ribbon_arrows">\n<g id="step-1" class="step-1">\n<g id="step-1-accent" class="step-1 accent">\n<path d="M307.145 191.594H498.764L481.87 206.649L465 222.005V315.155H307.145V191.594Z" fill="#B3B5E1"/>\n</g>\n<rect id="step-1-textbox-card-top" x="293.309" y="368.125" width="220.148" height="120.799" fill="black" class="step-1 textbox card top"/>\n<rect id="step-1-accent-image" x="374.594" y="224.75" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="284.551" y="184.484" width="235" height="313" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M709.953 285.188L648.453 371.791V345.727H465.168V222.165H648.453V198.586L709.953 285.188Z" fill="#D9DAF0" class="step-2 accent"/>\n<path id="step-2-accent-dim" d="M499 222.008V191.508L465 222.008H499Z" fill="#8C90D2" class="step-2 accent dim"/>\n<rect id="step-2-textbox-card-bottom" x="480.715" y="45.2422" width="220.148" height="120.799" fill="black" class="step-2 textbox card bottom"/>\n<rect id="step-2-accent-image" x="542.809" y="257.484" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="454.551" y="36.4844" width="264" height="344" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',ribbon_arrows_3:'<svg class="ribbon_arrows" width="584.87" height="525.2318" viewBox="208.1625 4.6587 584.87 525.2318" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ribbon_arrows" class="ribbon_arrows">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M223 191H414.62L397.726 206.055L380.855 221.411V314.562H223V191Z" fill="#8C90D2" class="step-1 accent"/>\n<rect id="step-1-card-textbox-bottom" x="219.41" y="15.9062" width="227" height="121" fill="black" class="step-1 card textbox bottom"/>\n<rect id="step-1-accent-image" x="288.992" y="223.984" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="211.5" y="7.5" width="244" height="314" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent-dim" d="M414 221.5V191L380 221.5H414Z" fill="#666BC3" class="step-2 accent dim"/>\n<path id="step-2-accent" d="M380 221H571.62L554.726 236.055L537.855 251.411V344.562H380V221Z" fill="#B3B5E1" class="step-2 accent"/>\n<rect id="step-2-card-textbox-top" x="365.766" y="397.844" width="220.148" height="120.799" fill="black" class="step-2 card textbox top"/>\n<rect id="step-2-accent-image" x="447.051" y="254.469" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="356.5" y="212.5" width="238" height="313" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent-dim" d="M571 251.5V221L537 251.5H571Z" fill="#8C90D2" class="step-3 accent dim"/>\n<path id="step-3-accent" d="M781.785 314.603L720.285 401.205V375.141H537V251.579H720.285V228L781.785 314.603Z" fill="#D9DAF0" class="step-3 accent"/>\n<rect id="step-3-card-textbox-bottom" x="553.172" y="74.9609" width="220.148" height="120.799" fill="black" class="step-3 card textbox bottom"/>\n<rect id="step-3-accent-image" x="615.266" y="287.211" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="529.5" y="66.5" width="261" height="343" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',ribbon_arrows_4:'<svg class="ribbon_arrows" width="772.63472" height="532.45352" viewBox="115.39964 1.047839999999999 772.63472 532.45352" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ribbon_arrows" class="ribbon_arrows">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M157 162H348.62L331.726 177.055L314.855 192.411V285.562H157V162Z" fill="#666BC3" class="step-1 accent"/>\n<rect id="step-1-card-textbox-top" x="130.258" y="332.367" width="220.148" height="120.799" fill="black" class="step-1 card textbox top"/>\n<rect id="step-1-accent-image" x="221.703" y="193.508" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="122.5" y="153.5" width="235" height="309" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent-dim" d="M348 192.5V162L314 192.5H348Z" fill="#4046B4" class="step-2 accent dim"/>\n<path id="step-2-accent" d="M314 192H505.62L488.726 207.055L471.855 222.411V315.562H314V192Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-textbox-card-bottom" x="310.176" y="15.9062" width="227" height="121" fill="black" class="step-2 textbox card bottom"/>\n<rect id="step-2-accent-image" x="379.758" y="223.984" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="304.5" y="6.5" width="242" height="314" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent-dim" d="M505 222.5V192L471 222.5H505Z" fill="#666BC3" class="step-3 accent dim"/>\n<path id="step-3-accent" d="M471 222H662.62L645.726 237.055L628.855 252.411V345.562H471V222Z" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-textbox-card-top" x="456.531" y="397.844" width="220.148" height="120.799" fill="black" class="step-3 textbox card top"/>\n<rect id="step-3-accent-image" x="537.816" y="254.469" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="449.5" y="214.5" width="235" height="312" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent-dim" d="M662 252.5V222L628 252.5H662Z" fill="#8C90D2" class="step-4 accent dim"/>\n<path id="step-4-accent" d="M873.176 314.907L811.676 401.51V375.445H628.391V251.884H811.676V228.305L873.176 314.907Z" fill="#D9DAF0" class="step-4 accent"/>\n<rect id="step-4-textbox-card-bottom" x="643.938" y="74.9609" width="220.148" height="120.799" fill="black" class="step-4 textbox card bottom"/>\n<rect id="step-4-accent-image" x="706.031" y="287.211" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="620.5" y="68.5" width="260" height="339" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',ribbon_arrows_5:'<svg class="ribbon_arrows" width="926.441048" height="565.119158" viewBox="44.33612599999999 -10.573984 926.441048 565.119158" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ribbon_arrows" class="ribbon_arrows">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M79.0508 148.984H270.67L253.776 164.04L236.906 179.396V272.546H79.0508V148.984Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-bottom" x="62.1523" y="7.24219" width="220.148" height="120.799" fill="black" class="step-1 card textbox bottom"/>\n<rect id="step-1-accent-image" x="144.566" y="181.102" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="52.5508" y="1.48438" width="240" height="278" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M236.051 178.984H427.67L410.776 194.04L393.906 209.396V302.546H236.051V178.984Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-textbox-card-top" x="210.043" y="350.453" width="220.148" height="120.799" fill="black" class="step-2 textbox card top"/>\n<rect id="step-2-accent-image" x="301.488" y="211.586" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="200.551" y="168.484" width="237" height="313" stroke="black" class="step-2 selection"/>\n<g id="step-2-accent-dim" class="step-2 accent dim">\n<path d="M270.051 179.484V148.984L236.051 179.484H270.051Z" fill="#4046B4"/>\n<path d="M270.051 179.484V148.984L236.051 179.484H270.051Z" fill="black" fill-opacity="0.2"/>\n</g>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M393.051 208.984H584.67L567.776 224.04L550.906 239.396V332.546H393.051V208.984Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox-bottom" x="389.961" y="33.9844" width="227" height="121" fill="black" class="step-3 card textbox bottom"/>\n<rect id="step-3-accent-image" x="459.543" y="242.07" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="381.551" y="26.4844" width="243" height="316" stroke="black" class="step-3 selection"/>\n<path id="step-3-accent-dim" d="M427.051 209.484V178.984L393.051 209.484H427.051Z" fill="#4046B4" class="step-3 accent dim"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M550.051 238.984H741.67L724.776 254.04L707.906 269.396V362.546H550.051V238.984Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-textbox-card-top" x="536.316" y="415.93" width="220.148" height="120.799" fill="black" class="step-4 textbox card top"/>\n<rect id="step-4-accent-image" x="617.602" y="272.547" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="526.551" y="231.484" width="240" height="313" stroke="black" class="step-4 selection"/>\n<path id="step-4-accent-dim" d="M584.051 239.484V208.984L550.051 239.484H584.051Z" fill="#666BC3" class="step-4 accent dim"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent-dim" d="M742.051 269.484V238.984L708.051 269.484H742.051Z" fill="#8C90D2" class="step-5 accent dim"/>\n<path id="step-5-accent" d="M952.961 332.985L891.461 419.588V393.523H708.176V269.962H891.461V246.383L952.961 332.985Z" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-card-textbox-bottom" x="723.723" y="93.0469" width="220.148" height="120.799" fill="black" class="step-5 card textbox bottom"/>\n<rect id="step-5-accent-image" x="785.816" y="305.289" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-5 accent image"/>\n<rect id="step-5-selection" x="700.551" y="85.4844" width="262" height="342" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("ribbon_arrows_","")),n]})),np="ribbon_arrows",nh={key:np,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:5,l=nu.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:np,svgScalingFactor:nh.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"aBHvyl"}),previewImage:{src:"/_next/static/media/ribbon_arrows.297df46f.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],formattingMenu:J,stepSvgData:nu,defaultData:()=>w(nu),svgScalingFactor:1},ng=new Map(Object.entries({rings_1:'<svg class="rings" width="237.077" height="232.29580000000004" viewBox="381.996 14.9922 237.077 232.29580000000004" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M583.151 168.645C583.151 145.05 564.025 125.922 540.43 125.922H460.645C437.05 125.922 417.922 145.05 417.922 168.645C417.922 192.239 437.05 211.367 460.645 211.367H540.43C564.024 211.367 583.151 192.239 583.151 168.645ZM609.073 168.645C609.073 206.555 578.341 237.288 540.43 237.288H460.645C422.734 237.288 392 206.555 392 168.645C392 130.733 422.733 100 460.645 100H540.43C578.341 100 609.073 130.734 609.073 168.645Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="391.996" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="383.5" y="13.5" width="235" height="236" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',rings_2:'<svg class="rings" width="358.851" height="370.9998" viewBox="320.996 14.9922 358.851 370.9998" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M479.43 100C513.021 100 540.975 124.129 546.909 156H520.248C514.858 138.578 498.622 125.922 479.43 125.922H399.645C376.05 125.922 356.922 145.05 356.922 168.645C356.922 192.239 376.05 211.367 399.645 211.367H454.059C454.039 211.466 454.019 211.566 454 211.665H479.037C479.599 211.665 480.158 211.65 480.714 211.629C480.744 211.533 480.776 211.438 480.808 211.343C499.159 210.761 514.586 198.608 520.039 181.938H546.786C540.595 213.486 512.793 237.288 479.43 237.288H399.645C361.734 237.288 331 206.555 331 168.645C331 130.733 361.733 100 399.645 100H479.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="330.996" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="318.5" y="15.5" width="241" height="236" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M601.203 156C639.114 156 669.847 186.734 669.847 224.645C669.847 262.555 639.114 293.288 601.203 293.288H521.418C487.938 293.288 460.056 269.319 453.996 237.605H479.033C479.588 237.605 480.141 237.598 480.692 237.585C486.175 254.854 502.334 267.367 521.418 267.367H601.203C624.798 267.367 643.925 248.239 643.925 224.645C643.925 201.05 624.798 181.922 601.203 181.922H553.991C553.993 181.927 553.994 181.932 553.996 181.938H518.978C500.65 182.646 486.047 194.898 480.71 211.629C480.154 211.65 479.595 211.665 479.033 211.665H453.996C459.956 180.476 486.758 156.777 519.496 156H601.203Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="452.996" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="439.5" y="145.5" width="243" height="244" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',rings_3:'<svg class="rings" width="482" height="370.9998" viewBox="260 14.9922 482 370.9998" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M418.43 100C452.021 100 479.975 124.129 485.909 156H459.248C453.858 138.578 437.622 125.922 418.43 125.922H338.645C315.05 125.922 295.922 145.05 295.922 168.645C295.922 192.239 315.05 211.367 338.645 211.367H393.059C393.039 211.466 393.019 211.566 393 211.665H418.037C418.599 211.665 419.158 211.65 419.714 211.629C419.744 211.533 419.776 211.438 419.808 211.343C438.159 210.761 453.586 198.608 459.039 181.938H485.786C479.595 213.486 451.793 237.288 418.43 237.288H338.645C300.734 237.288 270 206.555 270 168.645C270 130.733 300.733 100 338.645 100H418.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="270" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="259.5" y="14.5" width="236" height="232" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M608.024 236C601.849 267.568 573.853 293.288 540.477 293.288H484.862C484.865 293.274 484.867 293.26 484.869 293.246H458.326C426.353 292.163 399.926 267.333 393.527 237H417.211C418.299 237 419.432 236.92 420.5 237C426.053 252.561 440.275 266.719 457.455 267.245C463.21 267.421 475.262 267.452 484.392 267.458C484.385 267.428 484.38 267.397 484.374 267.367H515.055C515.038 267.453 515.02 267.54 515.004 267.626H540.041C540.602 267.626 541.162 267.611 541.718 267.59C541.744 267.508 541.771 267.426 541.798 267.345C560.188 266.786 575.836 252.707 581.283 236H608.024ZM540.477 156C574.054 156 602.074 178.648 608.024 210.5H581.358C575.956 193.099 559.655 181.922 540.477 181.922H460.691C441.132 181.922 424.643 194.105 419.574 212.041C418.79 212.014 418.002 212 417.211 212H393.039C398.586 179.654 426.763 156 460.691 156H540.477Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="392" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="382.5" y="148.5" width="236" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M583.484 236.289C549.893 236.289 521.94 213.16 516.005 181.289H542.666C548.057 198.711 564.292 210.367 583.484 210.367H663.27C686.865 210.367 705.992 191.24 705.992 167.645C705.992 144.05 686.864 124.922 663.27 124.922H608.855C608.875 124.823 608.895 124.723 608.914 124.624H583.877C583.315 124.624 582.757 124.639 582.2 124.66C582.17 124.756 582.138 124.851 582.106 124.946C563.755 125.528 548.205 139.331 542.752 156.001H516.005C522.196 124.452 550.121 99.0012 583.484 99.001H663.27C701.181 99.001 731.914 129.734 731.914 167.645C731.914 205.556 701.181 236.289 663.27 236.289H583.484Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="516" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="505.5" y="14.5" width="236" height="232" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',rings_4:'<svg class="rings" width="607.36" height="374.3598" viewBox="197.32 13.3122 607.36 374.3598" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M357.43 100C391.021 100 418.975 124.129 424.909 156H398.248C392.858 138.578 376.622 125.922 357.43 125.922H277.645C254.05 125.922 234.922 145.05 234.922 168.645C234.922 192.239 254.05 211.367 277.645 211.367H332.059C332.039 211.466 332.019 211.566 332 211.665H357.037C357.599 211.665 358.158 211.65 358.714 211.629C358.744 211.533 358.776 211.438 358.808 211.343C377.159 210.761 392.586 198.608 398.039 181.938H424.786C418.595 213.486 390.793 237.288 357.43 237.288H277.645C239.734 237.288 209 206.555 209 168.645C209 130.733 239.733 100 277.645 100H357.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="209" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="198.5" y="14.5" width="236" height="232" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M547.024 236C540.849 267.568 512.853 293.288 479.477 293.288H423.862C423.865 293.274 423.867 293.26 423.869 293.246H397.326C365.353 292.163 338.926 267.333 332.527 237H356.211C357.299 237 358.432 236.92 359.5 237C365.053 252.561 379.275 266.719 396.455 267.245C402.21 267.421 414.262 267.452 423.392 267.458C423.385 267.428 423.38 267.397 423.374 267.367H454.055C454.038 267.453 454.02 267.54 454.004 267.626H479.041C479.602 267.626 480.162 267.611 480.718 267.59C480.744 267.508 480.771 267.426 480.798 267.345C499.188 266.786 514.836 252.707 520.283 236H547.024ZM479.477 156C513.054 156 541.074 178.648 547.024 210.5H520.358C514.956 193.099 498.655 181.922 479.477 181.922H399.691C380.132 181.922 363.643 194.105 358.574 212.041C357.79 212.014 357.002 212 356.211 212H332.039C337.586 179.654 365.763 156 399.691 156H479.477Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="331" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="321.5" y="146.5" width="236" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M685.571 180.898C678.948 212.467 649.123 236.288 613.33 236.288H553.69C553.692 236.274 553.695 236.26 553.697 236.246H525.233C490.944 235.163 462.604 212.216 455.742 181.883H481.141C482.307 181.883 483.464 181.924 484.609 182.004C490.564 197.565 505.875 209.719 524.298 210.245C530.469 210.421 543.395 210.452 553.185 210.458C553.178 210.428 553.173 210.397 553.166 210.367H586.068C586.05 210.453 586.031 210.54 586.014 210.626H612.863C613.465 210.626 614.065 210.611 614.662 210.59C614.69 210.508 614.719 210.426 614.747 210.345C634.469 209.786 651.052 197.606 656.893 180.898H685.571ZM613.33 99C649.339 99.0003 679.307 123.109 685.688 154.961H657.091C651.298 137.559 633.897 124.922 613.33 124.922H527.769C506.794 124.922 489.111 138.065 483.675 156.002C482.834 155.975 481.989 155.961 481.141 155.961H455.219C461.167 123.615 491.385 99 527.769 99H613.33Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="455.219" y="24.9922" width="231.638" height="60" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="443.5" y="14.5" width="252" height="232" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<g id="step-4-accent" class="step-4 accent">\n<path d="M724.211 155C762.122 155 792.854 185.734 792.854 223.645C792.854 261.555 762.122 292.288 724.211 292.288H644.426C610.946 292.288 583.064 268.319 577.004 236.605H602.041C602.596 236.605 603.149 236.598 603.7 236.585C609.183 253.854 625.342 266.367 644.426 266.367H724.211C747.806 266.367 766.932 247.239 766.933 223.645C766.933 200.05 747.806 180.922 724.211 180.922H676.999C677.001 180.927 677.002 180.932 677.004 180.938H641.985C623.658 181.646 609.055 193.898 603.718 210.629C603.161 210.65 602.603 210.665 602.041 210.665H577.004C582.963 179.476 609.766 155.777 642.504 155H724.211Z" fill="white"/>\n<path d="M724.211 155C762.122 155 792.854 185.734 792.854 223.645C792.854 261.555 762.122 292.288 724.211 292.288H644.426C610.946 292.288 583.064 268.319 577.004 236.605H602.041C602.596 236.605 603.149 236.598 603.7 236.585C609.183 253.854 625.342 266.367 644.426 266.367H724.211C747.806 266.367 766.932 247.239 766.933 223.645C766.933 200.05 747.806 180.922 724.211 180.922H676.999C677.001 180.927 677.002 180.932 677.004 180.938H641.985C623.658 181.646 609.055 193.898 603.718 210.629C603.161 210.65 602.603 210.665 602.041 210.665H577.004C582.963 179.476 609.766 155.777 642.504 155H724.211Z" fill="#8C90D2"/>\n</g>\n<rect id="step-4-card-textbox" x="577" y="314.992" width="216" height="60" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="567.5" y="146.5" width="236" height="239" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',rings_5:'<svg class="rings" width="736.32" height="379.3198" viewBox="132.84 10.8322 736.32 379.3198" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M295.43 100C329.021 100 356.975 124.129 362.909 156H336.248C330.858 138.578 314.622 125.922 295.43 125.922H215.645C192.05 125.922 172.922 145.05 172.922 168.645C172.922 192.239 192.05 211.367 215.645 211.367H270.059C270.039 211.466 270.019 211.566 270 211.665H295.037C295.599 211.665 296.158 211.65 296.714 211.629C296.744 211.533 296.776 211.438 296.808 211.343C315.159 210.761 330.586 198.608 336.039 181.938H362.786C356.595 213.486 328.793 237.288 295.43 237.288H215.645C177.734 237.288 147 206.555 147 168.645C147 130.733 177.733 100 215.645 100H295.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="147" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="136.5" y="14.5" width="236" height="232" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M485.024 236C478.849 267.568 450.853 293.288 417.477 293.288H361.862C361.865 293.274 361.867 293.26 361.869 293.246H335.326C303.353 292.163 276.926 267.333 270.527 237H294.211C295.299 237 296.432 236.92 297.5 237C303.053 252.561 317.275 266.719 334.455 267.245C340.21 267.421 352.262 267.452 361.392 267.458C361.385 267.428 361.38 267.397 361.374 267.367H392.055C392.038 267.453 392.02 267.54 392.004 267.626H417.041C417.602 267.626 418.162 267.611 418.718 267.59C418.744 267.508 418.771 267.426 418.798 267.345C437.188 266.786 452.836 252.707 458.283 236H485.024ZM417.477 156C451.054 156 479.074 178.648 485.024 210.5H458.358C452.956 193.099 436.655 181.922 417.477 181.922H337.691C318.132 181.922 301.643 194.105 296.574 212.041C295.79 212.014 295.002 212 294.211 212H270.039C275.586 179.654 303.763 156 337.691 156H417.477Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="269" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="259.5" y="146.5" width="236" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M607.801 180.898C601.625 212.467 573.814 236.288 540.438 236.288H484.823C484.826 236.274 484.828 236.26 484.83 236.246H458.287C426.313 235.163 399.887 212.216 393.488 181.883H417.172C418.26 181.883 419.339 181.924 420.406 182.004C425.959 197.565 440.236 209.719 457.416 210.245C463.171 210.421 475.223 210.452 484.353 210.458C484.346 210.428 484.341 210.397 484.335 210.367H515.016C514.999 210.453 514.981 210.54 514.965 210.626H540.002C540.563 210.626 541.122 210.611 541.679 210.59C541.705 210.508 541.732 210.426 541.759 210.345C560.149 209.786 575.612 197.606 581.06 180.898H607.801ZM540.438 99C574.015 99.0003 601.96 123.109 607.91 154.961H581.244C575.842 137.559 559.616 124.922 540.438 124.922H460.652C441.093 124.922 424.604 138.065 419.535 156.002C418.751 155.975 417.963 155.961 417.172 155.961H393C398.547 123.615 426.724 99 460.652 99H540.438Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="393" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="386.5" y="14.5" width="236" height="232" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M730.024 235C723.849 266.568 695.853 292.288 662.477 292.288H606.862C606.865 292.274 606.867 292.26 606.869 292.246H580.326C548.353 291.163 521.926 266.333 515.527 236H539.211C540.299 236 541.432 235.92 542.5 236C548.053 251.561 562.275 265.719 579.455 266.245C585.21 266.421 597.262 266.452 606.392 266.458C606.385 266.428 606.38 266.397 606.374 266.367H637.055C637.038 266.453 637.02 266.54 637.004 266.626H662.041C662.602 266.626 663.162 266.611 663.718 266.59C663.744 266.508 663.771 266.426 663.798 266.345C682.188 265.786 697.836 251.707 703.283 235H730.024ZM662.477 155C696.054 155 724.074 177.648 730.024 209.5H703.358C697.956 192.099 681.655 180.922 662.477 180.922H582.691C563.132 180.922 546.643 193.105 541.574 211.041C540.79 211.014 540.002 211 539.211 211H515.039C520.586 178.654 548.763 155 582.691 155H662.477Z" fill="#8C90D2" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="515" y="314.992" width="216" height="60" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="505.5" y="146.5" width="236" height="239" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M705.484 235.287C671.893 235.287 643.94 212.158 638.005 180.287H664.666C670.057 197.709 686.292 209.365 705.484 209.365H785.27C808.865 209.365 827.992 190.238 827.992 166.643C827.992 143.048 808.864 123.92 785.27 123.92H730.855C730.875 123.821 730.895 123.721 730.914 123.622H705.877C705.315 123.622 704.757 123.637 704.2 123.658C704.17 123.754 704.138 123.849 704.106 123.944C685.755 124.526 670.205 138.329 664.752 154.999H638.005C644.196 123.45 672.121 97.9992 705.484 97.999H785.27C823.181 97.999 853.914 128.732 853.914 166.643C853.914 204.554 823.181 235.287 785.27 235.287H705.484Z" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="639" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-5 card textbox"/>\n<rect id="step-5-selection" x="628.5" y="14.5" width="236" height="232" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n',rings_6:'<svg class="rings" width="863.2" height="384.1998" viewBox="62.4 8.392199999999999 863.2 384.1998" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M227.43 100C261.021 100 288.975 124.129 294.909 156H268.248C262.858 138.578 246.622 125.922 227.43 125.922H147.645C124.05 125.922 104.922 145.05 104.922 168.645C104.922 192.239 124.05 211.367 147.645 211.367H202.059C202.039 211.466 202.019 211.566 202 211.665H227.037C227.599 211.665 228.158 211.65 228.714 211.629C228.744 211.533 228.776 211.438 228.808 211.343C247.159 210.761 262.586 198.608 268.039 181.938H294.786C288.595 213.486 260.793 237.288 227.43 237.288H147.645C109.734 237.288 79.0002 206.555 79 168.645C79 130.733 109.733 100 147.645 100H227.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="79" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="68.5" y="18.5" width="236" height="232" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M417.024 236C410.849 267.568 382.853 293.288 349.477 293.288H293.862C293.865 293.274 293.867 293.26 293.869 293.246H267.326C235.353 292.163 208.926 267.333 202.527 237H226.211C227.299 237 228.432 236.92 229.5 237C235.053 252.561 249.275 266.719 266.455 267.245C272.21 267.421 284.262 267.452 293.392 267.458C293.385 267.428 293.38 267.397 293.374 267.367H324.055C324.038 267.453 324.02 267.54 324.004 267.626H349.041C349.602 267.626 350.162 267.611 350.718 267.59C350.744 267.508 350.771 267.426 350.798 267.345C369.188 266.786 384.836 252.707 390.283 236H417.024ZM349.477 156C383.054 156 411.074 178.648 417.024 210.5H390.358C384.956 193.099 368.655 181.922 349.477 181.922H269.691C250.132 181.922 233.643 194.105 228.574 212.041C227.79 212.014 227.002 212 226.211 212H202.039C207.586 179.654 235.763 156 269.691 156H349.477Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="201" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="190.5" y="146.5" width="236" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M539.801 180.898C533.625 212.467 505.814 236.288 472.438 236.288H416.823C416.826 236.274 416.828 236.26 416.83 236.246H390.287C358.313 235.163 331.887 212.216 325.488 181.883H349.172C350.26 181.883 351.339 181.924 352.406 182.004C357.959 197.565 372.236 209.719 389.416 210.245C395.171 210.421 407.223 210.452 416.353 210.458C416.346 210.428 416.341 210.397 416.335 210.367H447.016C446.999 210.453 446.981 210.54 446.965 210.626H472.002C472.563 210.626 473.122 210.611 473.679 210.59C473.705 210.508 473.732 210.426 473.759 210.345C492.149 209.786 507.612 197.606 513.06 180.898H539.801ZM472.438 99C506.015 99.0003 533.96 123.109 539.91 154.961H513.244C507.842 137.559 491.616 124.922 472.438 124.922H392.652C373.093 124.922 356.604 138.065 351.535 156.002C350.751 155.975 349.963 155.961 349.172 155.961H325C330.547 123.615 358.724 99 392.652 99H472.438Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="325" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="314.5" y="18.5" width="236" height="232" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M662.024 235C655.849 266.568 627.853 292.288 594.477 292.288H538.862C538.865 292.274 538.867 292.26 538.869 292.246H512.326C480.353 291.163 453.926 266.333 447.527 236H471.211C472.299 236 473.432 235.92 474.5 236C480.053 251.561 494.275 265.719 511.455 266.245C517.21 266.421 529.262 266.452 538.392 266.458C538.385 266.428 538.38 266.397 538.374 266.367H569.055C569.038 266.453 569.02 266.54 569.004 266.626H594.041C594.602 266.626 595.162 266.611 595.718 266.59C595.744 266.508 595.771 266.426 595.798 266.345C614.188 265.786 629.836 251.707 635.283 235H662.024ZM594.477 155C628.054 155 656.074 177.648 662.024 209.5H635.358C629.956 192.099 613.655 180.922 594.477 180.922H514.691C495.132 180.922 478.643 193.105 473.574 211.041C472.79 211.014 472.002 211 471.211 211H447.039C452.586 178.654 480.763 155 514.691 155H594.477Z" fill="#8C90D2" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="447" y="314.992" width="216" height="60" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="436.5" y="146.5" width="236" height="239" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M784.801 179.898C778.625 211.467 750.814 235.288 717.438 235.288H661.823C661.826 235.274 661.828 235.26 661.83 235.246H635.287C603.313 234.163 576.887 211.216 570.488 180.883H594.172C595.26 180.883 596.339 180.924 597.406 181.004C602.959 196.565 617.236 208.719 634.416 209.245C640.171 209.421 652.223 209.452 661.353 209.458C661.346 209.428 661.341 209.397 661.335 209.367H692.016C691.999 209.453 692.032 209.281 692.016 209.367H717C717.561 209.367 717.944 209.389 718.5 209.367C718.526 209.285 718.732 209.426 718.759 209.345C737.149 208.786 752.612 196.606 758.06 179.898H784.801ZM717.438 98C751.015 98.0003 778.96 122.109 784.91 153.961H758.244C752.842 136.559 736.616 123.922 717.438 123.922H637.652C618.093 123.922 601.604 137.065 596.535 155.002C595.751 154.975 594.963 154.961 594.172 154.961H570C575.547 122.615 603.724 98 637.652 98H717.438Z" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="571" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-5 card textbox"/>\n<rect id="step-5-selection" x="560.5" y="18.5" width="236" height="232" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-6" class="step-6">\n<rect id="step-6-card-textbox" x="693" y="313.992" width="216" height="60" fill="#D9D9D9" class="step-6 card textbox"/>\n<path id="step-6-accent" d="M839.363 153.629C877.315 153.629 908.08 184.395 908.08 222.346C908.08 260.298 877.315 291.063 839.363 291.063H759.494C725.978 291.063 698.067 267.069 692 235.321H717.064C717.619 235.321 718.173 235.314 718.725 235.301C724.213 252.588 740.389 265.114 759.494 265.114H839.363C862.983 265.114 882.13 245.966 882.131 222.346C882.131 198.726 862.983 179.579 839.363 179.578H792.101C792.103 179.584 792.105 179.589 792.106 179.594H757.051C738.704 180.303 724.085 192.568 718.742 209.317C718.185 209.338 717.626 209.353 717.064 209.353H692C697.966 178.131 724.797 154.407 757.57 153.629H839.363Z" fill="#8C90D2" class="step-6 accent"/>\n<rect id="step-6-selection" x="678.5" y="146.5" width="236" height="239" stroke="black" class="step-6 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("rings_","")),n]})),nm="rings",nx={key:nm,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:5,l=ng.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:nm,svgScalingFactor:nx.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"ZoIl0W"}),icon:tP.CQO,previewImage:{src:"/_next/static/media/rings.9591dd73.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"alternating",allowedColorSchemes:["alternating"],stepSvgData:ng,formattingMenu:J,defaultData:()=>w(ng),svgScalingFactor:1},nf=new Map(Object.entries({slope_2:'<svg class="slope-frame" width="365.779" height="395.13800000000003" viewBox="318 148 365.779 395.13800000000003" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="slope-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M411.944 204.898C458.306 204.898 495.889 242.482 495.889 288.843V533.138H328V288.843C328 242.482 365.583 204.898 411.944 204.898ZM412 222.328C376.101 222.328 347 251.43 347 287.328C347 323.227 376.101 352.328 412 352.328C447.899 352.328 477 323.227 477 287.328C477 251.43 447.899 222.328 412 222.328Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="331.1689453125" y="372.92578125" width="160" height="128" class="step-1 accent textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="329.5" y="251.5" width="166" height="258" stroke="black" class="step-1 selection"/>\n<rect id="step-1-card-image" x="384" y="260" width="55" height="55" class="step-1 image subtle" fill="#666666"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" fill-rule="evenodd" clip-rule="evenodd" d="M589.835 158C636.196 158 673.779 195.583 673.779 241.944V533.131H505.891V241.944C505.891 195.583 543.474 158 589.835 158ZM590.002 175.328C554.103 175.328 525.002 204.43 525.002 240.328C525.002 276.227 554.103 305.328 590.002 305.328C625.9 305.328 655.002 276.227 655.002 240.328C655.002 204.43 625.9 175.328 590.002 175.328Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="511.1669921875" y="326.92578125" width="156" height="128" class="step-2 accent textbox" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="507.5" y="204.5" width="166" height="258" stroke="black" class="step-2 selection"/>\n<rect id="step-2-card-image" x="562" y="213" width="55" height="55" class="step-2 image subtle" fill="#666666"/>\n</g>\n</g>\n</svg>\n',slope_3:'<svg class="slope-frame" width="545.5278400000002" height="443.00984000000005" viewBox="228.50907999999998 101.50907999999998 545.5278400000002 443.00984000000005" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="slope-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M322.944 205.789C369.306 205.789 406.889 243.372 406.889 289.733V534.028H239V289.733C239 243.372 276.583 205.789 322.944 205.789ZM323 223.219C287.101 223.219 258 252.32 258 288.219C258 324.117 287.101 353.219 323 353.219C358.899 353.219 388 324.117 388 288.219C388 252.32 358.899 223.219 323 223.219Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-image" x="295" y="260" width="55" height="55" class="step-1 image subtle" fill="#666666"/>\n<rect id="step-1-accent-textbox" x="242.1689453125" y="373.0625" width="160" height="128" class="step-1 accent textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="240.5" y="252.5" width="166" height="258" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" fill-rule="evenodd" clip-rule="evenodd" d="M500.827 158.891C547.188 158.891 584.771 196.474 584.771 242.835V534.021H416.883V242.835C416.883 196.474 454.466 158.891 500.827 158.891ZM500.994 176.219C465.096 176.219 435.994 205.32 435.994 241.219C435.994 277.117 465.096 306.219 500.994 306.219C536.893 306.219 565.994 277.117 565.994 241.219C565.994 205.32 536.893 176.219 500.994 176.219Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-image" x="473" y="213" width="55" height="55" class="step-2 image subtle" fill="#666666"/>\n<rect id="step-2-accent-textbox" x="422.1748046875" y="327.0625" width="156" height="128" class="step-2 accent textbox" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="418.5" y="205.5" width="166" height="258" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" fill-rule="evenodd" clip-rule="evenodd" d="M679.159 112C725.764 112 763.546 149.782 763.546 196.387V534.022H594.773V196.387C594.773 149.782 632.554 112 679.159 112ZM678.996 129.219C643.098 129.219 613.996 158.32 613.996 194.219C613.996 230.117 643.098 259.219 678.996 259.219C714.895 259.219 743.996 230.117 743.996 194.219C743.996 158.32 714.895 129.219 678.996 129.219Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="599.1728515625" y="280.0625" width="160" height="128" class="step-3 accent textbox" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="595.5" y="158.5" width="168" height="258" stroke="black" class="step-3 selection"/>\n<rect id="step-3-card-image" x="651" y="166" width="55" height="55" class="step-3 image subtle" fill="#666666"/>\n</g>\n</g>\n</svg>\n',slope_4:'<svg class="slope-frame" width="730.53344" height="497.01644" viewBox="135.95127999999997 50.95127999999998 730.53344 497.01644" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="slope-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M233.944 205.68C280.306 205.68 317.889 243.263 317.889 289.624V533.919H150V289.624C150 243.263 187.583 205.68 233.944 205.68ZM234 223.109C198.101 223.109 169 252.211 169 288.109C169 324.008 198.101 353.109 234 353.109C269.899 353.109 299 324.008 299 288.109C299 252.211 269.899 223.109 234 223.109Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="153.1689453125" y="374.0625" width="160" height="128" class="step-1 accent textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="151.5" y="252.5" width="166" height="258" stroke="black" class="step-1 selection"/>\n<rect id="step-1-card-image" x="206" y="260" width="55" height="55" class="step-1 image subtle" fill="#666666"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" fill-rule="evenodd" clip-rule="evenodd" d="M411.827 158.781C458.188 158.781 495.771 196.364 495.771 242.726V533.912H327.883V242.726C327.883 196.364 365.466 158.781 411.827 158.781ZM411.994 176.109C376.096 176.109 346.994 205.211 346.994 241.109C346.994 277.008 376.096 306.109 411.994 306.109C447.893 306.109 476.994 277.008 476.994 241.109C476.994 205.211 447.893 176.109 411.994 176.109Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="332.1748046875" y="327.0625" width="160" height="128" class="step-2 accent textbox" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="329.5" y="205.5" width="166" height="258" stroke="black" class="step-2 selection"/>\n<rect id="step-2-card-image" x="384" y="213" width="55" height="55" class="step-2 image subtle" fill="#666666"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" fill-rule="evenodd" clip-rule="evenodd" d="M590.159 111.891C636.764 111.891 674.546 149.672 674.546 196.277V533.913H505.773V196.277C505.773 149.672 543.554 111.891 590.159 111.891ZM589.996 129.109C554.098 129.109 524.996 158.211 524.996 194.109C524.996 230.008 554.098 259.109 589.996 259.109C625.895 259.109 654.996 230.008 654.996 194.109C654.996 158.211 625.895 129.109 589.996 129.109Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="510.1728515625" y="280.0625" width="160" height="128" class="step-3 accent textbox" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="506.5" y="158.5" width="168" height="258" stroke="black" class="step-3 selection"/>\n<rect id="step-3-card-image" x="562" y="166" width="55" height="55" class="step-3 image subtle" fill="#666666"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent" fill-rule="evenodd" clip-rule="evenodd" d="M768.491 65C814.852 65 852.436 102.583 852.436 148.944V533.913H684.547V148.944C684.547 102.583 722.13 65 768.491 65ZM767.998 82.1094C732.1 82.1094 702.998 111.211 702.998 147.109C702.998 183.008 732.1 212.109 767.998 212.109C803.897 212.109 832.998 183.008 832.998 147.109C832.998 111.211 803.897 82.1094 767.998 82.1094Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="687.1708984375" y="233.0625" width="160" height="128" class="step-4 accent textbox" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="685.5" y="111.5" width="166" height="258" stroke="black" class="step-4 selection"/>\n<rect id="step-4-card-image" x="740" y="119" width="55" height="55" class="step-4 image subtle" fill="#666666"/>\n</g>\n</g>\n</svg>\n',slope_5:'<svg class="slope-frame" width="915.5390400000001" height="551.0230399999999" viewBox="43.39348 0.3934799999999967 915.5390400000001 551.0230399999999" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="slope-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M144.944 205.57C191.306 205.57 228.889 243.153 228.889 289.515V533.81H61V289.515C61 243.153 98.5832 205.57 144.944 205.57ZM145 223C109.101 223 80 252.101 80 288C80 323.899 109.101 353 145 353C180.899 353 210 323.899 210 288C210 252.101 180.899 223 145 223Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="64.1689453125" y="377.0625" width="160" height="125" class="step-1 accent textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="62.5" y="252.5" width="166" height="258" stroke="black" class="step-1 selection"/>\n<rect id="step-1-card-image" x="117" y="260" width="55" height="55" class="step-1 image subtle" fill="#666666"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" fill-rule="evenodd" clip-rule="evenodd" d="M322.827 158.672C369.188 158.672 406.771 196.255 406.771 242.616V533.803H238.883V242.616C238.883 196.255 276.466 158.672 322.827 158.672ZM322.994 176C287.096 176 257.994 205.101 257.994 241C257.994 276.899 287.096 306 322.994 306C358.893 306 387.994 276.899 387.994 241C387.994 205.101 358.893 176 322.994 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="242.1748046875" y="327.0625" width="160" height="128" class="step-2 accent textbox" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="239.5" y="205.5" width="167" height="258" stroke="black" class="step-2 selection"/>\n<rect id="step-2-card-image" x="295" y="213" width="55" height="55" class="step-2 image subtle" fill="#666666"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" fill-rule="evenodd" clip-rule="evenodd" d="M501.159 111.781C547.764 111.781 585.546 149.563 585.546 196.168V533.804H416.773V196.168C416.773 149.563 454.554 111.781 501.159 111.781ZM500.996 129C465.098 129 435.996 158.101 435.996 194C435.996 229.899 465.098 259 500.996 259C536.895 259 565.996 229.899 565.996 194C565.996 158.101 536.895 129 500.996 129Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="421.1728515625" y="280.0625" width="160" height="128" class="step-3 accent textbox" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="417.5" y="158.5" width="168" height="258" stroke="black" class="step-3 selection"/>\n<rect id="step-3-card-image" x="473" y="166" width="55" height="55" class="step-3 image subtle" fill="#666666"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent" fill-rule="evenodd" clip-rule="evenodd" d="M679.491 64.8906C725.852 64.8906 763.436 102.474 763.436 148.835V533.804H595.547V148.835C595.547 102.474 633.13 64.8907 679.491 64.8906ZM678.998 82C643.1 82 613.998 111.101 613.998 147C613.998 182.899 643.1 212 678.998 212C714.897 212 743.998 182.899 743.998 147C743.998 111.101 714.897 82 678.998 82Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="598.1708984375" y="233.0625" width="160" height="128" class="step-4 accent textbox" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="596.5" y="111.5" width="166" height="258" stroke="black" class="step-4 selection"/>\n<rect id="step-4-card-image" x="651" y="119" width="55" height="55" class="step-4 image subtle" fill="#666666"/>\n</g>\n<g id="step-5" class="step-5 accent">\n<path id="step-5" fill-rule="evenodd" clip-rule="evenodd" d="M857.382 18C903.743 18 941.326 55.5832 941.326 101.944V533.809H773.438V101.944C773.438 55.5832 811.021 18 857.382 18ZM858 35C822.101 35 793 64.1015 793 100C793 135.899 822.101 165 858 165C893.899 165 923 135.899 923 100C923 64.1015 893.899 35 858 35Z" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-textbox" x="776.1689453125" y="186.0625" width="160" height="128" class="step-5 textbox accent" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="773.5" y="64.5" width="168" height="258" stroke="black" class="step-5 selection"/>\n<rect id="step-5-card-image" x="830" y="69" width="55" height="55" class="step-5 image subtle" fill="#666666"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),nb="slope",ny={key:nb,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:4,l=nf.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:nb,svgScalingFactor:ny.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"ppRU+y"}),icon:a.pyr,defaultColorScheme:"monochrome",stepSvgData:nf,previewImage:{src:"/_next/static/media/slope.09a45f04.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:J,defaultData:()=>w(nf),svgScalingFactor:1},nv=new Map(Object.entries({square_cycle_4:'<svg class="square_cycle-frame" width="1004.640208" height="416.520508" viewBox="0.7737960000000008 14.160495999999998 1004.640208 416.520508" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="square_cycle-frame">\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M353.612 208.309H368.938V227.029H311.333V411.361H495.664V357.993H488.703V373.226C488.703 374.179 487.496 374.592 486.912 373.838L444.927 319.605C444.648 319.245 444.648 318.741 444.927 318.381L486.912 264.148C487.496 263.395 488.703 263.808 488.703 264.761V280.993H495.664V227.029H438.062V208.309H453.385L403.499 169.426L353.612 208.309Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-image" x="378" y="294" width="50" height="50" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-card-textbox" x="20.0938" y="271" width="263" height="96" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="11.5938" y="263.5" width="434" height="111" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M504.88 284.631H486.16V269.307L447.277 319.193L486.16 369.079V353.755H504.88V411.359H689.211V227.027H635.453V234.741H651.686C652.639 234.741 653.052 235.949 652.298 236.532L598.065 278.518C597.705 278.797 597.201 278.796 596.841 278.518L542.608 236.532C541.855 235.949 542.267 234.741 543.221 234.741H558.453V227.027H504.88V284.631Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="714.094" y="271" width="263" height="96" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-accent-image" x="572.094" y="294" width="50" height="50" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="555.594" y="263.5" width="430" height="111" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M504.88 88.2266H512.469V71.9941C512.469 71.0411 513.676 70.6283 514.26 71.3818L556.245 125.614C556.524 125.975 556.524 126.478 556.245 126.839L514.26 181.071C513.676 181.825 512.469 181.412 512.469 180.459V165.227H504.88V217.812H562.485V236.533H547.158L597.045 275.416L646.931 236.533H631.609V217.812H689.211V33.4805H504.88V88.2266Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="723.094" y="79" width="263" height="96" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-accent-image" x="573.094" y="101" width="50" height="50" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="553.594" y="72.5" width="439" height="111" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M311.322 217.812H364.207V210.978H348.975C348.021 210.978 347.609 209.77 348.362 209.187L402.595 167.201C402.955 166.922 403.459 166.922 403.819 167.201L458.052 209.187C458.805 209.77 458.393 210.977 457.439 210.978H441.207V217.812H495.654V160.208H514.375V175.532L553.258 125.646L514.375 75.7598V91.084H495.654V33.4805H311.322V217.812Z" fill="#D9DAF0" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="20.0938" y="80" width="263" height="96" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-accent-image" x="378.094" y="103" width="50" height="50" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="11.5938" y="72.5" width="434" height="111" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,i=t.match(/_([0-9]+)$/);return[i?Number(i[1]):1,n]})),nC="square_arrows",nw={key:nC,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:4,l=nv.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:nC,svgScalingFactor:nw.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"Rnzk97"}),previewImage:{src:"/_next/static/media/square_arrows.b7d5390b.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],formattingMenu:J,stepSvgData:nv,defaultData:()=>w(nv),svgScalingFactor:1},nA=new Map(Object.entries({swoosh_1:'<svg class="swoosh" width="817.44" height="186.44" viewBox="89.28 95.28 817.44 186.44" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="swoosh" class="swoosh">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M433 181.39H236.218C206.003 181.39 181.509 205.974 181.509 236.299V266H105V197.697C105 149.816 143.674 111 191.382 111H433V181.39Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="453" y="115.002" width="438" height="64.1481" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="446.5" y="107.5" width="455" height="80" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',swoosh_2:'<svg class="swoosh" width="892.32" height="260.32" viewBox="51.83999999999999 58.84 892.32 260.32" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="swoosh" class="swoosh">\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox-left" x="489" y="80.9863" width="438" height="63.9035" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="481.5" y="71.5" width="455" height="79" stroke="black" class="step-1 selection"/>\n<path id="step-1-accent" d="M469 147.071H227.538C179.862 147.071 141.213 185.869 141.213 233.729V302H69V191.545C69 127.731 120.532 76.0002 184.101 76H469V147.071Z" fill="#666BC3" class="step-1 accent"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M469 217.39H272.218C242.003 217.39 217.509 241.974 217.509 272.299V302H141V233.697C141 185.816 179.674 147 227.382 147H469V217.39Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="489" y="151.002" width="438" height="64.1481" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="481.5" y="145.5" width="455" height="76" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',swoosh_3:'<svg class="swoosh" width="956.7999618015795" height="329.80003605632817" viewBox="19.600037463835477 23.599963209086837 956.7999618015795 329.80003605632817" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="swoosh" class="swoosh">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M500 109.071H326.394C326.394 109.071 297.972 109.113 268.476 109.071C224.705 109.071 227.025 109.071 203.926 109.844C184.529 112.185 168.031 117.693 151.532 128.708C137.034 137.721 126.035 149.738 115.036 167.764C109.536 178.279 100.537 195.303 100.112 222.862V335H38.1298L38.1298 192.635C35.0432 122.199 87.0382 38.0805 192.264 42.1415L500 42.1415V109.071Z" fill="#B3B5E1" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="520" y="44.9922" width="438" height="64" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="512.5" y="38.5" width="455" height="75" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="520" y="113.986" width="438" height="63.9035" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="512.5" y="109.5" width="455" height="74" stroke="black" class="step-2 selection"/>\n<path id="step-2-accent" d="M500 180.071H258.538C210.862 180.071 172.213 218.869 172.213 266.729V335H100V224.545C100 160.731 151.532 109 215.101 109H500V180.071Z" fill="#666BC3" class="step-2 accent"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M500 250.39H303.218C273.003 250.39 248.509 274.974 248.509 305.299V335H172V266.697C172 218.816 210.674 180 258.382 180H500V250.39Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="520" y="184.002" width="438" height="64.1481" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="512.5" y="178.5" width="455" height="76" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',swoosh_4:'<svg class="swoosh" width="1019.2" height="398.209" viewBox="-11.600000000000001 -10.600000000000001 1019.2 398.209" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="swoosh" class="swoosh">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M530 75.4842H334C334 75.4842 301.858 75.5389 268.5 75.4842C219 75.4842 202.406 75.251 195.5 76.4838C132.5 83.9803 86.5 129.462 73 183.441C71.5 188.938 68.5 195.935 68.5 219.925V368.009H8V183.441C9 87.4789 85 10.51 182.312 11.0102H530V75.4842Z" fill="#D9DAF0" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="550" y="9" width="438" height="63.9742" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="544.5" y="4.5" width="450" height="73" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M530 142.078H356.394C356.394 142.078 327.972 142.121 298.476 142.078C254.705 142.078 257.025 142.078 233.926 142.852C214.529 145.193 198.031 150.701 181.532 161.716C167.034 170.729 156.035 182.746 145.036 200.771C139.536 211.286 130.537 228.31 130.112 255.87V368.008H68.1298L68.1298 225.643C65.0432 155.207 117.038 71.0883 222.264 75.1494L530 75.1493V142.078Z" fill="#B3B5E1" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="550" y="78" width="438" height="64" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="544.5" y="73.5" width="450" height="73" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox-left" x="550" y="146.994" width="438" height="63.9035" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="544.5" y="142.5" width="450" height="74" stroke="black" class="step-3 selection"/>\n<path id="step-3-accent" d="M530 213.079H288.538C240.862 213.079 202.213 251.877 202.213 299.737V368.008H130V257.552C130 193.739 181.532 142.008 245.101 142.008H530V213.079Z" fill="#666BC3" class="step-3 accent"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M530 283.398H333.218C303.003 283.398 278.509 307.981 278.509 338.306V368.008H202V299.705C202 251.824 240.674 213.008 288.382 213.008H530V283.398Z" fill="#4046B4" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" x="550" y="217.01" width="438" height="64.1481" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-selection" x="544.5" y="211.5" width="450" height="75" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("swoosh_","")),n]})),nj="swoosh",nk={key:nj,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:4,l=nA.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:nj,svgScalingFactor:nk.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"ba37aB"}),previewImage:{src:"/_next/static/media/swoosh.2b045b37.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],stepSvgData:nA,formattingMenu:J,defaultData:()=>w(nA),svgScalingFactor:1},nS=new Map(Object.entries({versus_2:'<svg class="versus" width="1031.68" height="448.791" viewBox="-19.84 -19.84 1031.68 448.791" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="386.565" cy="221.324" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="321.999" y="170.992" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-subtle" cx="766.361" cy="228.052" r="20.2416" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M746 225L746 227L709 227L709 225L746 225Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="793" y="164" width="199" height="114" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect x="756.5361595153809" y="215.720703125" width="20.89386749267578" height="26.497655868530273" class="step-2 subtle image" fill="#666666"/>\n<rect id="step-2-selection" x="701.5" y="157.5" width="298" height="128" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<circle id="step-1-subtle" cx="236.242" cy="227.052" r="20.2416" fill="#D5D6EF" class="step-1 subtle"/>\n<path id="step-1-accent" d="M293 224L293 226L256 226L256 224L293 224Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="10" y="163" width="199" height="114" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-image" x="224" y="215.531" width="20.8939" height="26.4977" fill="#D9D9D9" class="step-1 subtle image"/>\n<rect id="step-1-selection" x="2.5" y="156.5" width="298" height="128" stroke="black" class="step-1 selection"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M502.637 409.111L499.756 409.111L499.756 34.6875L502.637 34.6875L502.637 409.111Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.145 128)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="550.999" y="170.986" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n</g>\n</svg>\n',versus_3:'<svg class="versus" width="1031.68" height="448.791" viewBox="-19.84 -19.84 1031.68 448.791" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="386.565" cy="221.324" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="321.999" y="170.992" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-3" class="step-3">\n<circle id="step-3-subtle" cx="766.361" cy="228.052" r="20.2416" fill="#D5D6EF" class="step-3 subtle"/>\n<path id="step-3-accent" d="M746 225L746 227L709 227L709 225L746 225Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="793" y="164" width="199" height="114" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect x="756.5361595153809" y="215.720703125" width="20.89386749267578" height="26.497655868530273" class="step-3 subtle image" fill="#666666"/>\n<rect id="step-3-selection" x="701.5" y="157.5" width="298" height="128" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-subtle" cx="23.3111" cy="23.3111" r="23.3111" transform="matrix(-1 0 0 1 300.287 331.109)" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M295.043 339.92L293.376 338.291L334.647 297.969L336.314 299.598L295.043 339.92Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="9" y="295" width="228" height="112" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-subtle-image" x="262.235" y="341.748" width="27.711" height="26.4977" fill="#D9D9D9" class="step-2 subtle image"/>\n<rect id="step-2-selection" x="1.5" y="285.5" width="343" height="131" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M292.046 102.681L293.713 101.052L336.164 142.527L334.497 144.156L292.046 102.681Z" fill="#4046B4" class="step-1 accent"/>\n<circle id="step-1-subtle" cx="23.3111" cy="23.3111" r="23.3111" transform="matrix(-1 0 0 1 300.283 62.1875)" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="8" y="31" width="234" height="113" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-image" x="262.822" y="72.25" width="27.711" height="26.4977" fill="#D9D9D9" class="step-1 subtle image"/>\n<rect id="step-1-selection" x="0.5" y="23.5" width="343" height="128" stroke="black" class="step-1 selection"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M502.637 409.111L499.756 409.111L499.756 34.6875L502.637 34.6875L502.637 409.111Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.145 128)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="550.999" y="170.986" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n</g>\n</svg>\n',versus_4:'<svg class="versus" width="1031.68" height="451.68" viewBox="-19.84 -19.84 1031.68 451.68" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="386.565" cy="221.324" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="321.999" y="170.992" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.145 128.006)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="550.999" y="170.992" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M705.623 339.662L703.955 341.291L663.273 301.545L664.94 299.916L705.623 339.662Z" fill="#4046B4" class="step-4 accent"/>\n<circle id="step-4-subtle" cx="720.354" cy="357.42" r="23.3111" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-card-textbox" x="762" y="300" width="229" height="112" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect x="706.749626159668" y="342.78515625" width="27.711048126220703" height="26.497655868530273" class="step-4 subtle image" fill="#666666"/>\n<rect id="step-4-selection" x="656.5" y="290.5" width="343" height="129" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M702.472 99.4219L704.16 101.051L660.592 143.102L658.904 141.473L702.472 99.4219Z" fill="#4046B4" class="step-3 accent"/>\n<circle id="step-3-subtle" cx="721.106" cy="85.4984" r="23.4535" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-card-textbox" x="758" y="31" width="234" height="113" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-subtle-image" x="707.381" y="72.25" width="28.0506" height="26.4977" fill="#D9D9D9" class="step-3 subtle image"/>\n<rect id="step-3-selection" x="651.5" y="23.5" width="348" height="128" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-subtle" cx="23.3111" cy="23.3111" r="23.3111" transform="matrix(-1 0 0 1 305.287 334.109)" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M300.043 342.92L298.376 341.291L339.647 300.969L341.314 302.598L300.043 342.92Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="14" y="298" width="228" height="112" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-subtle-image" x="267.235" y="344.748" width="27.711" height="26.4977" fill="#D9D9D9" class="step-2 subtle image"/>\n<rect id="step-2-selection" x="6.5" y="288.5" width="343" height="131" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M293.046 102.681L294.713 101.052L337.164 142.527L335.497 144.156L293.046 102.681Z" fill="#4046B4" class="step-1 accent"/>\n<circle id="step-1-subtle" cx="23.3111" cy="23.3111" r="23.3111" transform="matrix(-1 0 0 1 301.283 62.1875)" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="9" y="31" width="234" height="113" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-image" x="263.822" y="72.25" width="27.711" height="26.4977" fill="#D9D9D9" class="step-1 subtle image"/>\n<rect id="step-1-selection" x="1.5" y="23.5" width="343" height="128" stroke="black" class="step-1 selection"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M502.637 409.111L499.756 409.111L499.756 34.6875L502.637 34.6875L502.637 409.111Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n</g>\n</svg>\n',versus_5:'<svg class="versus" width="1034.8" height="453.8" viewBox="-19.900000000000002 -19.900000000000002 1034.8 453.8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="387.048" cy="220.572" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="322.482" y="170.24" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.628 127.254)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="551.482" y="170.24" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M703.623 340.662L701.955 342.291L661.273 302.545L662.94 300.916L703.623 340.662Z" fill="#4046B4" class="step-5 accent"/>\n<circle id="step-5-subtle" cx="718.354" cy="358.42" r="23.3111" fill="#D5D6EF" class="step-5 subtle"/>\n<rect id="step-5-card-textbox" opacity="0.5" x="760" y="301" width="229" height="112" fill="#D9D9D9" class="step-5 card textbox left"/>\n<rect x="704.266227722168" y="344.537109375" width="27.711048126220703" height="26.497655868530273" class="step-5 subtle image" fill="#666666"/>\n<rect id="step-5-selection" x="654.5" y="291.5" width="343" height="129" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M705.472 98.4219L707.16 100.051L663.592 142.102L661.904 140.473L705.472 98.4219Z" fill="#4046B4" class="step-4 accent"/>\n<circle id="step-4-subtle" cx="724.106" cy="84.4984" r="23.4535" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-card-textbox" x="761" y="30" width="234" height="113" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-subtle-image" x="710.381" y="71.25" width="28.0506" height="26.4977" fill="#D9D9D9" class="step-4 subtle image"/>\n<rect id="step-4-selection" x="654.5" y="22.5" width="348" height="128" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<circle id="step-3-subtle" cx="22.1957" cy="22.1957" r="22.1957" transform="matrix(-1 0 0 1 321.012 337.225)" fill="#D5D6EF" class="step-3 subtle"/>\n<path id="step-3-accent" d="M315.196 344.92L313.684 343.291L351.101 302.969L352.612 304.598L315.196 344.92Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="57" y="309" width="206" height="105" fill="#D9D9D9" class="step-3 card textbox right"/>\n<rect id="step-3-subtle-image" x="285.453" y="346.748" width="25.1226" height="26.4977" fill="#D9D9D9" class="step-3 subtle image"/>\n<rect id="step-3-selection" x="49.1396" y="301.5" width="303.362" height="120" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="11" y="165" width="199" height="114" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-subtle-image" x="226" y="218" width="25.1226" height="26.4977" fill="#D9D9D9" class="step-2 subtle image"/>\n<rect id="step-2-selection" x="5.5" y="158.5" width="298" height="128" stroke="black" class="step-2 selection"/>\n<circle id="step-2-subtle" cx="20.2416" cy="20.2416" r="20.2416" transform="matrix(-1 0 0 1 256.881 208.811)" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M257 226L257 228L294 228L294 226L257 226Z" fill="#4046B4" class="step-2 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="58" y="20" width="188" height="114" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-image" x="275" y="67" width="25.1226" height="26.4977" fill="#D9D9D9" class="step-1 subtle image"/>\n<rect id="step-1-selection" x="54.5" y="12.5" width="298" height="128" stroke="black" class="step-1 selection"/>\n<path id="step-1-accent" d="M305.087 94.377L303.399 96.0059L346.968 138.057L348.655 136.428L305.087 94.377Z" fill="#4046B4" class="step-1 accent"/>\n<circle id="step-1-subtle" cx="23.4535" cy="23.4535" r="23.4535" transform="matrix(-1 0 0 1 309.907 57)" fill="#D5D6EF" class="step-1 subtle"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M503.12 408.359L500.239 408.359L500.239 33.9355L503.12 33.9355L503.12 408.359Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n</g>\n</svg>\n',versus_6:'<svg class="versus" width="1032.72" height="451.72" viewBox="-19.86 -19.86 1032.72 451.72" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="387.048" cy="220.572" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="322.482" y="170.24" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.628 127.254)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="551.482" y="170.24" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n<g id="step-6" class="step-6">\n<path id="step-6-accent" d="M700.948 339.911L699.423 341.539L662.225 301.793L663.75 300.164L700.948 339.911Z" fill="#4046B4" class="step-6 accent"/>\n<circle id="step-6-subtle" cx="714.418" cy="357.667" r="22.2905" fill="#D5D6EF" class="step-6 subtle"/>\n<rect id="step-6-card-textbox" x="753" y="308" width="208" height="104" fill="#D9D9D9" class="step-6 card textbox left"/>\n<rect x="701.4912185668945" y="343.78515625" width="25.337772369384766" height="26.497655868530273" class="step-6 subtle image" fill="#666666"/>\n<rect id="step-6-selection" x="655.5" y="291.5" width="314" height="128" stroke="black" class="step-6 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<circle id="step-5-subtle" cx="775.877" cy="222.298" r="22.2905" fill="#D5D6EF" class="step-5 subtle"/>\n<path id="step-5-accent" d="M755.391 218.844L755.391 221.147L705.794 221.147L705.794 218.844L755.391 218.844Z" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="808" y="167" width="185" height="104" fill="#D9D9D9" class="step-5 card textbox left"/>\n<rect id="step-5-subtle-image" x="764.018" y="210.779" width="25.3378" height="26.4977" fill="#D9D9D9" class="step-5 subtle image"/>\n<rect id="step-5-selection" x="702.5" y="158.5" width="298" height="120" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M697.587 94.6699L699.111 96.2989L659.757 138.35L658.232 136.721L697.587 94.6699Z" fill="#4046B4" class="step-4 accent"/>\n<circle id="step-4-subtle" cx="714.419" cy="80.7456" r="22.2905" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-card-textbox" x="748" y="26" width="209" height="104" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-subtle-image" x="702.021" y="67.498" width="25.3378" height="26.4977" fill="#D9D9D9" class="step-4 subtle image"/>\n<rect id="step-4-selection" x="650.5" y="18.5" width="314" height="127" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<circle id="step-3-subtle" cx="22.1957" cy="22.1957" r="22.1957" transform="matrix(-1 0 0 1 311.493 336.473)" fill="#D5D6EF" class="step-3 subtle"/>\n<path id="step-3-accent" d="M305.677 344.168L304.166 342.539L341.582 302.217L343.094 303.846L305.677 344.168Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="47" y="309" width="206" height="103" fill="#D9D9D9" class="step-3 card textbox right"/>\n<rect id="step-3-subtle-image" x="275.935" y="345.996" width="25.1226" height="26.4977" fill="#D9D9D9" class="step-3 subtle image"/>\n<rect id="step-3-selection" x="39.5" y="292.5" width="311" height="128" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-subtle" cx="23.0414" cy="23.0414" r="23.0414" transform="matrix(-1 0 0 1 242.463 199.258)" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M242.463 223.451V221.147H293.73V223.451H242.463Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="9" y="166" width="183" height="104" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-subtle-image" x="205.021" y="207.898" width="27.0737" height="26.4977" fill="#D9D9D9" class="step-2 subtle image"/>\n<rect id="step-2-selection" x="1.5" y="158.5" width="302" height="120" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M299.817 98.9275L301.446 97.2985L342.921 138.773L341.292 140.402L299.817 98.9275Z" fill="#4046B4" class="step-1 accent"/>\n<circle id="step-1-subtle" cx="23.0414" cy="23.0414" r="23.0414" transform="matrix(-1 0 0 1 308.131 58.7051)" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="47" y="26" width="206" height="105" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-image" x="271.265" y="68.498" width="27.0737" height="26.4977" fill="#D9D9D9" class="step-1 subtle image"/>\n<rect id="step-1-selection" x="39.5" y="18.5" width="310" height="128" stroke="black" class="step-1 selection"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M503.12 408.359L500.239 408.359L500.239 33.9355L503.12 33.9355L503.12 408.359Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("versus_","")),n]})),nL="versus",nI={key:nL,Component:e=>{var t,n;let{data:a}=e,r=null!=(n=null==(t=a.step)?void 0:t.length)?n:6,l=nS.get(r);return l?(0,i.jsx)(tL,{svgData:l,templateKey:nL,svgScalingFactor:nI.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"HHQOYx"}),icon:tP.fGk,previewImage:{src:"/_next/static/media/versus.25a7f3a8.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:J,stepSvgData:nS,defaultData:()=>w(nS),svgScalingFactor:1},nE=(e,t,n,i)=>{let a=n/2,r=e*i,l=t*i,s=-a,o=-e,c=-t;return{path:["M ".concat(s,",").concat(o),"L ".concat(a,",").concat(c),"A ".concat(l,",").concat(t," 0 0,0 ").concat(a,",").concat(t),"L ".concat(s,",").concat(e),"A ".concat(r,",").concat(e," 0 0,1 ").concat(s,",").concat(o),"Z"].join(" "),iconCenterX:-r}},nD=e=>{let{index:t,totalSegments:n,label:a,icon:r,color:l,updateLabel:s,selectItem:o,isEditable:c,isNodeSelected:d,selectedKeyPath:u,editor:p,x:h,segmentLength:g}=e,m=100/n,x=40+m*(t+1),{path:f,iconCenterX:b}=nE(40+m*t,x,g,.35),y=(0,tl.q9)(l);return(0,i.jsxs)("g",{style:y,children:[(0,i.jsx)("ellipse",{cx:h+g/2,cy:140,rx:.35*x,ry:x,className:(0,ei.cx)(eh._B,eh.D6),style:{opacity:.5}}),(0,i.jsx)("g",{transform:"translate(".concat(h,", ").concat(140,")"),children:(0,i.jsx)("path",{d:f,className:eh.D6})}),(0,i.jsx)(ev,{x:h+b-22.5,y:117.5,width:45,height:45,image:r,isEditable:c,selectItem:()=>o("segments[".concat(t,"].icon")),isItemSelected:d&&u==="segments[".concat(t,"].icon")}),(0,i.jsx)(te,{x:h,transform:"translateX(-50%)",y:140+x+20,width:g+40,height:550-(140+x+20),fontSize:16.2,text:a,isEditable:c,onUpdate:s,selectItem:()=>o("segments[".concat(t,"].label")),parentEditor:p,isItemSelected:d&&u==="segments[".concat(t,"].label"),verticalAlign:"start"})]})},nM={key:"funnelDiagram",Component:e=>{let t,{data:n,updateData:a,selectItem:r,isEditable:l,editor:s,isNodeSelected:o,selectedKeyPath:c,...d}=e,{segments:u}=n,p=(0,V.GV)(Z.SJ),h=(0,U.Ik)((0,U.VH)(p)),g=Array.from({length:u.length},(e,t)=>t);n.colorScheme&&(t=(0,B.M)(h,g,n.colorScheme));let m=(937-40*(u.length-1))/u.length,x=m/2+14;return(0,i.jsx)(ep,{...d,data:n,updateData:a,selectItem:r,isEditable:l,editor:s,isNodeSelected:o,selectedKeyPath:c,children:(0,i.jsx)("svg",{viewBox:"0 0 ".concat(1e3," ").concat(550),preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:u.map((e,n)=>(0,i.jsx)(nD,{index:n,totalSegments:u.length,label:e.label,icon:e.icon,color:e.color||(null==t?void 0:t.get(n)),isEditable:l,selectItem:r,isNodeSelected:o,selectedKeyPath:c,editor:s,x:x+n*(m+40),segmentLength:m,updateLabel:e=>a(t=>(t.segments[n].label=e,t))},n))})})},label:()=>r.Ru._({id:"MWYJBI"}),icon:a.AKc,formattingMenu:q,disabled:!0},nR=425,n_=535,nz=555,nN=287.5,nT=e=>{let{x:t,color:n,icon:a,label:r,updateLabel:l,selectItem:s,isEditable:o,isNodeSelected:c,selectedKeyPath:d,editor:u,index:p}=e,h=(0,tl.q9)(n);return(0,i.jsxs)("g",{transform:"translate(".concat(t,", 0)"),style:h,children:[(0,i.jsx)("rect",{x:12.5,y:205,width:140,height:330,className:eh.D6}),(0,i.jsx)("rect",{x:0,y:205,width:165,height:20,rx:5,ry:5,className:eh.D6}),(0,i.jsx)("rect",{x:0,y:n_-20,width:165,height:20,rx:5,ry:5,className:eh.D6}),(0,i.jsx)(ev,{x:57.5,y:345,width:50,height:50,image:a,isEditable:o,selectItem:()=>s("pillars[".concat(p,"].icon")),isItemSelected:c&&d==="pillars[".concat(p,"].icon")}),(0,i.jsx)(te,{x:82.5,y:nz,width:214.5,transform:"translateX(-50%)",height:80,fontSize:18,text:r,isEditable:o,onUpdate:l,selectItem:()=>s("pillars[".concat(p,"].label")),parentEditor:u,isItemSelected:c&&d==="pillars[".concat(p,"].label"),verticalAlign:"start"})]})},nP={key:"pillars",Component:e=>{let{data:t,updateData:n,isEditable:a,selectItem:r,editor:l,isNodeSelected:s,selectedKeyPath:o,...c}=e,{title:d,pillars:u}=t,p=(()=>{let e=u.length;if(e<=1)return[417.5];let t=e>1?(850-165*e)/(e-1):0;return u.map((e,n)=>75+n*(165+t))})(),h="".concat(75,",").concat(205," ").concat(925,",").concat(205," ").concat(500+nR/2,",").concat(5," ").concat(500-nR/2,",").concat(5);return(0,i.jsx)(ep,{...c,data:t,updateData:n,selectItem:r,isEditable:a,editor:l,isNodeSelected:s,selectedKeyPath:o,children:(0,i.jsxs)("svg",{viewBox:"0 0 ".concat(1e3," ").concat(650),preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:[(0,i.jsx)("polygon",{points:h,className:eh.D6}),(0,i.jsx)(te,{x:nN,y:5,width:nR,height:200,fontSize:18,text:d,isEditable:a,onUpdate:e=>{n(t=>(t.title=e,t))},selectItem:()=>r("title"),parentEditor:l,isItemSelected:s&&"title"===o,verticalAlign:"middle",className:eh.lR}),(0,i.jsx)("rect",{x:75,y:n_,width:850,height:20,className:eh.D6,rx:5,ry:5}),u.map((e,t)=>(0,i.jsx)(nT,{x:p[t],color:e.color,icon:e.icon,label:e.label,updateLabel:e=>{n(n=>(n.pillars[t].label=e,n))},isEditable:a,selectItem:r,isNodeSelected:s,selectedKeyPath:o,editor:l,index:t},t))]})})},label:()=>r.Ru._({id:"xGL+6k"}),icon:tP.PKn,disabled:!0,formattingMenu:q},nH=e=>[e.leftCircle,e.rightCircle,e.topCircle,e.leftRightIntersection,e.topLeftIntersection,e.topRightIntersection,e.allIntersection].some(e=>null==e?void 0:e.isEmphasized),nF=(e,t)=>t?(null==e?void 0:e.isEmphasized)?.5:.25:.5,nB=(e,t)=>t?(null==e?void 0:e.isEmphasized)?1:.5:1,nO={pillars:nP,venn:{key:"venn",Component:e=>{var t;let n,{data:r,updateData:s,isEditable:o,selectItem:c,editor:d,isNodeSelected:u,selectedKeyPath:p}=e,{topCircle:h,leftCircle:g,rightCircle:m,topLeftIntersection:x,leftRightIntersection:f,topRightIntersection:b,allIntersection:y}=r,v=!!h,C=nH(r),w=(0,l.useCallback)(()=>{v&&s(e=>({leftCircle:{...e.leftCircle},rightCircle:{...e.rightCircle},leftRightIntersection:{...e.leftRightIntersection},topCircle:void 0,topLeftIntersection:void 0,topRightIntersection:void 0,allIntersection:void 0}))},[v,s]),A=(0,l.useCallback)(()=>{v&&s(e=>({leftCircle:{...e.rightCircle},rightCircle:{...e.topCircle},leftRightIntersection:{...e.topRightIntersection},topCircle:void 0,topLeftIntersection:void 0,topRightIntersection:void 0,allIntersection:void 0}))},[v,s]),j=(0,l.useCallback)(()=>{v&&s(e=>({leftCircle:{...e.leftCircle},rightCircle:{...e.topCircle},leftRightIntersection:{...e.topLeftIntersection},topCircle:void 0,topLeftIntersection:void 0,topRightIntersection:void 0,allIntersection:void 0}))},[v,s]),k=v?3:2,S=(0,V.GV)(Z.SJ),L=(0,U.Ik)((0,U.VH)(S));if(r.colorScheme){let e=Array.from({length:k},(e,t)=>t);n=(0,B.M)(L,e,r.colorScheme)}let I=(0,tl.q9)((null==h?void 0:h.color)||(null==n?void 0:n.get(0))||L),E=(0,tl.q9)((null==g?void 0:g.color)||(null==n?void 0:n.get(1))||L),M=(0,tl.q9)((null==m?void 0:m.color)||(null==n?void 0:n.get(2))||L);return(0,i.jsx)(ep,{...e,svgWidthPercent:75,children:(0,i.jsxs)("svg",{viewBox:v?"0 0 1000 938":"0 0 1000 625",preserveAspectRatio:"xMidYMid meet",overflow:"visible",style:{"--shape-border-width":"1.25px"},children:[(0,i.jsx)(et,{}),(0,i.jsx)("g",{style:E,children:(0,i.jsx)("circle",{cx:312.5,cy:v?625:312.5,r:312.5,className:eh._B,fillOpacity:nF(g,C),strokeOpacity:nF(g,C),style:o?{pointerEvents:"none"}:void 0})}),(0,i.jsx)("g",{style:M,children:(0,i.jsx)("circle",{cx:687.5,cy:v?625:312.5,r:312.5,className:eh._B,fillOpacity:nF(m,C),strokeOpacity:nF(m,C),style:o?{pointerEvents:"none"}:void 0})}),v&&(0,i.jsx)("g",{style:I,children:(0,i.jsx)("circle",{cx:500,cy:312.5,r:312.5,className:eh._B,fillOpacity:nF(h,C),strokeOpacity:nF(h,C),style:o?{pointerEvents:"none"}:void 0})}),(0,i.jsx)(eU,{x:0,y:312.5*!!v,width:625,height:625,isEditable:o,selectItem:()=>{c("leftCircle")},updateStep:e=>{s(t=>(t.leftCircle={...t.leftCircle,...e},t))},isItemSelected:!u&&"leftCircle"===p,isStepSelected:!u&&"leftCircle"===p,formattingMenuItems:(0,i.jsx)(i.Fragment,{children:v&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(D.q,{}),(0,i.jsx)(_.I,{size:"sm",variant:"toolbar",onClick:A,icon:a.yLS,color:"red.500"})]})}),stepAttributes:g,editor:d}),(0,i.jsx)(eU,{x:375,y:312.5*!!v,width:625,height:625,isEditable:o,selectItem:()=>{c("rightCircle")},updateStep:e=>{s(t=>(t.rightCircle={...t.rightCircle,...e},t))},isItemSelected:!u&&"rightCircle"===p,isStepSelected:!u&&"rightCircle"===p,formattingMenuItems:(0,i.jsx)(i.Fragment,{children:v&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(D.q,{}),(0,i.jsx)(_.I,{size:"sm",variant:"toolbar",onClick:j,icon:a.yLS,color:"red.500"})]})}),stepAttributes:m,editor:d}),v&&(0,i.jsx)(eU,{x:187.5,y:0,width:625,height:625,isEditable:o,selectItem:()=>{c("topCircle")},updateStep:e=>{s(t=>(t.topCircle&&(t.topCircle={...t.topCircle,...e}),t))},isItemSelected:!u&&"topCircle"===p,isStepSelected:!u&&"topCircle"===p,formattingMenuItems:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(D.q,{}),(0,i.jsx)(_.I,{size:"sm",variant:"toolbar",onClick:w,icon:a.yLS,color:"red.500"})]}),stepAttributes:h,editor:d}),v&&h&&(0,i.jsx)(te,{x:250,y:50,width:500,height:250,fontSize:24,className:eh.ok,text:h.text,isEditable:o,onUpdate:e=>{s(t=>(t.topCircle&&(t.topCircle.text=e),t))},selectItem:()=>c("topCircle.text"),parentEditor:d,isItemSelected:u&&"topCircle.text"===p,style:C?{opacity:nB(h,C)}:void 0}),(0,i.jsx)(te,{x:v?25:50,y:v?550:50,width:v?350:300,height:v?300:525,fontSize:24,className:eh.ok,text:null!=(t=null==g?void 0:g.text)?t:"",isEditable:o,onUpdate:e=>{s(t=>(t.leftCircle||(t.leftCircle={text:""}),t.leftCircle.text=e,t))},selectItem:()=>c("leftCircle.text"),parentEditor:d,isItemSelected:u&&"leftCircle.text"===p,textAlign:"center",style:C?{opacity:nB(g,C)}:void 0}),(0,i.jsx)(te,{x:v?625:675,y:v?550:50,width:v?350:300,height:v?300:525,fontSize:24,className:eh.ok,text:m.text,isEditable:o,onUpdate:e=>{s(t=>(t.rightCircle.text=e,t))},selectItem:()=>c("rightCircle.text"),parentEditor:d,isItemSelected:u&&"rightCircle.text"===p,textAlign:"center",style:C?{opacity:nB(m,C)}:void 0}),v&&x&&(0,i.jsx)(te,{x:212.5,y:300,width:212.5,height:225,fontSize:24,className:eh.ok,text:x.text,isEditable:o,onUpdate:e=>{s(t=>(t.topLeftIntersection&&(t.topLeftIntersection.text=e),t))},selectItem:()=>c("topLeftIntersection.text"),parentEditor:d,isItemSelected:u&&"topLeftIntersection.text"===p,style:C?{opacity:nB(x,C)}:void 0}),v&&b&&(0,i.jsx)(te,{x:575,y:300,width:212.5,height:225,fontSize:24,className:eh.ok,text:b.text,isEditable:o,onUpdate:e=>{s(t=>(t.topRightIntersection&&(t.topRightIntersection.text=e),t))},selectItem:()=>c("topRightIntersection.text"),parentEditor:d,isItemSelected:u&&"topRightIntersection.text"===p,style:C?{opacity:nB(b,C)}:void 0}),(0,i.jsx)(te,{x:v?437.5:400,y:v?650:150,width:v?125:200,height:v?100:325,fontSize:24,className:eh.ok,text:f.text,isEditable:o,onUpdate:e=>{s(t=>(t.leftRightIntersection.text=e,t))},selectItem:()=>c("leftRightIntersection.text"),parentEditor:d,isItemSelected:u&&"leftRightIntersection.text"===p,textAlign:"center",style:C?{opacity:nB(f,C)}:void 0}),v&&y&&(0,i.jsx)(te,{x:425,y:400,width:150,height:225,fontSize:24,className:eh.ok,text:y.text,isEditable:o,onUpdate:e=>{s(t=>(t.allIntersection&&(t.allIntersection.text=e),t))},selectItem:()=>c("allIntersection.text"),parentEditor:d,isItemSelected:u&&"allIntersection.text"===p,style:C?{opacity:nB(y,C)}:void 0}),(0,i.jsx)(et,{})]})})},label:()=>r.Ru._({id:"z5TX2d"}),icon:tP.cvw,previewImage:{src:"/_next/static/media/venn.ada3eb84.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultData:()=>({leftCircle:{text:"<h2>A</h2>",color:void 0,isEmphasized:!1},rightCircle:{text:"<h2>B</h2>",color:void 0,isEmphasized:!1},leftRightIntersection:{text:"A & B",color:void 0,isEmphasized:!1}}),formattingMenu:e=>{let{editor:t,selection:n,decorations:r}=e,{data:s}=n.node.attrs,o=(0,l.useCallback)(e=>{try{let i=e({...s});t.commands.updateAttributesAtPos(n.from,{data:i})}catch(e){console.error("Error updating Venn diagram data",e)}},[s,t.commands,n.from]),c=(0,l.useCallback)(()=>{o(e=>({...e,topCircle:{text:"<h3>C</h3>",color:void 0,isEmphasized:!1},topLeftIntersection:{text:"A & C",color:void 0,isEmphasized:!1},topRightIntersection:{text:"B & C",color:void 0,isEmphasized:!1},allIntersection:{text:"A & B & C",color:void 0,isEmphasized:!1}}))},[o]),d=(0,l.useCallback)(()=>{o(e=>({leftCircle:e.leftCircle,rightCircle:e.rightCircle,leftRightIntersection:e.leftRightIntersection,topCircle:void 0,topLeftIntersection:void 0,topRightIntersection:void 0,allIntersection:void 0}))},[o]),u=!!s.topCircle;return(0,i.jsx)(q,{editor:t,selection:n,decorations:r,children:(0,i.jsxs)(k.z,{children:[!u&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(S.$,{size:"sm",variant:"toolbar",onClick:c,leftIcon:(0,i.jsx)(L.g,{icon:a.q_k}),ms:2,children:(0,i.jsx)(I.x6,{id:"Fgzljt"})}),(0,i.jsx)(D.q,{})]}),u&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(S.$,{size:"sm",variant:"toolbar",onClick:d,leftIcon:(0,i.jsx)(L.g,{icon:a.mGv}),ms:2,children:(0,i.jsx)(I.x6,{id:"DUcdY9"})}),(0,i.jsx)(D.q,{})]})]})})}},funnel:nM,[nm]:nx,[tF]:tB,[np]:nh,[tY]:tX,[t5]:t6,[nc]:nd,[nj]:nk,[nL]:nI,[t1]:t2,[nC]:nw,[nl]:ns,[tN]:tT,[t9]:t7,[ne]:nt,[tE]:tD,[ni]:na,[tq]:tJ,[nb]:ny,[tG]:tZ,[tV]:tW,[tR]:t_},nV={bullseye_composable:tF,quadrant:nc,"square-arrows":nC,bubbles:tN},nW=e=>(nV[e]&&(e=nV[e]),nO[e]),nU=e=>{let t=nW(e);return null==t?void 0:t.formattingMenu},nG=e=>!!nO[e]},48413:(e,t,n)=>{"use strict";let i,a;if(n.d(t,{J:()=>l,r:()=>r}),"undefined"!=typeof WeakMap){let e=new WeakMap;i=t=>e.get(t),a=(t,n)=>(e.set(t,n),n)}else{let e=[],t=0;i=t=>{for(let n=0;n<e.length;n+=2)if(e[n]==t)return e[n+1]},a=(n,i)=>(10==t&&(t=0),e[t++]=n,e[t++]=i)}class r{constructor(e,t,n,i){this.left=e,this.top=t,this.right=n,this.bottom=i}}class l{findCell(e){for(let t=0;t<this.map.length;t++){let n=this.map[t];if(n!=e)continue;let i=t%this.width,a=t/this.width|0,l=i+1,s=a+1;for(let e=1;l<this.width&&this.map[t+e]==n;e++)l++;for(let e=1;s<this.height&&this.map[t+this.width*e]==n;e++)s++;return new r(i,a,l,s)}throw RangeError("No cell with offset "+e+" found")}firstRowCells(){return this.map.slice(0,this.width)}firstColCells(){return this.map.filter((e,t)=>t%this.width==0)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw RangeError("No cell with offset "+e+" found")}nextCell(e,t,n){let{left:i,right:a,top:r,bottom:l}=this.findCell(e);return"horiz"==t?(n<0?0==i:a==this.width)?null:this.map[r*this.width+(n<0?i-1:a)]:(n<0?0==r:l==this.height)?null:this.map[i+this.width*(n<0?r-1:l)]}rectBetween(e,t){let{left:n,right:i,top:a,bottom:l}=this.findCell(e),{left:s,right:o,top:c,bottom:d}=this.findCell(t);return new r(Math.min(n,s),Math.min(a,c),Math.max(i,o),Math.max(l,d))}cellsInRect(e){let t=[],n={};for(let i=e.top;i<e.bottom;i++)for(let a=e.left;a<e.right;a++){let r=i*this.width+a,l=this.map[r];!n[l]&&(n[l]=!0,a==e.left&&a&&this.map[r-1]==l||i==e.top&&i&&this.map[r-this.width]==l||t.push(l))}return t}positionAt(e,t,n){for(let i=0,a=0;;i++){let r=a+n.child(i).nodeSize;if(i==e){let n=t+e*this.width,i=(e+1)*this.width;for(;n<i&&this.map[n]<a;)n++;return n==i?r-1:this.map[n]}a=r}}static get(e){return i(e)||a(e,function(e){if("table"!=e.type.spec.tableRole)throw RangeError("Not a table node: "+e.type.name);let t=function(e){let t=-1,n=!1;for(let i=0;i<e.childCount;i++){let a=e.child(i),r=0;if(n)for(let t=0;t<i;t++){let n=e.child(t);for(let e=0;e<n.childCount;e++){let a=n.child(e);t+a.attrs.rowspan>i&&(r+=a.attrs.colspan)}}for(let e=0;e<a.childCount;e++){let t=a.child(e);r+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=r:t!=r&&(t=Math.max(t,r))}return t}(e),n=e.childCount,i=[],a=0,r=null,s=[];for(let e=0,a=t*n;e<a;e++)i[e]=0;for(let l=0,o=0;l<n;l++){let c=e.child(l);o++;for(let e=0;;e++){for(;a<i.length&&0!=i[a];)a++;if(e==c.childCount)break;let d=c.child(e),{colspan:u,rowspan:p,colwidth:h}=d.attrs;for(let e=0;e<p;e++){if(e+l>=n){(r||(r=[])).push({type:"overlong_rowspan",pos:o,n:p-e});break}let c=a+e*t;for(let e=0;e<u;e++){0==i[c+e]?i[c+e]=o:(r||(r=[])).push({type:"collision",row:l,pos:o,n:u-e});let n=h&&h[e];if(n){let i=(c+e)%t*2,a=s[i];null==a||a!=n&&1==s[i+1]?(s[i]=n,s[i+1]=1):a==n&&s[i+1]++}}}a+=u,o+=d.nodeSize}let d=(l+1)*t,u=0;for(;a<d;)0==i[a++]&&u++;u&&(r||(r=[])).push({type:"missing",row:l,n:u}),o++}let o=new l(t,n,i,r),c=!1;for(let e=0;!c&&e<s.length;e+=2)null!=s[e]&&s[e+1]<n&&(c=!0);return c&&function(e,t,n){e.problems||(e.problems=[]);for(let i=0,a={};i<e.map.length;i++){let r=e.map[i];if(a[r])continue;a[r]=!0;let l=n.nodeAt(r),s=null;for(let n=0;n<l.attrs.colspan;n++){let a=t[2*((i+n)%e.width)];null==a||l.attrs.colwidth&&l.attrs.colwidth[n]==a||((s||(s=function(e){if(e.colwidth)return e.colwidth.slice();let t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}(l.attrs)))[n]=a)}s&&e.problems.unshift({type:"colwidth mismatch",pos:r,colwidth:s})}}(o,s,e),o}(e))}constructor(e,t,n,i){this.width=e,this.height=t,this.map=n,this.problems=i}}},48687:(e,t,n)=>{"use strict";n.d(t,{X:()=>m,m:()=>g});var i=n(6029),a=n(34807),r=n(26420),l=n(33750),s=n.n(l),o=n(15342),c=n(43607),d=n(43634),u=n(85235),p=n(28615),h=n(98874);let g=6,m=e=>{var t;let n,{containerSize:l,numCells:m,options:x,mobileMaxColumns:f=1,forceBalance:b=!1}=e,y=(null==(t=Object.values((0,h.rO)()).find(e=>e.width===x.cellSize))?void 0:t.targetColumns)||3,v=40/y,C=(0,c.FX)(),w=(0,o.GV)(d.wC)===u.w.SLIDE_VIEW,A=(0,o.GV)(d.yh),j=(0,a.A)({base:f,sm:2,md:3,xl:4},{fallback:C?"base":"xl"})||f,k=p.D1||w||A?4:C?f:j,S=s()(40*l,10,10*k),L=Math.max(1,Math.floor(S/v)),I=Math.min(L,m);if(b&&m>I&&m<=4)for(;I>=1&&m%I!=0;I--);let E=Math.ceil(m/I),D=m%I;if(D&&"center"===x.horizontalAlign){let e=(I-D)/2;n=(0,i.jsx)(r.a,{gridColumn:"span ".concat(e*g),gridRow:"".concat(E),className:"grid-offset"})}else if(D&&"right"===x.horizontalAlign){let e=I-D;n=(0,i.jsx)(r.a,{gridColumn:"span ".concat(e*g),gridRow:"".concat(E),className:"grid-offset"})}return{maxWidth:S,targetWidth:v,targetColumns:y,maxColumns:L,columns:I,lastRowAligner:n}}},48932:(e,t,n)=>{"use strict";n.d(t,{c:()=>p});var i=n(81278),a=n(55729),r=n(58809),l=n(8944),s=n(15342),o=n(11403),c=n(85732),d=n(63902),u=n(44141);let p=e=>{let{url:t,nonPublishedUrl:n}=e,{push:p}=(0,i.useRouter)(),h=(0,o.En)(),g=(0,s.GV)(r.Jo),m=(0,d.oR)(),x=(0,s.GV)(l.C),f=m?(0,c.M7)({url:t,doc:g,previewEnabled:x}):n||t,b=h&&(0,c.uH)(t,g),y=(0,a.useCallback)(e=>{(0,u.jv)(f)&&(e.preventDefault(),p(f,void 0,{shallow:!0}))},[f,p]);return(0,a.useMemo)(()=>({linkUrl:f,handleClick:x?y:void 0,isCurrentPage:b}),[y,f,x,b])}},49023:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var i=n(55729),a=n(88586),r=n(15342),l=n(7554),s=n(82927);let o=()=>{let e=(0,s.gx)(),t=(0,r.jL)(),{data:n,loading:o}=(0,a.Snx)({variables:{workspaceId:e,archived:!1},skip:!e,fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),{data:c,loading:d}=(0,a.Snx)({variables:{workspaceId:null,archived:!1},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),u=(0,i.useMemo)(()=>(null==c?void 0:c.themes)||[],[null==c?void 0:c.themes]),p=(0,i.useMemo)(()=>(null==n?void 0:n.themes)||[],[null==n?void 0:n.themes]);return(0,i.useEffect)(()=>{u.length>0&&t((0,l.cA)({globalThemes:u}))},[t,u]),(0,i.useEffect)(()=>{p.length>0&&t((0,l._N)({workspaceThemes:p}))},[t,p]),{isLoadingThemes:o||d,globalThemes:u}}},49172:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var i=n(6029),a=n(83743),r=n(69388),l=n(26420),s=n(49611),o=n(16936),c=n(1139),d=n(53996),u=n(99492),p=n(48621),h=n(47412),g=n(19564),m=n(77650),x=n(55729),f=n(62171),b=n(60908);let y=e=>{let{accentImages:t,isDark:n,handleDelete:y,handleItemClick:v,currentAttributes:C,editType:w}=e,A=(0,x.useCallback)(e=>t=>{y&&(t.stopPropagation(),y(e))},[y]),j=(0,x.useCallback)(e=>()=>{v&&v(e)},[v]);return(0,i.jsx)(a.r,{gap:2,columns:{base:2,"2xl":3},children:t.map(e=>{let t=(0,f.FD)(e,n,b.p7),a=("node"===w||"accessory"===w)&&e.image,x=a?{...e.image,source:e.source}:e,k=a?(null==C?void 0:C.src)===e.image.src:(null==C?void 0:C.accentId)===e.accentId;return(0,i.jsx)(r.E,{children:(0,i.jsxs)(l.a,{as:s.$,variant:"unstyled",backgroundColor:n?"black":"white",cursor:v?"pointer":void 0,...t,opacity:1,width:"100%",borderRadius:"base",shadow:"md",minH:"100px",position:"relative",role:"group",onClick:j(x),children:[y&&(0,i.jsx)(h.Tz,{label:(0,i.jsx)(g.x6,{id:"Rz0Yis"}),placement:"top",children:(0,i.jsx)(o.K,{"aria-label":m.Ru._({id:"Rz0Yis"}),icon:(0,i.jsx)(p.g,{icon:u.yLS}),onClick:A(e),isRound:!0,position:"absolute",top:1,insetEnd:1,size:"sm",color:"red.600",opacity:0,_hover:{color:"red.600"},_groupHover:{opacity:1}})}),C&&(0,i.jsx)(c.z,{in:k,children:(0,i.jsx)(l.a,{pointerEvents:"none",color:"white",pos:"absolute",inset:0,bg:"rgba(0,0,0,.5)",borderRadius:"base",children:(0,i.jsx)(d.o,{h:"100%",w:"100%",children:(0,i.jsx)(p.g,{icon:u.e68})})})})]})},e.accentId)})})}},49249:(e,t,n)=>{"use strict";n.d(t,{D:()=>f,_:()=>b});var i=n(46898),a=n(77650),r=n(55729),l=n(26814),s=n(6018),o=n(58929),c=n(71877),d=n(15342),u=n(95889),p=n(12354),h=n(43634),g=n(82927),m=n(60908),x=n(61250);let f=e=>{let{editor:t,id:n}=e,i=(0,d.jL)(),a=(0,d.GV)((0,x.No)(n)),s=(0,d.GV)((0,x.AL)(n)),o=(0,r.useCallback)(()=>{i((0,p.WE)({id:n})),p.RR.emit("startRemoveBg",{id:n}),requestAnimationFrame(()=>{var e,n;null==(e=(n=t.commands).refreshBubbleMenu)||e.call(n)})},[i,t,n]);return{startRemoveBg:(0,l.tO)(o,"removeBackground",u.VV.GAMMA_PRO_UPSELL_REMOVE_BACKGROUND),isRemovingBg:a,isRemoveBgLoading:"loading"===s}},b=e=>{let{editor:t,id:n,src:l,updateAttributes:u}=e,f=(0,d.jL)(),b=(0,d.CU)(),y=(0,i.d)(),v=(0,d.GV)(h.sK),C=t.isEditable,w=(0,d.GV)((0,x.AL)(n)),A=(0,d.GV)((0,x.Vr)(n));return(0,r.useEffect)(()=>{if(!C||!l)return;let e=new AbortController,i=async i=>{var r,d,u;let h,{id:x}=i,b=null==(r=(0,g.P9)(null==v?void 0:v.id))?void 0:r.id;if(n!==x||!l||!b)return;t.state.doc.descendants((e,t)=>"image"!==e.type.name||e.attrs.id!==n||(h=e,!1));let C=null==h||null==(d=h.attrs.meta)?void 0:d.width,w=null==h||null==(u=h.attrs.meta)?void 0:u.height;try{f((0,p.GP)({id:n,status:"loading"}));let t=await (0,c.w)({imageUrl:l,workspaceId:b,abortController:e,width:C,height:w});f((0,p.BS)({id:n,url:t})),(0,s.R)("removeBackground",v),await (0,m.GV)(t),setTimeout(()=>{requestAnimationFrame(()=>{p.RR.emit("endRemoveBg",{id:n,url:t})})},500)}catch(i){if(i instanceof o.f&&"aborted"===i.type)return;let e=o.f.userFacingErrorDescription(i);y({title:a.Ru._({id:"xwVKp4"}),position:"top",description:e,status:"error",duration:5e3,isClosable:!0}),f((0,p.N2)({id:n})),requestAnimationFrame(()=>{var e,n;null==(e=(n=t.commands).refreshBubbleMenu)||e.call(n)})}},r=t=>{let{id:n}=t;f((0,p.N2)({id:n})),e.abort("User aborted")};return p.RR.on("startRemoveBg",i),p.RR.on("cancelRemoveBg",r),()=>{p.RR.off("startRemoveBg",i),p.RR.off("cancelRemoveBg",r)}},[n,t,l,u,f,b,C,v,y]),(0,r.useEffect)(()=>{if(C&&l)return p.RR.on("endRemoveBg",async e=>{let{id:i,url:a}=e;n===i&&(u({src:a||(0,x.Vr)(n)(b.getState()),source:"image.custom"}),requestAnimationFrame(()=>{f((0,p.N2)({id:n})),requestAnimationFrame(()=>{var e,n;null==(e=(n=t.commands).refreshBubbleMenu)||e.call(n)})}))})},[n,u,t,f,b,C,l]),{bgRemovalInProgress:"loading"===w,removeBgUrl:A}}},49251:(e,t,n)=>{"use strict";n.d(t,{G:()=>H});var i=n(6029),a=n(68068),r=n(36071),l=n(60628),s=n(17920),o=n(58959),c=n(29810),d=n(40691),u=n(40452),p=n(3674),h=n(65327),g=n(19564),m=n(63867),x=n(55729),f=n(45318),b=n(82328),y=n(59230),v=n(36145);let C=e=>{let{currentAttributes:t,updateAttributes:n,editor:i,isMounted:a}=e,r=(0,x.useRef)({currentAttributes:t,updateAttributes:n,sourceKey:t.source});r.current.currentAttributes=t,r.current.updateAttributes=n,(0,x.useEffect)(()=>{r.current.sourceKey=r.current.currentAttributes.source},[t.tempUrl,t.src]),(0,x.useEffect)(()=>{if(!i||a)return;let{src:e,tempUrl:t,uploadStatus:n}=r.current.currentAttributes;t&&!e&&n!==y.A.Uploading&&(console.log("[useUploadOnUnmount] uploading tempUrl:",t),r.current.updateAttributes({uploadStatus:y.A.Uploading,source:r.current.sourceKey}),(0,v.XE)(i,t))},[i,a])};var w=n(69540),A=n(83488),j=n(75748),k=n(15342),S=n(12354),L=n(66079),I=n(62917),E=n(78481),D=n(15607),M=n(61679),R=n(43607),_=n(43634),z=n(3864),N=n(92198),T=n(89703),P=n(29347);let H=x.memo(e=>{var t,n;let{editor:y}=e;(0,R.lC)(y);let v=(0,R.CJ)(y),H=(0,T.f)(),F=(0,k.GV)(_.nD),B=y.state.selection,O=(0,x.useMemo)(()=>(0,P.Am)(y,B),[y,B]),V=null==O?void 0:O.id,W=(0,k.GV)((0,S.No)(V||"")),{currentMediaDrawerSourceKey:U,setMediaDrawerSourceKeyAction:G,isQuickAction:Z}=(0,I.Bz)(),K=L.Fn[U],{isConnected:Q}=(0,b.u)(),q=!!(Q||K.availableOffline),J=(0,k.GV)(_.rp),$=O&&(0,P.Nx)(y,O.type),Y=v&&!!(J&&$&&F),X=(0,x.useRef)(null),ee=(0,x.useCallback)(()=>{H({isOpen:!1}),B instanceof m.nh&&y.chain().selectNodeAtPos(B.from,!1).focus().run()},[y,B,H]),et=(0,E.N)(y);(0,x.useEffect)(()=>{$||H({isOpen:!1})},[$,H]),(0,x.useEffect)(()=>{Y&&setTimeout(()=>{if(!X.current||!q)return;let e=(0,h.ep)(X.current);e&&!(e.length<1)&&requestAnimationFrame(()=>{let t=e[0];null==t||t.focus()})},100)},[q,Y,y]),(0,x.useEffect)(()=>{if(!O)return;let{attrs:e,mediaType:t,type:n}=O;(0,P.Nx)(y,n)&&(!y.isSiteNavbarEditor||(0,D.We)(y))&&!Z&&G("embed"===t&&null===e.source?A.J.key:e.source||U)},[O,y,G,U,Z]);let[en,ei]=(0,x.useState)("");(0,x.useEffect)(()=>{var e;(null==O||null==(e=O.attrs)?void 0:e.query)?ei(O.attrs.query):ei("")},[null==O||null==(t=O.attrs)?void 0:t.query]);let ea=(0,x.useCallback)(e=>{W&&S.RR.emit("cancelRemoveBg",{id:V||""}),(0,P.vI)({editor:y,selection:B,sourceKey:U,attrs:e,resizeToFit:null==K?void 0:K.resizeToFit})},[y,W,U,B,V,null==K?void 0:K.resizeToFit]),er={...null==O?void 0:O.attrs,query:en||(null==O||null==(n=O.attrs)?void 0:n.query)};C({currentAttributes:er,updateAttributes:ea,editor:y,isMounted:Y});let el=(0,x.useCallback)(()=>{(0,P.vI)({editor:y,selection:B,sourceKey:U,attrs:{source:U},nodeName:"mediaPlaceholder",resetAttrs:!0})},[U,B,y]),es=(0,z.o)(),eo=(null==O?void 0:O.editType)||"node",ec=(0,x.useCallback)(e=>(null==O?void 0:O.mediaType)==="embed"?"embed"===e.nodeName||"video"===e.nodeName:(null==O?void 0:O.mediaType)==="image"?"image"===e.nodeName:(null==O?void 0:O.mediaType)==="icon"?(0,M.D)(e.key)||"image.custom"===e.key:!!e.nodeName,[O]),ed=L.ez[U],eu=w.h[U]||{};return(0,i.jsxs)(a._s,{isOpen:Y,onClose:ee,size:es,trapFocus:!1,blockScrollOnMount:!1,children:[(0,i.jsx)(r.m,{background:"none"}),(0,i.jsxs)(l.z,{onKeyDown:et,"data-in-editor-focus":!0,"data-testid":"media-drawer","data-test-media-source":U,children:[(0,i.jsx)(s.r,{fontSize:"x-large",children:(0,i.jsxs)(o.z,{me:7,children:[(0,i.jsx)(g.x6,{id:"xYilR2"}),(0,i.jsx)(c.h,{}),(null==O?void 0:O.mediaType)==="image"&&!y.isSiteNavbarEditor&&(0,i.jsx)(f.V,{onClick:ee,image:null==O?void 0:O.attrs,backFrom:{source:"mediaDrawer",id:(null==O?void 0:O.attrs.id)||""}})]})}),(0,i.jsxs)(d.c,{overflowX:"hidden",sx:{scrollbarGutter:"stable"},display:"flex",flexDirection:"column",pt:0,children:[(0,i.jsx)(j.r,{isConnected:q,description:(0,i.jsx)(g.x6,{id:"2y7sUG"}),mb:6}),(0,i.jsx)(N.H,{currentSource:K,onChange:e=>G(e,!0),isValidSource:ec}),K&&(0,i.jsx)(u.s,{ref:X,opacity:q?1:.4,pointerEvents:q?"initial":"none",flex:"1",direction:"column",children:(0,i.jsx)(ed,{editor:y,updateAttributes:ea,currentAttributes:er,resetToPlaceholder:el,editType:eo,closeDrawer:ee,mediaSearchQuery:en,setMediaSearchQuery:ei,...eu})})]}),(0,i.jsx)(p.s,{"data-testid":"media-drawer-close"})]})]})});H.displayName="MediaDrawer"},49309:(e,t,n)=>{"use strict";n.d(t,{S:()=>l});var i=n(6029),a=n(56570),r=n(42328);n(55729);let l=e=>{let{children:t,...n}=e;return(0,i.jsx)(a.x,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},gap:6,...n,children:(0,i.jsx)(r.N,{children:t})})}},49776:(e,t,n)=>{"use strict";n.d(t,{U:()=>l});var i=n(15342),a=n(43634),r=n(95197);let l=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{cardMarginSettings:t}=(0,i.GV)(a.Uu),n=(0,r.D3)(t);return e&&n}},50171:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});var i=n(77650);let a=()=>[{id:"basic",name:()=>i.Ru._({id:"0wJVK+"}),templateIds:["blankCard","titleWith2ColumnImageLeft","titleWith2ColumnImageRight","titleWith2ColumnContent","titleWith2ColumnContentAndHeadings","titleWith3ColumnContent","titleWith3ColumnContentAndHeadings","titleWith4ColumnContent","titleWithBullets","titleWithBulletsAndImage"]},{id:"cardLayouts",name:()=>i.Ru._({id:"125H9i"}),templateIds:["accentLeft","accentRight","accentTop","accentRightFit","accentLeftFit","accentBackground"]},{id:"images",name:()=>i.Ru._({id:"an5hVd"}),templateIds:["titleWith2ImageColumns","titleWith3ImageColumns","titleWith4ImageColumns","titleWith3ImagesWithText","imageGallery","titleWithTeamPhotos"]},{id:"collections",name:()=>i.Ru._({id:"MISW12"}),templateIds:["titleWithTextBoxes","titleWithTimeline","titleWithLargeBulletList","titleWithIconsWithText","titleWithSmallIconsAndText","titleWithArrows"]},{id:"data",name:()=>i.Ru._({id:"+60MiA"}),templateIds:["titleWithColumnChart","titleWithBarChart","titleWithLineChart","titleWithPieChart","titleWithDonutChart","titleWithStats","barStatsWithText","titleWithCircleStats","titleWith3RowTable"]},{id:"embeds",name:()=>i.Ru._({id:"aTofd0"}),templateIds:["titleWithYouTubeEmbed","titleWithWebpageEmbed"]},{id:"progressiveDisclosure",name:()=>i.Ru._({id:"rd7L5e"}),templateIds:["titleWith3NestedCards","titleWith3Toggles"]},{id:"pyramid",name:()=>i.Ru._({id:"96Rp0u"}),templateIds:["funnelWithText","steppedPyramidWithText","pyramidWithTitleAndTextOutside","leftSteppedPyramidWithTitleAndTextOutside"]},{id:"calls-to-action",name:()=>i.Ru._({id:"gm+qKB"}),templateIds:["titleWithContentAndButton"]},{id:"misc",name:()=>i.Ru._({id:"RDie0n"}),templateIds:["titleCard","titleWithGif","titleWithDiagram"]},{id:"cardPlaceholder",name:()=>i.Ru._({id:"hx1ePY"}),templateIds:["titleWith2ColumnImageLeft","titleWith2ColumnContent","accentRight","titleWith3ImageColumns"]}],r=["basic","cardLayouts","images","collections","charts","pyramid","data","embeds","progressiveDisclosure","calls-to-action","misc"],l={default:r,insertWidget:r,modal:r,placeholder:["cardPlaceholder"]},s=e=>l[e].map(e=>a().find(t=>t.id===e)).filter(e=>!!e)},50507:(e,t,n)=>{"use strict";n.d(t,{iT:()=>s,l2:()=>u,s2:()=>c,st:()=>o,wz:()=>d});var i=n(77650),a=n(12562),r=n(50171),l=n(17633);let s=()=>{let e=()=>i.Ru._({id:"6MDj8K"});return{blankCard:{id:"blankCard",createdBy:null,name:()=>i.Ru._({id:"UQOvxZ"}),description:()=>i.Ru._({id:"V7lf6B"}),jsonContent:l.w.card([l.w.heading()]),keywords:["blank"]},titleWithBullets:{id:"titleWithBullets",name:()=>i.Ru._({id:"jzSy62"}),createdBy:null,description:()=>i.Ru._({id:"605WM6"}),jsonContent:l.w.card([l.w.heading(),l.w.bullet(),l.w.bullet(),l.w.bullet(),l.w.bullet()]),keywords:["heading","bullets"]},titleWithBulletsAndImage:{id:"titleWithBulletsAndImage",name:()=>i.Ru._({id:"ciw/iY"}),createdBy:null,description:()=>i.Ru._({id:"kTU/Ne"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.bullet(),l.w.bullet(),l.w.bullet(),l.w.bullet()],[l.w.mediaPlaceholder()]])]),keywords:["heading","bullets"]},titleWith2ColumnContent:{id:"titleWith2ColumnContent",createdBy:null,name:()=>i.Ru._({id:"uVQ8y8"}),description:()=>i.Ru._({id:"pRDCBH"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.paragraph(e())],[l.w.paragraph(e())]])]),keywords:["title","2 column","split","paragraph"]},titleWith2ColumnContentAndHeadings:{id:"titleWith2ColumnContentAndHeadings",createdBy:null,name:()=>i.Ru._({id:"/ESRO3"}),description:()=>i.Ru._({id:"acTyiC"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.h3(),l.w.paragraph(e())],[l.w.h3(),l.w.paragraph(e())]])]),keywords:["title","2 column","split","paragraph"]},titleWith3ColumnContent:{id:"titleWith3ColumnContent",createdBy:null,name:()=>i.Ru._({id:"YmAqYT"}),description:()=>i.Ru._({id:"od0FQb"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.paragraph(e())],[l.w.paragraph(e())],[l.w.paragraph(e())]])]),keywords:["heading","3 column","paragraph"]},titleWith3ColumnContentAndHeadings:{id:"titleWith3ColumnContentAndHeadings",createdBy:null,name:()=>i.Ru._({id:"3tQQ39"}),description:()=>i.Ru._({id:"Yno39F"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.h4(),l.w.paragraph(e())],[l.w.h4(),l.w.paragraph(e())],[l.w.h4(),l.w.paragraph(e())]])]),keywords:["heading","3 column","paragraph"]},titleWith4ColumnContent:{id:"titleWith4ColumnContent",createdBy:null,name:()=>i.Ru._({id:"+a/yD6"}),description:()=>i.Ru._({id:"h5ySm8"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.paragraph(e())],[l.w.paragraph(e())],[l.w.paragraph(e())],[l.w.paragraph(e())]])]),keywords:["heading","4 column","paragraph"]},titleWith2ColumnImageLeft:{id:"titleWith2ColumnImageLeft",createdBy:null,name:()=>i.Ru._({id:"6edF/U"}),description:()=>i.Ru._({id:"SzGG7G"}),jsonContent:l.w.card([l.w.columns([[l.w.mediaPlaceholder()],[l.w.heading(),l.w.paragraph(e())]],{cellAttrs:{verticalAlign:"center"}})]),keywords:["title","2 column","image","left"]},titleWith2ColumnImageRight:{id:"titleWith2ColumnImageRight",createdBy:null,name:()=>i.Ru._({id:"afp0nb"}),description:()=>i.Ru._({id:"M7cuHB"}),jsonContent:l.w.card([l.w.columns([[l.w.heading(),l.w.paragraph(e())],[l.w.mediaPlaceholder()]],{cellAttrs:{verticalAlign:"center"}})]),keywords:["title","2 column","image","right"]},titleWith2ImageColumns:{id:"titleWith2ImageColumns",createdBy:null,name:()=>i.Ru._({id:"oVMU3f"}),description:()=>i.Ru._({id:"sqVSP2"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.mediaPlaceholder(),l.w.h3(),l.w.paragraph(e())],[l.w.mediaPlaceholder(),l.w.h3(),l.w.paragraph(e())]])]),keywords:["heading","2 column","image"]},titleWith3ImageColumns:{id:"titleWith3ImageColumns",createdBy:null,name:()=>i.Ru._({id:"ZjjVJt"}),description:()=>i.Ru._({id:"kmtZuD"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.mediaPlaceholder(),l.w.h4(),l.w.paragraph(e())],[l.w.mediaPlaceholder(),l.w.h4(),l.w.paragraph(e())],[l.w.mediaPlaceholder(),l.w.h4(),l.w.paragraph(e())]])]),keywords:["heading","3 column","paragraph","image"]},titleWith4ImageColumns:{id:"titleWith4ImageColumns",createdBy:null,name:()=>i.Ru._({id:"Re1S+b"}),description:()=>i.Ru._({id:"+x8oem"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.mediaPlaceholder(),l.w.h4(),l.w.paragraph(e())],[l.w.mediaPlaceholder(),l.w.h4(),l.w.paragraph(e())],[l.w.mediaPlaceholder(),l.w.h4(),l.w.paragraph(e())],[l.w.mediaPlaceholder(),l.w.h4(),l.w.paragraph(e())]])]),keywords:["heading","4 column","image"]},titleWith3ImagesWithText:{id:"titleWith3ImagesWithText",createdBy:null,name:()=>i.Ru._({id:"cDxTeG"}),description:()=>i.Ru._({id:"rwJuIz"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("imagesText",[l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())])],{options:{cellSize:10,shapeSize:"full",horizontalAlign:"left",imageShape:"square"}})]),keywords:["heading","image","layout"]},imageGallery:{id:"imageGallery",createdBy:null,name:()=>i.Ru._({id:"Oho0T7"}),description:()=>i.Ru._({id:"H87HG1"}),jsonContent:l.w.card([l.w.heading(),l.w.gallery([l.w.mediaPlaceholder({source:"image.custom"}),l.w.mediaPlaceholder({source:"image.custom"}),l.w.mediaPlaceholder({source:"image.custom"})])]),keywords:["heading","gallery","image"]},titleWithTeamPhotos:{id:"titleWithTeamPhotos",createdBy:null,name:()=>i.Ru._({id:"+kQMBP"}),description:()=>i.Ru._({id:"tt2nIz"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("imagesText",[l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"6YtxFj"})),l.w.paragraph(i.Ru._({id:"GDvlUT"})),l.w.paragraph(i.Ru._({id:"Nu4oKW"}),{fontSize:"sm"})]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"6YtxFj"})),l.w.paragraph(i.Ru._({id:"GDvlUT"})),l.w.paragraph(i.Ru._({id:"Nu4oKW"}),{fontSize:"sm"})]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"6YtxFj"})),l.w.paragraph(i.Ru._({id:"GDvlUT"})),l.w.paragraph(i.Ru._({id:"Nu4oKW"}),{fontSize:"sm"})])],{options:{cellSize:10,shapeSize:"full",horizontalAlign:"center",imageShape:"circle"}})]),keywords:["heading","image","team"]},accentRight:{id:"accentRight",createdBy:null,name:()=>i.Ru._({id:"Czo70+"}),description:()=>i.Ru._({id:"x5nYRE"}),jsonContent:l.w.card([l.w.heading(),l.w.paragraph(e())],{layout:"right"}),keywords:["accent"]},accentRightFit:{id:"accentRightFit",createdBy:null,name:()=>i.Ru._({id:"1BvkHE"}),description:()=>i.Ru._({id:"oItvxV"}),jsonContent:l.w.card([l.w.heading(),l.w.paragraph(e())],{layout:"right"},{fitType:"fit"}),keywords:["accent"]},accentLeft:{id:"accentLeft",createdBy:null,name:()=>i.Ru._({id:"5HMSY5"}),description:()=>i.Ru._({id:"c/I4N2"}),jsonContent:l.w.card([l.w.heading(),l.w.paragraph(e())],{layout:"left"}),keywords:["accent"]},accentLeftFit:{id:"accentLeftFit",createdBy:null,name:()=>i.Ru._({id:"bGTdlK"}),description:()=>i.Ru._({id:"r4fLNa"}),jsonContent:l.w.card([l.w.heading(),l.w.paragraph(e())],{layout:"left"},{fitType:"fit"}),keywords:["accent"]},accentTop:{id:"accentTop",createdBy:null,name:()=>i.Ru._({id:"BUdX7X"}),description:()=>i.Ru._({id:"QuKih6"}),jsonContent:l.w.card([l.w.heading(),l.w.paragraph(e())],{layout:"top"}),keywords:["accent"]},accentBackground:{id:"accentBackground",createdBy:null,name:()=>i.Ru._({id:"CDFCZ5"}),description:()=>i.Ru._({id:"uFWjQ5"}),jsonContent:l.w.card([l.w.heading(),l.w.paragraph(e())],{layout:"behind"}),keywords:["accent"]},titleWith3NestedCards:{id:"titleWith3NestedCards",createdBy:null,name:()=>i.Ru._({id:"ORoO1f"}),description:()=>i.Ru._({id:"J89hiV"}),jsonContent:l.w.card([l.w.heading(),l.w.card([l.w.heading(),l.w.paragraph()]),l.w.card([l.w.heading(),l.w.paragraph()]),l.w.card([l.w.heading(),l.w.paragraph()])]),keywords:["heading","nested","card"]},titleWith3Toggles:{id:"titleWith3Toggles",createdBy:null,name:()=>i.Ru._({id:"Sf3ASu"}),description:()=>i.Ru._({id:"58JI2k"}),jsonContent:l.w.card([l.w.heading(),l.w.toggle([l.w.paragraph(e())]),l.w.toggle([l.w.paragraph(e())]),l.w.toggle([l.w.paragraph(e())])]),keywords:["heading","toggle"]},titleWithTimeline:{id:"titleWithTimeline",createdBy:null,name:()=>i.Ru._({id:"cklVjM"}),description:()=>i.Ru._({id:"Wdyt2J"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("timeline",[l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())])],{options:{orientation:"vertical",twoSided:!1}})]),keywords:["heading","timeline"]},titleWithLargeBulletList:{id:"titleWithLargeBulletList",createdBy:null,name:()=>i.Ru._({id:"F5uDGO"}),description:()=>i.Ru._({id:"g1FTqD"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("bigBullets",[l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())])],{options:{cellSize:20}})]),keywords:["heading","bullet","list"]},titleWithIconsWithText:{id:"titleWithIconsWithText",createdBy:null,name:()=>i.Ru._({id:"joUkNe"}),description:()=>i.Ru._({id:"DHZYRd"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("iconsText",[l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())])],{options:{cellSize:10,shapeSize:"md",horizontalAlign:"center"}})]),keywords:["heading","icons"]},titleWithSmallIconsAndText:{id:"titleWithSmallIconsAndText",createdBy:null,name:()=>i.Ru._({id:"AhHG+7"}),description:()=>i.Ru._({id:"L8/5yN"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("iconsText",[l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())])],{options:{cellSize:10,shapeSize:"sm",horizontalAlign:"left"}})]),keywords:["heading","icons"]},titleWithTextBoxes:{id:"titleWithTextBoxes",createdBy:null,name:()=>i.Ru._({id:"b7qbjN"}),description:()=>i.Ru._({id:"Cg0xBG"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("solidBoxes",[l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())])],{options:{cellSize:15}})]),keywords:["heading","boxes"]},titleWithArrows:{id:"titleWithArrows",createdBy:null,name:()=>i.Ru._({id:"YUGjgn"}),description:()=>i.Ru._({id:"SnGUtD"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("arrows",[l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())])],{options:{cellSize:10}})]),keywords:["arrows","process","sequence","flow"]},titleWithColumnChart:{id:"titleWithColumnChart",createdBy:null,name:()=>i.Ru._({id:"kaIve5"}),description:()=>i.Ru._({id:"EE/H36"}),jsonContent:l.w.card([l.w.heading(),l.w.columnChart()]),keywords:["heading","chart","column chart"],featureFlag:"enableCharts"},titleWithBarChart:{id:"titleWithBarChart",createdBy:null,name:()=>i.Ru._({id:"JXpNuP"}),description:()=>i.Ru._({id:"2s/J1+"}),jsonContent:l.w.card([l.w.heading(),l.w.barChart()]),keywords:["heading","chart","bar chart"],featureFlag:"enableCharts"},titleWithLineChart:{id:"titleWithLineChart",createdBy:null,name:()=>i.Ru._({id:"Kt/Lzz"}),description:()=>i.Ru._({id:"eRabUB"}),jsonContent:l.w.card([l.w.heading(),l.w.lineChart()]),keywords:["heading","chart","line chart"],featureFlag:"enableCharts"},titleWithPieChart:{id:"titleWithPieChart",createdBy:null,name:()=>i.Ru._({id:"5+y+OQ"}),description:()=>i.Ru._({id:"zIzb1A"}),jsonContent:l.w.card([l.w.heading(),l.w.pieChart()]),keywords:["heading","chart","pie chart"],featureFlag:"enableCharts"},titleWithDonutChart:{id:"titleWithDonutChart",createdBy:null,name:()=>i.Ru._({id:"DNipMm"}),description:()=>i.Ru._({id:"MWtClR"}),jsonContent:l.w.card([l.w.heading(),l.w.donutChart()]),keywords:["heading","chart","donut chart"],featureFlag:"enableCharts"},titleWithStats:{id:"titleWithStats",createdBy:null,name:()=>i.Ru._({id:"w0arAq"}),description:()=>i.Ru._({id:"YEhR/1"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("stats",[l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"nH8BJ4"})),l.w.paragraph(e())],{label:"25%"}),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"nH8BJ4"})),l.w.paragraph(e())],{label:"3/4"}),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"nH8BJ4"})),l.w.paragraph(e())],{label:"50"})],{options:{cellSize:15,shapeSize:"lg"}})]),keywords:["heading","stats"]},barStatsWithText:{id:"barStatsWithText",createdBy:null,name:()=>i.Ru._({id:"LYRXtx"}),description:()=>i.Ru._({id:"DgfiYp"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("barStats",[l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"nH8BJ4"})),l.w.paragraph(e())],{label:"25%"}),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"nH8BJ4"})),l.w.paragraph(e())],{label:"3/4"})],{options:{cellSize:20}})]),keywords:["heading","stats"]},titleWithCircleStats:{id:"titleWithCircleStats",createdBy:null,name:()=>i.Ru._({id:"mvpFPS"}),description:()=>i.Ru._({id:"9AzsRa"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("circleStats",[l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())],{label:"25%"}),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())],{label:"1/3"}),l.w.smartLayoutCell([l.w.h3(i.Ru._({id:"HX5SVx"})),l.w.paragraph(e())],{label:"75"})],{options:{cellSize:10,horizontalAlign:"center"}})]),keywords:["arrows","process","sequence","flow"]},titleWith3RowTable:{id:"titleWith3RowTable",createdBy:null,name:()=>i.Ru._({id:"aDo58o"}),description:()=>i.Ru._({id:"2ZoOCu"}),jsonContent:l.w.card([l.w.heading(),l.w.table([l.w.tableRow([l.w.tableCell([l.w.paragraph()]),l.w.tableCell([l.w.paragraph()]),l.w.tableCell([l.w.paragraph()])]),l.w.tableRow([l.w.tableCell([l.w.paragraph()]),l.w.tableCell([l.w.paragraph()]),l.w.tableCell([l.w.paragraph()])]),l.w.tableRow([l.w.tableCell([l.w.paragraph()]),l.w.tableCell([l.w.paragraph()]),l.w.tableCell([l.w.paragraph()])])])]),keywords:["heading","table"]},funnelWithText:{id:"funnelWithText",createdBy:null,name:()=>i.Ru._({id:"ETqzyH"}),description:()=>i.Ru._({id:"GxaYRj"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.smartLayout("funnel",[l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()])],{options:{numbered:!0,outsideText:!1}})],[l.w.h2(),l.w.paragraph(e())]],{cellAttrs:{verticalAlign:"center"}})]),keywords:["heading","funnel"]},steppedPyramidWithText:{id:"steppedPyramidWithText",createdBy:null,name:()=>i.Ru._({id:"6xmZsQ"}),description:()=>i.Ru._({id:"GqW7Xg"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.smartLayout("staircase",[l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()])],{options:{outsideText:!1,horizontalAlign:"center"}})],[l.w.h2(),l.w.paragraph(e())]],{cellAttrs:{verticalAlign:"center"}})]),keywords:["heading","pyramid","stepped","staircase"]},leftSteppedPyramidWithTitleAndTextOutside:{id:"leftSteppedPyramidWithTitleAndTextOutside",createdBy:null,name:()=>i.Ru._({id:"6j13ZR"}),description:()=>i.Ru._({id:"JGF7vo"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("staircase",[l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()])],{options:{outsideText:!1,horizontalAlign:"left"}})]),keywords:["heading","pyramid","stepped","staircase"]},pyramidWithTitleAndTextOutside:{id:"pyramidWithTitleAndTextOutside",createdBy:null,name:()=>i.Ru._({id:"l1mM+L"}),description:()=>i.Ru._({id:"L0QPEt"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("pyramid",[l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()])],{options:{numbered:!0,outsideText:!0}})]),keywords:["heading","pyramid"]},titleWithContentAndButton:{id:"titleWithContentAndButton",name:()=>i.Ru._({id:"FJJPAA"}),createdBy:null,description:()=>i.Ru._({id:"itiMvE"}),jsonContent:l.w.card([l.w.heading(),l.w.paragraph(e()),l.w.buttons([l.w.button(i.Ru._({id:"uWe4QF"}),{variant:"solid"}),l.w.button(i.Ru._({id:"zwWKhA"}),{variant:"outline"})])]),keywords:["button","heading","paragraph"]},titleWithYouTubeEmbed:{id:"titleWithYouTubeEmbed",createdBy:null,name:()=>i.Ru._({id:"D1Tqqj"}),description:()=>i.Ru._({id:"s0st+i"}),jsonContent:l.w.card([l.w.heading(),l.w.mediaPlaceholder({source:"video.youtube"})]),keywords:["heading","embed","video"]},titleWithWebpageEmbed:{id:"titleWithWebpageEmbed",createdBy:null,name:()=>i.Ru._({id:"8FOKyw"}),description:()=>i.Ru._({id:"0ngLOJ"}),jsonContent:l.w.card([l.w.heading(),l.w.mediaPlaceholder({source:"embed.custom"})]),keywords:["heading","embed","webpage"]},titleCard:{id:"titleCard",createdBy:null,name:()=>i.Ru._({id:"5U/oBM"}),description:()=>i.Ru._({id:"rYur7N"}),jsonContent:l.w.card([l.w.title(),l.w.h2()]),keywords:["title"]},titleWithGif:{id:"titleWithGif",createdBy:null,name:()=>i.Ru._({id:"wRkP2d"}),description:()=>i.Ru._({id:"kHFDdm"}),jsonContent:l.w.card([l.w.heading(),l.w.mediaPlaceholder({source:"image.giphy"})]),keywords:["heading","embed","webpage"]},titleWithDiagram:{id:"titleWithDiagram",createdBy:null,name:()=>i.Ru._({id:"i+ShMB"}),description:()=>i.Ru._({id:"6i4/hD"}),jsonContent:l.w.card([l.w.heading(),l.w.diagram()]),keywords:["heading","diagram"],featureFlag:"tldraw2"}}},o=()=>Object.values(s()),c=()=>o().reduce((e,t)=>(e[t.id]=t.jsonContent,e),{}),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return(0,r.g)(e).map(e=>{let{name:t,templateIds:n}=e,i=n.map(e=>s()[e]);return{subcategory:t(),items:i}})},u=(e,t,n)=>{try{if(t.featureFlag&&!a.of.get(t.featureFlag)||(null==n?void 0:n(t)))return!0;return!1}catch(e){return!0}}},50729:(e,t,n)=>{"use strict";var i=Object.create?function(e,t,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,a)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)}(n(10139),t)},50764:(e,t,n)=>{"use strict";n.d(t,{bA:()=>w,lF:()=>b,L3:()=>f,pl:()=>y,JL:()=>v});var i=n(37243),a=n(63867),r=n(97255),l=n(5061),s=n(15607),o=n(29608),c=n(67864),d=n(61385),u=n(47665),p=n(16264),h=n(61964),g=n(56603);let m=new a.hs("BlockHoverKey");class x{getHoverAbsPos(e){return this.hoverPos?(0,g.d_)(e,this.hoverPos):null}getAnnotableAbsPos(e){return this.annotatablePos?(0,g.d_)(e,this.annotatablePos):null}apply(e,t){let n=e.getMeta(m);return n&&"setHoverPos"in n&&this.handleSetPos(t,n),this}handleSetPos(e,t){return this.hoverPos=null===t.setHoverPos?null:(0,g.JO)(e,t.setHoverPos),this.annotatablePos=null===t.setAnnotatablePos?null:(0,g.JO)(e,t.setAnnotatablePos),this}constructor(){this.hoverPos=null,this.annotatablePos=null}}let f=e=>{var t;return(null==(t=e.find(e=>e.spec.isTableHover))?void 0:t.spec)||{}},b=e=>{var t;return(null==(t=e.find(e=>e.spec.isTableFocus))?void 0:t.spec)||{}},y=e=>e.some(e=>e.spec.isAnnotatableHover),v=e=>e.some(e=>e.spec.isBlockHover),C=(e,t)=>(0,c.Ti)(e,t)||(0,p.cC)(e);function w(e){return new a.k_({key:m,state:{init:()=>new x,apply:(e,t,n,i)=>t.apply(e,i)},props:{handleDOMEvents:{mousemove(e,t){if((0,o.Xb)()||!t.target.closest(".".concat(d.QJ)))return;let{clientX:n,clientY:i}=t,a=e.posAtCoords({left:n,top:i}),r=a&&e.state.doc.resolve(a.inside),s=null,c=null;if((null==r?void 0:r.nodeAfter)&&(s=r.pos,(0,u.jg)(r.nodeAfter)||(0,u.sw)(r.nodeAfter)||(c=r.pos)),!c){let t=(0,l.ix)()?100:-100,a=e.posAtCoords({left:n+t,top:i}),r=a&&e.state.doc.resolve(a.inside);(null==r?void 0:r.nodeAfter)&&!(0,u.jg)(r.nodeAfter)&&!(0,u.sw)(r.nodeAfter)&&(c=r.pos)}let p=m.getState(e.state);if(s!==p.getHoverAbsPos(e.state)||c!==p.getAnnotableAbsPos(e.state)){let t=e.state.tr;t.setMeta(m,{setHoverPos:s,setAnnotatablePos:c}),e.dispatch(t)}}},decorations(e){var t,n;let a,l=m.getState(e),o=l.getHoverAbsPos(e);if(null===o)return r.zF.empty;try{a=e.doc.resolve(o)}catch(e){return r.zF.empty}let d=[];(0,s.IV)(a,C).forEach(e=>{let{pos:t,node:n}=e;d.push(r.NZ.node(t,t+n.nodeSize,{},{isBlockHover:!0}))});let u=(0,i.eL)(a,e=>"table"===e.type.name),p=(null==(t=a.nodeAfter)?void 0:t.type.name)==="tableCell"?{pos:a.pos,node:a.nodeAfter}:(0,i.eL)(a,e=>"tableCell"===e.type.name);if(u&&p){let{left:e,top:t}=h.J3.get(u.node).findCell(p.pos-(u.pos+1));d.push(r.NZ.node(u.pos,u.pos+u.node.nodeSize,{},{isTableHover:!0,rowHover:t,colHover:e}))}let g=e.selection.$from,x=(0,i.eL)(g,e=>"table"===e.type.name),f=(null==(n=g.nodeAfter)?void 0:n.type.name)==="tableCell"?{pos:g.pos,node:g.nodeAfter}:(0,i.eL)(g,e=>"tableCell"===e.type.name);if(x&&f){let{left:e}=h.J3.get(x.node).findCell(f.pos-(x.pos+1));d.push(r.NZ.node(x.pos,x.pos+x.node.nodeSize,{},{isTableFocus:!0,colFocus:e}))}let b=l.getAnnotableAbsPos(e);if(null!==b){let t;try{t=e.doc.resolve(b)}catch(e){return r.zF.empty}(0,s.IV)(t,c.Ti).forEach(e=>{let{pos:t,node:n}=e;d.push(r.NZ.node(t,t+n.nodeSize,{},{isAnnotatableHover:!0}))})}try{return r.zF.create(e.doc,d)}catch(e){return r.zF.empty}}}})}},50861:(e,t,n)=>{"use strict";n.d(t,{Bv:()=>o,Ez:()=>b,JY:()=>h,Kk:()=>f,Xs:()=>x,Zj:()=>p,_Y:()=>d,bi:()=>c,eb:()=>g,gk:()=>m,lQ:()=>u});var i=n(83740),a=n(45934),r=n(14389),l=n(60908);let s=["image","video","embed","mediaPlaceholder"],o=e=>c(e.type),c=e=>s.includes(e.name),d=e=>"video"===e.type.name||"embed"===e.type.name,u=e=>e.href||e.url||e.sourceUrl||e.embedUrl||void 0,p=e=>{var t;return(null==(t=e.embed)?void 0:t.url)?e.embed.url:"embedUrl"in e&&e.embedUrl?e.embedUrl:u(e)},h=e=>{var t,n;let i=e.attrs;return[null==(t=i.meta)?void 0:t.title,null==(n=i.meta)?void 0:n.site].filter(Boolean).join(" - ")},g=(e,t)=>{var n;return null!=(n=e.clickBehavior)?n:t?"newTab":"expand"},m=e=>null!=e?e:"expand",x=e=>(0,l.SV)((null==e?void 0:e.src)||(null==e?void 0:e.tempUrl))&&(e.source===i.f.key||e.source===a.u.key),f=(e,t)=>{if(!e)return e;try{let n=new URL(e);return n.searchParams.set("ctx",t||"inline-svg"),n.toString()}catch(t){return console.error("[getSrcUrlForInlineSvg] Error with src url for inline SVG",t),e}},b=e=>{let{width:t,height:n,resize:i}=e.meta||{};if(!t||!n||(null==i?void 0:i.isAuto)===!1)return e;let a=r.St,l=window.innerHeight*r.Mg;return n/t*a>l?{...e,resize:{width:Math.min(a,t/n*l),clipType:null,clipPath:null,clipAspectRatio:null,isAuto:!0}}:e}},51312:(e,t,n)=>{"use strict";n.d(t,{d:()=>d});var i=n(6029),a=n(58959),r=n(48810),l=n(3276),s=n(47412),o=n(19564),c=n(5061);let d=e=>{let{imageElement:t,isError:n,isLoading:d,isCompact:u=!1}=e,p=(0,c.fW)();return t&&"image"===t.type?n?(0,i.jsxs)(a.z,{dir:p?"rtl":void 0,spacing:1,children:[(0,i.jsx)(r.E,{color:"red.500",fontSize:"xxs",children:(0,i.jsx)(o.x6,{id:"yabRr8"})}),(0,i.jsx)(s.qT,{color:"red.500",fontSize:u?"xxs":void 0,display:"block",lineHeight:"0",label:(0,i.jsx)(o.x6,{id:"mjco3+"})})]}):d?(0,i.jsx)(l.y,{size:"xs"}):null:null}},51808:(e,t,n)=>{"use strict";n.d(t,{z:()=>c});var i=n(6029),a=n(61204),r=n(49611),l=n(47412),s=n(77650);let o=[{key:"sm",name:()=>s.Ru._({id:"58+81B"}),buttonText:()=>s.Ru._({id:"ZQA8ce"}),description:()=>s.Ru._({id:"LX+k3Q"})},{key:"md",name:()=>s.Ru._({id:"ovBPCi"}),buttonText:()=>s.Ru._({id:"Tmu3kA"}),description:()=>s.Ru._({id:"Of2q2s"})},{key:"lg",name:()=>s.Ru._({id:"I5S9ZE"}),buttonText:()=>s.Ru._({id:"SMwD6s"}),description:()=>s.Ru._({id:"nRirkB"})}],c=e=>{let{contentWidth:t,defaultContentWidth:n,setWidth:s,allowedWidths:c=["sm","md","lg"]}=e;return(0,i.jsx)(a.e,{isAttached:!0,size:"sm",display:"flex",children:o.filter(e=>c.includes(e.key)).map(e=>{let a=t||e.key!==n?e.key===t?"trueblue.100":void 0:"trueblue.50";return(0,i.jsx)(l.Tz,{label:(0,i.jsx)(l.c8,{label:e.name(),description:e.description()}),placement:"top",children:(0,i.jsx)(r.$,{"aria-label":e.name(),px:"2.5",boxShadow:"none",variant:"plain",bg:a,onClick:()=>{s(e.key)},children:e.buttonText()})},e.key)})})}},52055:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var i=n(77650),a=n(7957),r=n(81570),l=n(50507);let s=()=>i.Ru._({id:"9FTolD"}),o=()=>({title:{type:"title",attrs:{level:1}},h1:{type:"heading",attrs:{level:1}},normalText:{type:"paragraph"},h2:{type:"heading",attrs:{level:2}},h3:{type:"heading",attrs:{level:3}},h4:{type:"heading",attrs:{level:4}},bulletedList:{type:"bullet",attrs:{indent:0}},numberedList:{type:"numbered",attrs:{indent:0}},todoList:{type:"todo",attrs:{indent:0}},blockquote:{type:"blockquote",content:[{type:"paragraph"}]},codeBlock:{type:"codeBlock"},mathBlock:{type:"math_display"},button:{type:"button",content:[{type:"text",text:i.Ru._({id:"uWe4QF"})}]},buttonGroup:{type:"buttonGroup",content:[{type:"button",content:[{type:"text",text:i.Ru._({id:"uWe4QF"})}]}]},table2:{type:"table",content:[{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]}]},table3:{type:"table",content:[{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]}]},table4:{type:"table",content:[{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]}]},columns2:{type:"gridLayout",content:[{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]}]},columns3:{type:"gridLayout",content:[{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]}]},columns4:{type:"gridLayout",content:[{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]}]},insertCardInside:{type:"card",content:[{type:"cardLayoutItem",attrs:{itemId:"body",background:{}},content:[{type:"heading",attrs:{level:1}}]}]},aiCardAfter:{type:"card",attrs:{generatorInput:r.O},content:[{type:"paragraph"}]},imageCard:{type:"card",content:[{type:"cardImageItem"}]},codeCard:{type:"card",content:[{type:"cardCodeItem"}]},footnote:{type:"footnote",content:[{type:"paragraph"}]},contributors:{type:"contributors"},divider:{type:"divider"},tableOfContents:[{type:"heading",attrs:{level:3},content:[{type:"text",text:s()}]},{type:"tableOfContents"}],gallery:{type:"gallery",content:[]},logoGallery:{type:"gallery",attrs:{layout:"logo"},content:[]},...(0,l.s2)(),...(0,a.i)(),toggle:{type:"toggle",content:[{type:"toggleSummary"},{type:"paragraph"}]}})},53138:(e,t,n)=>{"use strict";n.d(t,{TH:()=>u,YC:()=>g,kT:()=>p,nK:()=>h});var i=n(58495),a=n(87996),r=n(59230),l=n(52762),s=n(91242),o=n(46007),c=n(60908),d=n(16595);let u=(e,t,n,s)=>{var o;let u,p={type:l.h.IMAGE,source:a.mx.key,image:{uploadStatus:r.A.Uploading,source:a.mx.key}};(0,c.aI)(n.type)?(p.image.showPlaceholder=!0,u="HEIC_tempId_".concat((0,i.Ak)())):u=URL.createObjectURL(n),p.image.tempUrl=u;let h=(t,n)=>{if(!u&&!n)return;let i=u||n;(0,d.Ki)(e,i,t)};t.setNodeAttribute(s,"background",p).setMeta("imageUploadUpdateAttrs",!0),(0,a.QM)(n,null==(o=e.storage.mediaUpload)?void 0:o.orgId,{onOriginalFileUpload:h,onUploadComplete:h,onUploadFailed:t=>{(0,d.wt)(e,u,t),URL.revokeObjectURL(u)}})},p=(e,t)=>t.map(t=>(0,c.u3)(t.type)?g(t,e):(0,o.cZ)(t.type,(0,o.QC)(t))?m(t,e):null).filter(e=>null!==e),h=function(e,t,n){let i=p(e,t);if(0==i.length)return;let a=i.map(e=>e.content),r=e.state.doc.resolve(n),l=r.parent.inlineContent,o=n;l&&0===r.parentOffset?o=n-1:l&&null===r.nodeAfter&&(o=n+1),e.chain().insertContentAt(o,a,{updateSelection:!1}).command(e=>{var t;let{tr:n}=e,i=n.doc.resolve(n.mapping.map(o)),a=(0,s.s)(n.doc.resolve(i.pos-((null==(t=i.nodeBefore)?void 0:t.nodeSize)||1)));return a&&n.setSelection(a),!0}).run(),i.forEach(e=>{e.upload()}),setTimeout(()=>{e.commands.scrollIntoView()},200)},g=(e,t)=>{let n={uploadStatus:r.A.Uploading,source:a.mx.key};(0,c.aI)(e.type)?(n.showPlaceholder=!0,n.tempUrl="HEIC_tempId_".concat((0,i.Ak)())):n.tempUrl=URL.createObjectURL(e);let l=(e,i)=>{let a=n.tempUrl;(a||i)&&(0,d.Ki)(t,a||i,e)},s={onOriginalFileUpload:l,onUploadComplete:l,onUploadFailed:e=>{n.tempUrl&&((0,d.wt)(t,n.tempUrl,e),URL.revokeObjectURL(n.tempUrl))}};return{name:e.name,content:{type:"image",attrs:n},upload:()=>{var n;return(0,a.QM)(e,null==(n=t.storage.mediaUpload)?void 0:n.orgId,s)}}},m=(e,t)=>{let n=URL.createObjectURL(e),i={...(0,d.bY)(e),url:n},r=(e,i)=>{(n||i)&&(0,d.XJ)(t,n||i,e)},l={onOriginalFileUpload:r,onUploadComplete:r};return{name:e.name,content:{type:"embed",attrs:i},upload:()=>{var n;return(0,a.QM)(e,null==(n=t.storage.mediaUpload)?void 0:n.orgId,l,"node","doc")}}}},53615:(e,t,n)=>{"use strict";n.d(t,{D1:()=>o,Yj:()=>u,Z2:()=>g,n_:()=>x,os:()=>c,s6:()=>h,uY:()=>p});var i=n(34787),a=n(38394),r=n(45943),l=n(66607),s=n(50535);let o=(e,t)=>{if(!e.isEditable||!t.clipboardData)return!1;let n=t.clipboardData.getData("text/plain");if(!n||(0,r.tE)(n))return!1;let i=t.clipboardData.getData("text/html");if(null==i?void 0:i.includes("data-pm-slice"))return!1;let{state:a}=e;if(a.selection.$from.parent.type.spec.code){let t=a.tr.insertText(n);return e.view.dispatch(t),!0}let l=t.clipboardData.getData("vscode-editor-data"),s=l?JSON.parse(l):void 0,o=null==s?void 0:s.mode;if(!(!i||"markdown"===o||d(n)))return!1;let{from:c,to:u}=a.selection;return t.preventDefault(),e.commands.insertMarkdownAt({from:c,to:u},n)},c=(e,t,n)=>{let a=i.xI.parse(e),{slice:r}=(0,l.S)(a,t,n,{preserveWhitespace:!1});return r},d=e=>{let t=e.match(/^```/gm);if(t&&t.length>1||e.match(/\[[^]+\]\(https?:\/\/\S+\)/gm)||e.match(/\[[^]+\]\(\/\S+\)/gm)||e.match(/^#{1,6}\s+\S+/gm))return!0;let n=e.match(/^\s*[\d-*].\s\S+/gm);return!!(n&&n.length>1||e.match(/^\s*-{3,}\s*$/gm))},u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;t&&(a.A.prototype.escape=e=>e);let i=n.turndown(e);return t&&(a.A.prototype.escape=b),i},p=e=>i.xI.parse(e,{}),h=(e,t,n,i,a)=>{try{let r=e.slice(t,n).content,l=(0,s.t8)(r,e.type.schema),o=document.createElement("div");o.appendChild(l);let c=o.innerHTML;return u(c,i,a)}catch(i){return console.error("[caught] rangeToMarkdown: ",t,n,e.nodeSize,i),""}},g=(e,t,n)=>h(e,0,void 0,t,n),m=(e,t)=>{try{return e.getAttribute(t)}catch(e){return null}},x=()=>new a.A({headingStyle:"atx",bulletListMarker:"-",codeBlockStyle:"fenced",hr:"---"}).remove(["style"]).addRule("list",{filter:["ul","ol"],replacement:function(e,t){let n=t.parentNode;return((null==n?void 0:n.nodeName.match(/^(UL|OL)$/i))&&(e="    "+e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ")),(null==n?void 0:n.nodeName)==="LI"&&n.lastElementChild===t)?"\n"+e:"\n\n"+e+"\n\n"}}).addRule("listItem",{filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");let i=n.bulletListMarker||"-",a=i+" ",r=t.parentNode,l=m(t,"indent");if(null!==l){let e=parseInt(l,10);!isNaN(e)&&e>0&&(a="    ".repeat(e)+a)}let s=m(t,"variant");if(1===t.children.length&&t.children[0].nodeName.match(/^(UL|OL)$/i)&&t.textContent===t.children[0].textContent)a="    ";else if((null==r?void 0:r.nodeName)==="OL"){let e=r.getAttribute("start"),n=Array.prototype.indexOf.call(Array.prototype.filter.call(r.children,e=>"LI"===e.nodeName),t),l=e?Number(e)+n:n+1;a=a.replace(i,l+".")}else if("numbered"===s){let e=m(t,"start")||1;a=a.replace(i,e+".")}return a+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}}),f=x(),b=a.A.prototype.escape},53756:(e,t,n)=>{"use strict";n.d(t,{L:()=>o,X:()=>s});var i=n(55729),a=n(88586),r=n(82960);let l=["GetSavedMedia","GetUserSavedMedia","GetWorkspaceSavedMedia"],s=e=>{var t;let{docId:n,themeId:r,interactionId:s,scope:c="legacy",count:d=18,savedMediaContext:u}=e,{data:p,loading:h,fetchMore:g}=o({scope:c,docId:n,themeId:r,interactionId:s,count:d,savedMediaContext:u}),m=(0,i.useMemo)(()=>{switch(c){case"user":return"userSavedMedia";case"doc":return"workspaceSavedMedia";default:return"savedMedia"}},[c]),x=(0,i.useMemo)(()=>{var e;return((null==p||null==(e=p[m])?void 0:e.edges)||[]).map(e=>e.node)},[p,m]),f=null==p||null==(t=p[m])?void 0:t.pageInfo,[b,y]=(0,i.useState)(!1),v=(0,i.useCallback)(async()=>{if((null==f?void 0:f.hasNextPage)&&(null==f?void 0:f.endCursor)){y(!0);try{await g({variables:{after:f.endCursor},updateQuery:(e,t)=>{var n,i;let{fetchMoreResult:a}=t;if(!a)return e;let r=(null==(n=a[m])?void 0:n.edges)||[],l=[...(null==(i=e[m])?void 0:i.edges)||[],...r];return{...e,[m]:{...a[m],edges:l}}}})}catch(e){console.error("Error loading more images:",e)}finally{y(!1)}}},[g,f,m]),[C,w]=(0,i.useState)(null),[A,j]=(0,i.useState)(!1),[k,S]=(0,i.useState)(!1),[L]=(0,a.GQw)(),[I]=(0,a.t77)(),[E]=(0,a.sIv)(),D=(0,i.useCallback)(async e=>{w(e),j(!0);try{await L({variables:{id:e},update:t=>{t.evict({id:t.identify({id:e,__typename:"SavedMedia"})}),t.gc()},refetchQueries:l})}catch(e){console.error("Error deleting image:",e)}finally{w(null),j(!1)}},[L]),M=(0,i.useCallback)(async e=>{try{await E({variables:{ids:e},refetchQueries:l})}catch(e){console.error("Error unarchiving images:",e)}},[E]),R=(0,i.useCallback)(async e=>{let t=!1;S(!0);try{await I({variables:{ids:e},update:t=>{e.forEach(e=>{t.evict({id:t.identify({id:e,__typename:"SavedMedia"})})}),t.gc()},refetchQueries:l})}catch(e){console.error("Error deleting images:",e),t=!0}finally{S(!1)}return t?{success:!1}:{success:!0,undo:()=>M(e)}},[I,M]);return{history:x,loadMore:v,isLoadingMore:b,canLoadMore:!!(null==f?void 0:f.hasNextPage),isLoading:h,deleteImage:D,deletingId:C,isDeleting:A,isDeletingMany:k,deleteMany:R}},o=e=>{let{scope:t,interactionId:n,docId:i,themeId:l,count:s=18,savedMediaContext:o}=e,c={workspaceId:(0,r.x)(o),types:[a.zut.Image],source:"image.ai-generated",first:s,...n?{interactionId:n}:{}},d={type:a.zut.Image,source:"image.ai-generated",first:s},u={...i?{docId:i}:{},...l?{themeId:l}:{}},p=(0,a.abJ)({variables:{...c},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:"user"!==t}),h=(0,a.Gc5)({variables:{...c,...u},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:"doc"!==t}),g=(0,a.N3Q)({variables:{...d,...u},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:"legacy"!==t});return"user"===t?p:"doc"===t?h:g}},53885:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});let i=new(n(63867)).hs("annotation")},53891:(e,t,n)=>{"use strict";n.d(t,{Hy:()=>s,Rv:()=>c,bG:()=>l,p8:()=>o,vb:()=>r});var i=n(15342),a=n(43634);let r=e=>{let t=(0,i.KA)();return(0,a.q)(e)(t.getState())||!1},l=(e,t)=>{(0,i.KA)().dispatch((0,a.z1)({toggleIds:[e],isExpanded:t}))},s=(e,t)=>{let n=[],r=(0,i.KA)();e.state.doc.descendants(e=>{if(!o(e))return;let{id:t}=e.attrs;n.push(t)}),r.dispatch((0,a.z1)({toggleIds:n,isExpanded:t}))},o=e=>"toggle"===e.type.name,c=e=>"toggleSummary"===e.type.name},54229:(e,t,n)=>{"use strict";n.d(t,{b:()=>E});var i=n(6029),a=n(57405),r=n(96500),l=n(40452),s=n(49611),o=n(99492),c=n(48621),d=n(19564),u=n(55729),p=n(95889),h=n(77650),g=n(83550),m=n(58959),x=n(48810),f=n(29810),b=n(83743),y=n(82328),v=n(14300);let C=e=>{let{label:t,colors:n,setColor:a,currentColor:r,isDefault:l,handleAddColorButtonClick:o}=e,{isInOfflineMode:c}=(0,y.u)();return(0,i.jsx)(g.r,{children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(m.z,{px:"2",fontSize:"sm",w:"100%",justifyContent:"space-between",alignItems:"center",mb:"2",mt:+!!o,children:[(0,i.jsx)(x.E,{children:t}),(0,i.jsx)(f.h,{}),o&&(0,i.jsx)(s.$,{variant:"link",fontSize:"sm",onClick:o,isDisabled:c,children:(0,i.jsx)(d.x6,{id:"ePK91l"})})]}),(0,i.jsx)(b.r,{gap:1.5,columns:6,p:2,pt:0,children:n.map((e,t)=>{let{hex:n,name:s}=e;return(0,i.jsx)(v.V,{name:s,color:n,setColor:a,isActive:l?null===r:r===n},t)})})]})})},w=()=>[{key:"black",hex:"#000000",name:h.Ru._({id:"THokF3"})},{key:"dark-gray",hex:"#4D4D4D",name:h.Ru._({id:"uUMrFZ"})},{key:"gray",hex:"#808080",name:h.Ru._({id:"qS5//Q"})},{key:"light-gray",hex:"#CCCCCC",name:h.Ru._({id:"xa/b9m"})},{key:"white-smoke",hex:"#F2F2F2",name:h.Ru._({id:"rGj3KB"})},{key:"white",hex:"#FFFFFF",name:h.Ru._({id:"5Ex+AP"})},{key:"light-sun",hex:"#FCEC99",name:h.Ru._({id:"nOXj3q"})},{key:"peach",hex:"#FFD1A7",name:h.Ru._({id:"68+2yw"})},{key:"salmon",hex:"#FAA1A1",name:h.Ru._({id:"TrGQaZ"})},{key:"lavender",hex:"#D8AFF8",name:h.Ru._({id:"gc4DdH"})},{key:"baby-blue",hex:"#AFCBF8",name:h.Ru._({id:"+bmpN5"})},{key:"pale-green",hex:"#AEE4BD",name:h.Ru._({id:"hUOhvE"})},{key:"gold",hex:"#F9D933",name:h.Ru._({id:"FYlHHU"})},{key:"orange",hex:"#FFA44F",name:h.Ru._({id:"4OE5Sf"})},{key:"red",hex:"#F44444",name:h.Ru._({id:"wRTiSD"})},{key:"purple",hex:"#B05EF1",name:h.Ru._({id:"mF9LxA"})},{key:"blue",hex:"#5E98F1",name:h.Ru._({id:"Zn5crm"})},{key:"green",hex:"#5CC97B",name:h.Ru._({id:"VmkjGB"})},{key:"dark-goldenrod",hex:"#957D00",name:h.Ru._({id:"vWWr+k"})},{key:"brown",hex:"#995515",name:h.Ru._({id:"JLxwQS"})},{key:"maroon",hex:"#910D0D",name:h.Ru._({id:"cg4yu3"})},{key:"dark-purple",hex:"#5E208E",name:h.Ru._({id:"oqSDkM"})},{key:"midnight-blue",hex:"#204C8E",name:h.Ru._({id:"QCyMdk"})},{key:"forest-green",hex:"#1F7135",name:h.Ru._({id:"HVCLqF"})}],A=e=>{let{setColor:t,currentColor:n}=e;return(0,i.jsx)(C,{label:h.Ru._({id:"Zp2USm"}),colors:w(),setColor:t,currentColor:n})};var j=n(15342),k=n(92699),S=n(62452),L=n(43634);let I=e=>{let{setColor:t,currentColor:n,showAddColorButton:a=!0}=e,r=(0,j.GV)(L.SJ),l=(0,S.ND)(r,!0).map(e=>{let t=(0,S.Ik)(e);return{hex:t,key:t}});return(0,i.jsx)(C,{label:h.Ru._({id:"J1XRO3"}),colors:l,setColor:t,currentColor:n,...a?{handleAddColorButtonClick:()=>{r.workspaceId?(0,k.vd)({theme:r}):(0,k.L6)({theme:r})}}:{},addColorLabel:null===r.workspaceId?h.Ru._({id:"0TWTg2"}):h.Ru._({id:"TExCtI"})})},E=e=>{let{currentColor:t,setColor:n,unsetColor:h=()=>n(null),source:g,showAddColorButton:m=!0}=e,x=(0,p.st)(),f=(0,u.useCallback)(e=>{null==x||x.track(p.VV.COLOR_PICKER_SET_COLOR,{color:e,source:g}),n(e)},[n,x,g]),b=(0,u.useCallback)(()=>{null==x||x.track(p.VV.COLOR_PICKER_RESET,{source:g}),h()},[h,x,g]);return(0,p.JQ)(e=>{e.track(p.VV.COLOR_PICKER_OPENED,{source:g})},[g]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.T,{divider:(0,i.jsx)(r.c,{}),p:0,align:"start",children:[(0,i.jsx)(I,{showAddColorButton:m,setColor:f,currentColor:t}),(0,i.jsx)(A,{setColor:f,currentColor:t})]}),(0,i.jsx)(l.s,{px:5,py:3,bg:"gray.50",alignItems:"center",justifyContent:"center",mx:-2,mb:-2,mt:2,children:(0,i.jsx)(s.$,{onClick:b,variant:"link",size:"sm",colorScheme:"gray",leftIcon:(0,i.jsx)(c.g,{icon:o.U23}),children:(0,i.jsx)(d.x6,{id:"L+rMC9"})})})]})}},54604:(e,t,n)=>{"use strict";n.d(t,{E:()=>d});var i=n(55729),a=n(39247),r=n(68301),l=n(15342),s=n(43634),o=n(85235),c=n(6845);n(61385);let d=e=>{let t=(0,i.useRef)("doc"),n=(0,l.CU)(),d=(0,l.GV)(a.NG),u=(0,l.GV)(n=>{let i=(0,s.$i)(n)||"",a=(0,s.Ev)(n),l=(0,s.bO)(n),c=(0,s.wC)(n),u=a.parents[i]||[],p=u.reduce((e,t)=>e[t],a.tree),h=l.includes(i),g=c===o.w.SLIDE_VIEW;if(g&&!h||!g&&h)return t.current;if(!g&&!h)return"doc";let m=l.filter(e=>p[e]&&!(null==d?void 0:d[e])),x=e=>p[e]?m.indexOf(e)-m.indexOf(i):1/0,f=x(e),b=u.indexOf(e)>-1,y=m.some(t=>p[t][e]&&1>=Math.abs(x(t))),v=i===e,C=r.of.get("presentModeFlat"),w=a.parents[e];if(!w)return t.current;let A=w.includes(i);return y||C&&A?"presentCollapsed":b?"presentParent":v?"presentCurrent":-1===f?"presentPrev":1===f?"presentNext":"doc"});return(0,i.useEffect)(()=>{t.current=u;let i=n.getState();if((0,s.e4)(i))return;let a=r.of.get("presentModeFlat");"presentCollapsed"!==u||a?["presentParent","presentCurrent","presentPrev","presentNext"].includes(u)&&(0,c.wE)(e,!1):(0,c.wE)(e,!0)},[n,u,e]),[u,t.current]}},54678:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var i=n(51684),a=n(77650),r=n(21959),l=n(76083),s=n(70666);let o=()=>[{key:"barChartVertical",name:()=>a.Ru._({id:"kaIve5"}),icon:i.s67,chartType:"bar"},{key:"barChartHorizontal",name:()=>a.Ru._({id:"JXpNuP"}),icon:i.Mkm,chartType:"horizontal-bar"},{key:"lineChart",name:()=>a.Ru._({id:"Kt/Lzz"}),icon:i.gK3,chartType:"line"},{key:"pieChart",name:()=>a.Ru._({id:"5+y+OQ"}),icon:i.W1p,chartType:"pie"},{key:"donutChart",name:()=>a.Ru._({id:"DNipMm"}),icon:i.oDg,chartType:"donut"}].map(e=>({nodeName:"chart",keywords:["graph",e.chartType],featureFlag:"enableCharts",execute:t=>{t.chain().insertChart(e.chartType,!0).editSelectedChart().run()},dragStartFn:t=>{let n=(0,r.r4)();(0,l.fS)(t,{type:"chart",attrs:{chartType:e.chartType,id:n,data:(0,s.$)(e.chartType)||{}}})},dragEndFn:e=>{e.commands.editSelectedChart()},...e}))},54958:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var i=n(60449),a=n.n(i),r=n(94289),l=n(63867);class s extends l.LN{parseKeyPath(e){let t=e.split(".");if(t.length>=2&&("step"===t[0]||"general"===t[0])){let n,i=t[0],a=parseInt(t[1]),r=t[2];if(isNaN(a))return{keyPath:e,selectionType:"property",propertyName:e};switch(r){case"text":n="text";break;case"image":n="image";break;case"icon":n="icon";break;default:n="step"}return{keyPath:e,selectionType:n,..."step"===i?{stepIndex:a}:{generalIndex:a},elementType:r||"selection"}}return{keyPath:e,selectionType:"property",propertyName:e}}map(e,t){let{deleted:n,pos:i}=t.mapResult(this.anchor),a=e.resolve(i);return n?l.LN.near(a):new s(a,this.keyPath)}content(){let e=this.getItemData();switch(this.context.selectionType){case"text":case"property":if("string"==typeof e){let t=this.node.type.schema.text(e);return new r.Ji(r.FK.from(t),0,0)}break;case"icon":case"image":case"step":if(e&&"object"==typeof e)return new r.Ji(r.FK.empty,0,0)}return new r.Ji(r.FK.from(this.node),0,0)}getItemData(){var e,t,n,i,r,l,s,o,c,d,u,p,h,g,m,x,f,b;if(!this.node.attrs.data)return null;let y=this.node.attrs.data;switch(this.context.selectionType){case"step":if(void 0!==this.context.stepIndex)return null==(e=y.step)?void 0:e[this.context.stepIndex];if(void 0!==this.context.generalIndex)return null==(t=y.general)?void 0:t[this.context.generalIndex];break;case"text":if(void 0!==this.context.stepIndex)return null==(i=y.step)||null==(n=i[this.context.stepIndex])?void 0:n.text;if(void 0!==this.context.generalIndex)return null==(l=y.general)||null==(r=l[this.context.generalIndex])?void 0:r.text;break;case"image":if(void 0!==this.context.stepIndex)return null==(o=y.step)||null==(s=o[this.context.stepIndex])?void 0:s.image;if(void 0!==this.context.generalIndex)return null==(d=y.general)||null==(c=d[this.context.generalIndex])?void 0:c.image;break;case"icon":if(void 0!==this.context.stepIndex)return(null==(p=y.step)||null==(u=p[this.context.stepIndex])?void 0:u.icon)||(null==(g=y.step)||null==(h=g[this.context.stepIndex])?void 0:h.image);if(void 0!==this.context.generalIndex)return(null==(x=y.general)||null==(m=x[this.context.generalIndex])?void 0:m.icon)||(null==(b=y.general)||null==(f=b[this.context.generalIndex])?void 0:f.image)}return a()(y,this.keyPath)}getSelectionBounds(){return{type:this.context.selectionType,keyPath:this.keyPath,isTextSelection:"text"===this.context.selectionType,isImageSelection:"image"===this.context.selectionType,isIconSelection:"icon"===this.context.selectionType,isStepSelection:"step"===this.context.selectionType,isPropertySelection:"property"===this.context.selectionType}}isInlineEditable(){return"text"===this.context.selectionType||"property"===this.context.selectionType}getSelectionDescription(){switch(this.context.selectionType){case"text":if(void 0!==this.context.stepIndex)return"Step ".concat(this.context.stepIndex+1," text");if(void 0!==this.context.generalIndex)return"General element ".concat(this.context.generalIndex+1," text");return"Text element";case"image":if(void 0!==this.context.stepIndex)return"Step ".concat(this.context.stepIndex+1," image");if(void 0!==this.context.generalIndex)return"General element ".concat(this.context.generalIndex+1," image");return"Image element";case"icon":if(void 0!==this.context.stepIndex)return"Step ".concat(this.context.stepIndex+1," icon");if(void 0!==this.context.generalIndex)return"General element ".concat(this.context.generalIndex+1," icon");return"Icon element";case"step":if(void 0!==this.context.stepIndex)return"Step ".concat(this.context.stepIndex+1);if(void 0!==this.context.generalIndex)return"General element ".concat(this.context.generalIndex+1);return"Step element";case"property":return"Property: ".concat(this.context.propertyName||this.keyPath);default:return"Selection: ".concat(this.keyPath)}}eq(e){return e instanceof s&&e.anchor==this.anchor&&e.keyPath==this.keyPath}toJSON(){return{type:"diagramItem",anchor:this.anchor,key:this.keyPath,selectionType:this.context.selectionType}}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Ji(r.FK.empty,0,0);if(0===t.size&&"step"===this.context.selectionType){let t=JSON.parse(JSON.stringify(this.node.attrs.data));void 0!==this.context.stepIndex&&t.step&&(t.step.splice(this.context.stepIndex,1),e.setNodeMarkup(this.anchor,void 0,{...this.node.attrs,data:t}))}}static fromJSON(e,t){if("number"!=typeof t.anchor||"string"!=typeof t.key)throw RangeError("Invalid input for DiagramItemSelection.fromJSON");return new s(e.resolve(t.anchor),t.key)}static create(e,t,n){return new this(e.resolve(t),n)}static isSelectable(e){return"smartDiagram"===e.type.name&&e.attrs.data}static createStepSelection(e,t,n){return new this(e.resolve(t),"step.".concat(n,".selection"))}static createTextSelection(e,t,n){return new this(e.resolve(t),"step.".concat(n,".text"))}static createImageSelection(e,t,n){return new this(e.resolve(t),"step.".concat(n,".image"))}static createIconSelection(e,t,n){return new this(e.resolve(t),"step.".concat(n,".icon"))}static createPropertySelection(e,t,n){return new this(e.resolve(t),n)}constructor(e,t){let n=e.nodeAfter;super(e,e.node(0).resolve(e.pos+n.nodeSize)),this.keyPath=t,this.node=n,this.context=this.parseKeyPath(t)}}if(s.prototype.visible=!1,!s.prototype.jsonID)try{l.LN.jsonID("diagramItem",s)}catch(e){}},55424:(e,t,n)=>{"use strict";n.d(t,{M:()=>a,q:()=>i});let i=e=>"smartLayoutCell"===e.type.name,a=e=>"smartLayout"===e.type.name},55670:(e,t,n)=>{"use strict";n.d(t,{S:()=>p});var i=n(40077),a=n(17006),r=n(62452);let l=e=>{let t="linear-gradient"===(0,r.Lz)(e).type?i.XA:i.N5;return{".card-code-item":{h1:(0,a.bh)("h1",e),h2:(0,a.bh)("h2",e),h3:(0,a.bh)("h3",e),h4:(0,a.bh)("h4",e),"h1, h2, h3, h4, h5, h6":{...t,width:"100%"},"img:not([src])":{width:"100%",backgroundColor:"gray.200",borderRadius:"var(--box-border-radius)",aspectRatio:"16/9"},"> *":{borderRadius:"var(--card-border-radius)"}}}};var s=n(61385),o=n(68093),c=n(23746),d=n(45214),u=n(58251);let p=(e,t)=>({...(0,i.dd)(e),...(0,c.EB)(e,t),...(0,a.tX)(e),...(0,o.V)(e),...(0,d.py)(),...(0,d.L$)(),...(0,u.zz)(),...l(e),[".".concat(s.QJ," .").concat(s._P)]:e.config.contentStyles})},55786:(e,t,n)=>{"use strict";n.d(t,{J:()=>l,f:()=>r});var i=n(94289),a=n(95889);let r=(e,t)=>{let n=Array.isArray(t)?t:[t],a=i.Ji.fromJSON(e.schema,{content:n});e.view.dragging={slice:a,move:!0},e.commands.setTextSelection(e.state.selection.from)},l=(e,t)=>{a.zS.track(a.VV.NODE_INSERTED,{node_name:e.nodeName,command:e.key,method:t}),"card"===e.nodeName&&a.zS.track(a.VV.CARD_CREATED,{method:t,command:e.key})}},55847:(e,t,n)=>{"use strict";n.d(t,{JD:()=>y,Rv:()=>f,fw:()=>b,r$:()=>x});var i=n(38867),a=n.n(i),r=n(63867),l=n(97255),s=n(41427),o=n(5061),c=n(15607),d=n(15597),u=n(36512),p=n(90010),h=n(66082),g=n(1636),m=n(79018);let x=e=>{let{doc:t}=e,n=[];return t.descendants((i,d)=>{let u;if(i.type.name!==g.o.name)return;let x=a()((0,c.F2)(i.content).map(e=>(0,m.x9)(e.attrs.label))),f=y(t.resolve(d)),b=(0,h.er)(e,d,d+i.nodeSize),v=(0,s.KQ)(i)||b||(0,o.C)(),C=e.selection instanceof r.nh&&e.selection.node===i||e.selection.from>d&&e.selection.to<d+i.nodeSize;i.forEach((e,t,n)=>{e.attrs.options.isEmphasized&&(u=n)});let w=(0,p.i4)(t,"scaleContentToFit"),A={isSmartLayoutDecoration:!0,direction:v,numCells:i.childCount,containerSize:f,scaleContentToFit:!!w};return n.push(l.NZ.node(d,d+i.nodeSize,{},A)),i.forEach((e,t,a)=>{let r=d+1+t,s={isSmartLayoutCellDecoration:!0,direction:v,index:a,numCells:i.childCount,maxLabelValue:x,smartLayoutAttrs:i.attrs,layoutContainerSize:f,isContentEmpty:(0,c.mf)(e),isLayoutFocused:C,emphasizedIndex:u,scaleContentToFit:!!w};n.push(l.NZ.node(r,r+e.nodeSize,{},s))}),!1}),l.zF.create(t,n)},f=e=>{let t=e.find(e=>e.spec.isSmartLayoutDecoration);return t?t.spec:(console.error("[SmartLayout] Decoration not found. This should never happen!",e),{isSmartLayoutDecoration:!0,direction:"ltr",numCells:0,containerSize:1})},b=e=>{let t=e.find(e=>e.spec.isSmartLayoutCellDecoration);return t?t.spec:(console.error("[SmartLayoutCell] Decoration not found. This should never happen!",e),{isSmartLayoutCellDecoration:!0,direction:"ltr",numCells:0,index:0,smartLayoutAttrs:{options:{},fullWidthBlock:!1},layoutContainerSize:1,isContentEmpty:!1,isLayoutFocused:!1})},y=e=>{let t=1;try{for(let i=e.depth;i>0;i--){let a=e.node(i),r=e.index(i-1);if("gridCell"===a.type.name){let n=e.node(i-1).attrs.colWidths;n&&n[r]&&(t*=parseInt(n[r])/100)}if("card"===a.type.name){var n;let{layout:i,layoutTemplateColumns:r,container:l}=a.attrs;if("left"===i){let e=r?parseInt(r.split(" ")[1])/100:d.Ib;t*=e}if("right"===i){let e=r?parseInt(r.split(" ")[0])/100:d.Ib;t*=e}let s=e.doc.firstChild.attrs,o=null!=(n=l.width)?n:s.settings.defaultContentWidth;"lg"===o?t*=u.br/u.Vy:"sm"===o&&(t*=u.lA/u.Vy);break}}}catch(e){console.error("[SmartLayout] Error getting container size decoration",e)}return t}},55860:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,n:()=>s});var i=n(58495),a=n(63867),r=n(67200),l=n(77467);let s=()=>(0,i.Ak)(5),o=l.S.extend({name:"UniqueToggleId"}).configure({attributeName:"id",types:["toggle"],initialValue:s,filterTransaction:r.kz,pluginKey:new a.hs("UniqueToggleId")})},55978:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return{default:null,parseHTML:n=>{let i=n.getAttribute("data-".concat(t));if(i)return i;let a=e();return console.debug("[configureIdAttribute] generating id in parseHTML",a),a}}}},56124:(e,t,n)=>{"use strict";n.d(t,{VM:()=>s,dM:()=>l,hj:()=>a,ht:()=>r});var i=n(61964);let a=e=>"table"===e.type.name,r=e=>"tableCell"===e.type.name,l=500,s=e=>{let t=i.J3.get(e);return t.height*t.width>l}},56143:(e,t,n)=>{"use strict";n.d(t,{No:()=>j,YI:()=>L});var i=n(6029),a=n(46898),r=n(26420),l=n(26385),s=n(48810),o=n(58959),c=n(83638),d=n(25223),u=n(40162),p=n(36218),h=n(61204),g=n(49611),m=n(16936),x=n(99492),f=n(48621),b=n(47412),y=n(19564),v=n(77650),C=n(97139),w=n.n(C),A=n(55729);let j=e=>{let{isDark:t,feedbackTags:n=[],trackRating:m,trackFeedback:b}=e,[v,C]=(0,A.useState)(null),[j,I]=(0,A.useState)(!1),[E,D]=(0,A.useState)(""),[M,R]=(0,A.useState)(new Set),_=(0,A.useRef)(null),z=(0,a.d)(),N=(0,A.useCallback)(e=>{C(e),null==m||m(e),z({title:(0,i.jsx)(y.x6,{id:"2gZOCV"}),status:"success",position:"top",duration:1e3}),setTimeout(()=>{var e;null==_||null==(e=_.current)||e.scrollIntoView({behavior:"smooth"})},200)},[m,z]),T=(0,A.useCallback)(e=>{e||(null==b||b(v,w().sanitize(E),Array.from(M)),z({title:(0,i.jsx)(y.x6,{id:"+Rq0s/"}),status:"success",position:"top",duration:2e3,isClosable:!0})),I(!0)},[E,M,v,b,z]);return(0,i.jsx)(r.a,{p:4,borderRadius:"lg",border:"1px solid",borderColor:t?"whiteAlpha.100":"gray.200",position:"relative",children:j?(0,i.jsxs)(s.E,{color:t?"green.400":"green.600",textAlign:"center",children:[(0,i.jsx)(f.g,{icon:x.QRE})," ",(0,i.jsx)(y.x6,{id:"SOk0EB"})]}):(0,i.jsxs)(l.B,{spacing:4,children:[(0,i.jsxs)(l.B,{alignItems:"center",spacing:"1",children:[(0,i.jsx)(s.E,{fontSize:"sm",color:t?"whiteAlpha.800":"gray.500",children:(0,i.jsx)(y.x6,{id:"/djJcD"})}),v?(0,i.jsxs)(s.E,{textAlign:"center",color:t?"green.400":"green.600",children:[(0,i.jsx)(f.g,{icon:x.QRE})," ",(0,i.jsx)(y.x6,{id:"SOk0EB"})]}):(0,i.jsx)(s.E,{children:(0,i.jsx)(y.x6,{id:"cguR5Y"})})]}),(0,i.jsx)(o.z,{fontSize:"xl",width:"100%",children:k.map(e=>{let{key:n,ariaLabel:a,label:r,icon:l,color:s}=e,o=v===n;return(0,i.jsx)(S,{ariaLabel:a,label:r,icon:l,color:s,onClick:()=>N(n),isSelected:o,isDisabled:!1,isDark:t},n)})}),v&&"good"!==v&&n.length>0&&(0,i.jsxs)(c.MJ,{children:[(0,i.jsx)(d.l,{fontSize:"sm",color:t?"whiteAlpha.800":"gray.500",children:(0,i.jsx)(y.x6,{id:"467HY8"})}),(0,i.jsx)(u.B,{children:n.map(e=>{let{key:n,label:a}=e;return(0,i.jsx)(u.Q,{onClick:()=>{R(e=>{let t=new Set(e);return t.has(n)?t.delete(n):t.add(n),t})},children:(0,i.jsx)(L,{label:a,isDark:t,isSelected:M.has(n)})},n)})})]}),v&&(0,i.jsxs)(c.MJ,{textAlign:"center",children:[(0,i.jsx)(d.l,{fontSize:"sm",color:t?"whiteAlpha.800":"gray.500",children:"good"===v?(0,i.jsx)(y.x6,{id:"AmM8eQ"}):(0,i.jsx)(y.x6,{id:"PhJTrf"})}),(0,i.jsx)(p.T,{value:E,onChange:e=>{D(e.target.value)},placeholder:"",size:"sm",mb:"4"}),(0,i.jsxs)(h.e,{spacing:"4",ref:_,children:[(0,i.jsx)(g.$,{variant:"text",onClick:()=>{T(!0)},children:(0,i.jsx)(y.x6,{id:"6Uau97"})}),(0,i.jsx)(g.$,{variant:"solid",isDisabled:""===E&&0===M.size,onClick:()=>T(!1),minW:32,children:(0,i.jsx)(y.x6,{id:"hQRttt"})})]})]})]})})},k=[{key:"bad",label:(0,i.jsx)(y.x6,{id:"XSfVsn"}),ariaLabel:()=>v.Ru._({id:"XSfVsn"}),icon:x.wB1,color:"red"},{key:"meh",label:(0,i.jsx)(y.x6,{id:"0ASQJH"}),ariaLabel:()=>v.Ru._({id:"0ASQJH"}),icon:x.s_F,color:"yellow"},{key:"good",label:(0,i.jsx)(y.x6,{id:"9ZYnL5"}),ariaLabel:()=>v.Ru._({id:"9ZYnL5"}),icon:x.Qpm,color:"green"}],S=e=>{let{label:t,ariaLabel:n,icon:a,color:r,isSelected:l,onClick:o,isDisabled:c,isDark:d}=e,u=d?"".concat(r,".200"):"".concat(r,".100"),p=d?"".concat(r,".600"):"".concat(r,".500");return(0,i.jsx)(b.Tz,{label:t,placement:"top",children:(0,i.jsx)(m.K,{"aria-label":n(),boxShadow:"none",bg:l?u:d?"whiteAlpha.300":"gray.50",_disabled:{opacity:"".concat(l?1:.5),cursor:"not-allowed"},color:l?p:d?"whiteAlpha.800":"gray.500",_hover:{backgroundColor:"".concat(r,".100"),color:"".concat(r,".500")},flex:1,icon:(0,i.jsx)(s.E,{fontSize:"2xl",children:(0,i.jsx)(f.g,{icon:a})}),isDisabled:c,variant:"plain",onClick:o})})},L=e=>{let{label:t,isDark:n,isSelected:a}=e;return(0,i.jsx)(g.$,{variant:"plain",size:"sm",height:"6",boxShadow:"none",bgGradient:"none",bg:a?n?"purple.500":"purple.100":n?"gray.700":"gray.50",color:a?n?"white":"purple.700":n?"white":"gray.700",borderColor:n?"whiteAlpha.200":"blackAlpha.200",_hover:{color:void 0},cursor:"pointer",children:t})}},56711:(e,t,n)=>{"use strict";n.d(t,{M:()=>k});var i=n(6029),a=n(67909),r=n(36071),l=n(54731),s=n(3674),o=n(40691),c=n(26385),d=n(26420),u=n(23293),p=n(48810),h=n(49611),g=n(58959),m=n(16426),x=n(47412),f=n(19564),b=n(55729),y=n(99038),v=n(15342),C=n(95889),w=n(63902),A=n(43634),j=n(16410);let k=e=>{let{link:t,confirmFunction:n,onClose:k}=e,S=(0,v.GV)(A.sX),L=(0,C.st)(),I=(0,b.useRef)(!1),E=(0,w.oR)()?"gamma.site":"gamma.app";return(0,b.useEffect)(()=>{I.current||(I.current=!0,null==L||L.track(C.VV.ABUSE_LINK_INTERCEPT_SHOWN,{docId:S,link:t}))},[L,S,t]),(0,i.jsxs)(a.aF,{isOpen:!0,trapFocus:!1,onClose:()=>k("cancel"),children:[(0,i.jsx)(r.m,{}),(0,i.jsxs)(l.$,{children:[(0,i.jsx)(s.s,{}),(0,i.jsx)(o.c,{alignItems:"center",textAlign:"center",children:(0,i.jsxs)(c.B,{mt:8,spacing:4,children:[(0,i.jsx)(d.a,{mx:"auto",children:(0,i.jsx)(x.uh,{w:"16"})}),(0,i.jsx)(u.D,{size:"lg",children:(0,i.jsx)(f.x6,{id:"7kvRf4",values:{GAMMA_PROPER_NOUN:y.On}})}),(0,i.jsx)(p.E,{children:(0,i.jsx)(f.x6,{id:"wkyxjZ",values:{gammaProperty:E},components:{0:(0,i.jsx)("code",{})}})}),(0,i.jsx)(p.E,{fontSize:"sm",py:1,borderRadius:"sm",color:"gray.600",fontFamily:"mono",bg:"blackAlpha.100",children:t}),(0,i.jsx)(c.B,{spacing:2,mt:2,children:(0,i.jsx)(h.$,{variant:"plain",onClick:()=>{n(t),null==L||L.track(C.VV.ABUSE_LINK_INTERCEPT_CONTINUE,{docId:S,link:t}),k("continue")},children:(0,i.jsx)(f.x6,{id:"xGVfLh"})})}),(0,i.jsx)(h.$,{onClick:()=>{null==L||L.track(C.VV.ABUSE_LINK_INTERCEPT_CANCEL,{docId:S,link:t}),k("cancel")},variant:"solid",children:(0,i.jsx)(f.x6,{id:"zx59ra"})}),(0,i.jsx)(g.z,{pt:2,flex:1,children:(0,i.jsx)(j._,{docId:S,buttonType:"button",onSubmitReport:()=>k("report")})})]})}),(0,i.jsx)(m.j,{})]})]})}},56801:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});class i extends Error{constructor(e,t){super(e),this.code=t,this.name="AccountStateError"}}},57860:(e,t,n)=>{"use strict";n.d(t,{h:()=>l});var i=n(55729),a=n(75484);let r=()=>{},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.useMemo)(()=>(r(),new a.K(e)),[]),n=function(){let[,e]=(0,i.useState)(0);return()=>e(e=>e+1)}();return(0,i.useEffect)(()=>{let e=!0;return t.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e&&n()})})}),()=>{t.destroy(),e=!1}},[t]),t}},57963:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var i=n(6029),a=n(36218),r=n(55729),l=n(11403);let s=(0,r.forwardRef)((e,t)=>{let{initialHeight:n="1em",bottomSpacing:s=0,onChange:o,resizeOnMount:c=!0,onKeyDown:d,...u}=e,p=(0,r.useRef)(null),h=null!=t?t:p,[g,m]=(0,r.useState)(!1),x=(0,r.useCallback)(()=>{"function"!=typeof h&&(null==h?void 0:h.current)&&(h.current.style.height=n,h.current.style.height="".concat(h.current.scrollHeight+s,"px"))},[n,h,s]),[f,b]=(0,r.useState)(!1);(0,l.Vg)(()=>{if(!f&&!c)return void b(!0);x()},[x,u.value,f,c],[u.value]);let y=(0,l.jm)(100);return(0,r.useEffect)(()=>{y&&x()},[y,x]),(0,i.jsx)(a.T,{h:n,minH:n,ref:h,resize:"none",overflow:"hidden",...u,onCompositionStart:()=>m(!0),onCompositionEnd:()=>m(!1),onChange:e=>{x(),null==o||o(e)},onKeyDown:e=>{g||null==d||d(e)}})});s.displayName="ResizingTextarea"},58082:(e,t,n)=>{"use strict";n.d(t,{a:()=>s,x:()=>o});var i=n(15342),a=n(95714),r=n(43634),l=n(16309);let s=e=>{let t=(0,i.GV)(r.SJ),{cardColorSolid:n,bodyColorSolid:a,primaryColorSolid:l,isCardDark:s}=o(e,t);return{theme:t,isDark:s,cardColor:n,bodyColor:a,primaryColor:l}},o=(e,t)=>{let{cardColorOverride:n}=(0,l.tg)(e);return(0,a.Dh)(t,n)}},58240:(e,t,n)=>{"use strict";n.d(t,{v:()=>c});var i=n(55729),a=n(91938),r=n(68301),l=n(23460);class s{static observeElement(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return"function"!=typeof IntersectionObserver?()=>{}:s.instance.doObserveElement(...t)}static get instance(){return s._instance||(s._instance=new s),s._instance}doObserveElement(e,t,n){let{rootMargin:i="0px 0px 0px 0px",root:a=null}=n,r=this.getObserverForRoot(a,i);return this.callbacksMap.has(r)||this.callbacksMap.set(r,new Map),this.callbacksMap.get(r).set(e,t),r.observe(e),()=>{this.disconnect(e,i,a)}}disconnect(e,t,n){var i,a;let r=this.getObserverForRoot(n,t,!0);if(!r)return;r.unobserve(e);let l=this.callbacksMap.get(r);l&&l.delete(e),(null==l||!l.size)&&(r.disconnect(),this.callbacksMap.delete(r),null==(i=this.intersectionObserversMap.get(n))||i.delete(t),(null==(a=this.intersectionObserversMap.get(n))?void 0:a.size)||this.intersectionObserversMap.delete(n))}getObserverForRoot(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.intersectionObserversMap.has(e)){if(n)return;this.intersectionObserversMap.set(e,new Map)}let i=this.intersectionObserversMap.get(e);if(!i.has(t)){if(n)return;i.set(t,new IntersectionObserver(this.intersectionCallback.bind(this),{root:e,rootMargin:t}))}return i.get(t)}intersectionCallback(e,t){let n=new Map,i=this.callbacksMap.get(t);i&&(e.forEach(e=>{n.has(e.target)||n.set(e.target,[]),n.get(e.target).push(e)}),n.forEach((e,t)=>{try{var n;null==(n=i.get(t))||n(e)}catch(e){console.error(e)}}))}constructor(){this.intersectionObserversMap=new Map,this.callbacksMap=new Map}}s._instance=null;class o{get stats(){let e={};return this.entries.forEach(t=>{var n;let{status:i}=t;e[i]=(null!=(n=e[i])?n:0)+1}),e}static get instance(){return o._instance||(o._instance=new o),o._instance}constructor(){this.entries=new Map,a.$.DEBUG_ENABLED&&"object"==typeof globalThis&&(globalThis.gammaInViewportStats=this)}}o._instance=void 0;let c=function(){var e,t,n;let{intersectionMargin:a="100% 0px 100% 0px",memoGroup:c,...d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=(0,r.u)("enableVirtualization"),p=(0,i.useId)(),h=(0,i.useRef)(),g=(0,i.useRef)(),m=u?d.dimensions?"HIDDEN":"PENDING":"VISIBLE",[x,f]=(0,i.useState)(m),b=(0,i.useRef)(x),[y,v]=(0,i.useState)(null!=(n=d.dimensions)?n:void 0),C=(0,i.useMemo)(()=>{let e=()=>{if("HIDDEN"===b.current&&h.current){let e=h.current.getBoundingClientRect();v({width:e.width,height:e.height})}f(b.current)},t=null;return function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;b.current=n,t&&(clearTimeout(t),t=null),t=setTimeout(()=>{t=null,e()},i)}},[]),w=null==d?void 0:d.loading,A=(e,t)=>{var n,i;if(!u){C("VISIBLE"),null==(n=g.current)||n.call(g);return}if(!e||w){null==(i=g.current)||i.call(g);return}let r=(0,l.Hc)(e,t);g.current=s.observeElement(e,e=>{var t;let n=null!=(t=b.current)?t:"PENDING",i=e.find(e=>e.isIntersecting);if("VISIBLE"!==n&&i)return void C("VISIBLE");"HIDDEN"===n||i||C("HIDDEN",1500)},{root:r,rootMargin:a})},j=(0,i.useCallback)(()=>{if(!h.current){var e;null==(e=g.current)||e.call(g);return}if(!d.loading){if(A(h.current,c),!d.dimensions&&!y){let e=h.current.getBoundingClientRect();v({width:e.width,height:e.height})}"PENDING"===b.current&&C("HIDDEN")}},[C,d.loading,null==(e=d.dimensions)?void 0:e.width,null==(t=d.dimensions)?void 0:t.height,null==y?void 0:y.width,null==y?void 0:y.height,c]),k=(0,i.useCallback)(e=>{h.current!==e&&(h.current=e,j())},[j]);return(0,i.useEffect)(()=>{var e;return o.instance.entries.set(p,{status:x,el:null!=(e=h.current)?e:null}),()=>{o.instance.entries.delete(p)}},[x,p]),{inViewport:"PENDING"===x?void 0:"VISIBLE"===x,ref:k,dimensions:y}}},58251:(e,t,n)=>{"use strict";n.d(t,{a0:()=>i,zz:()=>a});let i="themed-table",a=()=>({[".".concat(i)]:r}),r={border:"0.0625em solid var(--neutral-border-color)",borderRadius:"var(--box-border-radius)","tbody tr":{_even:{backgroundColor:"blackAlpha.50"},_odd:{backgroundColor:"whiteAlpha.50"},_first:{td:{_first:{borderTopLeftRadius:"var(--box-border-radius)"},_last:{borderTopRightRadius:"var(--box-border-radius)"}}},_last:{td:{_first:{borderBottomLeftRadius:"var(--box-border-radius)"},_last:{borderBottomRightRadius:"var(--box-border-radius)"}}}},td:{borderInlineStart:"0.0625em solid var(--shape-border-color)",_first:{borderInlineStartWidth:"0"}}}},58568:(e,t,n)=>{"use strict";n.d(t,{Lf:()=>d,Lh:()=>c});var i=n(55765),a=n.n(i),r=n(55729);class l{observe(e,t){this.observer?(this.observer.observe(e),this.observedElements.set(e,t)):t(o)}unobserve(e){this.observer&&(this.observer.unobserve(e),this.observedElements.delete(e),this.nextTickCallbacks.delete(e))}handleResize(e){let t=!1;for(let n of e){let e=this.observedElements.get(n.target);e&&(t=!0,this.nextTickCallbacks.set(n.target,()=>{e(n.contentRect)}))}t&&this.queueProcess()}queueProcess(){this.frameId&&(cancelAnimationFrame(this.frameId),this.frameId=null),this.frameId=requestAnimationFrame(()=>{for(let e of this.nextTickCallbacks.values())e();this.frameId=null})}constructor(){this.observedElements=new Map,this.nextTickCallbacks=new Map,this.frameId=null,this.observer=null,"undefined"!=typeof ResizeObserver&&(this.observer=new ResizeObserver(e=>this.handleResize(e)))}}let s=a()(()=>new l),o={width:1,height:1,top:0,left:0,fontSize:0};function c(e){let t=(0,r.useRef)(null),[{height:n,width:i},a]=(0,r.useState)(o);return(0,r.useEffect)(()=>{let e=t.current;return e&&s().observe(e,a),()=>{e&&s().unobserve(e)}},[e]),{ref:t,width:i,height:n}}function d(e){let t=(0,r.useRef)(null),[{height:n,width:i,top:a,left:l,fontSize:c},d]=(0,r.useState)(o);return(0,r.useEffect)(()=>{let e=t.current;return e&&s().observe(e,t=>{var n;d({width:t.width,height:t.height,top:e.offsetTop,left:e.offsetLeft,fontSize:null!=(n=parseFloat(window.getComputedStyle(e).fontSize))?n:16})}),()=>{e&&s().unobserve(e)}},[e]),{ref:t,width:i,height:n,top:a,left:l,fontSize:c}}},58617:(e,t,n)=>{"use strict";n.d(t,{c:()=>c});var i=n(37243),a=n(59275),r=n(41896),l=n(38934),s=n(46957),o=n(58638);let c=a.Ay.extend({selectable:!0,draggable:!0,group:"block media",priority:l.y.Image,addOptions(){var e;return{...null==(e=this.parent)?void 0:e.call(this),placeholders:{}}},addNodeView:()=>(0,r.gu)(o.v,{update:s.z0}),parseHTML:()=>[{tag:"img[src], img[tempUrl]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,i.KV)(t,{class:"gamma-simple-image"})]},addAttributes:()=>({src:{},tempUrl:{},uploadStatus:{},source:{},showPlaceholder:{}})})},58638:(e,t,n)=>{"use strict";n.d(t,{v:()=>d});var i=n(6029),a=n(26420),r=n(80314),l=n(33787),s=n(59230),o=n(41896),c=n(4522);let d=e=>{let{node:t}=e,{src:n,tempUrl:d,uploadStatus:u,showPlaceholder:p,id:h}=t.attrs;return(0,i.jsxs)(o.VR,{as:"div",children:[p&&(0,i.jsx)(c.VM,{...e}),!p&&(n||d)&&(0,i.jsxs)(a.a,{position:"relative",w:"100%",children:[(0,i.jsx)(r.N,{className:"image-link",href:n||d||"",target:"_blank",children:(0,i.jsx)(l._,{src:n||d||""})}),u==s.A.Uploading&&(0,i.jsx)(c.Td,{}),u==s.A.Error&&(0,i.jsx)(c.Hy,{})]})]})};d.displayName="simple-image-view"},59080:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});let i={cardLayoutsEnabled:!1},a=e=>{if(!e)return{...i};let t=null;return("doc"===e.type.name?t=e.nodeAt(0):"document"===e.type.name&&(t=e),t)?{...i,...t.attrs.docFlags}:(console.debug("[getDocFlags] could not find document node, returning defaults"),{...i})}},59230:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var i=function(e){return e[e.Done=0]="Done",e[e.Uploading=1]="Uploading",e[e.Error=2]="Error",e[e.Queued=3]="Queued",e}({})},59320:(e,t,n)=>{"use strict";n.d(t,{Ey:()=>l,S5:()=>a,iq:()=>i,se:()=>r});let i="350px",a=1,r="temp-id",l=128},59543:(e,t,n)=>{"use strict";n.d(t,{t:()=>l});var i=n(68301),a=n(83747);class r extends a.b{initialize(){this.on("cardViewed",e=>{let{cardId:t,interval:n}=e;this.viewedCards[t]=this.viewedCards[t]||0,this.viewedCards[t]+=n});let e=()=>{var e;this.cardViewedThreshold=null!=(e=i.of.get("cardViewedThreshold"))?e:5e3};i.of.subscribe("cardViewedThreshold",e),e()}flush(){let e={};for(let t in this.viewedCards){let n=this.viewedCards[t];n&&!(n<this.cardViewedThreshold)&&(e[t]=Math.floor(n/1e3))}this.emit("flush",{viewed:e}),this.viewedCards={}}destroy(){this.flush(),this.off("cardViewed"),this.off("flush")}constructor(...e){super(...e),this.viewedCards={},this.cardViewedThreshold=i.of.get("cardViewedThreshold")}}let l=new r},59684:(e,t,n)=>{"use strict";n.d(t,{$v:()=>a,Bb:()=>i,K$:()=>o,hY:()=>l,tF:()=>r,tq:()=>s});class i extends Error{constructor(e,t={}){super(e),this.opts=t}}i.prototype.name="DesignPartnerError";class a extends i{constructor(e,t={}){super(e,t)}}a.prototype.name="CouldNotApplySuggestionError";class r extends i{constructor(e,t={}){super(e,t)}}r.prototype.name="InvalidResponseError";class l extends i{constructor(e,t={}){super(e,t)}}l.prototype.name="NoopSuggestionError";class s extends i{constructor(e,t={}){super("InputTooLongError: ".concat(e),t)}}s.prototype.name="InputTooLongError";class o extends i{constructor(e,t={}){super("ParsedSuggestionError: ".concat(e),t)}}l.prototype.name="ParsedSuggestionError"},59712:(e,t,n)=>{"use strict";n.d(t,{e$:()=>m,Rj:()=>g});var i=n(63867),a=n(97255),r=n(37243);let l=new i.hs("suggestion"),s={from:0,to:0};var o=n(47412),c=n(33750),d=n.n(c),u=n(55729),p=n(67733),h=n(23624);let g=e=>{let{ref:t,selectItem:n,options:i}=e,[a,r]=(0,u.useState)(0),l=(0,u.useRef)(null),s=(0,u.useRef)({selectedIndex:a,options:i,selectItem:n});return s.current={selectedIndex:a,options:i,selectItem:n},(0,u.useImperativeHandle)(t,()=>{let e=e=>{let{key:t}=e,n=s.current;return"ArrowUp"===t?(e.preventDefault(),n.selectedIndex<=0?r(i.length-1):r(d()(n.selectedIndex-1,0,n.options.length-1))):"ArrowDown"===t?(e.preventDefault(),n.selectedIndex>=n.options.length-1?r(0):r(d()(n.selectedIndex+1,0,n.options.length-1))):("Enter"===t||"Tab"===t)&&(e.preventDefault(),n.options.length>0&&n.selectItem(a)),e.stopPropagation(),e.preventDefault(),!0};return{onKeyDown:t=>{let{event:n}=t;return!!["ArrowUp","ArrowDown","Enter","Tab"].includes(n.key)&&e(n)}}}),(0,u.useEffect)(()=>{if(l.current){var e;null==l||null==(e=l.current)||e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}},[a]),{selectedIndex:a,selectedItemEl:l}},m=e=>{let{char:t,MenuComponent:n,pluginKey:c,command:d,allowSpaces:u=!1,...g}=e;return r.YY.create({...g,addOptions:()=>({HTMLAttributes:{},suggestion:{char:t,pluginKey:c,allowSpaces:u,startOfLine:!1,command:d,render:()=>{let e=null,t=null;return{onStart:i=>{if(t&&e){e.updateProps(i),t.setProps({getReferenceClientRect:i.clientRect}),t.show();return}e=new h.N(n,{props:i,editor:i.editor});let a=i.editor.view.dom.parentElement;t=(0,p.Ay)(a,{getReferenceClientRect:i.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start",zIndex:o.t1.zIndices.dropdown,popperOptions:{modifiers:[{name:"preventOverflow",options:{padding:{bottom:8}}},{name:"flip",options:{fallbackPlacements:["auto-start"]}}]}})},onUpdate(n){null==e||e.updateProps(n),null==t||t.setProps({getReferenceClientRect:n.clientRect})},onKeyDown(n){var i;return"Escape"===n.event.key?(null==t||t.destroy(),null==e||e.destroy(),t=null,e=null,!0):null==e||null==(i=e.ref)?void 0:i.onKeyDown(n)},onExit(n){!0!==c.getState(n.editor.view.state).active&&(null==t||t.destroy(),null==e||e.destroy(),t=null,e=null)}}}}}),addProseMirrorPlugins(){return[function(e){let t,{pluginKey:n=l,editor:o,char:c="@",allowSpaces:d=!1,prefixSpace:u=!0,startOfLine:p=!1,decorationTag:h="span",decorationClass:g="suggestion",command:m=()=>null,items:x=()=>[],render:f=()=>({}),allow:b=()=>!0}=e,y=null==f?void 0:f(),v=e=>{e.dispatch(e.state.tr.setMeta(n,{active:!1,decorationId:"",key:null,range:s,query:null,text:null,composing:!1}))};return new i.k_({key:n,view(){return{update:async(e,n)=>{var i,a,r,l,s;let c=null==(i=this.key)?void 0:i.getState(n),d=null==(a=this.key)?void 0:a.getState(e.state),u=c.active&&d.active&&c.range.from!==d.range.from,p=!c.active&&d.active,h=c.active&&!d.active,g=!p&&!h&&c.query!==d.query,f=p||u,b=g&&!u,v=h||u;if(!f&&!b&&!v)return;let C=v&&!f?c:d,w=document.querySelector('[data-decoration-id="'.concat(C.decorationId,'"]'));t={editor:o,range:C.range,query:C.query,text:C.text,items:b||f?await x({editor:o,query:C.query}):[],command:e=>{m({editor:o,range:C.range,props:e})},decorationNode:w,clientRect:w?()=>{var e;let{decorationId:t}=null==(e=this.key)?void 0:e.getState(o.state);return document.querySelector('[data-decoration-id="'.concat(t,'"]')).getBoundingClientRect()}:null},v&&(null==y||null==(r=y.onExit)||r.call(y,t)),b&&(null==y||null==(l=y.onUpdate)||l.call(y,t)),f&&(null==y||null==(s=y.onStart)||s.call(y,t))},destroy:()=>{var e;t&&(null==y||null==(e=y.onExit)||e.call(y,t))}}},state:{init:()=>({active:!1,decorationId:"",range:s,key:null,query:null,text:null,composing:!1}),apply(e,t,i,a){let l;l=e.getMeta(n)?{...e.getMeta(n)}:{...t};let{isEditable:h}=o,{composing:g}=o.view,{selection:m}=e,{empty:x,from:f}=m;if(l.composing=g,!l.active&&l.key!==c)return l;if(l.active&&l.key===c)return l.key=null,l;if(h&&(x||o.view.composing)){t.range&&(f<t.range.from||f>t.range.to)&&!g&&!t.composing&&(l.active=!1);let e=function(e){var t;let{char:n,allowSpaces:i,prefixSpace:a,startOfLine:l,$position:s}=e,o=(0,r.GG)(n),c=new RegExp("\\s".concat(o,"$")),d=l?"^":"",u=i?RegExp("".concat(d).concat(o,".*?(?=\\s").concat(o,"|$)"),"gm"):RegExp("".concat(d,"(?:^)?").concat(o,"[^\\s").concat(o,"]*"),"gm"),p=null==(t=s.nodeBefore)?void 0:t.text;if(!p)return null;let h=s.pos-p.length,g=Array.from(p.matchAll(u)).pop();if(!g||void 0===g.input||void 0===g.index)return null;let m=g.input.slice(Math.max(0,g.index-1),g.index),x=/^[\s\0]?$/.test(m);if(a&&!x)return null;let f=h+g.index,b=f+g[0].length;return(i&&c.test(p.slice(b-1,b+1))&&(g[0]+=" ",b+=1),f<s.pos&&b>=s.pos)?{range:{from:f,to:b},query:g[0].slice(n.length),text:g[0]}:null}({char:c,allowSpaces:d,prefixSpace:u,startOfLine:p,$position:m.$from}),n="id_".concat(Math.floor(0xffffffff*Math.random()));e&&b({editor:o,state:a,range:e.range})?(l.active=!0,l.decorationId=t.decorationId?t.decorationId:n,l.range=e.range,l.query=e.query,l.text=e.text):l.active=!1}else l.active=!1;return l.active||(l.decorationId=null,l.range=s,l.query=null,l.text=null),l}},props:{handleKeyDown(e,t){var i;let a=e.state.tr,r=this.getState(e.state);if(!r)return!1;let{active:l,range:s}=r;if(!s)return!1;if(l||t.key!==c||t.metaKey){if(!l)return!1;"Escape"===t.key&&v(e)}else{let i={...r};i.active=!0,i.key=t.key,i.query="",e.dispatch(a.setMeta(n,i))}return(null==y||null==(i=y.onKeyDown)?void 0:i.call(y,{view:e,event:t,range:s}))||!1},decorations(e){let t=this.getState(e);if(!t)return null;let{active:n,range:i,decorationId:r}=t;return n&&i?a.zF.create(e.doc,[a.NZ.inline(i.from,i.to,{nodeName:h,class:g,"data-decoration-id":r||""})]):null}}})}({editor:this.editor,...this.options.suggestion})]}})}},59858:(e,t,n)=>{"use strict";n.d(t,{R4:()=>r,S0:()=>a});var i=n(53587);n(52762);let a=e=>!!e.backgroundType,r=e=>e.key!==i.j},60277:(e,t,n)=>{"use strict";n.d(t,{S:()=>g,_:()=>u});var i=n(55452),a=n(37243),r=n(94289),l=n(63867),s=n(38934),o=n(62040),c=n(64205),d=n(74677);let u=new l.hs("UniqueAttribute"),p=new Map,h=e=>{let{editor:t,tr:n,node:a,initialValue:r,pos:l,attributeName:s,syncWithFilmstrip:o,pluginKey:c}=e;(o="function"==typeof o?o():!!o)&&!c&&console.error("Cannot sync with filmstrip without plugin key");let d=(()=>{if(t.isThumbnail&&o&&c){var e,n;let t=null==(e=p.get(c))?void 0:e.shift();if(t&&(null==(n=t.type)?void 0:n.name)===a.type.name&&t.pos===l)return console.debug("%c [UniqueAttribute] Reused ".concat(s,' "').concat(t.val,'" for ').concat(a.type.name),"background-color: deeppink",{pos:l}),t.val;i.Cp({message:"Mismatch trying to reuse attribute",attributeName:s,nodeType:a.type,pos:l,existing:t})}return r()})();return!t.isThumbnail&&o&&c&&(p.has(c)||p.set(c,[]),p.get(c).push({type:a.type,val:d,pos:l}),console.debug("%c [UniqueAttribute] Should reuse ".concat(s,' "').concat(d,'" for ').concat(a.type.name),"background-color: deeppink",{pos:l})),n.setNodeMarkup(l,void 0,{...a.attrs,[s]:d}),{node:a,val:d,pos:l}},g=a.YY.create({name:"UniqueAttribute",priority:s.y.UniqueAttribute,addOptions(){return{attributeName:"",pluginKey:new l.hs(this.name),types:[],initialValue:()=>void 0,filterTransaction:null,syncWithFilmstrip:!1}},addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:e=>this.options.parseHTML?this.options.parseHTML(e):e.getAttribute("data-".concat(this.options.attributeName)),renderHTML:e=>this.options.renderHTML?this.options.renderHTML(e):e[this.options.attributeName]?{["data-".concat(this.options.attributeName)]:e[this.options.attributeName]}:{}}}}]},onCreate(){let{view:e,state:t}=this.editor;if(this.editor.isReadOnly)return;let{tr:n,doc:r}=t,{types:l,attributeName:s,pluginKey:o,initialValue:c,callback:d}=this.options,u=(0,a.xe)(r,e=>l.includes(e.type.name)&&null===e.attrs[s]).map(e=>{let{node:t,pos:i}=e;return h({editor:this.editor,pos:i,node:t,tr:n,syncWithFilmstrip:!1,initialValue:c,attributeName:s,pluginKey:o})});0!==u.length&&(i.wd("UniqueAttribute onCreate fixed missing ids",{extra:{results:u,tr:n,attributeName:s,types:l}}),e.dispatch(n),d&&d(this.editor,u,n.doc))},addProseMirrorPlugins(){let e=!1;return[new l.k_({key:this.options.pluginKey,appendTransaction:(e,t,n)=>{let i=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),r=this.options.filterTransaction&&e.some(e=>{var t,n;return!(null==(t=(n=this.options).filterTransaction)?void 0:t.call(n,e))});if(!i||r)return;let{tr:l}=n,{types:s,attributeName:p,syncWithFilmstrip:g,initialValue:m,callback:x,pluginKey:f}=this.options,b=function(e,t){let n=new o.dL(e);return t.forEach(e=>{e.steps.forEach(e=>{n.step(e)})}),n}(t.doc,e),{mapping:y}=b,v=(0,d.A)(b),C=[],w=e.some(e=>!0===e.getMeta(u));if(v.forEach(e=>{let t={from:e.newStart,to:e.newEnd},i=(0,a.Nx)(n.doc,t,e=>s.includes(e.type.name)),r=function(e){let t=e.filter((t,n)=>e.indexOf(t)!==n);return(0,c.A)(t)}(i.map(e=>{let{node:t}=e;return t.attrs[p]}).filter(e=>null!==e));i.forEach(e=>{var t;let{node:n,pos:i}=e,a=null==(t=l.doc.nodeAt(i))?void 0:t.attrs[p];if(!a)return void C.push(h({editor:this.editor,pos:i,node:n,tr:l,syncWithFilmstrip:g,initialValue:m,attributeName:p,pluginKey:f}));let{deleted:s}=y.invert().mapResult(i),o=s&&r.includes(a),c=s&&w;if(o||c){let e=h({editor:this.editor,pos:i,node:n,tr:l,syncWithFilmstrip:g,initialValue:m,attributeName:p,pluginKey:f});C.push(e),console.debug("%c [UniqueAttribute][".concat(this.options.types,"] Replaced ").concat(n.attrs[p]," with new val: ").concat(e.val),"background-color: deeppink",{override:c,newNode:o})}})}),x&&x(this.editor,C,l.doc),l.steps.length)return l},props:{handleDOMEvents:{drop:(t,n)=>{var i,a;return((null==(i=t.dragging)?void 0:i.move)!==!0||(null==(a=n.dataTransfer)?void 0:a.effectAllowed)==="copy")&&(e=!0),!1},paste:()=>(e=!0,!1)},transformPasted:t=>{var n;if(!e)return t;let{types:i,attributeName:a}=this.options,l=e=>{let t=[];return e.forEach(e=>{if(e.isText)return void t.push(e);if(!i.includes(e.type.name))return void t.push(e.copy(l(e.content)));let n=e.type.create({...e.attrs,[a]:null},l(e.content),e.marks);t.push(n)}),r.FK.from(t)},s=this.options.transformPasted?this.options.transformPasted(t,this.options,null===this||void 0===this||null==(n=this.editor)?void 0:n.gammaDocId):new r.Ji(l(t.content),t.openStart,t.openEnd);return e=!1,s}}})]}})},60300:(e,t,n)=>{"use strict";n.d(t,{I2:()=>I,Li:()=>E,Rj:()=>L,UE:()=>C,vi:()=>R});var i=n(37243),a=n(68301),r=n(26312),l=n(15342),s=n(85011),o=n(43634),c=n(33201),d=n(80911),u=n(53957),p=n(23460),h=n(15607),g=n(6845),m=n(92397),x=n(61385),f=n(47665),b=n(53891),y=n(4967);let v=()=>a.of.get("presentModeFlat"),C=(e,t)=>{let n=t.pos?e.state.doc.nodeAt(t.pos):null;return n&&L(n,t.cardId)},w=e=>{let{tr:t,editor:n,spotlight:i,bias:a=0,method:r="replace"}=e;t.setMeta(y.n,i);let l=y.n.getState(n.state);if(i.cardId||(0,u.o)({cardId:null,method:r,emitChange:!1}),l.cardId!==i.cardId&&i.cardId){(0,u.o)({cardId:i.cardId,method:r,emitChange:!1});let e=(0,f.W0)(n,i.cardId);e&&t.setSelection(d.J.create(t.doc,e.pos,a))}n.commands.user({spotlight:i})},A=(e,t)=>{if(!t)return;let n=document.querySelector("".concat(e," ").concat((0,x.OB)(t)));n&&(null==n||n.classList.add("cardWiggle"),setTimeout(()=>{null==n||n.classList.remove("cardWiggle")},750))},j=(e,t)=>{let n=C(e,t),i=n&&t.cardId&&t.pos&&R(e,t.cardId,t.pos,e=>L(e,t.cardId),!0).cardId!==t.cardId;return{isSpotlightingBlock:n,isSpotlightingFirstBlock:i}},k=e=>{switch(e.type.name){case"card":return!(0,g.Wq)(e);case"toggle":return(0,b.vb)(e.attrs.id);default:return!1}},S=e=>{switch(e.type.name){case"card":return(0,g.wE)(e.attrs.id,!0),!0;case"toggle":return(0,b.bG)(e.attrs.id,!1),!0;default:return!1}},L=(e,t)=>{switch(e.type.name){case"paragraph":case"heading":case"title":case"math_display":case"codeBlock":return e.textContent.trim().length>0||e.content.content.some(e=>"text"!==e.type.name);case"calloutBox":case"blockquote":case"bullet":case"numbered":case"todo":case"embed":case"video":case"image":case"mediaPlaceholder":case"gallery":case"drawing":case"diagram":case"smartDiagram":case"chart":case"contributors":case"tableOfContents":case"toggleSummary":case"table":case"buttonGroup":case"gridCell":case"smartLayoutCell":return!0;case"toggle":return!(0,b.vb)(e.attrs.id);case"card":{let n=(0,o.Ev)((0,l.KA)().getState()).parents[e.attrs.id].slice(-1)[0];if(v())return!0===(0,g.Wq)(e)&&!1===(0,g.Wq)(n);return n===t}default:return!1}},I=e=>{switch(e.type.name){case"toggle":return(0,b.vb)(e.attrs.id);case"card":return!(0,g.Wq)(e);case"footnote":case"gallery":case"gridCell":case"smartLayoutCell":case"table":case"cardNotes":case"blockquote":case"calloutBox":return!1;default:return!0}},E=i.YY.create({name:"spotlight",addOptions:()=>({scrollerSelector:"body"}),addCommands(){var e=this;return{syncSpotlightAndScroll:e=>{let{spotlight:t,scroll:n,scrollOffset:i,isFollowing:a=!1}=e;return e=>{let{editor:l,view:s,tr:o}=e,{pos:d,cardId:u}=t,p=y.n.getState(l.state).cardId!==u;if(d){let e=s.state.doc.nodeAt(d),t=s.nodeDOM(d);if(e&&t instanceof HTMLElement){console.debug("[Spotlight.syncSpotlight] Scrolling to specific card at pos: ".concat(d),t);let n=(0,c.jg)(e)&&e.attrs.id===u;setTimeout(()=>requestAnimationFrame(()=>{n?N({}):z({element:t})}),p?x.y0:0)}}else if(null==n?void 0:n.pos){let{pos:e,pct:t}=n;setTimeout(()=>requestAnimationFrame(()=>{l.commands.scrollToPositionInCard(e,t||void 0,i)}),p?x.y0:0)}return(0,r.up)({following:a}),(0,r.ki)({cardId:u}),w({editor:l,tr:o,spotlight:{pos:d,cardId:u}}),!0}},spotlightCardById:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let{editor:i,view:a}=n,r=y.n.getState(i.state),l=(0,f.W0)(i,e);if(!l)return!0;let s=i.state.doc.resolve(l.pos),o=s.depth>1&&v(),c=o?(0,m.hT)(i.state.doc,l.pos):l;if(c){let n=r.cardId!==e;if(o){(0,g.wE)(e,!1),(0,m.Ib)({pos:s.pos,editor:i});let t=a.nodeDOM(l.pos);t instanceof HTMLElement&&setTimeout(()=>requestAnimationFrame(()=>{z({element:t,behavior:"smooth"})}),n?x.y0:0)}return t&&v()?i.commands.spotlightNextBlock(!1,{pos:l.pos,cardId:e}):i.commands.syncSpotlightAndScroll({spotlight:{pos:null,cardId:c.node.attrs.id}})}return!0}},spotlightCurrentCard:()=>e=>{var t,n,i,a,r,l;let s,{editor:o,tr:d}=e,u=()=>{console.warn("[Spotlight.spotlightCurrentCard] Couldnt find a card to spotlight, so using first card.");let e=o.view.state.doc.nodeAt(1);return e&&(0,c.jg)(e)?w({editor:o,tr:d,spotlight:{pos:null,cardId:e.attrs.id}}):console.error("[Spotlight.spotlightCurrentCard] nodeAt(1) is unexpectedly not a card. Cannot spotlight"),!0};if(!document.querySelector(this.options.scrollerSelector))return u();let p=o.state.selection.from,g=p&&o.view.coordsAtPos(p);if(g&&g.top<window.innerHeight&&g.bottom>0)console.debug("%c [Spotlight.spotlightCurrentCard] Using cursor pos","background-color: deeppink",{posToUse:s=p});else{let e=(0,h.ls)(o,this.options.scrollerSelector,135).pos;console.debug("%c [Spotlight.spotlightCurrentCard] Using top center pos","background-color: deeppink",{posToUse:s=null==e?void 0:e.pos})}(!s||s<2)&&console.warn("%c [Spotlight.spotlightCurrentCard] Using fallback pos","background-color: deeppink",{posToUse:s=2});let x=v()?(0,m.hT)(o.state.doc,s):(0,m.Tv)(o,s,!1);if(null==x||null==(n=x.node)||null==(t=n.attrs)?void 0:t.hidden){let e=x;for(;x&&(null==x||null==(a=x.node)||null==(i=a.attrs)?void 0:i.hidden);)x=D(o,x.pos);if(!x)for(x=e;x&&(null==x||null==(l=x.node)||null==(r=l.attrs)?void 0:r.hidden);)x=D(o,x.pos,!0)}return x&&x.pos?(v()&&(0,m.Ib)({editor:o,pos:s}),w({editor:o,tr:d,spotlight:{pos:null,cardId:x.node.attrs.id}}),!0):u()},ascendUpToParentCard:function(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return n=>{let{editor:a,view:l,tr:s}=n,o=y.n.getState(a.state),d=o.pos;if(!d){let t=(0,h.ls)(a,e.options.scrollerSelector,window.innerHeight/2).pos;d=null==t?void 0:t.pos}if(!d)return!1;let u=a.view.state.doc.nodeAt(d),p=(0,m.Tv)(a,d,!1);if(v())return!!p&&!!t&&(A(e.options.scrollerSelector,o.cardId),!0);if(!p)return!1;let g=(0,i.eL)(a.state.doc.resolve(p.pos),c.jg);if(!g)return p&&t&&A(e.options.scrollerSelector,p.node.attrs.id),!1;{let e=l.nodeDOM(p.pos);if(!e)return console.warn("[Spotlight.ascendUpToParentCard] Cant find dom node",{domNode:e,presentingCard:p,parentOfPresentingCard:g,node:u,lastSpotlight:o}),!1;let t=g.node.attrs.id,{isSpotlightingBlock:n}=j(a,o);if(n)return a.commands.spotlightNextBlock(!1,{pos:g.pos,cardId:t});(0,r.ki)({cardId:t}),w({editor:a,tr:s,spotlight:{pos:null,cardId:t}}),_(z,x.M2)({element:e})}return!0}},descendIntoCurrentCard:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"replace";return n=>{let{editor:i,tr:a}=n,r=y.n.getState(i.state),l=e||r.pos;if(v())return i.commands.spotlightExpandCard(l);if(!l)return!0;let s=i.view.state.doc.nodeAt(l);if(!(s&&(0,c.jg)(s)&&s.attrs.id!==r.cardId))return!0;let o=s.attrs.id,{isSpotlightingBlock:d}=j(i,r);return(console.debug("[Spotlight.descendIntoCurrentCard]",{node:s,isSpotlightingBlock:d}),d)?i.commands.spotlightNextBlock(!1,{pos:l,cardId:o}):(w({editor:i,tr:a,spotlight:{pos:null,cardId:o},method:t}),setTimeout(()=>{requestAnimationFrame(()=>{N({})})},x.y0),!0)}},spotlightCollapseCard:e=>t=>{let{editor:n,tr:i}=t;if(!v())return n.commands.ascendUpToParentCard();let a=n.view.state.doc.nodeAt(e);if(!a||!(0,c.jg)(a))return console.warn("[Spotlight.spotlightCollapseCard] pos does not resolve to a card node. This is a noop",e),!0;let r=y.n.getState(n.state),l=a.attrs.id;return(0,g.wE)(l,!0),w({editor:n,tr:i,spotlight:r}),(0,s.H1)("editor").scrollElementIntoView({element:n.view.nodeDOM(e),attempts:0,offsetFromTop:null}),!0},spotlightCollapseNearestExpandableNode:e=>t=>{let{editor:n,tr:a}=t,r=y.n.getState(n.state),l=e||n.state.selection.from,o={pos:l,node:n.view.state.doc.nodeAt(l)};if(!o.node||!k(o.node)){let e=(0,i.eL)(n.state.doc.resolve(l),k);o.node=(null==e?void 0:e.node)||null,o.pos=(null==e?void 0:e.pos)||0}let c=o.pos&&(0,m.hT)(n.state.doc,o.pos);if(!o.node||!o.pos||!c||c.node.attrs.id===o.node.attrs.id)return console.warn("[Spotlight.spotlightCollapseNearestExpandableNode] pos does not resolve to a valid collapsible node. This is a noop",o.pos),!1;if(!(c.pos<=o.pos&&c.pos+c.node.nodeSize>=o.pos))return console.warn("[Spotlight.spotlightCollapseNearestExpandableNode] posToUse is outside of the presenting card. This is a noop",o.pos),!1;console.debug("[Spotlight.spotlightCollapseNearestExpandableNode]",{result:o});let u=S(o.node);return u&&((0,s.H1)("editor").scrollElementIntoView({element:n.view.nodeDOM(o.pos),attempts:0,offsetFromTop:null}),o.pos===n.state.selection.from?n.commands.reHighlightExpandableNode():a.setSelection(d.J.create(n.state.doc,o.pos)),C(n,r)&&w({editor:n,tr:a,spotlight:{pos:o.pos,cardId:c.node.attrs.id}})),u},spotlightExpandCard:e=>t=>{let{editor:n}=t,i=y.n.getState(n.state),a=e&&n.view.state.doc.nodeAt(e);if(!a||!(0,c.jg)(a))return console.warn("[Spotlight.spotlightExpandCard] pos does not resolve to a card node. This is a noop",e),!0;let r=a.attrs.id,{isSpotlightingBlock:l}=j(n,i);return(0,g.wE)(r,!1),console.debug("[Spotlight.spotlightExpandCard]",{node:a,isSpotlightingBlock:l}),setTimeout(()=>{l?n.commands.spotlightNextBlock(!1,{pos:e,cardId:r},"smooth"):n.commands.scrollToPositionInCard(e,0,50)},x.M2),!0},spotlightNextExpandedCard:e=>t=>{let{editor:n,commands:i}=t,a=y.n.getState(n.state);if(!a.pos||!a.cardId)return!0;let r=(0,m.hT)(n.state.doc,a.pos),l=(0,f.Oq)(n,a.pos);if(!r||!l)return!0;let s={node:null,pos:null,cardId:null},o=a.pos;return(n.state.doc.descendants((t,i,a)=>{if(!e&&s.pos)return!1;let r=!(0,g.Wq)(t);if(!((0,c.jg)(t)&&r&&(e?i<o:i>o)))return r;let d=t!==l.node||!e;if(!d){let{isSpotlightingFirstBlock:e}=j(n,{pos:o,cardId:t.attrs.id});d=!e}return d&&(s.node=t,s.pos=i,s.cardId=t.attrs.id),r}),s.pos&&s.cardId)?i.spotlightNextBlock(!1,{pos:s.pos,cardId:s.cardId}):(A(this.options.scrollerSelector,r.node.attrs.id),!0)},spotlightNextCard:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top";return n=>{let{editor:a,commands:l,tr:s}=n,o=y.n.getState(a.state),d=o.pos,{isSpotlightingBlock:u,isSpotlightingFirstBlock:p}=j(a,o);if(u&&v())return l.spotlightNextExpandedCard(e);if(!d){let e=(0,f.W0)(a,o.cardId);d=null==e?void 0:e.pos}if(!d)return console.warn("[Spotlight.spotlightNextCard] Could not find posToUse",{lastSpotlight:o}),!1;let h=a.view.state.doc.nodeAt(d),g=!!(h&&e&&u&&!p&&h.attrs.id!==o.cardId),m=h&&o.cardId&&h.attrs.id===o.cardId?{node:h,pos:d}:(0,i.eL)(a.state.doc.resolve(d),c.jg),b=g?m:(null==m?void 0:m.pos)?D(a,m.pos,e):null;if(b&&null!==b.pos){console.debug("[Spotlight.spotlightNextCard] Found next card:",{next:b,posToUse:d,isSpotlightingBlock:u});let n=b.node.attrs.id,i=b.pos;if(u)return a.commands.spotlightNextBlock(!1,{pos:i,cardId:n});(0,r.ki)({cardId:n}),w({editor:a,tr:s,bias:e?1:-1,spotlight:{pos:null,cardId:n}});let l=o.cardId!==n,c="top"==t?N:T;null!==t&&setTimeout(()=>{c({sync:!0,behavior:"auto"})},l?x.y0:0)}else console.debug("[Spotlight.spotlightNextCard] No next node. Will attempt to ascendUp",{lastSpotlight:o,posToUse:d,node:h}),a.commands.ascendUpToParentCard();return!0}},spotlightNextBlock:(e,t,n)=>i=>{let{editor:a,tr:l}=i,s=y.n.getState(a.state);if(!s.cardId)return!0;let o=a.state.selection,u=o instanceof d.J,p=u&&(-1===o.side&&e||1===o.side&&!e)?-1:0,h=u?e?o.to+p:o.from+p:void 0,g=(null==t?void 0:t.cardId)||s.cardId,f=(null==t?void 0:t.pos)||s.pos||h,b=u&&null===s.pos&&(0,c.jg)(o.node)&&1===o.$from.depth,{pos:C,cardId:A,domNode:j}=f&&!b?R(a,g,f,L,e):M(a,s.cardId,this.options.scrollerSelector,e);if(null!==C&&j instanceof HTMLElement){var k;let t=v()?null==(k=(0,m.hT)(a.state.doc,C))?void 0:k.node.attrs.id:A;if(!t)return!0;(0,r.ki)({cardId:t}),console.debug("%c [Spotlight.spotlightNextBlock]","background-color: deeppink",{prevCardId:s.cardId,cardId:t,pos:C}),setTimeout(()=>{z({element:j,behavior:n})},s.cardId===t?0:x.y0),w({editor:a,tr:l,bias:e?1:-1,spotlight:{pos:C,cardId:t}})}else a.commands.ascendUpToParentCard();return!0},spotlightNodeAtPos:e=>t=>{let{editor:n,tr:i}=t,a=y.n.getState(n.state);if(!a.cardId)return!1;let r=a.cardId,l=(0,h.TK)(n.state.doc.resolve(e),e=>L(e)),s=l.reverse().find((e,t)=>!(t!==l.length-1&&I(e.node)));return!!s&&(s.pos!==a.pos?(w({editor:n,tr:i,spotlight:{pos:s.pos,cardId:r}}),!0):n.commands.turnOffSpotlight())},turnOffSpotlight:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t=>{let{editor:n,tr:i}=t,a=y.n.getState(n.state);return w({editor:n,tr:i,spotlight:{pos:null,cardId:e?null:a.cardId}}),!0}},scrollToPositionInCard:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i=>{let{editor:a}=i,r=(0,p.Oc)((0,h.NR)(a,e)),l=null==r?void 0:r.getBoundingClientRect();if(!r||!l)return!0;let s=(t||0)*l.height;return console.debug("%c [Spotlight.scrollToPositionInCard]","background-color: deeppink",JSON.stringify({pos:e,offset:n-s}),r),(0,p.BX)({element:r,color:"deeppink",requiredCookie:"spotlightScrollDebug=true"}),z({element:r,offset:n-s}),!0}},scrollToNodeWithPin:(e,t)=>()=>(console.debug("%c [Spotlight.scrollToNodeWithPin] WITH NODE","background-color: deeppink",{scrollToNode:e}),_(z,x.M2,0)({element:e,offset:t}),!0)}},addProseMirrorPlugins(){return[(0,y._)((e,t)=>L(e,t),this.editor)]}}),D=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.view.state.doc.nodeAt(t),l=r&&(0,c.jg)(r)?{node:r,pos:t}:(0,i.eL)(e.state.doc.resolve(t),c.jg);if(!l)return;let s=e.state.doc.resolve(a?l.pos:l.pos+(null==(n=l.node)?void 0:n.nodeSize)),o=a?s.nodeBefore:s.nodeAfter;if(!o)return;let d=a?s.pos-o.nodeSize:s.pos;if((0,c.jg)(o))return(console.debug("[Spotlight.findNextDirectSiblingCard]",{nextNode:o,nextPos:d}),o.attrs.hidden)?D(e,d,a):{node:o,pos:d}},M=function(e,t,n){var i;let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={node:null,pos:null,cardId:null,domNode:null},l=(null==(i=(0,h.ls)(e,n,135).pos)?void 0:i.inside)||null,s=l?e.state.doc.nodeAt(l):null;if(!l||!s)return r;if(s.attrs.id===t)return R(e,t,l,e=>L(e,t),a);let o=e.state.doc.resolve(l),c=(0,f.Oq)(e,o.before());if(!c)return r;let d=o.before(c.depth+2),u=e.state.doc.nodeAt(d);return u&&L(u,t)?(r.pos=e.state.doc.resolve(d).pos,r.node=u,r.cardId=null==c?void 0:c.node.attrs.id,r.domNode=e.view.nodeDOM(r.pos),r):R(e,t,d,e=>L(e,t),a)},R=function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l={node:null,pos:null,cardId:null,domNode:null},s=e.state.doc.resolve(n),o=e.view.state.doc.nodeAt(n),d=(0,i.eL)(s,e=>(0,c.jg)(e)&&e.attrs.id===t),u=o&&(0,c.jg)(o)&&(null==o?void 0:o.attrs.id)===t?{node:o,pos:n}:d;if(!u)return console.debug("[Spotlight.findNextNode] - No card found:",{cardId:t,from:n,node:o}),l;let p=(e,t)=>{let i=e.attrs.id;e.descendants((s,o)=>{let c=t+o+1,d=a(s,i)&&(r?c<n:c>n);return(!!r||!l.node)&&(d&&(l.node=s,l.pos=c,l.cardId=e.attrs.id),I(s))})};p(u.node,u.pos);let h=u.pos;for(;null===l.pos;){let t=D(e,h,r);if(t)p(t.node,t.pos),h=t.pos;else break}return null!==l.pos&&(l.domNode=e.view.nodeDOM(l.pos)),console.debug("[Spotlight.findNextNode]",{result:l}),l},_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i=>{let a,r={...i,sync:!0,behavior:"auto"};e(r);let l=!1;Promise.race([new Promise(e=>setTimeout(()=>e(!1),n+t+300)),new Promise(e=>{a=()=>e(!0),i.element.addEventListener("transitionend",a)})]).then(e=>{console.debug("[scrollTo withDurationPin] transitionend race result",e),l=!0}).finally(()=>{i.element.removeEventListener("transitionend",a)});let s=+new Date,o=()=>requestAnimationFrame(()=>{e(r),(new Date-s<t+n||!l)&&o()});setTimeout(o,n)}},z=e=>{var t;let{element:n,sync:i=!1,behavior:a="smooth",offset:r}=e;if(!(0,p.IK)(n)){let e=n.querySelector("[data-content-reference]");if(!e||!(0,p.IK)(e))return;n=e}let l=(0,s.H1)("editor");if(!(null==(t=l.scroller)?void 0:t.clientHeight))return;let o=(0,p.sR)(n,l.scrollSelector),c=n.clientHeight/2,d=.45*l.scroller.clientHeight-c,u=o-Math.max(void 0!==r?r:d,125);l.scrollTo({top:u,sync:i,behavior:a})},N=e=>{let{sync:t=!1,behavior:n="smooth"}=e;(0,s.H1)("editor").scrollTo({top:0,behavior:n,sync:t})},T=e=>{let{sync:t=!1,behavior:n="smooth"}=e,i=(0,s.H1)("editor"),a=i.scroller;a&&i.scrollTo({top:a.scrollHeight,behavior:n,sync:t})}},61292:(e,t,n)=>{"use strict";function i(e){let t=e.cached.tableNodeTypes;if(!t)for(let n in t=e.cached.tableNodeTypes={},e.nodes){let i=e.nodes[n],a=i.spec.tableRole;a&&(t[a]=i)}return t}n.d(t,{e:()=>i})},61651:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});let i={LIGHT_BG:"gray.200",LIGHT_COLOR:"gray.300",LIGHT_ICON_COLOR:"gray.400",LIGHT_BTN_HOVER_BG:"gray.50",LIGHT_BTN_HOVER_COLOR:"gray.500",LIGHT_AI_BTN_HOVER_BG:"trueblue.100",LIGHT_AI_BTN_HOVER_COLOR:"trueblue.300",DARK_BG:"gray.700",DARK_COLOR:"gray.600",DARK_ICON_COLOR:"gray.600",DARK_BTN_HOVER_BG:"gray.600",DARK_BTN_HOVER_COLOR:"gray.400",DARK_AI_BTN_HOVER_BG:"trueblue.800",DARK_AI_BTN_HOVER_COLOR:"trueblue.300",LIGHT_GALLERY_BG:"gray.50",DARK_GALLERY_BG:"gray.800"}},61679:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});let i={IMAGE_ICON:"image.icon",IMAGE_PICTOGRAPHIC_ICON:"image.pictographic.icon"},a=e=>!!e&&(e===i.IMAGE_ICON||e===i.IMAGE_PICTOGRAPHIC_ICON)},61766:(e,t,n)=>{"use strict";n.d(t,{z:()=>h,J:()=>g});var i=n(37243);n(91566);var a=n(46829),r=n(63867),l=n(68301);let s=i.bP.create({name:"math_display",group:"block math",content:"text*",atom:!0,code:!0,renderHTML(e){let{HTMLAttributes:t}=e;return["math-display",(0,i.KV)(t,{class:"math-node"}),0]},renderHTMLforAI:e=>["formula",e.HTMLAttributes,0],parseHTML:()=>[{tag:"math-display"},{tag:"formula"}]});var o=n(72055);let c=i.bP.create({name:"math_inline",group:"inline math",content:"text*",inline:!0,atom:!0,renderHTML(e){let{HTMLAttributes:t}=e;return["math-inline",(0,i.KV)(t,{class:"math-node"}),0]},renderHTMLforAI:e=>["math",e.HTMLAttributes,0],parseHTML:()=>[{tag:"math-inline"},{tag:"math"}],addCommands(){return{insertMathInline:()=>e=>{let{state:t,dispatch:n,view:i}=e;return(0,o.CH)(this.type," ")(t,n,i)},convertToMathInline:()=>e=>{let{state:t,chain:n}=e,i=t.doc.textBetween(t.selection.from,t.selection.to);return n().insertContent({type:"math_inline",content:[{type:"text",text:i}]}).run(),!0}}}});n(98026);let d=/\$([^ $]+)\$[ ]$/,u=/^\${2}\s+$/,p=/^\${2}(.+)\${2}$/,h=i.YY.create({name:"math",addExtensions:()=>[c,s],addProseMirrorPlugins(){let e=l.of.get("math")?[new r.k_({props:{clipboardTextSerializer:e=>o.ju.serializeSlice(e)}}),(0,a.sM)({rules:[(0,o.sV)(u,this.editor.schema.nodes.math_display),(0,o.sV)(p,this.editor.schema.nodes.math_display),(0,o.C1)(d,this.editor.schema.nodes.math_inline)]})]:[];return[(0,o.CO)({undo:()=>this.editor.commands.undo(),redo:()=>this.editor.commands.redo()})].concat(e)}}),g=e=>"math_display"===e.type.name||"math_inline"===e.type.name},61964:(e,t,n)=>{"use strict";n.d(t,{rn:()=>a.HT,J3:()=>s.J,cq:()=>Z.cq,gC:()=>Z.gC,JD:()=>Z.JD,AL:()=>F,Tn:()=>Z.Tn,Kl:()=>Z.Kl,QN:()=>Z.QN,rO:()=>Z.rO,CG:()=>Z.CG,lD:()=>Z.lD,rP:()=>d,D8:()=>Z.D8,aH:()=>o.aH,w7:()=>Z.w7,_t:()=>Z._t,i4:()=>Z.i4,L0:()=>Z.L0,LF:()=>K,_G:()=>Z._G,Qg:()=>Z.Qg,uC:()=>Z.uC});var i=n(63867),a=n(46675),r=n(56124),l=n(61292),s=n(48413),o=n(14503);let c=new i.hs("fix-tables");function d(e,t){let n,i=(t,i)=>{"table"!=t.type.spec.tableRole||(0,r.VM)(t)||(n=function(e,t,n,i){let a,r,d=s.J.get(t);if(!d.problems)return i;i||(i=e.tr);let u=[];for(let e=0;e<d.height;e++)u.push(0);for(let e=0;e<d.problems.length;e++){let a=d.problems[e];if("collision"==a.type){let e=t.nodeAt(a.pos);for(let t=0;t<e.attrs.rowspan;t++)u[a.row+t]+=a.n;i.setNodeMarkup(i.mapping.map(n+1+a.pos),void 0,(0,o.Pn)(e.attrs,e.attrs.colspan-a.n,a.n))}else if("missing"==a.type)u[a.row]+=a.n;else if("overlong_rowspan"==a.type){let e=t.nodeAt(a.pos);i.setNodeMarkup(i.mapping.map(n+1+a.pos),void 0,(0,o.ob)(e.attrs,"rowspan",e.attrs.rowspan-a.n))}else if("colwidth mismatch"==a.type){let e=t.nodeAt(a.pos);i.setNodeMarkup(i.mapping.map(n+1+a.pos),void 0,(0,o.ob)(e.attrs,"colwidth",a.colwidth))}}for(let e=0;e<u.length;e++)u[e]&&(null==a&&(a=e),r=e);for(let s=0,o=n+1;s<d.height;s++){let n=t.child(s),c=o+n.nodeSize,d=u[s];if(d>0){let t="cell";n.firstChild&&(t=n.firstChild.type.spec.tableRole);let u=[];for(let n=0;n<d;n++)u.push((0,l.e)(e.schema)[t].createAndFill());let p=(0==s||a==s-1)&&r==s?o+1:c-1;i.insert(i.mapping.map(p),u)}o=c}return i.setMeta(c,{fixTables:!0})}(e,t,i,n))};return t?t.doc!=e.doc&&function e(t,n,i,a){let r=t.childCount,l=n.childCount;e:for(let s=0,o=0;s<l;s++){let l=n.child(s);for(let e=o,n=Math.min(r,s+3);e<n;e++)if(t.child(e)==l){o=e+1,i+=l.nodeSize;continue e}a(l,i),o<r&&t.child(o).sameMarkup(l)?e(t.child(o),l,i+1,a):l.nodesBetween(0,l.content.size,a,i+1),i+=l.nodeSize}}(t.doc,e.doc,0,i):e.doc.descendants(i),n}var u=n(89217),p=n(94289),h=n(62040);function g(e,t){let n=e.createAndFill();return new h.dL(n).replace(0,n.content.size,t).doc}function m(e,t,n,i,a,r,l,s){if(0==l||l==t.height)return!1;let c=!1;for(let d=a;d<r;d++){let a=l*t.width+d,r=t.map[a];if(t.map[a-t.width]==r){c=!0;let a=n.nodeAt(r),{top:u,left:p}=t.findCell(r);e.setNodeMarkup(e.mapping.slice(s).map(r+i),void 0,(0,o.ob)(a.attrs,"rowspan",l-u)),e.insert(e.mapping.slice(s).map(t.positionAt(l,p,n)),a.type.createAndFill((0,o.ob)(a.attrs,"rowspan",u+a.attrs.rowspan-l))),d+=a.attrs.colspan-1}}return c}function x(e,t,n,i,a,r,l,s){if(0==l||l==t.width)return!1;let c=!1;for(let d=a;d<r;d++){let a=d*t.width+l,r=t.map[a];if(t.map[a-1]==r){c=!0;let a=n.nodeAt(r),u=t.colCount(r),p=e.mapping.slice(s).map(r+i);e.setNodeMarkup(p,void 0,(0,o.Pn)(a.attrs,l-u,a.attrs.colspan-(l-u))),e.insert(p+a.nodeSize,a.type.createAndFill((0,o.Pn)(a.attrs,0,l-u))),d+=a.attrs.rowspan-1}}return c}function f(e,t,n,i,r){let o=n?e.doc.nodeAt(n-1):e.doc,c=s.J.get(o),{top:d,left:u}=i,h=u+r.width,g=d+r.height,f=e.tr,b=0;function y(){o=n?f.doc.nodeAt(n-1):f.doc,c=s.J.get(o),b=f.mapping.maps.length}(function(e,t,n,i,a,r,s){let o,c,d=e.doc.type.schema,u=(0,l.e)(d);if(a>t.width)for(let r=0,l=0;r<t.height;r++){let s=n.child(r);l+=s.nodeSize;let d=[],p=null==s.lastChild||s.lastChild.type==u.cell?o||(o=u.cell.createAndFill()):c||(c=u.header_cell.createAndFill());for(let e=t.width;e<a;e++)d.push(p);e.insert(e.mapping.slice(0).map(l-1+i),d)}if(r>t.height){let l=[];for(let e=0,i=(t.height-1)*t.width;e<Math.max(t.width,a);e++){let a=!(e>=t.width)&&n.nodeAt(t.map[i+e]).type==u.header_cell;l.push(a?c||(c=u.header_cell.createAndFill()):o||(o=u.cell.createAndFill()))}let d=u.row.create(null,p.FK.from(l)),h=[];for(let e=t.height;e<r;e++)h.push(d);e.insert(e.mapping.slice(s).map(i+n.nodeSize-2),h)}return!!(o||c)})(f,c,o,n,h,g,0)&&y(),m(f,c,o,n,u,h,d,b)&&y(),m(f,c,o,n,u,h,g,b)&&y(),x(f,c,o,n,d,g,u,b)&&y(),x(f,c,o,n,d,g,h,b)&&y();for(let e=d;e<g;e++){let t=c.positionAt(e,u,o),i=c.positionAt(e,h,o);f.replace(f.mapping.slice(b).map(t+n),f.mapping.slice(b).map(i+n),new p.Ji(r.rows[e-d],0,0))}y(),f.setSelection(new a.HT(f.doc.resolve(n+c.positionAt(d,u,o)),f.doc.resolve(n+c.positionAt(g-1,h-1,o)))),t(f)}let b=(0,u.K)({ArrowLeft:v("horiz",-1),ArrowRight:v("horiz",1),ArrowUp:v("vert",-1),ArrowDown:v("vert",1),"Shift-ArrowLeft":C("horiz",-1),"Shift-ArrowRight":C("horiz",1),"Shift-ArrowUp":C("vert",-1),"Shift-ArrowDown":C("vert",1),Backspace:w,"Mod-Backspace":w,Delete:w,"Mod-Delete":w});function y(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function v(e,t){return(n,r,l)=>{let s=n.selection;if(s instanceof a.HT)return y(n,r,i.LN.near(s.$headCell,t));if("horiz"!=e&&!s.empty)return!1;let c=k(l,e,t);if(null==c)return!1;if("horiz"==e)return y(n,r,i.LN.near(n.doc.resolve(s.head+t),t));{let a=n.doc.resolve(c),l=(0,o.oD)(a,e,t),s;return s=l?i.LN.near(l,1):t<0?i.LN.near(n.doc.resolve(a.before(-1)),-1):i.LN.near(n.doc.resolve(a.after(-1)),1),y(n,r,s)}}}function C(e,t){return(n,i,r)=>{let l=n.selection;if(!(l instanceof a.HT)){let i=k(r,e,t);if(null==i)return!1;l=new a.HT(n.doc.resolve(i))}let s=(0,o.oD)(l.$headCell,e,t);return!!s&&y(n,i,new a.HT(l.$anchorCell,s))}}function w(e,t){let n=e.selection;if(!(n instanceof a.HT))return!1;if(t){let i=e.tr,a=(0,l.e)(e.schema).cell.createAndFill().content;n.forEachCell((e,t)=>{e.content.eq(a)||i.replace(i.mapping.map(t+1),i.mapping.map(t+e.nodeSize-1),new p.Ji(a,0,0))}),i.docChanged&&t(i)}return!0}function A(e,t,n){if(!(0,o.aH)(e.state.selection))return!1;let i=function(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:i}=e;for(;1==t.childCount&&(n>0&&i>0||"table"==t.firstChild.type.spec.tableRole);)n--,i--,t=t.firstChild.content;let a=t.firstChild,r=a.type.spec.tableRole,s=a.type.schema,o=[];if("row"==r)for(let e=0;e<t.childCount;e++){let a=t.child(e).content,r=e?0:Math.max(0,n-1),c=e<t.childCount-1?0:Math.max(0,i-1);(r||c)&&(a=g((0,l.e)(s).row,new p.Ji(a,r,c)).content),o.push(a)}else{if("cell"!=r&&"header_cell"!=r)return null;o.push(n||i?g((0,l.e)(s).row,new p.Ji(t,n,i)).content:t)}return function(e,t){let n=[];for(let e=0;e<t.length;e++){let i=t[e];for(let t=i.childCount-1;t>=0;t--){let{rowspan:a,colspan:r}=i.child(t).attrs;for(let t=e;t<e+a;t++)n[t]=(n[t]||0)+r}}let i=0;for(let e=0;e<n.length;e++)i=Math.max(i,n[e]);for(let a=0;a<n.length;a++)if(a>=t.length&&t.push(p.FK.empty),n[a]<i){let r=(0,l.e)(e).cell.createAndFill(),s=[];for(let e=n[a];e<i;e++)s.push(r);t[a]=t[a].append(p.FK.from(s))}return{height:t.length,width:i,rows:t}}(s,o)}(n),r=e.state.selection;if(r instanceof a.HT){i||(i={width:1,height:1,rows:[p.FK.from(g((0,l.e)(e.state.schema).cell,n))]});let t=r.$anchorCell.node(-1),a=r.$anchorCell.start(-1),c=s.J.get(t).rectBetween(r.$anchorCell.pos-a,r.$headCell.pos-a);return i=function(e,t,n){let{width:i,height:a,rows:r}=e;if(i!=t){let e=[],n=[];for(let i=0;i<r.length;i++){let a=r[i],l=[];for(let n=e[i]||0,r=0;n<t;r++){let s=a.child(r%a.childCount);n+s.attrs.colspan>t&&(s=s.type.create((0,o.Pn)(s.attrs,s.attrs.colspan,n+s.attrs.colspan-t),s.content)),l.push(s),n+=s.attrs.colspan;for(let t=1;t<s.attrs.rowspan;t++)e[i+t]=(e[i+t]||0)+s.attrs.colspan}n.push(p.FK.from(l))}r=n,i=t}if(a!=n){let e=[];for(let t=0,i=0;t<n;t++,i++){let l=[],s=r[i%a];for(let e=0;e<s.childCount;e++){let i=s.child(e);t+i.attrs.rowspan>n&&(i=i.type.create((0,o.ob)(i.attrs,"rowspan",Math.max(1,n-i.attrs.rowspan)),i.content)),l.push(i)}e.push(p.FK.from(l))}r=e,a=n}return{width:i,height:a,rows:r}}(i,c.right-c.left,c.bottom-c.top),f(e.state,e.dispatch,a,c,i),!0}if(!i)return!1;{let t=(0,o.t6)(e.state.selection),n=t.start(-1);return f(e.state,e.dispatch,n,s.J.get(t.node(-1)).findCell(t.pos-n),i),!0}}function j(e,t){var n;let i;if(t.ctrlKey||t.metaKey)return!1;let r=S(e,t.target);if(t.shiftKey&&e.state.selection instanceof a.HT)l(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(i=(0,o.KW)(e.state.selection.$anchor))&&(null==(n=L(e,t))?void 0:n.pos)!=i.pos)l(i,t),t.preventDefault();else if(!r)return!1;function l(t,n){let i=L(e,n),r=null==o.dX.getState(e.state);if(!i||!(0,o.kV)(t,i))if(!r)return!1;else i=t;let l=new a.HT(t,i);if(r||!e.state.selection.eq(l)){let n=e.state.tr.setSelection(l);r&&n.setMeta(o.dX,t.pos),e.dispatch(n)}}function s(){e.root.removeEventListener("mouseup",s),e.root.removeEventListener("dragstart",s),e.root.removeEventListener("mousemove",c),null!=o.dX.getState(e.state)&&e.dispatch(e.state.tr.setMeta(o.dX,-1))}function c(n){let i=o.dX.getState(e.state),a;if(null!=i)a=e.state.doc.resolve(i);else if(S(e,n.target)!=r&&!(a=L(e,t)))return s();a&&l(a,n)}return e.root.addEventListener("mouseup",s),e.root.addEventListener("dragstart",s),e.root.addEventListener("mousemove",c),!1}function k(e,t,n){if(!(e.state.selection instanceof i.U3))return null;let{$head:a}=e.state.selection;for(let i=a.depth-1;i>=0;i--){let r=a.node(i);if((n<0?a.index(i):a.indexAfter(i))!=(n<0?0:r.childCount))break;if("cell"==r.type.spec.tableRole||"header_cell"==r.type.spec.tableRole){let r=a.before(i),l="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?r:null}}return null}function S(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function L(e,t){let n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?(0,o.KW)(e.state.doc.resolve(n.pos)):null}var I=n(50333),E=n.n(I),D=n(97255),M=n(5061),R=n(38537),_=n(60122),z=n(46814),N=n(56603);let T=new i.hs("tableColumnResizing");class P{getActiveHandleAbs(e){return null===this.activeHandle?null:(0,N.d_)(e,this.activeHandle)}reset(){return this.activeHandle=null,this.dragging=null,this}setHandle(e,t){if(null===t.setHandle)return this.activeHandle=null,this;let n=_.pJ.getState(e);if(!n)return this;let{type:i,binding:a}=n;return this.activeHandle=(0,z.Bw)(t.setHandle,i,a.mapping),this}setDragging(e){return this.dragging=e.setDragging,this}apply(e,t){let n=e.getMeta(T);return n&&"setHandle"in n?this.setHandle(t,n):n&&"setDragging"in n?this.setDragging(n):n&&"reset"in n?this.reset():this}constructor(e=null,t=null){this.activeHandle=e,this.dragging=t}}var H=n(39078);function F(){let{handleWidth:e=5,colMinPercent:t=10,lastColumnResizable:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i.k_({key:T,state:{init:()=>new P,apply:(e,t,n,i)=>t.apply(e,i)},props:{attributes:e=>null!==T.getState(e).getActiveHandleAbs(e)?{class:"resize-cursor"}:{class:""},handleDOMEvents:{mousemove:(t,i)=>((function(e,t,n,i){if(!e.editable)return;let a=T.getState(e.state);if(a.dragging)return;let r=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target),l=null;if(r){let i=(0,M.ix)(),{left:a,right:s}=r.getBoundingClientRect();i?s-t.clientX<=n?l=B(e,t,"left"):t.clientX-a<=n&&(l=B(e,t,"right")):t.clientX-a<=n?l=B(e,t,"left"):s-t.clientX<=n&&(l=B(e,t,"right"))}if(l!==a.getActiveHandleAbs(e.state)){if(!i&&null!==l&&W(e.state.doc.resolve(l)))return;O(e,l)}})(t,i,e,n),!1),mouseleave:e=>((function(e){let t=T.getState(e.state);null===t.getActiveHandleAbs(e.state)||t.dragging||O(e,null)})(e),!1),mousedown:(e,n)=>((function(e,t,n){if(!e.editable)return;let a=T.getState(e.state),r=a.getActiveHandleAbs(e.state);if(null===r||a.dragging)return;let l=e.state.doc.resolve(r),s=l.node(-1),o=l.start(-1),c=[...s.attrs.colWidths],d=V(l),u=function(e,t){let n=e.domAtPos(t),i=e.domAtPos(t).node;for(;"TABLE"!=i.nodeName;)i=i.parentNode;return n.node.childNodes[n.offset].scrollWidth}(e,r),p=U(e,l),h=G(e,l),g=e.state.doc.resolve(r+2);e.state.selection.from>o&&e.state.selection.from<o+s.nodeSize||e.dispatch(e.state.tr.setSelection(i.LN.findFrom(g,1)));let m={setDragging:{startX:t.clientX,startWidth:u,colWidths:c,tableWidth:h,colIndex:d}};e.dispatch(e.state.tr.setMeta(T,m));let x=null;function f(t){window.removeEventListener("mouseup",f),window.removeEventListener("mousemove",b);let n=T.getState(e.state);if(n.dragging){if(null===x)return void e.dispatch(e.state.tr.setMeta(T,{setDragging:null}));if(n.dragging)try{let t=n.getActiveHandleAbs(e.state);(function(e,t,n){let i=e.state.doc.resolve(t).before(-1),a=e.state.tr;e.dispatch(a.setNodeMarkup(i,void 0,{colWidths:[...n]}).setMeta("annotationEvent",{type:"update-node-attrs",pos:i}))})(e,t,x),e.dispatch(e.state.tr.setMeta(T,{setDragging:null}))}catch(t){e.dispatch(e.state.tr.setMeta(T,{reset:!0}))}x=null}}function b(t){if(!t.which)return f(t);let i=T.getState(e.state),a=i.getActiveHandleAbs(e.state);if(!i.dragging||null===a)return;let{colIndex:r,colWidths:l}=i.dragging,s=function(e,t){let{tableWidth:n}=e,i=t.clientX-e.startX,a=(0,M.ix)()?-i:i;return E()(100*a/n,2)}(i.dragging,t);(function(e,t,n){let i=e.state.doc.resolve(t),a=U(e,i).querySelectorAll("colgroup > col.col-width-control");n.forEach((e,t)=>{a.item(t).style.width="".concat(e,"%")})})(e,a,x=(0,H.H0)(l,r,s,n)),(0,R.i$)(p)}window.addEventListener("mouseup",f),window.addEventListener("mousemove",b),t.preventDefault()})(e,n,t),!1)},decorations(e){let t=T.getState(e).getActiveHandleAbs(e);if(null!==t)return function(e,t){let n=[];try{let i=e.doc.resolve(t),a=i.node(-1),r=s.J.get(a),l=i.start(-1),o=r.colCount(i.pos-l)+i.nodeAfter.attrs.colspan;for(let e=0;e<r.height;e++){let t=o+e*r.width-1;if((o==r.width||r.map[t]!=r.map[t+1])&&(0==e||r.map[t-1]!=r.map[t-1-r.width])){let e=r.map[t],i=l+e+a.nodeAt(e).nodeSize-1,s=document.createElement("div");s.className="column-resize-handle",n.push(D.NZ.widget(i,s))}}return D.zF.create(e.doc,n)}catch(e){return console.error("(caught) columnResizing error: ".concat(e.message)),D.zF.empty}}(e,t)},nodeViews:{}}})}function B(e,t,n){let i=e.posAtCoords({left:t.clientX,top:t.clientY});if(!i)return null;let{inside:a}=i,r=(0,o.KW)(e.state.doc.resolve(a+1));if(!r)return null;if("right"===n)return r.pos;let l=s.J.get(r.node(-1)),c=r.start(-1),d=l.map.indexOf(r.pos-c);return d%l.width==0?null:c+l.map[d-1]}function O(e,t){e.dispatch(e.state.tr.setMeta(T,{setHandle:t}))}let V=e=>{let t=e.node(-1),n=s.J.get(t),i=e.start(-1);return n.colCount(e.pos-i)},W=e=>{let t=e.node(-1),n=s.J.get(t);return V(e)===n.width-1},U=(e,t)=>{let n=e.domAtPos(t.start(-1)).node;for(;"TABLE"!=n.nodeName;)n=n.parentNode;return n},G=(e,t)=>U(e,t).scrollWidth;var Z=n(96197);function K(){let{allowTableNodeSelection:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i.k_({key:o.dX,state:{init:()=>null,apply(e,t){let n=e.getMeta(o.dX);if(null!=n)return -1==n?null:n;if(null==t||!e.docChanged)return t;let{deleted:i,pos:a}=e.mapping.mapResult(t);return i?null:a}},props:{decorations:a.lz,handleDOMEvents:{mousedown:j},createSelectionBetween:e=>null!=o.dX.getState(e.state)?e.state.selection:null,handleKeyDown:b,handlePaste:A},appendTransaction:(t,n,i)=>(0,a.Wz)(i,d(i,n),e)})}},62590:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var i=n(37243),a=n(33201),r=n(58082),l=n(47665);let s=(e,t)=>{let n,s,{state:o}=e;if(!o)return;let c=[];try{(n=(0,i.eL)(null==e?void 0:e.state.doc.resolve(o.selection.from),l.jg))&&(c=(0,a.j5)(e,n.pos),s=(0,r.x)(c,t).isCardDark)}catch(e){console.error(e)}return s}},62695:(e,t,n)=>{"use strict";n.d(t,{B:()=>o,j:()=>s});var i=n(55729),a=n(15342),r=n(15350),l=n(9119);let s=(e,t)=>(0,i.useCallback)(()=>{e.chain().focus().selectNodeAtPos(t(),!1).run(),setTimeout(()=>{e.view.focus()})},[e,t]),o=()=>{let e=(0,a.jL)(),t=(0,a.GV)(r.Pj),n=(0,a.GV)(r.kW),s=(0,a.GV)(l.HF);return{currentMediaDrawerSourceKey:t,isQuickAction:n,setMediaDrawerSourceKeyAction:(0,i.useCallback)(function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e((0,r.st)({sourceKey:t,overrideDefault:n}))},[e]),currentEditBackgroundDrawerSourceKey:s,setBackgroundDrawerSourceKeyAction:(0,i.useCallback)(t=>{e((0,l.mR)({sourceKey:t}))},[e])}}},62917:(e,t,n)=>{"use strict";n.d(t,{Ub:()=>r,Bz:()=>i.B,j8:()=>i.j}),n(84343);var i=n(62695);let a=["image.custom","image.web","image.ai-generated","accent.theme"],r=e=>a.includes(e)},62961:(e,t,n)=>{"use strict";n.d(t,{v:()=>g});var i=n(6029),a=n(19564),r=n(55729),l=n(88586),s=n(82328),o=n(75748),c=n(53587),d=n(66079),u=n(52762),p=n(92198);let h=(e,t)=>{if(!e.source&&e.type===u.h.IMAGE){var n;return null==(n=e.image)?void 0:n.source}return!e.source&&t?d.dO:e.source},g=(0,r.memo)(e=>{let{editor:t,defaultMessage:n,isDark:u,setCurrentSourceKey:g,currentSourceKey:m,currentSource:x,updateCurrentBackground:f,currentBackground:b,isValidSource:y,editType:v="background",contextualTheme:C,defaultToNoBackgroundSource:w=!1,closeDrawer:A}=e,{isConnected:j}=(0,s.u)(),k=(0,r.useCallback)(e=>{let t=d.Fn[e];t.backgroundType&&f({type:t.backgroundType,source:e,[t.backgroundType]:void 0})},[f]),S=(0,r.useCallback)(()=>k(m),[m,k]),L=(0,r.useCallback)(e=>{e===d.dO&&k(d.dO),g(e)},[g,k]),I=h(b,w);(0,r.useEffect)(()=>{I&&d.Fn[I]&&g(I)},[I,g]);let E=!!(j||(null==x?void 0:x.availableOffline)),D=d.ez[m],M="themeBackground"===v?l.rWX.Theme:l.rWX.Doc;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.r,{isConnected:E,description:(0,i.jsx)(a.x6,{id:"nfjtFu"}),mb:3,my:6}),(0,i.jsx)(p.H,{isValidSource:y,onChange:L,currentSource:x}),x&&(0,i.jsx)(D,{closeDrawer:A,editor:t,updateAttributes:e=>{x.backgroundType&&(x.key===c.j?f(e):f({type:x.backgroundType,[x.backgroundType]:{...e},source:m}))},currentAttributes:(e=>x.backgroundType?x.key===c.j?e:e[x.backgroundType]||{}:{})(b),resetToPlaceholder:S,editType:v,isDark:u,contextualTheme:C,savedMediaContext:M}),m===d.dO&&n]})});g.displayName="BackgroundPanel"},62964:(e,t,n)=>{"use strict";n.d(t,{VG:()=>E,Yq:()=>I,Sf:()=>k});var i=n(6029),a=n(57405),r=n(23293),l=n(58959),s=n(38036),o=n(49611),c=n(64268),d=n(51504),u=n(19564),p=n(77650),h=n(55729),g=n(15342),m=n(43634),x=n(60908),f=n(15577);let b={thumbnail:void 0,embed:void 0,meta:void 0,sourceUrl:void 0},y=e=>{let{links:{icon:t},meta:{title:n,description:i,duration:a,site:r,medium:l}={}}=e;return{...Object.entries({title:null==n?void 0:n.slice(0,200),description:null==i?void 0:i.slice(0,500),duration:a,site:r,medium:l}).reduce((e,t)=>{let[n,i]=t;return i?{...e,[n]:i}:e},{}),icon:t&&t[0]?t[0].href:void 0}},v=async e=>{var t,n,i,a,r,l;let s=await fetch("https://cdn.iframe.ly/api/iframely/?url=".concat(encodeURIComponent(e),"&key=").concat("a68bac8b6624d46b6d0ba46e5b3f8971","&iframe=1&omit_script=1")),o=await s.json();if(console.debug("[Iframely]",o),o.error)return Promise.reject(o);let{html:c,links:d,meta:u}=o,{player:p,reader:h,app:g,thumbnail:m}=d,x=p||h||g,f=x?x.filter(e=>"text/html"===e.type&&e.href)[0]||x[0]:null,b=u&&!u.xframe&&(!u.csp||!u.csp.includes("frame-ancestors"));return{sourceUrl:(null==u?void 0:u.canonical)||e,embed:f?{url:f.href,html:c,height:null==(t=f.media)?void 0:t.height,width:(null==(n=f.media)?void 0:n.width)||(null==(i=f.media)?void 0:i["max-width"]),aspectRatio:null==(a=f.media)?void 0:a["aspect-ratio"]}:b?{url:e}:void 0,meta:y(o),thumbnail:m&&m[0]?{src:m[0].href,height:null==(r=m[0].media)?void 0:r.height,width:null==(l=m[0].media)?void 0:l.width}:void 0}};var C=n(20502),w=n(77569),A=n(58964),j=n(83488);let k=e=>{try{var t,n;let i=new DOMParser().parseFromString(e,"text/html");return(null==(t=i.querySelector("iframe"))?void 0:t.src)||(null==(n=i.querySelector("blockquote"))?void 0:n.cite)||!1}catch(e){return!1}},S=e=>{let t=e.match(/^https?:\/\/www\.tiktok\.com/),n=e.match(/^https?:\/\/(www\.|staging\.)?gamma.app/);return t||n},L=async e=>{var t,n,i,a,r;let l,s;try{if(S(e)){let t=e.split("?")[0];l=await v(t)}else l=await v(e)}catch(t){if(403===t.status||404===t.status||415===t.status){for(let{key:t,urlRegex:n,canEmbedPrivate:i,defaultDisplayStyle:a}of A.NR)if(n&&e.match(n)&&i)return{...b,source:t,proxy:!1,url:e,meta:{title:p.Ru._({id:"SuoEIZ"})},sourceUrl:e,displayStyle:a||"inline"}}throw Error("Code: ".concat(t.status,". Message: ").concat(t.error))}if(!l)throw Error("No link metadata found");for(let{key:e,urlRegex:t}of A.NR)if(t&&(null==(a=l.sourceUrl)?void 0:a.match(t))){s=e;break}if(s){let e=A.Dc[s];return{...b,...l,source:s,proxy:!1,url:(null==(r=l.embed)?void 0:r.url)||l.sourceUrl,displayStyle:e.defaultDisplayStyle}}return(null==(t=l.meta)?void 0:t.medium)=="audio"||(null==(n=l.meta)?void 0:n.medium)==="video"?{...b,...l,source:w.G.key}:(null==(i=l.embed)?void 0:i.url)?{...b,...l,source:j.J.key,proxy:!1,url:l.embed.url}:{...b,...l,source:j.J.key,proxy:!0,url:e}},I=async(e,t)=>await L(e).then(e=>(t(e),e)).then(e=>D(e,t)),E=e=>{let{currentUrl:t="",updateAttributes:n,handleSubmit:g,handleDataSubmit:m,placeholder:b,noHeader:y}=e,[v,C]=(0,h.useState)(t||""),[w,A]=(0,h.useState)(),j=v!==t;(0,h.useEffect)(()=>{t&&C(t)},[t]),(0,h.useEffect)(()=>{A(void 0)},[v]);let S=(0,h.useCallback)(e=>{if(0===e.indexOf("data:")){if(m){try{(0,x.Xz)(e)}catch(e){A(p.Ru._({id:"YqH0TR"}));return}return m(e)}return void A(p.Ru._({id:"YqH0TR"}))}let t=k(e);return(t&&(e=t),(0,f.Se)(e)||(e="https://"+e,(0,f.AY)(e)))?g?g(e):n?I(e,n).catch(e=>{console.error("Error fetching URL",e),A(p.Ru._({id:"dZyJFB"}))}):void console.error("No submit handler provided"):void A(p.Ru._({id:"YqH0TR"}))},[m,g,n]),L=(0,h.useCallback)(()=>{S(v.trim())},[S,v]),E=(0,h.useCallback)(e=>{t||S(e.clipboardData.getData("text/plain").trim())},[t,S]);return(0,i.jsxs)(a.T,{align:"flex-start",spacing:4,w:"100%",children:[!y&&(0,i.jsx)(r.D,{size:"md",children:(0,i.jsx)(u.x6,{id:"D89ve+"})}),(0,i.jsxs)(l.z,{align:"flex-start",spacing:2,w:"100%",children:[(0,i.jsx)(s.p,{placeholder:b,onKeyDown:e=>{"Enter"===e.key&&L()},onPaste:E,value:v,onChange:e=>C(e.target.value),flex:1,"data-testid":"url-input"}),(0,i.jsx)(o.$,{onClick:L,isDisabled:!j,children:(0,i.jsx)(u.x6,{id:"4pSxwB"})})]}),w&&(0,i.jsxs)(c.F,{status:"error",children:[(0,i.jsx)(d._,{}),w]})]})},D=async(e,t)=>{let n=(0,g.KA)().getState(),i=(0,m.aQ)(n);if(!i)return void console.error("[uploadIframelyThumbnail] No orgId specified, bailing");let a={...e.thumbnail},r=a.src;if(r&&void 0!==a)try{await (0,C.j_)(r,i,{onUploadComplete:e=>(a&&(a.src=e.src,a.width=e.meta.width,a.height=e.meta.height,t({thumbnail:a})),Promise.resolve()),onOriginalFileUpload:e=>(a&&(a.src=e.src,a.width=e.meta.width,a.height=e.meta.height,t({thumbnail:a})),Promise.resolve()),onUploadFailed:e=>(console.error("[iframely] Thumbnail upload error: ",e),Promise.reject())},"iframelyThumbnail")}catch(e){console.error("[iframely] Thumbnail upload error: ",e)}}},63255:(e,t,n)=>{"use strict";n.d(t,{WI:()=>o,X0:()=>c});var i=n(43944),a=n(8266);let r=[...Array(i.uw+1).keys()],l="1.6em",s=["disc","circle","square"],o=e=>({listStyle:s[e%s.length],paddingStart:"0.4em",_after:{ps:"0.4em"},marginStart:"calc(".concat(e+1," * ").concat(l," - 0.4em)")}),c={[a.UX]:{margin:"0",marginBottom:a.X8,textAlign:"start","&.first-block":{marginTop:a.jz}},"ol.block-numbered":{listStyle:"none"},".block-todo":{listStyle:"none","label.chakra-checkbox":{pointerEvents:"none",".chakra-checkbox__control":{pointerEvents:"auto",width:"1em",height:"1em",top:"calc(0.5lh - 0.5em)",position:"relative",borderRadius:"var(--box-border-radius)",borderColor:"var(--link-color)",borderWidth:"0.125em","&[data-checked]":{backgroundColor:"var(--link-color)",color:"var(--body-color-inverted)"},svg:{fontSize:"0.5em"}}}},".block-bullet, .block-todo":{li:{position:"relative"}}};r.forEach(e=>{c['ol.block-numbered[indent="'.concat(e,'"]')]={"li[data-node-view-content]":{ms:"calc(".concat(e+1," * ").concat(l,")"),position:"relative",_before:{position:"absolute","inset-inline-start":"-".concat(l),content:'attr(data-list-counter) "."'}}}}),r.forEach(e=>{c['ul.block-bullet[indent="'.concat(e,'"]')]={"li[data-node-view-content]":o(e)},c['ul.block-todo[indent="'.concat(e,'"]')]={"li.todo":{ms:"calc(".concat(e+1," * ").concat(l,")"),listStyle:"none"},".chakra-checkbox__control":{"inset-inline-start":"-".concat(l)}}})},63562:(e,t,n)=>{"use strict";n.d(t,{ni:()=>s,nm:()=>o,oR:()=>c,sT:()=>l});var i=n(94289),a=n(15440),r=n(66607);let l=(e,t)=>{if(!e.content||!e.content[0].content)return null;let n=e.content[0].content.find(e=>e.attrs&&e.attrs.id===t);return n?(e.content[0].content=[n],e):null},s=(e,t)=>{let n=null;if("html"===t.type)n=(0,r.S)(t.html,e.schema).slice;else if("json"===t.type){let a=i.FK.fromJSON(e.schema,t.json);n=new i.Ji(a,0,0)}else throw Error("Unsupported Modification content type ".concat(t.type));return n},o=(e,t,n)=>{var i,r;let l=a.G.getState(e.state);if(!l)return t;let s=(null==l?void 0:l.getExistingRangeId(e.state,n))||null;return s||(null==(i=(r=e.commands).setInteractionRange)||i.call(r,t,n),t)},c=(e,t)=>{let n=a.G.getState(e.state);return(null==n?void 0:n.getRange(e.state,t))||null}},63674:(e,t,n)=>{"use strict";n.d(t,{us:()=>d,Z7:()=>s,jt:()=>c,Vr:()=>g,OP:()=>h,xV:()=>o,yw:()=>u,jp:()=>p});var i=n(84462),a=n.n(i),r=n(50998),l=n.n(r);let s=a()((e,t,n)=>{let i="__react_svg_text_measurement_id_gamma";n=null!=n?n:document.body;try{let a=document.getElementById(i);if(!a){let e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.style.width="0",e.style.height="0",e.style.position="absolute",e.style.top="-100%",e.style.left="-100%",(a=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",i),e.appendChild(a),n.appendChild(e)}let r=a.ownerSVGElement;r&&r.parentNode&&r.parentNode!==n&&(r.parentNode.removeChild(r),n.appendChild(r)),Object.assign(a.style,t),a.textContent=e;let l=a.getBoundingClientRect();return{width:a.getComputedTextLength(),height:l.height}}catch(e){return null}}),o=(e,t)=>{let n=e.length,i=Array(n);return e.forEach((e,a)=>{i[(a+t)%n]=e}),i},c=e=>e?1:16;function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=window.getComputedStyle(e).fontSize;if(!n)return t;let[i,a]=(()=>{let e=n.split(""),i=e.findIndex(e=>e.match(/[a-z]/i));return -1===i?["".concat(t),"px"]:[e.splice(0,i).join(""),e.join("")]})();return"px"!==a.toLowerCase()?t:Number.parseFloat(i)}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Math.abs(e),a=i%t,r=i-a;return 0===a?e:n*(e<0?-1:1)==-1||0===n&&a<t/2?r*(e<0?-1:1):(r+t)*(e<0?-1:1)}let p=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{exact:i}=n,r=e.length,s=new Map,o=/\W/,c=-1,d=e,u=0,p=r,h=a()(t);for(;0!==c;){s.set(p,c);let t=Math.floor(Math.abs(p-u)/2);if(0===t){if(i)return!1;if(1===c)return d;if(1===s.get(p-1))return l()(e,{length:p-1,separator:o});return!1}if(u=p,(p+=t*c)>r)return!1;c=h(d=l()(e,{length:p,separator:o}))}return d};function h(e){let t=e.target,n={x:e.clientX,y:e.clientY};if(t instanceof SVGElement){var i,a;t=null!=(a=null==(i=t.ownerSVGElement)?void 0:i.parentElement)?a:null}let r=null==t?void 0:t.offsetParent;if(r){let e=r.getBoundingClientRect();n.x-=e.left,n.y-=e.top}return n}let g=a()((e,t)=>{let{fontFamily:n,fontSize:i,fontWeight:a}=t,r={widths:[],heights:[],maxWidth:0,maxHeight:0};return e.length&&e.forEach(e=>{let{width:t,height:l}=s("".concat(e),{fontFamily:n,fontSize:i,fontWeight:a})||{width:0,height:0};r.widths.push(t),r.heights.push(l),t>r.maxWidth&&(r.maxWidth=t),l>r.maxHeight&&(r.maxHeight=l)}),r})},63792:(e,t,n)=>{"use strict";n.d(t,{i:()=>g});var i=n(90047);class a{detectNode(e){if(e.type.name!==this.nodeType||!this.getNodeId(e))return!1;let t=e.attrs.code;return!!t&&this.findImages(t).length>0}findImages(e){return Array.from(new DOMParser().parseFromString(e,"text/html").querySelectorAll(this.selector))}getNodeId(e){var t;return(null==(t=e.attrs)?void 0:t.id)||null}getCacheKey(e,t){let n=this.getNodeId(e),i=t.interactionId;return"".concat(i,"__").concat(this.nodeType,"__").concat(n)}async processNode(e,t){let n=e.attrs,{code:a}=n,r=new DOMParser().parseFromString(a,"text/html"),l=Array.from(r.querySelectorAll(this.selector));return await Promise.all(l.map(async e=>{try{let n=e.getAttribute("prompt")||e.getAttribute("query"),a=await (0,i.a)({loadImageId:e.id,loadImageParams:{provider:"ICON"===e.tagName?"icon":"aiGenerated",query:n,options:{}},context:{docId:t.docId,workspaceId:t.workspaceId,interactionId:t.interactionId},imageStore:t.imageStore});e.src=a.src||"",e.alt=a.query||"",e.removeAttribute("prompt")}catch(t){console.error("Failed to load image:",t),e.removeAttribute("prompt")}})),{...n,aiGenerateStatus:"done",code:r.body.innerHTML}}constructor(){this.nodeType="cardCodeItem",this.selector="img[prompt], icon[query]"}}var r=n(68301),l=n(1057),s=n(45574);class o{detectNode(e){let t=(0,s.um)(e);return!!(t&&"queued"===t.loadImageStatus&&t.loadImageId&&t.loadImageParams)}getNodeId(e){let t=(0,s.um)(e);return(null==t?void 0:t.loadImageId)||null}getCacheKey(e,t){var n;let i=this.getNodeId(e),a=t.interactionId,r=null==(n=(0,s.um)(e).loadImageParams)?void 0:n.query;return r||console.error("[ImageProcesor.getCacheKey] No query for in loadImageParams"),"".concat(a,"__").concat(this.nodeType,"__").concat(i,"__").concat(r)}async processNode(e,t){let n=(0,s.um)(e);try{let a=n.loadImageParams;if("cardImageItem"===e.type.name){let e={aspectRatio:"landscape",model:r.of.get("imageCardModel"),artStylePrompt:"",visualsMenuEnabled:!1,stylePrompt:t.theme?(0,l.LU)(t.theme,"artStylePrompt"in a.options?a.options.artStylePrompt:void 0):void 0};a.options={...a.options,...e}}let o=await (0,i.a)({loadImageId:n.loadImageId,loadImageParams:a,context:{docId:t.docId,workspaceId:t.workspaceId,interactionId:t.interactionId},imageStore:t.imageStore});return(0,s.wH)(e,o)}catch(n){if(console.error("[ImageProcessor] Error processing ".concat(this.nodeType,":"),n),"cardAccentLayoutItem"===e.type.name&&t.theme)return{...e.attrs,background:(0,l.gN)(t.theme,t.cardId)};return(0,s.wH)(e,{loadImageStatus:"error"})}}constructor(){this.nodeType="image"}}var c=n(15342),d=n(47512),u=n(43634),p=n(13357);class h{detectNode(e){if(e.type.name!==this.nodeType||!this.getNodeId(e))return!1;let t=e.attrs;return!!(t&&t.aiGenerateParams&&"queued"===t.aiGenerateStatus)}getNodeId(e){var t;return(null==(t=e.attrs)?void 0:t.id)||null}getCacheKey(e,t){var n;let i=this.getNodeId(e),a=t.interactionId,r=e.attrs,l=r.templateKey,s=null==(n=r.aiGenerateParams)?void 0:n.prompt;return s||console.error("[SmartDiagramProcessor.getCacheKey] No prompt in aiGenerateParams"),"".concat(a,"__").concat(this.nodeType,"__").concat(i,"__").concat(l,"__").concat(s)}async populateIcons(e,t){if(Array.isArray(e))await Promise.all(e.map(e=>this.populateIcons(e,t)));else if(e&&"object"==typeof e){if(e.icon&&"object"==typeof e.icon&&e.icon.query)try{let n={provider:"icon",query:e.icon.query,options:{}},a=await (0,i.a)({loadImageId:"icon-".concat(Date.now(),"-").concat(Math.random()),loadImageParams:n,context:{docId:t.docId,workspaceId:t.workspaceId,interactionId:t.interactionId},imageStore:t.imageStore});a.src&&(e.icon=a)}catch(t){console.error("Error fetching icon:",e.icon.query,t)}await Promise.all(Object.values(e).map(e=>this.populateIcons(e,t)))}}async processNode(e,t){let n=e.attrs||{};try{var i;let e=(0,c.KA)().getState(),a=(0,u.K)(e)||{},r=(0,u.SJ)(e),l={license:a.license,provider:a.provider,stylePrompt:a.generateStyle||(null==r||null==(i=r.config)?void 0:i.stylePrompt),model:a.model,stylePreset:a.stylePreset,visualsMenuEnabled:a.visualsMenuEnabled,artStylePreset:a.artStylePreset,artStylePrompt:a.artStylePrompt},s=await (0,p.SS)({prompt:n.aiGenerateParams.prompt,language:n.aiGenerateParams.language,variant:n.templateKey,context:{docId:t.docId,workspaceId:t.workspaceId,interactionId:t.interactionId}});await this.populateIcons(s.data,t),await this.processImagesInData(s.data,t,l);let o=(0,d.FV)(s.variant);return{...n,templateKey:s.variant,aiGenerateStatus:"done",horizontalAlign:"center",data:{...s.data,colorScheme:null==o?void 0:o.defaultColorScheme}}}catch(t){console.error("[SmartDiagramProcessor] Error processing ".concat(this.nodeType,":"),t);let e=n.templateKey?(0,d.FV)(n.templateKey):void 0;return{...n,aiGenerateStatus:"error",data:(null==e?void 0:e.defaultData)?e.defaultData():void 0}}}async processImagesInData(e,t,n){if(Array.isArray(e))await Promise.all(e.map(e=>this.processImagesInData(e,t,n)));else if(e&&"object"==typeof e){if(e.image&&"object"==typeof e.image&&e.image.query&&!e.image.loadImageParams&&!e.image.src)try{let a=(0,i.e)({...n,query:e.image.query,provider:e.image.provider||n.provider}),r=await (0,i.a)({loadImageId:a.loadImageId,loadImageParams:a.loadImageParams,context:{docId:t.docId,workspaceId:t.workspaceId,interactionId:t.interactionId},imageStore:t.imageStore});Object.assign(e.image,a,r,{loadImageStatus:"done"})}catch(t){console.error("[SmartDiagramProcessor] Error processing image:",e.image.query,t),Object.assign(e.image,{loadImageStatus:"error"})}await Promise.all(Object.values(e).map(e=>this.processImagesInData(e,t,n)))}}constructor(){this.nodeType="smartDiagram"}}let g=()=>[new h,new o,new a]},63821:(e,t,n)=>{"use strict";n.d(t,{F:()=>y,s:()=>b});var i=n(77650),a=n(9922),r=n.n(a),l=n(58495),s=n(55729),o=n(30481),c=n(92053),d=n(73581),u=n(80116),p=n(17859),h=n(45611),g=n(12562),m=n(15342),x=n(66607),f=n(48993);let b="Translate this to Spanish please",y=e=>{let{editor:t}=e,n=(0,m.jL)();return(0,s.useCallback)(async e=>{let{doc:a,cardId:l,message:s}=e;if(!t)return;let o={};a.descendants(e=>{if("card"===e.type.name){let n=e.attrs.id;if(l!==n)return!1;let i=(0,u.KC)(t,e.content);return o[n]={html:i,node:e},!1}return!0});let c=Object.values(o).map(e=>{let{node:t}=e;return{cardId:l,variant:{label:i.Ru._({id:"HxF6Fk"}),card:r()(t.toJSON()),id:"original"},autoselect:!0}});n((0,f.uw)(c)),Object.values(o).forEach(async e=>{let{node:i,html:a}=e,r=await v({editor:t,html:a,node:i,message:s});n((0,f.uw)([{cardId:l,variant:r,autoselect:!0}]))})},[n,t])},v=async e=>{let{html:t,node:n,message:a,editor:r}=e,s=(0,p.$F)(),u=c.i.prepare({variables:{html:t,message:a}}),m=await (0,d.U)(u,s,{timeout:g.of.get("aiRequestTimeouts").suggestContent}),{suggestion:f}=(0,o.z7)(m),{content:b}=(0,x.S)(await (0,h.e)(f,{loadImages:!0}),r.schema),y={...n.toJSON(),content:b.toJSON()};return{id:(0,l.Ak)(5),label:i.Ru._({id:"nyQWMb"}),card:y}}},63902:(e,t,n)=>{"use strict";n.d(t,{Um:()=>d,oR:()=>o});var i=n(6029),a=n(55729),r=n(85732);let l=a.createContext({publishedVersionOverride:!1}),s=()=>(0,a.useContext)(l);function o(){let{publishedVersionOverride:e}=s();return e||(0,r.NF)()}let c={publishedVersionOverride:!0},d=e=>{let{children:t}=e;return(0,i.jsx)(l.Provider,{value:c,children:t})}},64056:(e,t,n)=>{"use strict";n.d(t,{Cn:()=>p,I4:()=>c,Sm:()=>o,eq:()=>u});var i=n(9922),a=n.n(i),r=n(23460),l=n(17633),s=n(66082);let o=e=>{var t;let{horizontalAlign:n,eventTarget:i,node:r,newContent:s,editor:o}=e,c=i.closest("[data-media-node-wrapper]"),u=Math.round(((null==c||null==(t=c.querySelector("img"))?void 0:t.clientWidth)||100)/((null==c?void 0:c.clientWidth)||100)*100),p=[l.w.paragraph()],h=d(i,o.view),g=a()(r.toJSON());return g.attrs.resize={},{type:"gridLayout",attrs:{colWidths:(()=>{switch(n){case"center":return[(100-u)/2,u,(100-u)/2];case"right":return[100-u,u];default:return[u,100-u]}})()},content:(()=>{switch(n){case"center":return[{type:"gridCell",content:"left"===h&&s?s:p},{type:"gridCell",content:[g]},{type:"gridCell",content:"right"===h&&s?s:p}];case"right":return[{type:"gridCell",content:s||p},{type:"gridCell",content:[g]}];default:return[{type:"gridCell",content:[g]},{type:"gridCell",content:s||p}]}})()}},c=e=>{let{horizontalAlign:t,prevPos:n}=e;switch(t){case"center":case"right":return n+4;default:return n+2}},d=(e,t)=>{let n=(0,r.xX)(e,t.dom,e=>e.hasAttribute("data-media-add-side"));return null==n?void 0:n.getAttribute("data-media-add-side")},u=e=>{let{view:t,from:n,to:i,node:a}=e,r=(0,s.er)(t.state,n,i);return a.attrs.horizontalAlign||("rtl"===r?"right":"left")},p=e=>{let{eventTarget:t,horizontalAlign:n,nodeSize:i,editor:a}=e,r=d(t,a.view);switch(n){case"right":return 2;case"center":return"left"===r?2:i+7;default:return i+4}}},64642:(e,t,n)=>{"use strict";n.d(t,{B:()=>c,s:()=>o});var i=n(59018),a=n.n(i),r=n(68986),l=n(65148),s=n(41710);let o=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.q;return a()([e,...t]).slice(0,n)},c=e=>{try{let t=r.x.getItem(l.E.recentlyUsedCardTemplateIds),n=t?JSON.parse(t):[];if(Array.isArray(n)&&n.every(e=>"string"==typeof e)){let t=o(e,n);r.x.setItem(l.E.recentlyUsedCardTemplateIds,JSON.stringify(t))}}catch(e){}}},64811:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});let i=["tel","mailto"]},64895:(e,t,n)=>{"use strict";n.d(t,{IV:()=>p,Uc:()=>d,XC:()=>m,c9:()=>u,jF:()=>x});var i=n(37243),a=n(15902),r=n(15607),l=n(23513),s=n(94922),o=n(71737),c=n(47665);let d=(e,t,n)=>{let i=t.doc.resolve(e),r=t.doc.nodeAt(e),s=e+i.nodeAfter.nodeSize,d=t.doc.resolve(s),u=t.doc.nodeAt(s);if(!u||!(0,c.jg)(u))return!1;let h=r&&(0,o.eh)(r),x=(0,o.eh)(u),f=null;x&&(f=h?m(t.doc,i.pos,!0):r?i.pos+r.nodeSize-1:null);let b=p(t,s);if(!b)return!1;t.delete(s,s+u.nodeSize);let y=g(t,e,!0);if(f&&x){let e=(0,o.PD)(d);if(e){let n=h?e.node.content:e.node;t.insert(f,n),t.setMeta("cardNotesHandled",!0)}}t.insert(y,b.node.content);let v={type:"merge-cards",contentPos:b.pos,insertPos:y};if(t.setMeta("annotationEvent",v),n.selection instanceof a.n){let e=(0,l.n)(t.doc.resolve(y));e&&t.setSelection(e)}return!0},u=(e,t)=>{let n=t.doc.resolve(e);if(!n.nodeBefore)return!1;let i=e-n.nodeBefore.nodeSize,a=t.doc.nodeAt(i);if(!a||!(0,c.jg)(a))return!1;let r=(0,o.eh)(a),s=n.nodeAfter&&(0,o.eh)(n.nodeAfter),d=null;s&&(d=r?m(t.doc,i,!0):i+a.nodeSize-1);let u=p(t,e);if(!u)return!1;t.delete(e,e+n.nodeAfter.nodeSize);let h=g(t,i,!0);if(d&&s){let e=(0,o.PD)(n);if(e){let n=r?e.node.content:e.node;t.insert(d,n),t.setMeta("cardNotesHandled",!0)}}t.insert(h,u.node.content);let x=(0,l.n)(t.doc.resolve(h));x&&t.setSelection(x);let f={type:"merge-cards",contentPos:u.pos,insertPos:h};return t.setMeta("annotationEvent",f),!0},p=(e,t)=>{let n=(0,s.dg)(e,t);return 0===Object.entries(n).length?{node:e.doc.nodeAt(t),pos:t}:n.body||null},h=e=>{let t=(0,r.IV)(e,e=>"cardLayoutItem"===e.type.name&&"body"===e.attrs.itemId||"card"===e.type.name);return 0===t.length?null:t[0]},g=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,s.dg)(e,t),a=e.doc.resolve(t);if(0===Object.entries(i).length)return n?a.doc.resolve(a.start(a.depth+1)).end():t+1;if(!i.body)throw Error("Could not find card body at cardPos=".concat(t));let r=e.doc.resolve(i.body.pos);return n?r.doc.resolve(r.start(r.depth+1)).end():r.pos+1},m=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.resolve(t),a=(0,o.PD)(i);if(!a)return null;let r=e.resolve(a.pos);return n?r.doc.resolve(r.start(r.depth+1)).end():r.pos+1},x=(e,t)=>{if(!e.empty)return!1;let n=e instanceof a.n;if(!(0,i.eE)(e)&&!n)return!1;let{from:r,$from:l}=e;if(!t&&0!==l.parentOffset||t&&l.parentOffset!==l.parent.content.size)return!1;let s=h(l);if(!s)return!1;if(n)return t?r===s.pos+s.node.nodeSize-1:r===s.pos+1;let o=["paragraph","heading","title"],d=!0;for(let e=l.depth;e>0;e--){let t=l.node(e);if("card"===t.type.name||(0,c.sw)(t))break;if(!o.includes(t.type.name)){d=!1;break}}return!!d&&(t?r===s.pos+s.node.nodeSize-2:r===s.pos+2)}},64961:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});let i=new(n(83747)).b},65273:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var i=n(55729),a=n(34832),r=n(9118),l=n(30286),s=n(15342),o=n(42721),c=n(11403);let d={},u=e=>{let[t,n]=(0,i.useState)([]),[u,h]=(0,i.useState)("ready"),{generate:g}=(0,a.pt)("SuggestImageEdits",{onStart(){h("generating"),n([])},onContent(e){n(p(e))},onComplete(e){n(p(e)),h("done")},onError(e){console.error("Error generating suggestions",e),h("error")},timeout:2e4}),m=(0,s.GV)(l.H6),x=(0,r.xt)(m),f=(0,i.useCallback)(()=>{var t;let i=(0,o.gx)(),a=null==e||null==(t=e.src)?void 0:t.split(".").pop();if(!(null==e?void 0:e.src)||!i||!a)return void n([]);let r=d[e.src];if(r){n(r),h("done");return}let{promise:l}=g({variables:{imageUrl:e.src,originalPrompt:e.query,language:x.englishName},workspaceId:i});l.then(t=>{d[e.src]=p(t)}),l.catch(e=>{console.error("Error generating suggestions",e),n([]),h("error")})},[g,e,x]);return(0,c.Vg)(()=>{f()},[e.src,f],[e.src]),{suggestions:t,generateSuggestionsStatus:u}},p=e=>e.split("\n").filter(Boolean)},65280:(e,t,n)=>{"use strict";n.d(t,{K:()=>C,T:()=>w});var i=n(6029),a=n(46898),r=n(19564),l=n(9922),s=n.n(l),o=n(55729),c=n(74158),d=n(68301),u=n(64084),p=n(15342),h=n(24573),g=n(43182),m=n(47665),x=n(72492);let f="cardsToCopy",b=e=>{sessionStorage.setItem(f,JSON.stringify(e))},y=()=>{let e=sessionStorage.getItem(f);if(!e)return null;let t=JSON.parse(e);return t?(v(),t):null},v=()=>{sessionStorage.removeItem(f)},C=()=>{let e=(0,a.d)(),t=(0,d.u)("copyCardsToDeck");return(0,o.useCallback)(n=>{if(t)try{let t=y();if((null==t?void 0:t.length)>0){let a=(0,u.gM)((0,p.KA)().getState()),l=(0,m.W0)(n,a);if(!l)return;let{pos:s}=l,o=n.view.state.doc.nodeAt(s);if(!o)return void console.error("[Copy cards] Cannot append card. Node unknown");let c=s+o.nodeSize;n.chain().insertContentAt(c,t).scrollIntoView().run(),e({title:(0,i.jsx)(r.x6,{id:"7f15EI",values:{0:t.length}}),status:"success",duration:3e3,position:"top"})}}catch(e){console.error("[Copy cards] Error inserting cards to copy",e)}},[t,e])},w=()=>{let e=(0,c.wA)(),t=(0,d.u)("copyCardsToDeck");return(0,o.useCallback)(n=>{if(!t)return;let i=n.map(e=>(0,x.RE)(s()(e.toJSON()))).map(e=>(0,g.iM)(e));e((0,h.q8)({isOpen:!0,onSelectDoc:()=>{b(i)}}))},[t,e])}},65421:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var i=n(68301);function a(){return i.of.get("aiGeneratedImagesDefaultModel")}},65674:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var i=n(63867),a=n(71839);let r=(e,t)=>new i.k_({key:new i.hs("".concat(e.name,"_markview")),props:{nodeViews:{[e.name]:(n,i,r,l)=>(0,a.g)(t,{contentDOMElementTag:"span",as:"span"})({editor:e.editor,node:n,getPos:r,decorations:l,extension:{name:e.name,type:e.type.name,options:e.options,storage:e.storage},HTMLAttributes:{}})}}})},65950:(e,t,n)=>{"use strict";n.d(t,{N:()=>m});var i=n(6029),a=n(40452),r=n(26420),l=n(55729),s=n(15342),o=n(91792),c=n(55670),d=n(77387),u=n(36512),p=n(43634),h=n(11818),g=n(94920);let m=e=>{let{cardId:t,zoomIn:n,shouldFixHeight:m,hidden:f,...b}=e,{setNavItemPreviewRef:y}=(0,g.U)(),v=(0,s.GV)(p.SJ),C=(0,c.S)(v,!1),w=(0,o.rd)(),A=(0,h.NC)(v),j=(0,l.useRef)(null),k=x(j);return(0,l.useEffect)(()=>{j.current&&(m?j.current.style.height="".concat(j.current.offsetHeight,"px"):j.current.style.height="")},[m]),(0,i.jsxs)(a.s,{ref:j,className:"filmstrip-nav-item-wrapper",sx:d.o,css:{"--editor-font-size":"calc(var(--editor-width) / ".concat(u.s5,")"),"--thumbnail-min-height":"calc(var(--editor-width) * 0.4)"},justifyContent:"center",overflow:"hidden",pointerEvents:"none",bg:w?"gray.800":"gray.50",minH:"var(--thumbnail-min-height)",maxH:"calc(var(--editor-width) * 1.777)",w:"var(--editor-width)",...b,children:[k?(0,i.jsx)(r.a,{pos:"absolute",bottom:"-1px",insetStart:0,w:"100%",h:"25%",bg:A,zIndex:1,css:{maskImage:"linear-gradient(to bottom, transparent 0%, black 90%)"}}):null,(0,i.jsx)("div",{className:"ProseMirror",children:(0,i.jsx)(a.s,{className:"doc-content-wrapper",transform:n?"scale(2)":void 0,transformOrigin:n?"center left":void 0,direction:"column",align:"center",sx:C,inert:"true",bg:w?"gray.700":"white",opacity:f?.4:1,height:"100%",children:(0,i.jsx)("div",{style:{width:"100%"},ref:e=>{e&&y(t,e)}})})})]})};m.displayName="PreviewCard";let x=e=>{if(!e.current)return;let t=e.current.querySelector(".doc-content-wrapper");if(t)return t.offsetHeight>1.1*e.current.offsetHeight}},65978:(e,t,n)=>{"use strict";n.d(t,{p:()=>h,V:()=>p});var i=n(6029),a=n(26420),r=n(58959),l=n(40452),s=n(55729),o=n(84431),c=n(58297),d=n(5061);let u=(0,s.memo)(e=>{let{nodeName:t}=e,n=(0,d.fW)();return(0,i.jsx)(c.j,{contentEditable:!1,userSelect:"none",insetEnd:0,size:4,transform:"translate(calc(".concat("calc(".concat("gridLayout"===t||"gallery"===t?"-1 * var(--grid-padding)":"0px"," + var(--comment-padding) + 50%)")," * ").concat(n?"-1":"1","),calc(50%)) scale(1)"),position:"absolute",bgGradient:"linear(to-b, yellow.200, yellow.300)",border:"1px solid white",shadow:"0 0 0 1px rgb(0 0 0 / 10%)",className:"block-comments-circle",zIndex:"1"})});u.displayName="BlockCommentsCircle";let p="comments-wrapper",h=(0,s.forwardRef)(function(e,t){let{nodeName:n,isPopupOpen:s,onKeyDown:c,buttonRef:d,isMobile:h,hasCommentsOrReactions:g,children:m,isEmpty:x,...f}=e;return(0,i.jsxs)(a.a,{ref:t,contentEditable:!1,suppressContentEditableWarning:!0,pointerEvents:"none","data-comments-wrapper":!0,"data-is-popup-open":s,className:p,alignSelf:"start",onKeyDown:c,"data-print-hidden":!0,children:[!x&&!h&&(0,i.jsx)(u,{nodeName:n}),(0,i.jsx)(r.z,{contentEditable:!1,suppressContentEditableWarning:!0,...h?g?{pt:4}:{}:{position:"absolute",ms:"100%",top:0,height:"100%",align:"flex-start"},className:"controls-wrapper controls-wrapper__".concat(n),children:(0,i.jsx)(l.s,{direction:"row",ref:d,contentEditable:!1,suppressContentEditableWarning:!0,transitionProperty:"common",transitionDuration:"fast",zIndex:s?o.$.commentsStackOpen:o.$.commentsStack,"data-controls-toggle-button":!0,ms:[0,"-17px"],...f,children:m})})]})})},66048:(e,t,n)=>{"use strict";n.d(t,{o:()=>q});var i=n(6029),a=n(55729),r=n(45460),l=n(66199),s=n(48478),o=n(40452),c=n(58959),d=n(33787),u=n(48810),p=n(74676),h=n(8527),g=n(83638),m=n(78140),x=n(36999),f=n(49611),b=n(12514),y=n(94740),v=n(59272),C=n(41283),w=n(37930),A=n(6760),j=n(18078),k=n(99492),S=n(55597),L=n(48621),I=n(19564),E=n(58809),D=n(28630),M=n(39892),R=n(89528),_=n(84287),z=n(11390),N=n(15342),T=n(95889),P=n(29608),H=n(57405),F=n(26420),B=n(77650),O=n(55775),V=n(30892);let W=e=>{let{numSegments:t,numFilledSegments:n,startColor:a,endColor:r}=e,[l,s]=(0,O.rd)("colors",[a,r||a]);return(0,i.jsx)(o.s,{gap:1,w:"full",alignItems:"center",children:Array.from({length:t}).map((e,a)=>{let r=a<n?(0,V.tV)(l,s,t>1?a/(t-1):0):"gray.200";return(0,i.jsx)(F.a,{h:1.5,borderRadius:"sm",flex:1,bg:r,transition:"background 0.2s ease-in-out"},a)})})},U=(0,a.memo)(e=>{let{label:t,description:n,image:a,popoverImage:r,bestStyle:l,bestType:s,speed:o}=e;return(0,i.jsxs)(H.T,{align:"stretch",p:4,spacing:4,children:[(0,i.jsxs)(F.a,{position:"relative",children:[r&&(0,i.jsx)(d._,{src:r.src,alt:t(),borderRadius:"lg",objectFit:"cover",height:"140px",width:"250px"}),(0,i.jsx)(F.a,{position:"absolute",backgroundColor:(0,V.$3)("black",.4),bottom:2,left:2,p:1,borderRadius:"sm",children:(0,i.jsx)(u.E,{color:"gray.50",fontSize:"xs",fontWeight:"medium",lineHeight:"normal",children:B.Ru._({id:"HmI5oK"})})})]}),(0,i.jsxs)(H.T,{align:"stretch",spacing:3,children:[(0,i.jsxs)(c.z,{spacing:2,children:[(0,i.jsx)(d._,{src:a.src,w:"20px",h:"20px",objectFit:"contain"}),(0,i.jsx)(u.E,{fontWeight:"semibold",fontSize:"md",color:"gray.700",children:t()})]}),(0,i.jsx)(u.E,{fontSize:"xs",color:"gray.500",fontWeight:"medium",children:n()}),(0,i.jsxs)(F.a,{children:[(0,i.jsx)(u.E,{fontSize:"xs",color:"gray.400",fontWeight:"semibold",mb:2,children:(0,i.jsx)(I.x6,{id:"l9wI00"})}),(0,i.jsx)(W,{numSegments:4,numFilledSegments:o,startColor:"deepocean.300",endColor:"deepocean.600"})]}),(0,i.jsxs)(F.a,{children:[(0,i.jsx)(u.E,{fontSize:"xs",color:"gray.400",fontWeight:"semibold",mb:1,children:(0,i.jsx)(I.x6,{id:"uvPTBJ"})}),(0,i.jsxs)(H.T,{align:"stretch",spacing:1,children:[(0,i.jsxs)(c.z,{spacing:2,children:[(0,i.jsx)(L.g,{icon:k.ffg,color:(0,V.Lm)("deepocean.400"),size:"xs",width:"0.625rem",height:"0.625rem"}),(0,i.jsx)(u.E,{fontSize:"xs",color:"gray.600",fontWeight:"medium",children:l()})]}),(0,i.jsxs)(c.z,{spacing:2,children:[(0,i.jsx)(L.g,{icon:k.kLe,color:(0,V.Lm)("deepocean.400"),size:"xs",width:"0.625rem",height:"0.625rem"}),(0,i.jsx)(u.E,{fontSize:"xs",color:"gray.600",fontWeight:"medium",fontFamily:"body",children:s()})]})]})]})]})]})});U.displayName="AIImageModelPopover";var G=n(41120);let Z=(0,r.R)((e,t)=>{let{model:n,...r}=e;return(0,i.jsx)(l.W,{children:(0,a.createElement)(s.k,{...r,ref:t,key:n.model},(0,i.jsxs)(o.s,{justify:"space-between",align:"center",width:"100%",children:[(0,i.jsxs)(c.z,{children:[(0,i.jsx)(d._,{src:n.image.src,w:"1.5em",h:"1.5em",objectFit:"contain"}),(0,i.jsx)(u.E,{ps:2,fontSize:"sm",children:n.label()}),"beta"===n.badge&&(0,i.jsx)(p.E,{colorScheme:"purple",size:"xs",children:(0,i.jsx)(I.x6,{id:"YBt9YP"})}),"new"===n.badge&&(0,i.jsx)(p.E,{colorScheme:"green",size:"xs",children:(0,i.jsx)(I.x6,{id:"isRobC"})})]}),(0,i.jsx)(u.E,{color:"gray.400",fontSize:"xs",children:n.creatorLabel()})]}))})});Z.id="MenuItemOption";let K=e=>{let{productKey:t,productFeature:n,canUseTier:a,styles:r}=e;return(0,i.jsxs)(o.s,{justify:"start",align:"center",width:"100%",children:[(0,i.jsx)(u.E,{sx:{...r.groupTitle,marginInlineEnd:2},children:(0,z.kf)(t).header}),n&&(0,i.jsx)(R.Ch,{canUseFeature:a,productFeature:n})]})},Q=e=>{let{availableModels:t,handleModelSelect:n,canUsePlusModels:r,canUseProModels:l,selectedModel:p,isDisabled:E,autoselect:M}=e,[R,_]=(0,a.useState)(null),z=(0,h.o)("Menu",{}),N=e=>{let{tier:a}=e;return t.filter(e=>(0,D.kO)(e.model)===a).map(e=>(0,i.jsx)(Z,{model:e,value:e.model,onClick:()=>n(e.model,a),onMouseEnter:()=>_(e)},e.model))};return(0,i.jsx)(g.MJ,{children:(0,i.jsxs)(m.W,{isLazy:!0,children:[(0,i.jsx)(x.I,{as:f.$,variant:"plain",isDisabled:E,w:"100%",textAlign:"start",justifyContent:"space-between",rightIcon:(0,i.jsx)(L.g,{icon:k.Jt$}),boxShadow:"sm",size:"sm",children:(0,i.jsxs)(c.z,{spacing:2,children:[(0,i.jsx)(o.s,{width:"24px",height:"24px",align:"center",justify:"center",children:(null==M?void 0:M.isActive)?(0,i.jsx)(L.g,{icon:S.Ys0,size:"sm"}):(0,i.jsx)(d._,{src:p.image.src,w:"1.25em",h:"1.25em",objectFit:"contain"})}),(0,i.jsx)(u.E,{as:"span",flex:1,children:(null==M?void 0:M.isActive)?(0,i.jsx)(I.x6,{id:"/iCiQU"}):null==p?void 0:p.label()})]})}),(0,i.jsx)(b.Z,{children:(0,i.jsxs)(y.A,{isLazy:!0,variant:"modal",placement:"start-start",matchWidth:!1,offset:[0,0],trigger:"hover",children:[(0,i.jsx)(v.d,{children:(0,i.jsx)(C.c,{minWidth:"250px",w:"400px",maxH:"350px",overflowY:"auto",overflowX:"hidden",zIndex:"modalPopover",border:"1px solid",borderColor:"gray.200",onMouseLeave:()=>_(null),children:(0,i.jsxs)(w.i,{type:"radio",value:(null==M?void 0:M.isActive)?"auto-select":p.model,children:[M&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.k,{value:"auto-select",onClick:M.onChooseAutoselect,children:(0,i.jsxs)(c.z,{children:[(0,i.jsx)(L.g,{icon:S.Ys0,size:"sm"}),(0,i.jsx)(u.E,{ps:2,fontSize:"sm",children:(0,i.jsx)(I.x6,{id:"/iCiQU"})})]})}),(0,i.jsx)(A.N,{})]}),(0,i.jsx)(K,{productKey:"free",canUseTier:!0,styles:z}),N({tier:"free"}),(0,i.jsx)(A.N,{}),(0,i.jsx)(K,{productKey:"plus",productFeature:"ai_models_plus",canUseTier:r,styles:z}),N({tier:"plus"}),(0,i.jsx)(A.N,{}),(0,i.jsx)(K,{productKey:"pro",productFeature:"ai_premium_models",canUseTier:l,styles:z}),N({tier:"pro"})]})})}),!(0,P.Xb)()&&R&&(0,i.jsx)(j.h,{width:"282px",children:(0,i.jsx)(U,{label:R.label,description:R.description,image:R.image,popoverImage:G.m.None[R.model],bestStyle:R.bestStyle,bestType:R.bestType,speed:R.speed})})]})})]})})},q=e=>{let{value:t,setValue:n,isDisabled:r,autoselect:l}=e,s=(0,D.pE)(t),o=(0,N.GV)(E.Jo),c=(0,M.ez)("ai_models_plus",null==o?void 0:o.organization),d=(0,M.ez)("ai_premium_models",null==o?void 0:o.organization),{openUpsellModal:u}=(0,_.I)(),p=(0,a.useCallback)((e,t)=>("plus"!==t||c)&&("pro"!==t||d)?void n(e):void u({segmentEvent:T.VV.GAMMA_UPSELL_CALLOUT_AI_IMAGE_MODELS,eventProperties:{model:e}}),[c,d,u,n]);return(0,i.jsx)(Q,{handleModelSelect:p,canUsePlusModels:c,canUseProModels:d,availableModels:(0,D.vp)().filter(e=>(0,D.CX)(e.model)),selectedModel:{...s,model:t},isDisabled:r,autoselect:l})}},66079:(e,t,n)=>{"use strict";n.d(t,{ez:()=>j,jU:()=>w,Fn:()=>A,dO:()=>v,K4:()=>k});var i=n(6029),a=n(51684),r=n(77650),l=n(87996),s=n(69540),o=n(53587),c=n(57405),d=n(64268),u=n(51504),p=n(99745),h=n(19564),g=n(15342),m=n(49172),x=n(62452),f=n(43634),b=n(70652),y=n(52762);let v="default",C="color.solid",w={Default:[{label:()=>r.Ru._({id:"EdQY6l"}),availableOffline:!0,key:v,backgroundType:y.h.NONE}],Image:[{...l.mx,nodeName:"image",backgroundType:y.h.IMAGE,priority:10},{...l.OO,nodeName:"image",disabled:!0,backgroundType:y.h.IMAGE},{...l.Rn,nodeName:"image",backgroundType:y.h.IMAGE},{...l.TV,nodeName:"image",disabled:!0,backgroundType:y.h.IMAGE},{...l.Up,nodeName:"image",backgroundType:y.h.IMAGE},{...l.ae,nodeName:"image",backgroundType:y.h.IMAGE},{...l.Pl,nodeName:"image",backgroundType:y.h.IMAGE},{...l.xT,nodeName:"image",backgroundType:y.h.IMAGE},{...l.fo,nodeName:"image"},{...l.un,nodeName:"image"},{...l.yj,nodeName:"image",disabled:!0,backgroundType:y.h.IMAGE},{...l.fb,nodeName:"image"},{label:()=>r.Ru._({id:"COXEr5"}),key:o.j,availableOffline:!0,icon:a.yvG,backgroundType:y.h.IMAGE,nodeName:"image",keywords:["accent image"]}],Video:[{...l.GQ,nodeName:"video"},{...l.fX,nodeName:"video"},{...l.N$,nodeName:"video"},{...l.O5,nodeName:"video"},{...l.r9,nodeName:"video"},{...l.w,nodeName:"video"},{...l.st,nodeName:"video"}],Embed:[{...l.Jp,nodeName:"embed",priority:10},{...l.Zd,nodeName:"embed"},{...l.Il,nodeName:"embed"},{...l.fG,nodeName:"embed"},{...l.uF,nodeName:"embed"},{...l.Oz,nodeName:"embed"},{...l.V2,nodeName:"embed"},{...l.Dr,nodeName:"embed"},{...l.MN,nodeName:"embed"},{...l.qD,nodeName:"embed"},{...l.ap,nodeName:"embed"},{...l.Ve,nodeName:"embed"},{...l.RA,nodeName:"embed"},{...l.Ow,nodeName:"embed"},{...l.hb,nodeName:"embed"},{...l.sI,nodeName:"embed"},{...l.sS,nodeName:"embed"}],Color:[{label:()=>r.Ru._({id:"iFeLoB"}),key:C,availableOffline:!0,icon:a.fyG,backgroundType:y.h.COLOR,keywords:["solid color"]},{...l.UX,availableOffline:!0,backgroundType:y.h.GRADIENT}]},A=Object.fromEntries(Object.values(w).flat().map(e=>[e.key,e])),j={...s.e,[v]:()=>(0,i.jsx)(i.Fragment,{}),[o.j]:e=>{let{currentAttributes:t,updateAttributes:n,editType:a}=e,r=(0,g.GV)(f.SJ),{accentBackgrounds:l}=r.config;return(0,i.jsxs)(c.T,{align:"stretch",children:[l&&(0,i.jsx)(m.A,{currentAttributes:t,accentImages:l,isDark:(0,x.Mw)(r),handleItemClick:n,editType:a}),(0,i.jsxs)(d.F,{status:"info",children:[(0,i.jsx)(u._,{}),(0,i.jsx)(p.T,{children:(0,i.jsx)(h.x6,{id:"zOCB9A"})})]})]})},[C]:b.S},k={Default:()=>r.Ru._({id:"ovBPCi"}),Image:()=>r.Ru._({id:"hG89Ed"}),Video:()=>r.Ru._({id:"vSJd18"}),Embed:()=>r.Ru._({id:"KKBlUU"}),Color:()=>r.Ru._({id:"jZlrte"})}},66082:(e,t,n)=>{"use strict";n.d(t,{gj:()=>z,wq:()=>I,G4:()=>S,fZ:()=>M,Up:()=>D,O8:()=>L,yp:()=>w,AS:()=>k,F0:()=>y,CY:()=>v,Ro:()=>C,er:()=>R,lI:()=>A});var i=n(99492),a=n(77650),r=n(37243),l=n(63867),s=n(41427),o=n(5061),c=n(15607),d=n(38934),u=n(97255);let p=["paragraph","heading","title","drawing","diagram","image","contributors","mediaPlaceholder","buttonGroup","navbarLinks","gallery","chart","toggleSummary","smartDiagram"],h=["title","heading","paragraph","bullet","todo","numbered","image","contributors","diagram","mediaPlaceholder","buttonGroup","gallery","chart","smartDiagram","blockquote"],g=["toggle","blockquote"],m=new l.hs("horizontalAlign");class x{isRelevantNode(e){return h.includes(e.type.name)}isRelevantParentNode(e){return g.includes(e.type.name)}apply(e){if(!e.docChanged&&this.hasInitialized)return this;this.hasInitialized=!0;let t=[],n=(0,o.C)();return e.doc.descendants((e,i)=>{if(this.isRelevantParentNode(e)){let n=(0,s.KQ)(e);t.push(u.NZ.node(i,i+e.nodeSize,{},{dir:n})),"toggle"===e.type.name&&e.forEach((e,a,r)=>{if("toggleSummary"===e.type.name){let r=i+1+a;t.push(u.NZ.node(r,r+e.nodeSize,{},{dir:n}))}})}if(this.isRelevantNode(e)){let a=(0,s.KQ)(e);a?n=a:t.push(u.NZ.node(i,i+e.nodeSize,{},{dir:n}))}return!0}),this.decorations=u.zF.create(e.doc,t),this}constructor(e=u.zF.empty){this.hasInitialized=!1,this.decorations=e}}let f=()=>new l.k_({key:m,state:{init:()=>new x,apply:(e,t)=>t.apply(e)},props:{decorations(e){let t=m.getState(e);return null==t?void 0:t.decorations}}}),b=["left","right","center"],y=e=>b.find(t=>e.isActive({horizontalAlign:t})),v=e=>{let t=e.state.selection.$head.node().textContent;return(0,s.R_)(t)||(0,o.C)()},C=e=>t=>{let{dir:n,ctx:i}=t||{};return"menu"===i?null:e&&"center"!==e&&"ltr"!==n?n?"left"===e?"right":"left":null:e},w=(e,t)=>{let n=A(e,t);return{textAlign:e||void 0,alignItems:n||"var(--flex-align)","--flex-align":n}},A=(e,t)=>{if(e)return j(e,t||(0,o.C)())},j=(e,t)=>{if(e)return"rtl"===t?({left:"flex-end",center:"center",right:"flex-start"})[e]:({left:"flex-start",center:"center",right:"flex-end"})[e]},k=(e,t)=>{let n={"--descendant-align-self-left":"rtl"===t?"flex-end":"flex-start","--descendant-align-self-center":"center","--descendant-align-self-right":"rtl"===t?"flex-start":"flex-end"};return e?{"--descendant-align-self":j(e,t),...n}:n},S=e=>({"--descendant-align-self":e,"--descendant-align-self-left":e,"--descendant-align-self-center":e,"--descendant-align-self-right":e}),L=e=>e?{alignSelf:"var(".concat({left:"--descendant-align-self-left",center:"--descendant-align-self-center",right:"--descendant-align-self-right"}[e],", --descendant-align-self)")}:{alignSelf:"var(--descendant-align-self, self-start)"},I=r.YY.create({name:"horizontalAlign",priority:d.y.HorizontalAlign,addOptions:()=>({types:p,alignments:b,defaultAlignment:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{horizontalAlign:{default:this.options.defaultAlignment,keepOnSplit:!0,parseHTML:e=>e.style.textAlign||e.getAttribute("align")||this.options.defaultAlignment,renderHTML:e=>e.horizontalAlign?{style:"text-align: ".concat(e.horizontalAlign)}:{}}}}]},addCommands:()=>({toggleHorizontalAlign:e=>t=>{let{tr:n,dispatch:i,state:a,editor:r}=t;if(!i)return!0;let l=E(r,e)?null:e;return n.selection.ranges.forEach(e=>{let t=e.$from.pos,i=e.$to.pos;a.doc.nodesBetween(t,i,(e,t)=>{if("footnote"===e.type.name)return!1;p.includes(e.type.name)&&n.setNodeMarkup(t,void 0,{...e.attrs,horizontalAlign:l}).setMeta("annotationEvent",{type:"update-node-attrs",pos:t})})}),!0}}),addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.toggleHorizontalAlign("left"),"Mod-Shift-e":()=>this.editor.commands.toggleHorizontalAlign("center"),"Mod-Shift-r":()=>this.editor.commands.toggleHorizontalAlign("right"),Backspace:()=>{let{selection:e}=this.editor.state;if(!(e instanceof l.U3)||!e.empty)return!1;let t=e.$from.parent;return!!p.includes(t.type.name)&&!!t.isTextblock&&!(t.nodeSize>2)&&t.attrs.horizontalAlign!=this.options.defaultAlignment&&this.editor.commands.toggleHorizontalAlign(this.options.defaultAlignment)}}},addProseMirrorPlugins:()=>[f()]}),E=(e,t)=>{let n=b.filter(e=>e!==t);return e.isActive({horizontalAlign:t})&&!n.some(t=>e.isActive({horizontalAlign:t}))},D=e=>{var t;return null==(t=e.find(e=>e.spec.dir))?void 0:t.spec.dir},M=(e,t)=>{var n;if(!t)return(null==(n=e.find(e=>e.spec.dir))?void 0:n.spec.dir)||"auto"},R=(e,t,n)=>{var i;let a=m.getState(e);if(!a)return null;let r=null==(i=a.decorations.find(t,n,e=>e.dir))?void 0:i[0];return r?r.spec.dir:null},_=e=>!(0,c.iA)(e,"horizontalAlign"),z=[{key:"alignLeft",name:()=>a.Ru._({id:"VjjKVj"}),icon:i.ecg,checkActive:e=>E(e,"left"),checkDisabled:_,apply:e=>e.chain().toggleHorizontalAlign("left").run(),shortcut:"Mod+Shift+L",enabledForTables:!0,alignment:"left"},{key:"alignCenter",name:()=>a.Ru._({id:"95ckMP"}),icon:i._ur,checkActive:e=>E(e,"center"),checkDisabled:_,apply:e=>e.chain().toggleHorizontalAlign("center").run(),shortcut:"Mod+Shift+E",enabledForTables:!0,alignment:"center"},{key:"alignRight",name:()=>a.Ru._({id:"vTKw81"}),icon:i.jbh,checkActive:e=>E(e,"right"),checkDisabled:_,apply:e=>e.chain().toggleHorizontalAlign("right").run(),shortcut:"Mod+Shift+R",enabledForTables:!0,alignment:"right"}]},66380:(e,t,n)=>{"use strict";n.d(t,{V:()=>c});var i=n(68301),a=n(58809),r=n(34394),l=n(15342),s=n(1057),o=n(43634);let c=()=>{var e,t,n,c,d,u,p,h,g,m,x,f,b,y;let v=(0,l.GV)(a.Jo),C=(0,l.GV)(o.SJ),w=(0,r.R5)(null==v||null==(t=v.docGenerateInput)||null==(e=t.settings)?void 0:e.imageModel),A=(null==v||null==(c=v.docGenerateInput)||null==(n=c.settings)?void 0:n.imageProvider)||i.of.get("aiGeneratorDefaultImageProvider"),j=null==v||null==(u=v.docGenerateInput)||null==(d=u.settings)?void 0:d.imageStyle;!j&&"aiGenerated"===A&&C&&(j=(0,s.xI)(C));let k=(null==v||null==(h=v.docGenerateInput)||null==(p=h.settings)?void 0:p.artStylePreset)?String(null==v||null==(m=v.docGenerateInput)||null==(g=m.settings)?void 0:g.artStylePreset):void 0,S=(null==v||null==(f=v.docGenerateInput)||null==(x=f.settings)?void 0:x.artStylePrompt)?String(null==v||null==(y=v.docGenerateInput)||null==(b=y.settings)?void 0:b.artStylePrompt):void 0,L=i.of.get("visualsMenuEnabled"),I={};return L&&(I={artStylePrompt:S,artStylePreset:k}),{imageProvider:A,imageOptions:{model:w,stylePrompt:j,visualsMenuEnabled:L,...I},imageModel:w,imageStyle:j}}},66634:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});class i{constructor({key:e,description:t,classifyExamples:n,classifyReply:i,checkEnabled:a}){this.key=e,this.description=t,this.classifyExamples=n,this.classifyReply=i,this.checkEnabled=a}}},66824:(e,t,n)=>{"use strict";n.d(t,{E:()=>l});var i=n(55729),a=n(15342),r=n(12354);let l=e=>{let t=(0,a.jL)(),n=(0,i.useCallback)(e=>{let{clipType:n}=e;n&&t((0,r.F8)({clipType:n}))},[t]),l=(0,i.useCallback)(n=>{let{id:i}=n;r.RR.emit("endClip",{id:i,confirm:!1}),t((0,r.uy)()),e.commands.resetImageClip()},[t,e]),s=(0,i.useCallback)(e=>{let{id:n}=e;r.RR.emit("endClip",{id:n,confirm:!1}),t((0,r.uy)())},[t]),o=(0,i.useCallback)(e=>{let{id:n}=e;r.RR.emit("endClip",{id:n,confirm:!0}),t((0,r.uy)())},[t]);return{cancelCrop:s,startCrop:(0,i.useCallback)(e=>{let{id:n,clipType:i}=e;t((0,r.Zu)({id:n,clipType:i})),r.RR.emit("startCrop",{id:n})},[t]),confirmCrop:o,resetCrop:l,setCropClipType:n}}},66849:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});let i={'&[contenteditable="true"]':{"&:focus-within":{".ProseMirror-gapcursor":{display:"block",height:"1.5em",position:"relative","&:after":{width:"0px",height:"100%",borderTop:"0px",borderLeft:"1px solid black"}},".grid-cell":{".ProseMirror-gapcursor:first-child":{marginTop:"1em"},".ProseMirror-gapcursor:last-child":{marginBottom:"1em"}},".block-table td":{".ProseMirror-gapcursor:first-child":{marginTop:".75em"},".ProseMirror-gapcursor:last-child":{marginBottom:".75em"}},".is-dark":{".ProseMirror-gapcursor:after":{borderLeftColor:"white"}}}},".collaboration-cursor__caret":{position:"relative",marginLeft:"-1px",marginRight:"-1px",borderLeft:"1px solid #0d0d0d",borderRight:"1px solid #0d0d0d",wordBreak:"normal",pointerEvents:"none",textIndent:0},".collaboration-cursor__label":{position:"absolute",top:"-1.4em",left:"-1px",fontSize:"12px",fontStyle:"normal",fontFamily:"'Inter', sans-serif",fontWeight:"600",lineHeight:"normal",letterSpacing:"normal",textTransform:"none",userSelect:"none",color:"#0d0d0d",padding:"0.1rem 0.3rem",borderRadius:"3px 3px 3px 0",whiteSpace:"nowrap",zIndex:1,pointerEvents:"auto",spellCheck:"false",_hover:{opacity:.1}},'&[contenteditable="false"]':{".ProseMirror-gapcursor":{display:"none"},".collaboration-cursor__caret:not(.streaming-cursor)":{display:"none"}}}},67200:(e,t,n)=>{"use strict";n.d(t,{LP:()=>a,Xq:()=>s,he:()=>r,kz:()=>l});var i=n(60122);let a=e=>{let t=e.getMeta(i.pJ);return(null==t?void 0:t.isChangeOrigin)===!0},r=e=>a(e)&&!s(e),l=e=>!r(e),s=e=>{var t;return null==(t=e.getMeta(i.pJ))?void 0:t.isUndoRedoOperation}},67864:(e,t,n)=>{"use strict";n.d(t,{CS:()=>u,Q4:()=>g,Ti:()=>d,U5:()=>m,Vo:()=>h,cE:()=>c,ek:()=>b,es:()=>x,nh:()=>f,rV:()=>p});var i=n(60122),a=n(46814),r=n(37243),l=n(47665),s=n(53891),o=n(53885);let c=e=>(0,l.jg)(e)||(0,l.sw)(e)||(0,s.p8)(e),d=(e,t)=>!(0,l.jg)(e)&&!(0,l.sw)(e)&&c(t),u=(e,t)=>{let n=null;return t.state.doc.descendants((t,i,a)=>{if(i>0&&!c(a)&&!c(t))return!1;!(0,l.jg)(t)&&c(a)&&e>=i&&e<i+t.nodeSize&&(n={node:t,pos:i,end:i+t.nodeSize})}),n},p=e=>{if(c(e.parent))return{pos:e.pos,node:e.nodeAfter};for(let t=e.depth;t>0;t--){let n=e.node(t);if(c(e.node(t-1)))return{pos:t>0?e.before(t):0,node:n}}return null},h=e=>{let{pos:t,from:n,to:i,editor:a}=e,{state:s}=a,c=o.q.getState(s);if(!c)return null;let d=(0,r.eL)(a.state.doc.resolve(t),l.jg),u=c.getAnnotationsBetween(s,n,i),p=d?c.getAnnotationsBetween(s,d.pos,d.pos+d.node.nodeSize).filter(e=>!u.find(t=>t.id===e.id)):[];return{inBlock:u,inCard:p,origNodePos:t}},g=e=>{let{dropPos:t,dropNode:n,dragging:r,side:l,tr:s,view:c}=e,d=o.q.getState(c.state);if(!d)return[];let u=d.getAnnotationsBetween(c.state,t,t+n.nodeSize),p=r.inBlock,h="left"===l?r.origNodePos:t,g="left"===l?t:r.origNodePos,{doc:m,type:x,binding:f}=i.pJ.getState(c.state),b=s.mapping.map(t),y=(e,t)=>n=>{let{id:i,relativePos:r}=n,l=(0,a.bL)(m,x,r,f.mapping);return null==l?null:{id:i,newPos:b+(l-e)+t}},v=[...("left"===l?p:u).map(y(h,1)).filter(e=>!!e),...("left"===l?u:p).map(y(g,2)).filter(e=>!!e)],C=r.inCard.filter(e=>{let{id:t}=e;return!v.find(e=>e.id===t)}).map(e=>{let{id:t,pos:n}=e,i=s.mapping.map(n);return n===i?null:{newPos:i,id:t}}).filter(e=>!!e);return[...v,...C]},m=e=>{let{dropPos:t,dropNode:n,dragging:r,side:l,tr:s,view:c,leftContentSize:d}=e,u=o.q.getState(c.state);if(!u)return[];let p=u.getAnnotationsBetween(c.state,t,t+n.nodeSize),h=r.inBlock,g="left"===l?r.origNodePos:t,m="left"===l?t:r.origNodePos,{doc:x,type:f,binding:b}=i.pJ.getState(c.state),y=s.mapping.map(t),v=(e,t)=>n=>{let{id:i,relativePos:r}=n,l=(0,a.bL)(x,f,r,b.mapping);return null==l?null:{id:i,newPos:y+(l-e)+t}},C=[...("left"===l?h:p).map(v(g,2)).filter(e=>!!e),...("left"===l?p:h).map(v(m,4+d)).filter(e=>!!e)],w=r.inCard.filter(e=>{let{id:t}=e;return!C.find(e=>e.id===t)}).map(e=>{let{id:t,pos:n}=e,i=s.mapping.map(n);return n===i?null:{newPos:i,id:t}}).filter(e=>!!e);return[...C,...w]},x=e=>{let{contentPos:t,contentEnd:n,insertPos:r,editor:l}=e,s=o.q.getState(l.state);if(!s)return[];let{state:c}=l,d=s.getAnnotationsBetween(c,t,n),{doc:u,type:p,binding:h}=i.pJ.getState(l.view.state);return d.map(e=>{let{id:n,relativePos:i}=e,l=(0,a.bL)(u,p,i,h.mapping);return null==l?null:{id:n,newPos:r+(l-t)}}).filter(e=>!!e)},f=e=>{let t,{dropPos:n,dragging:r,cardWrapOffset:l,tr:s,view:c}=e;if(!o.q.getState(c.state))return[];let{doc:d,type:u,binding:p}=i.pJ.getState(c.state),h=s.mapping.map(n,-1),g=r.inBlock.map((t=r.origNodePos,e=>{let{id:n,relativePos:i}=e,r=(0,a.bL)(d,u,i,p.mapping);return null==r?null:{id:n,newPos:h+(r-t)+l}})).filter(e=>!!e),m=r.inCard.filter(e=>{let{id:t}=e;return!g.find(e=>e.id===t)}).map(e=>{let{id:t,pos:n}=e,i=s.mapping.map(n);return n===i?null:{newPos:i,id:t}}).filter(e=>!!e);return[...g,...m]},b=e=>{let{pos:t,tr:n,editor:i}=e,a=o.q.getState(i.view.state);if(!a)return[];let r=i.state.doc.resolve(t);return r.nodeAfter?a.getAnnotationsBetween(i.state,t,t+r.nodeAfter.nodeSize).map(e=>{let{id:i,pos:a}=e;return{id:i,newPos:a===t?n.mapping.map(a+1)-1:n.mapping.map(a)}}):[]}},68093:(e,t,n)=>{"use strict";n.d(t,{e:()=>r,V:()=>a});var i=n(28615);let a=e=>{if(i.rS)return{};let{accentCut:t}=e.config;if(!t)return{};let{maskStyles:n,fgStyles:a}=r[t]||{};return{"[data-layout-cut=left]":n.left,"[data-layout-cut=right]":n.right,"video[data-layout-cut=right]":{width:"100%",marginLeft:0,marginRight:0},"[data-layout-cut=top]":n.top,"[data-layout-cut-fg=left]":a.left,"[data-layout-cut-fg=right]":a.right,"[data-layout-cut-fg=top]":a.top}},r={default:{name:()=>"Default",maskStyles:{left:void 0,right:void 0,top:void 0},fgStyles:{left:void 0,right:void 0,top:void 0}},fade:{name:()=>"Fade",maskStyles:{left:{maskImage:'url("'.concat("/_next/static/media/gradient-left.5e1ae259.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"110%",marginRight:"-10%"},right:{maskImage:'url("'.concat("/_next/static/media/gradient-right.81936f6b.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"110%",marginLeft:"-10%"},top:{maskImage:'url("'.concat("/_next/static/media/gradient-top.9cbcc51e.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"110%"}},fgStyles:{left:{maxWidth:"90%",marginRight:"10%"},right:{maxWidth:"90%",marginLeft:"10%"},top:void 0}},diagonal:{name:()=>"Diagonal",maskStyles:{left:{maskImage:'url("'.concat("/_next/static/media/diagonal-left.c66da52d.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"105%",marginRight:"-5%"},right:{maskImage:'url("'.concat("/_next/static/media/diagonal-right.c56ea47c.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"105%",marginLeft:"-5%"},top:{maskImage:'url("'.concat("/_next/static/media/diagonal-top.f5cfbd00.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"105%"}},fgStyles:{left:{maxWidth:"80%",marginRight:"20%"},right:{maxWidth:"80%",marginLeft:"20%"},top:{maxHeight:"85%",marginBottom:"auto"}}},round:{name:()=>"Round",maskStyles:{left:{maskImage:'url("'.concat("/_next/static/media/circle-left.b2ca2ce2.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"105%",marginRight:"-5%"},right:{maskImage:'url("'.concat("/_next/static/media/circle-right.9a77e2f4.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"105%",marginLeft:"-5%"},top:{maskImage:'url("'.concat("/_next/static/media/circle-top.49150ee5.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"105%"}},fgStyles:{left:{maxWidth:"80%",marginRight:"20%"},right:{maxWidth:"80%",marginLeft:"20%"},top:void 0}},roundInverse:{name:()=>"Round Inverse",maskStyles:{left:{maskImage:'url("'.concat("/_next/static/media/circle-inverted-left.dbc8a93f.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"110%",marginRight:"-10%"},right:{maskImage:'url("'.concat("/_next/static/media/circle-inverted-right.de2dd517.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"110%",marginLeft:"-10%"},top:{maskImage:'url("'.concat("/_next/static/media/circle-inverted-top.07d69c71.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"112%"}},fgStyles:{left:{maxWidth:"90%",marginRight:"10%"},right:{maxWidth:"90%",marginLeft:"10%"},top:{maxHeight:"90%",marginBottom:"auto"}}},wiggle:{name:()=>"Wiggle",maskStyles:{left:{maskImage:'url("'.concat("/_next/static/media/wiggle-left.578c81e9.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"105%",marginRight:"-5%"},right:{maskImage:'url("'.concat("/_next/static/media/wiggle-right.8ee6fc0f.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"105%",marginLeft:"-5%"},top:{maskImage:'url("'.concat("/_next/static/media/wiggle-top.41b099b7.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"105%"}},fgStyles:{left:{maxWidth:"94%",marginRight:"6%"},right:{maxWidth:"94%",marginLeft:"6%"},top:{maxHeight:"95%",marginBottom:"auto"}}}}},68143:(e,t,n)=>{"use strict";n.d(t,{BW:()=>c,J2:()=>r,jj:()=>o,uP:()=>s}),n(13731);var i=n(831),a=n.n(i);let r=(e,t)=>{for(let n of e){if(n.id===t)return t;for(let e of n.replies||[])if(e.id===t)return n.id}return null},l=e=>{let{reactions:t,emoji:n,user:i}=e,a=t.find(e=>e.emoji===n);return a&&a.reactions.find(e=>{var t;return e.emoji===n&&(null==(t=e.users)?void 0:t.find(e=>e.id===(null==i?void 0:i.id)))})||null},s=e=>{let{reactions:t,emoji:n,user:i}=e;return!!l({reactions:t,emoji:n,user:i})},o=e=>{let{reactions:t,emoji:n}=e,i=t.find(e=>e.emoji===n);return i&&i.reactions.find(e=>e.emoji===n)||null},c=e=>a()(e.reactions.flatMap(e=>e.users),"id")},68397:(e,t,n)=>{"use strict";n.d(t,{uR:()=>o,en:()=>d});var i=n(6029),a=n(55729),r=n(27578);let l=(e,t)=>{switch(t.type){case"addFeedback":{let n=e.feedback||[];if(n.find(e=>{let{id:n}=e;return n===t.payload.id}))return{...e,feedback:[...n]};return{...e,feedback:[...n,t.payload]}}case"clearFeedback":{let{feedback:t,...n}=e;return{...n}}case"removeFeedback":{let n=e.feedback||[];if(!t.payload.length)return{...e};return{...e,feedback:n.filter(e=>!t.payload.includes(e.id))}}case"reportActiveColumnIds":return{...e,activeColumns:t.payload?[...t.payload]:void 0};case"openContextMenu":return{...e,contextMenu:{isOpen:!0,position:t.payload.position}};case"closeContextMenu":return{...e,contextMenu:{isOpen:!1,position:{x:-1e3,y:-1e3}}};case"setGridFunctions":return{...e,gridFunctions:t.payload};default:(0,r.xb)(t)}return e},s={_inContext:!1},o=(0,a.createContext)({state:s,dispatch:()=>{}}),c=e=>{let{children:t}=e,[n,r]=(0,a.useReducer)(l,{...s,_inContext:!0});return(0,i.jsx)(o.Provider,{value:{state:n,dispatch:r},children:t})},d=e=>t=>(0,i.jsx)(c,{children:(0,i.jsx)(e,{...t})})},69370:(e,t,n)=>{"use strict";n.d(t,{G:()=>S,O:()=>k});var i=n(6029),a=n(27229),r=n(68068),l=n(36071),s=n(60628),o=n(3674),c=n(17920),d=n(58959),u=n(29810),p=n(40691),h=n(64268),g=n(51504),m=n(19564),x=n(55729),f=n(45318),b=n(15342),y=n(3864),v=n(75984),C=n(78481),w=n(52762),A=n(52842),j=n(9119);let k=()=>{let{isOpen:e,onOpen:t,onClose:n}=(0,a.j)(),[i,r]=(0,x.useState)(0),l=(0,x.useCallback)(e=>{t(),r(e)},[t]),s=(0,b.jL)();return{openBackgroundTab:(0,x.useCallback)(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];e&&s((0,j.lj)()),l(0)},[s,l]),openStylesTab:(0,x.useCallback)(()=>{l(1)},[l]),isOpen:e,onClose:n,tabIndex:i,setTabIndex:r}},S=(0,x.memo)(function(e){let{editor:t,isOpen:n,onClose:a,background:b,updateNestedAttributes:j,tabIndex:k,setTabIndex:S,backFrom:L,isAccentImageDrawer:I=!1}=e,E=(0,C.N)(t),D=(0,x.useCallback)(()=>{0!==k&&S(0),a()},[a,k,S]),M=(0,y.o)(),R=I?A.lK.accentImage():A.lK.cardBackground(),_=(0,x.useCallback)(e=>!I||e.backgroundType!==w.h.NONE,[I]);return(0,i.jsxs)(r._s,{trapFocus:!1,isOpen:n,placement:"right",onClose:D,size:M,blockScrollOnMount:!1,children:[(0,i.jsx)(l.m,{background:"none"}),(0,i.jsxs)(s.z,{onKeyDown:E,"data-in-editor-focus":!0,"data-edit-background-drawer":!0,"data-testid":"card-style-drawer",children:[(0,i.jsx)(o.s,{}),(0,i.jsx)(c.r,{fontSize:"x-large",children:(0,i.jsxs)(d.z,{me:7,children:[(0,i.jsx)(m.x6,{id:"xYilR2"}),(0,i.jsx)(u.h,{}),b.type===w.h.IMAGE&&b.image&&I&&(0,i.jsx)(f.V,{onClick:D,image:b.image,backFrom:L})]})}),(0,i.jsx)(p.c,{overflowX:"hidden",sx:{scrollbarGutter:"stable"},display:"flex",flexDirection:"column",pt:0,children:(0,i.jsx)(v.A,{closeDrawer:D,editor:t,updateNestedAttributes:j,background:b,defaultMessage:(0,i.jsxs)(h.F,{children:[(0,i.jsx)(g._,{}),R]}),isDark:!1,isValidSource:_})})]})]})})},69460:(e,t,n)=>{"use strict";n.d(t,{G:()=>u,J:()=>p});var i=n(55452),a=n(12364),r=n.n(a),l=n(62040),s=n(55729),o=n(15342),c=n(6845),d=n(87930);let u="FLUSH_SYNCED_EDITOR",p=e=>{let{sourceEditor:t,targetEditor:n,isStreaming:a=!1}=e,r=(0,o.jL)();(0,s.useEffect)(()=>{let e=new m(n,e=>{let{editor:t}=e;try{var a;n.commands.command(e=>{let{state:t}=e;return(0,c.jL)(t.doc,r),!0}),null===d.U||void 0===d.U||null==(a=d.U.getState(t.state))||a.processChanges(r)}catch(e){i.Cp(e)}},{maxWait:a?500:void 0,onError(){let e=t.getJSON();n.commands.setContent(e),n.commands.command(e=>{let{state:t}=e;return(0,c.jL)(t.doc,r),!0})}}),l=h.bind(void 0,e),s=g.bind(void 0,e);return t.on("update",l),t.on("selectionUpdate",s),()=>{n.isDestroyed?e.clear():e.flush(),t.off("update",l),t.off("selectionUpdate",s)}},[t,n,r,a])},h=(e,t)=>{let{transaction:n}=t;e.add(n),n.getMeta(u)&&e.flush()},g=(e,t)=>{var n,i;let{editor:a}=t,r=null==(i=a.state.selection)||null==(n=i.ranges)?void 0:n[0];r&&e.setSelection({from:r.$from.pos,to:r.$to.pos})};class m{add(e){this.queue.push(e.steps.map(e=>l.pn.fromJSON(this.editor.schema,e.toJSON()))),this.apply()}setSelection(e){this.selection=e,setTimeout(()=>{0===this.queue.length&&this.applySelection()},0)}flush(){this.apply.flush()}clear(){this.apply.cancel()}doApply(){var e,t;let n;for(;void 0!==(n=this.queue.shift());){let e=this.editor.state.tr;try{n.forEach(t=>e.step(t)),this.editor.view.dispatch(e)}catch(e){this.queue.splice(0,this.queue.length),null==(t=this.onError)||t.call(this)}}this.applySelection(),null==(e=this.onApply)||e.call(this,{editor:this.editor})}applySelection(){this.selection&&this.editor.commands.setTextSelection(this.selection),this.selection=null}constructor(e,t,{maxWait:n,onError:i=null}={}){this.editor=e,this.onApply=t,this.queue=[],this.selection=null,this.onError=null,this.onError=null!=i?i:null,this.apply=r()(this.doApply.bind(this),500,n?{maxWait:n}:{})}}},69540:(e,t,n)=>{"use strict";n.d(t,{h:()=>ti,e:()=>tn});var i=n(8064),a=n(6029),r=n(19564),l=n(57405),s=n(50861),o=n(35289),c=n(62964);let d=e=>{let{editor:t,updateAttributes:n,currentAttributes:i,urlPlaceholder:r,embedTip:d}=e,u=(0,s.Zj)(i);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:u,updateAttributes:n,placeholder:r||"https://..."}),d,u&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};var u=n(74771),p=n(64268),h=n(51504),g=n(99745),m=n(80314);let x=e=>{let{guideLink:t,extraMessage:n,providerName:i}=e;return(0,a.jsxs)(p.F,{status:"info",children:[(0,a.jsx)(h._,{}),(0,a.jsx)(g.T,{children:(0,a.jsx)(r.x6,{id:"qBttXb",values:{providerName:i,extraMessage:n},components:{0:(0,a.jsx)(m.N,{href:t,textDecoration:"underline",isExternal:!0}),1:(0,a.jsx)(u.p,{mx:"2px"})}})})]})},f=e=>(0,a.jsx)(d,{...e,urlPlaceholder:"https://airtable.com/...",embedTip:(0,a.jsx)(x,{guideLink:"https://support.airtable.com/docs/embedding-airtable-views",providerName:"Airtable",extraMessage:(0,a.jsx)(r.x6,{id:"gsZDsS"})})});f.key="embed.airtable";let b=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,d=(0,s.Zj)(i);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:d,updateAttributes:n,placeholder:"<iframe..."}),(0,a.jsx)(x,{guideLink:"https://help.amplitude.com/hc/en-us/articles/235717108-Share-charts-dashboards-and-notebooks-with-stakeholders-outside-your-company#generate-embed-code-for-your-content",extraMessage:(0,a.jsx)(r.x6,{id:"NDM+Av"}),providerName:"Amplitude"}),d&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};b.key="embed.amplitude";var y=n(20196),v=n(60281);let C=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:r}=e;return(0,a.jsx)(v.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",enableSearch:!0,enablePagination:!1,provider:"bing",resultsPerPage:y.s.count,mediaSearchQuery:i,setMediaSearchQuery:r})};C.key="image.bing";let w=e=>(0,a.jsx)(d,{...e,urlPlaceholder:"https://calendly.com/..."});w.key="embed.calendly";var A=n(3276),j=n(2241),k=n(33787),S=n(48810),L=n(49611),I=n(23293),E=n(77650),D=n(82328),M=n(15342),R=n(91792),_=n(21982),z=n(43634),N=n(82927),T=n(60908),P=n(15773),H=n(58495),F=n(55729),B=n(45574),O=n(20502),V=n(59230);let W=e=>{let{updateAttributes:t,editType:n,editor:i,source:a}=e,r=(0,M.GV)(z.aQ),{currentWorkspace:l}=(0,N.ur)(),{orgId:s,templateId:o}=(0,R.PJ)(r||(null==l?void 0:l.id),n),c=(0,F.useRef)(null),d=(0,F.useCallback)(e=>{let{tempUrl:n,attributes:i}=e;t({uploadStatus:V.A.Uploading,showPlaceholder:!1,tempUrl:n,src:null,...i}),c.current=n},[t]),u=(0,F.useCallback)((e,r)=>{let l=c.current||r;if(l){if("node"!==n||!i)return void t({...(0,B.yK)({result:e,isError:!1}),source:a});(0,B.Ki)(i,l,e),c.current=null}},[i,n,t,a]),p=(0,F.useCallback)(e=>{if(!c.current||!i)return void t((0,B.yK)({isError:!0}));(0,B.wt)(i,c.current,e)},[i,t]),h=(0,F.useCallback)(e=>{if(!s)return void console.error("[CustomImagePanel] saveImageFromDataURL - No orgId!");d({tempUrl:e});try{let t=(0,T.Xz)(e,"image");if(!t)return void p();(0,O.QM)(t,s,{onUploadComplete:u,onOriginalFileUpload:u,onUploadFailed:p},n,void 0,o)}catch(e){p()}},[n,s,p,d,u,o]),g=(0,F.useCallback)(e=>{if(!s)return void console.error("[CustomImagePanel] saveImageFromUrl - No orgId!");d({tempUrl:e});try{(0,O.j_)(e,s,{onUploadComplete:u,onOriginalFileUpload:u,onUploadFailed:p},n,o)}catch(e){p()}},[n,s,p,d,u,o]),m=(0,F.useCallback)(async e=>{let{blob:t,attributes:i}=e;if(!s)return void console.error("[QRCodePanel] saveImageFromDataBlob - No orgId!");d({tempUrl:window.URL.createObjectURL(t),attributes:i});try{let e=(0,T.Xl)({blob:t,filename:"image",ext:"svg"});return await (0,O.QM)(e,s,{onUploadComplete:u,onOriginalFileUpload:u,onUploadFailed:p},n)}catch(e){p()}},[n,s,p,d,u]),x=(0,F.useCallback)(e=>{let{file:t,tempUrl:n}=e;t.type&&(0,T.aI)(t.type)?d({tempUrl:"HEIC_tempId_".concat((0,H.Ak)()),attributes:{showPlaceholder:!0}}):d({tempUrl:n})},[d]);return{setTempUrl:d,setUploadedImage:u,saveImageFromDataURL:h,saveImageFromUrl:g,saveImageFromDataBlob:m,onUploadStart:x,setUploadFailed:(0,F.useCallback)(()=>{t((0,B.yK)({isError:!0}))},[t])}},U=e=>{let{editor:t,editType:n,updateAttributes:i,currentAttributes:s,resetToPlaceholder:o}=e,{onUploadStart:d,setUploadedImage:u,saveImageFromUrl:m,saveImageFromDataURL:x,setUploadFailed:f}=W({updateAttributes:i,editor:t,editType:n,source:"image.custom"}),b=(0,M.GV)(z.aQ),{currentWorkspace:y}=(0,N.ur)(),{isInOfflineMode:v}=(0,D.u)(),{orgId:C,templateId:w,useStandardThemeBucket:H}=(0,R.PJ)(b||(null==y?void 0:y.id),n),{src:F,tempUrl:B,meta:O,name:U,showPlaceholder:G,uploadStatus:Z}=s,K=F?(0,T.bI)(F,{width:500}):void 0;return(F||B||G)&&((null==s?void 0:s.source)==="image.custom"||Z===V.A.Uploading)?(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[Z===V.A.Uploading&&(0,a.jsxs)(p.F,{status:"info",size:"sm",children:[(0,a.jsx)(h._,{as:A.y,w:5,h:5}),(0,a.jsx)(g.T,{children:(0,a.jsx)(r.x6,{id:"MEDU34"})})]}),G?(0,a.jsx)(_.Pf,{isUploading:Z===V.A.Uploading,hasUploadError:Z===V.A.Error,width:"100%",height:"200px",borderRadius:"md"}):(0,T.v7)(F)?(0,a.jsx)(j.B.video,{src:F,poster:null==O?void 0:O.poster,autoPlay:!0,muted:!0,loop:!0,width:"100%",height:"200px",borderRadius:"md"}):(0,a.jsx)(k._,{src:K||B,alt:"",ignoreFallback:!0,borderRadius:"md"}),O&&O.width&&O.height&&(0,a.jsxs)(S.E,{children:[O.width,"\xd7",O.height,"px"]}),U&&(0,a.jsx)(S.E,{children:U}),(0,a.jsx)(L.$,{onClick:o,mt:2,w:"100%",children:(0,a.jsx)(r.x6,{id:"HUPV+K"})})]}):(0,a.jsxs)(l.T,{align:"stretch",spacing:4,children:[H&&(0,a.jsxs)(p.F,{status:"warning",size:"sm",children:[(0,a.jsx)(h._,{}),(0,a.jsx)(g.T,{children:"[Admin] Theme images will be uploaded to production theme_images bucket"})]}),Z===V.A.Error&&(0,a.jsxs)(p.F,{status:"error",size:"sm",children:[(0,a.jsx)(h._,{}),(0,a.jsx)(g.T,{children:(0,a.jsx)(r.x6,{id:"GymiXM"})})]}),(0,a.jsx)(I.D,{size:"md",children:(0,a.jsx)(r.x6,{id:"IagCbF"})}),(0,a.jsx)(c.VG,{currentUrl:"",placeholder:E.Ru._({id:"jurEzE"}),handleSubmit:m,handleDataSubmit:x,noHeader:!0}),!v&&(0,a.jsx)(I.D,{size:"md",children:(0,a.jsx)(r.x6,{id:"ONWvwQ"})}),C&&(0,a.jsx)(P.Z,{onUploadSuccess:u,onUploadStart:d,onUploadFailed:f,orgId:C,uploadType:"image",editType:n,templateId:w,tipText:E.Ru._({id:"x4Ts51"})})]})};U.key="image.custom";let G=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,r=(0,s.Zj)(i);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:r,updateAttributes:n,placeholder:E.Ru._({id:"gzZk6e"})}),r&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};G.key="video.custom";let Z=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,r=(0,s.Zj)(i);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:r,updateAttributes:n,placeholder:"https://www.figma.com/file/..."}),(0,a.jsx)(x,{guideLink:"https://help.figma.com/hc/en-us/articles/360039827134-Embed-files-and-prototypes",providerName:"Figma/FigJam"}),r&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};Z.key="embed.figma";var K=n(69388),Q=n(26420),q=n(40452),J=n(83743),$=n(80074),Y=n(41781),X=n(16936),ee=n(72470),et=n(77979),en=n(38036),ei=n(99492),ea=n(48621),er=n(47412),el=n(18833),es=n(29452),eo=n.n(es),ec=n(30361),ed=n.n(ec),eu=n(80180),ep=n(11403);let eh="60px",eg=(0,F.memo)(e=>{let{icon:t,isSelected:n,onIconClick:i}=e;return(0,a.jsx)(K.E,{height:eh,width:eh,children:(0,a.jsx)(L.$,{borderRadius:"base",bgColor:n?"trueblue.100":void 0,color:"gray.800",display:"block",width:"100%",height:"100%",maxH:"100%",pos:"relative",_hover:{bgColor:n?"trueblue.100":"trueblue.50"},_active:{bgColor:"trueblue.100"},transition:"box-shadow .2s ease",variant:"ghost",cursor:"pointer",onClick:()=>i(t),"data-testid":"icon-search-grid-item",children:(0,a.jsx)(Q.a,{height:"100%",maxH:"100%",sx:{svg:{width:"100%",height:"100%"}},dangerouslySetInnerHTML:{__html:t.html}})})},t.id)});eg.displayName="ImageSearchGridItem";let em=e=>{let{searchQuery:t,currentAttributes:n,updateAttributes:i}=e,{isInOfflineMode:l}=(0,D.u)(),[s,o]=(0,F.useState)([]),[c,d]=(0,F.useState)(!0),[u,g]=(0,F.useState)(!1),[m,x]=(0,F.useState)(1),f=(0,F.useCallback)(async e=>{if(l)return;let n="/api/icons/search?count=".concat(100,"&query=").concat(t,"&page=").concat(e);d(!0),g(!1);try{var i;let e=await fetch(n,{credentials:"include"}),t=await e.json();if(d(!1),!((null==t||null==(i=t.data)?void 0:i.length)>=0))throw Error(t);o(t.data)}catch(e){g(!0),d(!1),console.error("(caught) [ImageSearchGrid] fetchResults:",e)}},[l,t]);(0,F.useEffect)(()=>{o([]),x(1),f(1)},[t,f]),(0,F.useCallback)(()=>{f(m+1),x(m+1)},[f,m]);let b=null==n?void 0:n.src,y=(0,F.useCallback)(async e=>{i({src:e.src,tempUrl:b,meta:{height:e.height,width:e.width},providerMeta:{name:e.provider,id:e.id},query:t})},[t,i,b]),v=s.map((e,t)=>{var i,r;let l=e.id===(null==n||null==(i=n.providerMeta)?void 0:i.id)&&e.provider===(null==n||null==(r=n.providerMeta)?void 0:r.name);return(0,a.jsx)(eg,{provider:e.provider,icon:e,isSelected:l,onIconClick:y},t)});return(0,a.jsxs)(q.s,{direction:"column",align:"stretch",children:[(0,a.jsxs)(J.r,{gap:2,columns:{base:4,"2xl":6},children:[v,c&&!l&&(0,a.jsx)(ex,{})]}),!1,0===s.length&&!c&&(0,a.jsx)(Q.a,{width:"100%",textAlign:"center",padding:"10px",children:(0,a.jsx)(S.E,{style:{color:"gray"},children:(0,a.jsx)(r.x6,{id:"2AY48J",values:{searchQuery:t}})})}),u&&(0,a.jsxs)(p.F,{status:"error",children:[(0,a.jsx)(h._,{}),(0,a.jsx)(r.x6,{id:"5hlcZg"})]})]})},ex=()=>(0,a.jsx)(a.Fragment,{children:eo()(100).map((e,t)=>(0,a.jsx)(K.E,{height:eh,children:(0,a.jsx)($.g,{ratio:1,children:(0,a.jsx)(Y.E,{borderRadius:"base"})})},t))}),ef=(0,el.P)(X.K),eb=e=>{let{currentAttributes:t,updateAttributes:n,defaultQuery:i="",randomQueries:s,mediaSearchQuery:o,setMediaSearchQuery:c}=e,[d,u]=(0,F.useState)(i),[p,h]=(0,F.useState)("");(0,F.useEffect)(()=>{c&&d!==o&&c(d)},[d,c,o]),(0,F.useEffect)(()=>{h(i),u(i)},[i]);let g=(0,F.useCallback)(()=>{let e=ed()(s);for(;e===d;)e=ed()(s);e&&(u(e),h(""))},[s,d]),m=(0,ep.lW)(u,500);return(0,a.jsxs)(l.T,{spacing:4,align:"stretch",translate:"no",children:[(0,a.jsxs)(ee.M,{size:"md",children:[(0,a.jsx)(et.W,{pointerEvents:"none",children:(0,a.jsx)(Q.a,{color:"gray.400",children:(0,a.jsx)(ea.g,{icon:ei.MjD})})}),(0,a.jsx)(en.p,{placeholder:d||E.Ru._({id:"oMAM3/"}),value:p,onChange:e=>{h(e.target.value),m(e.target.value)},"data-testid":"image-search-input"}),s&&(0,a.jsx)(et.t,{children:(0,a.jsx)(er.Tz,{placement:"top",label:(0,a.jsx)(r.x6,{id:"OVjfHO"}),children:(0,a.jsx)(ef,{icon:(0,a.jsx)(ea.g,{icon:ei.xNJ}),"aria-label":E.Ru._({id:"OVjfHO"}),variant:"ghost",onClick:g,size:"sm",whileTap:{y:"-5px"},onMouseDown:eu.Fw})})})]}),(0,a.jsx)(em,{currentAttributes:t,updateAttributes:n,searchQuery:d||""})]})},ey=["animals","arrows","business","party","nature","food"],ev=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:r}=e;return(0,a.jsx)(eb,{updateAttributes:t,currentAttributes:n,currentIconUrl:n.src,defaultQuery:n.query||"",randomQueries:ey,mediaSearchQuery:i,setMediaSearchQuery:r})};ev.key="image.icon";let eC=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,r=(0,s.Zj)(i);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:r,updateAttributes:n,placeholder:"https://gamma.app/docs/..."}),r&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};eC.key="embed.gamma";var ew=n(24170),eA=n.n(ew);let ej=["funny","surprise","hooray","welcome","excited","nope","fail","sad","cry","angry","teamwork","cats","dogs","high five"],ek=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:r}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",randomQueries:ej,provider:"giphy",mediaSearchQuery:i,setMediaSearchQuery:r}),(0,a.jsx)(q.s,{width:"100%",justify:"center",padding:"10px",paddingTop:"30px",children:(0,a.jsx)(Q.a,{maxW:"150px",children:(0,a.jsx)(eA(),{src:"/images/powered-by-giphy.png",width:"150",height:"17",alt:"Powered by GIPHY"})})})]})};ek.key="image.giphy";var eS=n(99038);let eL=e=>(0,a.jsx)(d,{...e,urlPlaceholder:"https://docs.google.com/...",embedTip:(0,a.jsx)(x,{guideLink:"https://support.google.com/docs/answer/183965?hl=en&co=GENIE.Platform%3DDesktop#zippy=%2Cedit-embedded-spreadsheets%2Cembed-a-document-spreadsheet-or-presentation",extraMessage:(0,a.jsx)(r.x6,{id:"G6PCHK",values:{GAMMA_ARTIFACT_PROPER_NOUN:eS.TP}}),providerName:"Google Sheets, Docs, or Slides"})});eL.key="embed.gdrive";let eI=e=>(0,a.jsx)(d,{...e,urlPlaceholder:"https://docs.google.com/forms/..."});eI.key="embed.google.form";let eE=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:r}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(v.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",provider:"google",mediaSearchQuery:i,setMediaSearchQuery:r})})};eE.key="image.google";var eD=n(43090);let eM=e=>{let{updateAttributes:t,currentAttributes:n,isDark:i}=e;return(0,a.jsx)(eD.j,{value:n,updateValue:t,isDark:i})};eM.key="color.gradient";let eR=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,r=(0,s.Zj)(i);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:r,updateAttributes:n,placeholder:"https://www.instagram.com/..."}),r&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};eR.key="embed.instagram";let e_=e=>(0,a.jsx)(d,{...e,urlPlaceholder:"https://form.jotform.com/..."});e_.key="embed.jotform";let ez=["wallpaper","textures","background","nature","gradient","relax","sky","water","pattern","abstract"],eN=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:l}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",randomQueries:ez,provider:"lexica",enablePagination:!0,mediaSearchQuery:i,setMediaSearchQuery:l}),(0,a.jsx)(Q.a,{width:"100%",textAlign:"center",padding:"10px",paddingTop:"30px",children:(0,a.jsx)(S.E,{fontSize:"sm",color:"gray.500",children:(0,a.jsx)(r.x6,{id:"rbDrRg",components:{0:(0,a.jsx)(m.N,{href:"https://lexica.art",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"}})}})})})]})};eN.key="image.lexica";let eT=F.lazy(()=>Promise.all([n.e(1078),n.e(7582)]).then(n.bind(n,97582)).then(e=>({default:e.LoomPanel}))),eP=e=>(0,a.jsx)(F.Suspense,{fallback:(0,a.jsx)(A.y,{size:"md"}),children:(0,a.jsx)(eT,{...e})});eP.key="video.loom";let eH=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,d=(0,s.Zj)(i);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:d,updateAttributes:n,placeholder:E.Ru._({id:"ORLSr4"})}),(0,a.jsx)(x,{guideLink:"https://support.microsoft.com/en-us/office/embed-a-word-document-in-your-blog-0faa0253-2751-44bf-8486-ea7837fe7db1",extraMessage:(0,a.jsx)(r.x6,{id:"2csAkv"}),providerName:"Word, Excel, or PowerPoint"}),d&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};eH.key="embed.microsoft.office";let eF=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,r=(0,s.Zj)(i);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:r,updateAttributes:n,placeholder:"https://www.miro.com/..."}),(0,a.jsx)(x,{guideLink:"https://help.miro.com/hc/en-us/articles/360016335640-How-to-embed-editable-boards-into-websites",providerName:"Miro"}),r&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};eF.key="embed.miro";let eB=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,d=(0,M.GV)(z.aQ),u=(0,s.Zj)(i),{isInOfflineMode:p}=(0,D.u)(),h=(0,F.useRef)(null),g=(0,F.useCallback)(e=>{let{tempUrl:t,file:i}=e,a=(0,B.bY)(i);h.current=t,n({...a,url:t})},[n]),m=(0,F.useCallback)((e,n)=>{if(!t)return;let i=h.current;(0,B.XJ)(t,i||n,e),h.current=null},[t]);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:u,updateAttributes:n,placeholder:E.Ru._({id:"gzZk6e"})}),u&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i}),!p&&(0,a.jsx)(I.D,{size:"md",children:(0,a.jsx)(r.x6,{id:"ONWvwQ"})}),d&&(0,a.jsx)(P.Z,{onUploadSuccess:m,onUploadStart:g,orgId:d,uploadType:"doc",dropHereText:E.Ru._({id:"ByKyau",values:{0:"%{browse}"}}),editType:"node"})]})};eB.key="embed.pdf";let eO=["business","rocket","graphs","build","gradient","sky","water"],eV=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:l}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",randomQueries:eO,provider:"pictographic",enablePagination:!0,mediaSearchQuery:i,setMediaSearchQuery:l}),(0,a.jsx)(Q.a,{width:"100%",textAlign:"center",padding:"10px",paddingTop:"30px",children:(0,a.jsx)(S.E,{fontSize:"sm",color:"gray.500",children:(0,a.jsx)(r.x6,{id:"wOdKZR",components:{0:(0,a.jsx)(m.N,{href:"https://pictographic.io",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"}})}})})})]})};eV.key="image.pictographic";let eW=["teamwork","presentation","growth","education","learning","goal","innovation","training","success","planning"],eU=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:r}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(v.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",randomQueries:eW,provider:"pictographicIcons",enablePagination:!0,resultsPerPage:100,resultEntityType:"icon",mediaSearchQuery:i,setMediaSearchQuery:r,displayAsGrid:!0})})};eU.key="image.pictographic.icon";let eG=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,r=(0,s.Zj)(i);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:r,updateAttributes:n,placeholder:E.Ru._({id:"ORLSr4"})}),r&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};eG.key="embed.microsoft.powerbi";var eZ=n(83638),eK=n(25223),eQ=n(26385);let eq=e=>eJ(e),eJ=async e=>{let t=(await n.e(5894).then(n.t.bind(n,75894,23))).default,{text:i,foregroundColor:a,backgroundColor:r,logoUrl:l,dotOption:s}=e;return new t({width:300,height:300,type:"svg",data:i,image:l,margin:10,dotsOptions:{color:a||"#000",type:s},backgroundOptions:{color:r||"#fff"},imageOptions:{crossOrigin:"anonymous",imageSize:.4,margin:0}}).getRawData("svg")},e$=e=>{var t;let{editor:n,editType:i,updateAttributes:s,currentAttributes:o}=e,{saveImageFromDataBlob:c}=W({updateAttributes:s,editor:n,editType:i,source:"image.qrCode"}),[d,u]=(0,F.useState)(!1),m="#000000",x="#FFFFFF",f="square",[b,y]=(0,F.useState)(null==o||null==(t=o.meta)?void 0:t.title),[v,C]=(0,F.useState)(null==o?void 0:o.src),w=(0,F.useRef)(),j=(0,F.useCallback)(()=>{u(!0)},[]),I=(0,F.useCallback)(async()=>{if(!b)return;let e=await eq({text:b,foregroundColor:m,backgroundColor:x,dotOption:f});e&&(C(window.URL.createObjectURL(e)),w.current=e)},[b,m,x,f]);(0,F.useEffect)(()=>{I()},[f,x,m,b,b,I]);let{src:D,tempUrl:M,meta:R,showPlaceholder:z,uploadStatus:N}=o,P=D?(0,T.bI)(D,{width:500}):void 0,H=!d&&!!(D||M||z),B=(0,F.useCallback)(async()=>{w.current&&(u(!0),await c({blob:w.current,attributes:{meta:{title:b,foregroundColor:m,backgroundColor:x,dotOption:f}}}),u(!1))},[c,b,m,x,f]);return H?(0,a.jsxs)(l.T,{align:"center",spacing:4,children:[N===V.A.Uploading&&(0,a.jsxs)(p.F,{status:"info",size:"sm",children:[(0,a.jsx)(h._,{as:A.y,w:5,h:5}),(0,a.jsx)(g.T,{children:(0,a.jsx)(r.x6,{id:"MEDU34"})})]}),z?(0,a.jsx)(_.Pf,{isUploading:N===V.A.Uploading,hasUploadError:N===V.A.Error,width:"100%",height:"200px",borderRadius:"md"}):(0,a.jsx)(k._,{src:P||M,alt:"",ignoreFallback:!0,borderRadius:"md"}),(null==R?void 0:R.title)&&(0,a.jsx)(S.E,{textAlign:"left",w:"100%",children:R.title}),N!==V.A.Uploading&&(0,a.jsx)(L.$,{onClick:j,mt:2,w:"100%",children:(0,a.jsx)(r.x6,{id:"4uW88M"})})]}):(0,a.jsxs)(l.T,{align:"stretch",spacing:4,children:[N===V.A.Error&&(0,a.jsxs)(p.F,{status:"error",size:"sm",children:[(0,a.jsx)(h._,{}),(0,a.jsx)(g.T,{children:(0,a.jsx)(r.x6,{id:"GymiXM"})})]}),(0,a.jsxs)(eZ.MJ,{id:"qr-url",children:[(0,a.jsx)(eK.l,{children:(0,a.jsx)(r.x6,{id:"IagCbF"})}),(0,a.jsx)(ee.M,{size:"lg",children:(0,a.jsx)(en.p,{id:"qr-url",value:b,placeholder:E.Ru._({id:"qf63PF"}),type:"url",onChange:e=>{y(e.target.value)}})})]}),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Q.a,{p:4,py:2,bg:"gray.50",borderRadius:"md",children:(0,a.jsxs)(eQ.B,{spacing:2,children:[(0,a.jsx)(S.E,{children:(0,a.jsx)(r.x6,{id:"a37vfH"})}),(0,a.jsx)(q.s,{align:"center",justify:"center",h:"200px",p:1,border:"1px solid",borderColor:"gray.200",borderRadius:"md",overflow:"hidden",bg:"white",children:v?(0,a.jsx)(eQ.B,{h:"100%",children:(0,a.jsx)(k._,{src:v,maxH:"100%"})}):(0,a.jsx)(Q.a,{p:2,children:(0,a.jsx)(S.E,{size:"xs",color:"gray.500",textAlign:"center",children:(0,a.jsx)(r.x6,{id:"eu7KCb"})})})}),(0,a.jsx)(S.E,{fontSize:"sm",color:"gray.600",children:(0,a.jsx)(r.x6,{id:"wjRHQb"})})]})}),(0,a.jsx)(er.Tz,{isDisabled:!!v,shouldWrapChildren:!0,label:(0,a.jsx)(r.x6,{id:"Y1WnIF"}),children:(0,a.jsx)(L.$,{onClick:B,w:"100%",variant:"solid",tabIndex:0,isDisabled:!v,children:(0,a.jsx)(r.x6,{id:"IChvxB"})})})]})]})};e$.key="image.qrCode";let eY=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,d=(0,s.Zj)(i);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:d||"",updateAttributes:n,placeholder:"https://open.spotify.com/..."}),(0,a.jsx)(x,{guideLink:"https://artists.spotify.com/en/help/article/embedded-players-follow-buttons",providerName:"Spotify",extraMessage:(0,a.jsx)(r.x6,{id:"ItAUcI"})}),d&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};eY.key="video.spotify";let eX=e=>(0,a.jsx)(d,{...e,urlPlaceholder:"https://tally.so/..."});eX.key="embed.tally";let e0=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,r=(0,s.Zj)(i);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:r,updateAttributes:n,placeholder:"https://www.tiktok.com/..."}),(0,a.jsx)(x,{guideLink:"https://developers.tiktok.com/doc/embed-videos/",providerName:"TikTok"}),r&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};e0.key="video.tiktok";let e1=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,r=(0,s.Zj)(i);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:r,updateAttributes:n,placeholder:"https://twitter.com/..."}),r&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};e1.key="embed.twitter";let e2=e=>(0,a.jsx)(d,{...e,urlPlaceholder:"https://typeform.com/..."});e2.key="embed.typeform";let e4=["wallpaper","textures","architecture","background","nature","gradient","experimental","animals","california","flowers","relax","sky","water","pattern","abstract"],e5=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:l}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query,randomQueries:e4,provider:"unsplash",mediaSearchQuery:i,setMediaSearchQuery:l}),(0,a.jsx)(Q.a,{width:"100%",textAlign:"center",padding:"10px",paddingTop:"30px",children:(0,a.jsx)(S.E,{fontSize:"sm",color:"gray.500",children:(0,a.jsx)(r.x6,{id:"k16iQH",values:{UNSPLASH_PROPER_NOUN:"Unsplash"},components:{0:(0,a.jsx)(m.N,{href:"https://unsplash.com",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"}})}})})})]})};e5.key="image.unsplash";let e6=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,r=(0,s.Zj)(i);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:r,updateAttributes:n,placeholder:"https://vimeo.com/..."}),r&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};e6.key="video.vimeo";let e3=["modern office workspace","sustainable energy landscape","vintage automobile collection","future technology concept","tropical beach paradise","urban street art","classical music instruments","mountain hiking adventure","wildlife safari","space exploration visuals","ancient ruins aerial view","deep sea marine life","high fashion runway event","robotics in manufacturing","gourmet food presentation","winter sports scene","abstract art paintings","traditional village festival","modern architecture landmarks","digital art fantasy worlds"],e9=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:i,setMediaSearchQuery:r}=e;return(0,a.jsx)(v.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",enablePagination:!0,enableLicenseFilter:!0,provider:"web",resultsPerPage:48,randomQueries:e3,resizeThumbnails:!0,mediaSearchQuery:i,setMediaSearchQuery:r})};e9.key="image.web";var e7=n(61491);let e8=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,{proxy:d,displayStyle:u}=i,p=(0,s.Zj)(i);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:p||"",updateAttributes:n,placeholder:E.Ru._({id:"gzZk6e"})}),p&&u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e7.S,{isChecked:d,onChange:e=>n({proxy:e.target.checked}),children:(0,a.jsx)(r.x6,{id:"Fl9cgp"})}),(0,a.jsx)(S.E,{fontSize:"sm",color:"gray.500",mt:-2,children:(0,a.jsx)(r.x6,{id:"J87/8N"})})]}),p&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};e8.key="embed.custom";let te=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,r=(0,s.Zj)(i);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:r,updateAttributes:n,placeholder:"<iframe..."}),(0,a.jsx)(x,{guideLink:"https://wistia.com/support/embed-and-share/media-on-your-website",providerName:"Wistia"}),r&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};te.key="video.wistia";let tt=e=>{let{editor:t,updateAttributes:n,currentAttributes:i}=e,r=(0,s.Zj)(i);return(0,a.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,a.jsx)(c.VG,{currentUrl:r,updateAttributes:n,placeholder:"https://www.youtube.com/watch?v=..."}),r&&(0,a.jsx)(o.p,{editor:t,updateAttributes:n,currentAttributes:i})]})};tt.key="video.youtube";let tn=Object.fromEntries(Object.values([C,ek,eE,e9,eN,e5,tt,eP,Z,eI,eL,e8,U,e$,i.o,eH,eG,e1,e6,G,eB,eF,f,b,te,eY,e0,eR,eM,ev,w,e2,e_,eX,eC,eV,eU]).flat().map(e=>[e.key,e])),ti={[i.o.key]:{canShowEmptyState:!0}}},69837:(e,t,n)=>{"use strict";n.d(t,{R:()=>S});var i=n(6029),a=n(53996),r=n(26420),l=n(21938),s=n(51684),o=n(48621),c=n(47412),d=n(77650),u=n(55729),p=n(68301),h=n(87996),g=n(15342),m=n(14122),x=n(89703),f=n(43634),b=n(29608),y=n(40452),v=n(60908),C=n(62171),w=n(50861),A=n(88889);let j=e=>{let{image:t}=e;if(t.src&&(0,w.Xs)(t))return(0,i.jsx)(A.h,{image:t,src:t.src});let{tempUrl:n,meta:a,src:r}=t||{},l=r&&(0,v.Ub)(r,v.p7,a),s=(0,v.QV)(l,l?void 0:n),o=(0,C.w3)(t);return(0,i.jsx)(y.s,{sx:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:s,backgroundPosition:o,width:"100%",aspectRatio:"1/1",objectFit:"contain",transitionProperty:"border-radius",transitionDuration:"normal",borderRadius:"calc(var(--box-border-radius) / 2)"}})};var k=n(62695);let S=e=>{let{image:t,iconSize:n,boxProps:u,number:p,selectCell:h,placeholderIfEmpty:g,isNumbered:x,textAlign:f,fontWeight:y,color:v="currentColor"}=e,{hasIcon:C,handleChangeIcon:w,isEditable:A}=L({image:t,selectCell:h}),k=g&&!C,S=x&&!C;return(0,i.jsx)(c.Tz,{placement:"top",label:C?d.Ru._({id:"yBP2Ki"}):d.Ru._({id:"zFIUaq"}),isDisabled:!A||S,children:(0,i.jsxs)(a.o,{className:(0,l.cx)("image"),h:"calc(1em * var(--line-height-heading))",w:"1em",fontSize:"".concat(n,"em"),fontWeight:y,textAlign:f,role:"group",pos:"relative","data-smart-layout-image-drop-target":"true",onClick:A&&!S?w:void 0,css:(0,m.t)(v),...u,children:[C?(0,i.jsx)(j,{image:t}):p?"".concat(p):null,(A&&!S||k)&&!(0,b.nr)()&&(0,i.jsx)(r.a,{bg:"var(--placeholder-button-bg-color)",color:"var(--placeholder-button-text-color)",opacity:+!!k,_groupHover:{opacity:1},pos:"absolute",fontSize:"0.8em",p:"0.5em",borderRadius:"md",cursor:"pointer",children:(0,i.jsx)(o.g,{icon:s.cCs,fixedWidth:!0})})]})})},L=e=>{let{image:t,selectCell:n,disableEditing:i}=e,a=(0,g.GV)(f.nD)&&!i&&n,r=(null==t?void 0:t.src)||(null==t?void 0:t.tempUrl),{setMediaDrawerSourceKeyAction:l}=(0,k.B)();return{hasIcon:r,handleChangeIcon:(0,u.useCallback)(e=>{e.stopPropagation(),null==n||n();let i=p.of.get("pictographicIconsSearch")?h.un.key:h.fo.key;l((null==t?void 0:t.source)||i,!0),setTimeout(()=>{(0,x.G)(!1)},30)},[n,l,null==t?void 0:t.source]),isEditable:a}}},69872:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var i=n(52055),a=n(27856);let r=e=>{let t=(0,a.h)(),n=(0,i.G)().blankCard;return e&&(n=(0,i.G)()[e]),{cardToAdd:n,command:"aiCardAfter"===e?{key:"aiCardAfter",nodeName:"card"}:e?t[e]:t.blankCard}}},70015:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var i=n(6029),a=n(99492),r=n(19564),l=n(83143);let s=e=>{let{editor:t,node:n,getPos:s,includeCut:o=!0,imageSrc:c}=e;return[...o?[{key:"cut",label:(0,i.jsx)(r.x6,{id:"cCd8Bs"}),icon:a.XGd,onClick:()=>{let e=s();t.commands.basicCut({from:e,to:e+n.nodeSize})}}]:[],{key:"copy",label:(0,i.jsx)(r.x6,{id:"he3ygx"}),icon:a.jPR,onClick:()=>{let e=s();t.commands.copy({from:e,to:e+n.nodeSize})}},...c?[{key:"copy-image-address",label:(0,i.jsx)(r.x6,{id:"XfEsUn"}),icon:a.CQO,onClick:()=>{navigator.clipboard.writeText(c)}},{key:"open-image-in-new-tab",label:(0,i.jsx)(r.x6,{id:"cOAVCo"}),icon:a.vMs,onClick:()=>{window.open(c,"_blank")}},{key:"download-image",label:(0,i.jsx)(r.x6,{id:"dhu12h"}),icon:a.cbP,onClick:()=>{(0,l.lE)(c)}}]:[]]}},70615:(e,t,n)=>{"use strict";n.d(t,{G:()=>u});var i=n(6029),a=n(49611),r=n(99492),l=n(48621),s=n(19564),o=n(55729),c=n(80180),d=n(74471);let u=e=>{let{editor:t,handleDelete:n,hasText:u=!1}=e,p=(0,o.useCallback)(()=>{t.chain().deleteSelectionAndSelectNear().run()},[t]);return u?(0,i.jsx)(a.$,{variant:"toolbar",onClick:n||p,color:"red.500",onMouseDown:c.Fw,size:"md",leftIcon:(0,i.jsx)(l.g,{icon:r.yLS}),children:(0,i.jsx)(s.x6,{id:"cnGeoo"})}):(0,i.jsx)(d.I,{label:(0,i.jsx)(s.x6,{id:"cnGeoo"}),icon:r.yLS,onClick:n||p,testId:"delete-node-button",color:"red.500"})}},70652:(e,t,n)=>{"use strict";n.d(t,{S:()=>c,U:()=>u});var i=n(6029),a=n(55729),r=n(74158),l=n(26779),s=n(62452),o=n(43634);let c=e=>{let{currentAttributes:t,updateAttributes:n,contextualTheme:c}=e,d=(0,r.d4)(o.SJ),u=(0,a.useCallback)(e=>n({hex:(0,s.Ik)(e)}),[n]);if("string"==typeof t)return u(t),(0,i.jsx)(i.Fragment,{});let{hex:p}=t;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.a9,{color:{type:"solid",color:p},updateColor:u,theme:c||d,palette:"theme"})})},d=e=>e.replaceAll("#","").replaceAll(/[^A-Fa-f0-9]/g,"").slice(0,6),u=e=>{let t=d(e),n="";switch(t.length){case 0:return"";case 1:for(let e=0;e<6;e++)n+=t;break;case 2:for(let e=0;e<3;e++)n+=t;break;case 3:case 4:case 5:n=t.slice(0,3).split("").map(function(e){return e+e}).join("");break;default:n=t}return"#"+n.toUpperCase()}},70703:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var i=n(63867),a=n(5061),r=n(29608),l=n(67864);let s=(e,t,n,r)=>{let{view:s,state:c}=e;if(!t.dataTransfer||!r&&!(r=e.view.domAtPos(n).node))return;let{previewElement:d,xOffset:u,yOffset:p}=o(r,n,e);t.dataTransfer.clearData(),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/html",r.innerHTML),t.dataTransfer.setData("text/plain",r.textContent||"");let{width:h}=d.getBoundingClientRect(),g=(0,a.ix)()?h-u:u;t.dataTransfer.setDragImage(d,g,p);let m=i.nh.create(c.doc,n),x=m.content();s.dispatch(s.state.tr.setSelection(m)),s.dragging={slice:x,move:!0};let f=(0,l.Vo)({pos:n,editor:e,from:m.from,to:m.to});f&&requestAnimationFrame(()=>{var e;null!=(e=s.dragging)&&e.annotations||null!==s.dragging&&"object"==typeof s.dragging&&(s.dragging.annotations=f)})},o=(e,t,n)=>{let i=(()=>{let i=e.querySelector("[data-drag-preview]");return i&&n.view.posAtDOM(i,0)===t?i:e})(),{contentReference:a,scalePreview:l}=i.dataset,s=0,o=0;if((0,r.H8)()&&a){let[e,t]=a.split(",").map(parseFloat);isNaN(e)||isNaN(t)||(s=e,o=t)}if(c(),l){var d;let e=null!=(d=i.parentElement)?d:document.body;(i=i.cloneNode(!0)).dataset.isPreviewElement="1",i.style.position="absolute",i.style.bottom="-100vh",i.style.left="-100vw",e.appendChild(i);let{width:t,height:n}=i.getBoundingClientRect();(t>n?t:n)>250&&(i.style.maxWidth="".concat(250,"px"),i.style.maxHeight="".concat(250,"px"),i.style.aspectRatio="".concat(t,"/").concat(n)),document.addEventListener("drop",c,{once:!0}),document.addEventListener("dragend",c,{once:!0}),document.addEventListener("mouseup",c,{once:!0})}return{previewElement:i,xOffset:s,yOffset:o}},c=()=>{for(let t of document.querySelectorAll("[data-is-preview-element]")){var e;null==(e=t.parentNode)||e.removeChild(t)}}},70815:(e,t,n)=>{"use strict";n.d(t,{DZ:()=>f,Bq:()=>x});var i=n(82318),a=n(41896),r=n(36811),l=n(46957),s=n(6029),o=n(21938),c=n(77650),d=n(40077),u=n(84886),p=n(87140),h=n(66082);let g=e=>{let{node:t,decorations:n}=e,{level:i,horizontalAlign:r,placeholder:l}=t.attrs,g=(0,p.h)(n),m=l||(g?c.Ru._({id:"gLDJuJ"}):c.Ru._({id:"1nLERW",values:{level:i}}));return(0,s.jsx)(u.u,{...e,style:{display:"flex",flexDirection:"column",...(0,h.yp)(r)},children:(0,s.jsx)(a.$p,{dir:(0,h.fZ)(n),level:i,"data-placeholder":m,className:(0,o.cx)("heading",d.U6),style:{minWidth:"min(100%, 10em)",...(0,h.O8)(r)}})})},m=[1,2,3,4],x=Math.max(...m),f=i.D.extend({selectable:!1,group:"block cardNotesBlock",addAttributes:()=>({level:{default:1,rendered:!1}}),addNodeView:()=>(0,a.gu)(g,{update:l.z0}),addInputRules(){return this.options.levels.map(e=>(0,r.tC)({find:new RegExp("^(#{1,".concat(e,"})\\s$")),type:this.type,getAttributes:{level:e}},[this.editor.state.schema.nodes.bullet,this.editor.state.schema.nodes.numbered,this.editor.state.schema.nodes.todo]))}}).configure({levels:m})},70965:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,O:()=>a});var i=n(58495);let a=(0,i.d_)("abcdefghijklmnopqrstuvwxyz0123456789",8);function r(){return"chat-".concat((0,i.Ak)())}},70967:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});let i=()=>{let e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);let t=document.createElement("div");e.appendChild(t);let n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n}},71029:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});let i=e=>{var t;let{mutation:n}=e;return!!("attributes"===n.type&&(null==(t=n.attributeName)?void 0:t.startsWith("data-")))}},71093:(e,t,n)=>{"use strict";n.d(t,{zA:()=>F.z,Kc:()=>F.K,_M:()=>H,Gx:()=>N,$B:()=>U,RL:()=>W});var i=n(6029),a=n(81150),r=n(15071),l=n(40452),s=n(58959),o=n(16936),c=n(26420),d=n(77650),u=n(18833),p=n(42328),h=n(76560),g=n.n(h),m=n(16419),x=n.n(m),f=n(55729),b=n(3247),y=n(28615),v=n(80180),C=n(29608);let w={type:"spring",duration:.5,bounce:0},A=(0,C.Xb)()?"0.75rem":"2.5rem";var j=n(72104),k=n(12514),S=n(70315),L=n(74158),I=n(4007),E=n(15342),D=n(7756),M=n(8944);let R=()=>{let e=(0,E.GV)(M.C),{inPreviewContext:t}=(0,D.$E)();return e&&!t};var _=n(11403);let z=(0,u.P)(c.a),N=e=>{let{children:t,isZoomed:n,exitZoom:a,editor:r}=e,s=(0,L.wA)(),u=R();(0,f.useEffect)(()=>{if(!u)return b.WC.on("keydown","ZOOMABLE_OVERLAY",e=>n&&["ArrowDown","ArrowUp"].includes(e.key)?(e.preventDefault(),!0):!!((0,S.v_)("Esc")(e)||(0,S.v_)("Enter")(e))&&!!n&&(a(),e.preventDefault(),e.stopPropagation(),!0))},[a,n,u]),(0,f.useEffect)(()=>{u||s((0,I.WI)({id:"zoomableOverlay",isOpen:n}))},[s,n,u]);let p=(0,f.useRef)(null);return((0,_.Vg)(()=>{if(r.isEditable)if(n){var e;null==(e=p.current)||e.focus()}else r.commands.focus()},[r,n],[n],!1),u)?null:(0,i.jsx)(k.Z,{children:n&&(0,i.jsxs)(c.a,{position:"fixed",inset:0,padding:A,zIndex:"modal",userSelect:"none",onClick:e=>{!(0,C.mG)()&&(e.target.closest(".image")||e.target.closest("[data-carousel-filmstrip]")||a())},onMouseDown:v.Fw,"data-in-editor-focus":!0,"data-testid":"zoomable-overlay",children:[(0,i.jsx)(z,{position:"absolute",inset:0,initial:{opacity:0},animate:{opacity:(0,C.Xb)()?.9:.86},transition:w,backgroundColor:"black"},"shade"),(0,i.jsx)(c.a,{position:"absolute",right:2,top:2,zIndex:"docked",contentEditable:!1,suppressContentEditableWarning:!0,children:(0,i.jsx)(o.K,{"aria-label":d.Ru._({id:"8qZ5De"}),colorScheme:"whiteAlpha",color:"whiteAlpha.800",size:"md",onClick:a,onMouseDown:v.Fw,icon:(0,i.jsx)(j.U,{}),variant:"ghost",className:"exit-button",ref:p})}),(0,i.jsx)(l.s,{position:"relative",zIndex:"1",h:"100%",w:"100%",pt:"2.8rem",align:"center",justify:"center",direction:"column",css:{"--overlay-maxH":"calc(100vh - 2 * ".concat(A,")"),"--overlay-maxW":"calc(100vw - 2 * ".concat(A,")"),"--media-maxH":"var(--overlay-maxH)","--media-maxW":"var(--overlay-maxW)"},children:t})]})})},T=(0,u.P)(l.s),P="80px",H=e=>{let{children:t,zoomedId:n,isZoomComplete:u,setZoomedId:h,isZoomed:m,exitZoom:C,editor:j}=e,k=g()(t,e=>e.id===n),S=t[k],L=(0,f.useRef)(null),I=(0,f.useCallback)(()=>{h((t[k+1]||t[0]).id)},[k,t,h]),E=(0,f.useCallback)(()=>{h((t[k-1]||x()(t)).id)},[k,t,h]);return((0,f.useEffect)(()=>{if(m&&!(t.length<2))return b.WC.on("keydown","ZOOMABLE_OVERLAY",e=>{switch(e.key){case"ArrowLeft":return E(),!0;case"ArrowRight":return I(),!0;default:return!1}})},[C,m,h,t,k,I,E]),(0,f.useEffect)(()=>{if(L.current&&u){let e=L.current.querySelector('[data-thumb-id="'.concat(n,'"]'));null==e||e.scrollIntoView({inline:"center",behavior:"smooth"})}},[n,u]),y.D1)?null:(0,i.jsxs)(N,{isZoomed:m,exitZoom:C,editor:j,children:[(0,i.jsx)(l.s,{flex:1,w:"100%",justify:"center",align:"center","data-testid":"zoomable-carousel-expanded",pos:"relative",children:(0,i.jsx)(p.N,{children:S&&(0,i.jsx)(T,{css:{"--media-maxH":"calc(var(--overlay-maxH) - ".concat(P," - ").concat(A,")")},initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},position:"absolute",transition:w,w:"100%",h:"100%",children:S.full},S.id)})}),t.length>1&&(0,i.jsx)(s.z,{w:"100vw",mt:A,px:A,gap:0,"data-carousel-filmstrip":!0,children:(0,i.jsxs)(l.s,{overflowX:"auto",width:"100%",justify:"center",align:"stretch",overflow:"hidden",children:[(0,i.jsx)(o.K,{icon:(0,i.jsx)(a.Y,{boxSize:"24px"}),"aria-label":d.Ru._({id:"MHk+7g"}),colorScheme:"whiteAlpha",variant:"ghost",size:"md",color:"whiteAlpha.900",borderColor:"whiteAlpha.200",borderWidth:"2px",borderStyle:"solid",onClick:E,_hover:{bg:"whiteAlpha.200",borderColor:"whiteAlpha.400"},h:"auto",mr:2}),(0,i.jsx)(s.z,{spacing:1,onClick:v.dG,"data-testid":"zoomable-carousel-thumbnails",ref:L,overflow:"scroll",sx:{"::-webkit-scrollbar":{display:"none"}},children:t.map(e=>{let t=e.id===n;return(0,i.jsx)(c.a,{border:t?"2px solid white":"2px solid transparent",boxSizing:"content-box",borderRadius:"md",overflow:"hidden",onClick:()=>h(e.id),transitionProperty:"border",transitionDuration:"normal",h:P,css:{"--media-maxH":P,"--media-maxW":"200px",flexShrink:0},"data-thumb-id":e.id,cursor:"pointer",padding:"2px",_hover:{borderColor:!t&&"whiteAlpha.500"},children:(0,i.jsx)(c.a,{w:"100%",h:"100%",borderRadius:"sm",overflow:"hidden",children:e.thumbnail})},e.id)})}),(0,i.jsx)(o.K,{icon:(0,i.jsx)(r.v,{boxSize:"24px"}),"aria-label":d.Ru._({id:"EatZYJ"}),colorScheme:"whiteAlpha",variant:"ghost",size:"md",color:"whiteAlpha.900",borderColor:"whiteAlpha.200",borderWidth:"2px",borderStyle:"solid",onClick:I,_hover:{bg:"whiteAlpha.200",borderColor:"whiteAlpha.400"},h:"auto",ml:2})]})})]})};var F=n(73737),B=n(43634);let O=e=>t=>(0,B.dK)(t)===e,V=e=>t=>{let n=(0,B.dK)(t);return n&&e.includes(n)?n:null},W=e=>{let t=(0,L.wA)(),n=(0,E.GV)(O(e)),i=(0,f.useCallback)(n=>{t((0,B.a)({nodeId:n?e:null}))},[t,e]),a=(0,f.useCallback)(()=>i(!0),[i]),r=(0,f.useCallback)(()=>i(!1),[i]);return{isZoomed:n,setIsZoomed:i,enterZoom:a,exitZoom:r}},U=e=>{let t=(0,L.wA)(),n=(0,E.GV)(V(e)),i=!!n,a=(0,f.useCallback)(e=>{t((0,B.a)({nodeId:e}))},[t]),r=(0,f.useCallback)(()=>a(null),[a]),[l,s]=(0,f.useState)(i);return(0,f.useEffect)(()=>{let e;return i?e=window.setTimeout(()=>{s(!0)},1e3*w.duration):s(!1),()=>clearTimeout(e)},[i]),{isZoomed:i,isZoomComplete:l,zoomedId:n,setZoomedId:a,exitZoom:r}}},71128:(e,t,n)=>{"use strict";n.d(t,{OA:()=>y,Tq:()=>A,cT:()=>f,e5:()=>x,qh:()=>b});var i=n(6029),a=n(40452),r=n(33787),l=n(34807),s=n(33750),o=n.n(s),c=n(15342),d=n(43607),u=n(28615),p=n(60908),h=n(43634),g=n(85235),m=n(84431);let x=()=>{let e=(0,c.GV)(h.wC)===g.w.SLIDE_VIEW,{src:t,width:n,height:l,paddingY:s,paddingX:o}=A();if(!t)return null;let d=(0,p.Ub)(t,p.oc),u=e?{position:"absolute",right:"".concat(o,"px"),top:"".concat(s,"px"),justify:"end",align:"start",width:"".concat(n,"px"),height:"".concat(l,"px")}:{position:"sticky",left:"".concat(o,"px"),top:"calc(100% - ".concat(l,"px - ").concat(s,"px)"),justify:"start",width:"".concat(n,"px"),height:"".concat(l,"px")};return(0,i.jsx)(a.s,{...u,className:"logo",zIndex:m.$.customerLogo,borderRadius:"md",contentEditable:!1,userSelect:"none",children:(0,i.jsx)(r._,{src:d,maxH:"100%",maxW:"100%",transitionProperty:"width, height",transitionDuration:"normal",pointerEvents:"none","data-testid":"customer-logo","data-customer-logo-image":!0,objectFit:"contain",objectPosition:e?"top right":"bottom left"})})},f=()=>{let{src:e,width:t,height:n}=b((0,c.GV)(h.SJ),w);if(!e)return null;let l=(0,p.Ub)(e,p.oc);return(0,i.jsx)(a.s,{w:"100%",justify:"center",align:"center",mt:6,mb:8,"data-id":"customer-logo-wrapper",children:(0,i.jsx)(r._,{src:l,w:"".concat(t,"px"),zIndex:m.$.customerLogo,h:"".concat(n,"px"),transitionProperty:"width, height",transitionDuration:"normal",pointerEvents:"none",objectFit:"contain",objectPosition:"bottom"})})},b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C,n=1,i=e.logoUrl,{logoImage:a}=e.config;if(a&&a.meta){var r;n=o()(a.meta.aspect_ratio||a.meta.width/a.meta.height,.5,3),i=null!=(r=a.src)?r:i}if(!i)return{width:0,height:0,paddingY:0,paddingX:0};let l=Math.sqrt(t/n),s=t>8e3?30:t>5e3?24:18;return{width:Math.round(l*n),height:Math.round(l),paddingY:s,paddingX:s,src:i}},y={base:900,lg:2500,xl:4900,"2xl":8100,"3xl":1e4},v={base:1600,md:2500,lg:4225,xl:7225,"2xl":9025,"4xl":12100},C=4900,w=5625,A=()=>{let e=(0,c.GV)(h.wC)===g.w.SLIDE_VIEW,t=(0,l.A)(e?v:y),n=u.rS?C:u.hQ?8100:t,i=(0,c.GV)(h.SJ),a=(0,d.FX)();return{...b(i,n),position:e?"top-right":a?"bottom":"bottom-left"}}},71340:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o});var i=n(15342),a=n(62452),r=n(43634),l=n(62171),s=n(52762);let o=e=>{var t;let{editor:n,attrs:o,getPos:c}=e,d=(0,i.GV)(r.SJ),u=(0,l.gK)(null==(t=o.container)?void 0:t.background);return{currentColor:u,themeCardColor:(0,a.Oq)(d),setCardColor:e=>{let{container:t}=o,i=e?{background:{type:s.h.COLOR,color:{hex:e}}}:{background:void 0};void 0!==t.isDark&&(i.isDark=void 0),n.commands.updateNestedAttributesAtPos(c(),{container:{...t,...i}})}}}},71737:(e,t,n)=>{"use strict";n.d(t,{I5:()=>u,NO:()=>p,PD:()=>d,eh:()=>c,ni:()=>s,o_:()=>h});var i=n(63867),a=n(17275),r=n(92397),l=n(47665);let s=(e,t)=>{var n;let i=e.state.doc.nodeAt(t);if(!i||(null==(n=i.lastChild)?void 0:n.type.name)==="cardNotes")return;let r=t+i.nodeSize-1,s={type:"cardNotes",content:[{type:"paragraph"}]};if(!(i.firstChild&&(0,l.sw)(i.firstChild)))return void e.chain().command(n=>{let{tr:i}=n;(0,a.c)(e,i,t,"blank");let l=i.mapping.map(r);return i.insert(l,e.schema.nodeFromJSON(s)),!0}).noUndo().run();e.chain().insertContentAt({from:r,to:r},{type:"cardNotes",content:[{type:"paragraph"}]},{updateSelection:!1}).noUndo().run()},o=e=>"cardNotes"===e.type.name,c=e=>null!==e.lastChild&&o(e.lastChild),d=e=>{let t=null;return e.nodeAfter.descendants((n,i)=>!o(n)||(t={node:n,pos:i+e.pos+1},!1)),t},u=(e,t)=>{let n=(0,r.hT)(e.state.doc,t);if(!n||!n.pos)return!1;let a=e.state.doc.resolve(n.pos).pos,l=a+n.node.nodeSize,{selection:s}=e.state,o=s instanceof i.U3?s.to<l:s.to<=l;return s.from>=a&&o},p=e=>"cardNotes"==e.schema.topNodeType.name,h=e=>{if(0===e.childCount)return!0;let t=!1;return e.content.nodesBetween(0,e.content.size,e=>!e.isAtom||!!e.isText||(t=!0,!1)),0===e.textContent.trim().length&&!t}},71839:(e,t,n)=>{"use strict";n.d(t,{L:()=>c,g:()=>d});var i=n(6029),a=n(37243);n(55729);var r=n(29608),l=n(70703),s=n(23624),o=n(4097);class c extends a.Yv{stopEvent(e){return"contextmenu"!==e.type&&a.Yv.prototype.stopEvent.call(this,e)}updateAttributes(e){this.editor.commands.command(t=>{let{tr:n}=t,i=this.getPos();if(void 0===i)return;let a={type:"move",insertPos:i,insertPosRaw:i,pos:i,end:i+this.node.content.size+1};try{n.setNodeMarkup(i,void 0,{...this.node.attrs,...e}).setMeta("annotationEvent",a)}catch(e){console.error("(caught) [ReactNodeView updateAttributes]: setNodeMarkup",e)}return!0})}mount(){var e=this;let t={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.updateAttributes(t)},deleteNode:()=>this.deleteNode()};if(!this.component.displayName){let e;this.component.displayName=(e=this.extension.name).charAt(0).toUpperCase()+e.substring(1)}let n=e=>{let t=this.component,n=this.onDragStart.bind(this);return(0,i.jsx)(o.e.Provider,{value:{onDragStart:n,nodeViewContentRef:e=>{e&&this.contentDOMElement&&e.firstChild!==this.contentDOMElement&&e.appendChild(this.contentDOMElement)},node:this.node,editor:this.editor,getPos:this.getPos},children:(0,i.jsx)(t,{...e})})};n.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit",this.contentDOMElement.setAttribute("data-node-view-content-inner",this.node.type.name));let a=this.node.isInline?"span":"div";this.options.as&&(a=this.options.as);let{className:r=""}=this.options;this.renderer=new s.N(n,{editor:this.editor,props:t,as:a,className:"node-".concat(this.node.type.name," ").concat(r).trim(),updateWrapperEl:this.options.updateWrapperEl})}get dom(){var e;if(this.renderer.element.firstElementChild&&!(null==(e=this.renderer.element.firstElementChild)?void 0:e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(e,t){let n=e=>{this.renderer.updateProps(e)};if(e.type!==this.node.type)return!1;if("function"==typeof this.options.update){let i=this.node,a=this.decorations;return this.node=e,this.decorations=t,this.options.update({oldNode:i,oldDecorations:a,newNode:e,newDecorations:t,updateProps:()=>n({node:e,decorations:t})})}return e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,n({node:e,decorations:t}),!0)}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}ignoreMutation(e){return!this.dom||!this.contentDOM||"function"==typeof this.options.ignoreMutation&&this.options.ignoreMutation({mutation:e})||this.defaultIgnoreMutation(e)}defaultIgnoreMutation(e){return!!(this.node.isLeaf||this.node.isAtom||"selection"===e.type&&e.target.closest("[data-comments-wrapper]"))||!("selection"===e.type||this.dom.contains(e.target)&&"childList"===e.type&&(0,r.OF)()&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(e=>e.isContentEditable))&&(this.contentDOM===e.target&&"attributes"===e.type||!this.contentDOM.contains(e.target))}onDragStart(e){let t=e.target,n=t.querySelector("[data-drag-handle]");if(n||(n=t.closest("[data-drag-handle]")),!this.dom||!n)return e.preventDefault(),!1;try{let t=this.editor.view.posAtDOM(n,0);if(!t||-1==t||!this.editor.state.doc.nodeAt(t))return;(0,l.b)(this.editor,e,t,n)}catch(e){console.warn("(caught) [ReactNodeViewRenderer] onDragStart error moving annotations",e)}}}function d(e,t){return n=>n.editor.contentComponent?new c(e,n,t):{}}},71877:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var i=n(91938),a=n(58929);let r=async e=>{let{imageUrl:t,workspaceId:n,abortController:r,width:l,height:s}=e,o="".concat(i.$.API_HOST,"/media/images/edit");return await (0,a.P)(o,{method:"POST",signal:null==r?void 0:r.signal,headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({url:t,operation:"remove-background",workspaceId:n,...l&&{width:l},...s&&{height:s}})},{parseResponse:async e=>(await e.json()).url,maxDuration:3e4})}},72055:(e,t,n)=>{"use strict";let i;n.d(t,{CH:()=>I,sV:()=>k,C1:()=>j,o6:()=>C,CO:()=>h,ju:()=>D});var a=n(63867),r=n(97255),l=n(62040),s=n(89217),o=n(80102);function c(e,t,n){let i=!(arguments.length>3)||void 0===arguments[3]||arguments[3];return(r,l)=>{let s=e.state,{to:o,from:c}=s.selection,{to:d,from:u}=r.selection;if(i&&d!==u)return!1;let p=t>0?d:u;if(n){let e=r.doc.nodeSize-2;if(t>0&&p<e||t<0&&p>0)return!1}return l&&(e.dispatch(s.tr.setSelection(a.U3.create(s.doc,t>0?o:c))),e.focus()),!0}}class d{destroy(){this.closeEditor(!1),this._mathRenderElt&&(this._mathRenderElt.remove(),delete this._mathRenderElt),this._mathSrcElt&&(this._mathSrcElt.remove(),delete this._mathSrcElt),this.dom.remove()}ensureFocus(){this._innerView&&this._outerView.hasFocus()&&this._innerView.focus()}update(e,t){if(!e.sameMarkup(this._node))return!1;if(this._node=e,this._innerView){let t=this._innerView.state,n=e.content.findDiffStart(t.doc.content);if(null!=n){let i=e.content.findDiffEnd(t.doc.content);if(i){let{a:a,b:r}=i,l=n-Math.min(a,r);l>0&&(a+=l,r+=l),this._innerView.dispatch(t.tr.replace(n,r,e.slice(n,a)).setMeta("fromOutside",!0))}}}return this._isEditing||this.renderMath(),!0}updateCursorPos(e){let t=this._getPos(),n=this._node.nodeSize;e.selection.from<t+n&&t<e.selection.to||(this.cursorSide=t<e.selection.from?"end":"start")}selectNode(){this._outerView.editable&&(this.dom.classList.add("ProseMirror-selectednode"),this._isEditing||this.openEditor())}deselectNode(){this.dom.classList.remove("ProseMirror-selectednode"),this._isEditing&&this.closeEditor()}stopEvent(e){return void 0!==this._innerView&&void 0!==e.target&&this._innerView.dom.contains(e.target)}ignoreMutation(){return!0}renderMath(){if(!this._mathRenderElt)return;let e=this._node.content.content,t="";if(e.length>0&&null!==e[0].textContent&&(t=e[0].textContent.trim()),t.length<1){for(this.dom.classList.add("empty-math");this._mathRenderElt.firstChild;)this._mathRenderElt.firstChild.remove();return}if(this.dom.classList.remove("empty-math"),!i){this._mathRenderElt.textContent=t;return}try{i.render(t,this._mathRenderElt,this._katexOptions),this._mathRenderElt.classList.remove("parse-error"),this.dom.setAttribute("title","")}catch(e){if(e instanceof Error)console.error(e),this._mathRenderElt.classList.add("parse-error"),this.dom.setAttribute("title",e.toString());else throw e}}dispatchInner(e){if(!this._innerView)return;let{state:t,transactions:n}=this._innerView.state.applyTransaction(e);if(this._innerView.updateState(t),!e.getMeta("fromOutside")){let e=this._outerView.state.tr,t=l.Lm.offset(this._getPos()+1);for(let i=0;i<n.length;i++){let a=n[i].steps;for(let n=0;n<a.length;n++){let i=a[n].map(t);if(!i)throw Error("step discarded!");e.step(i)}}e.docChanged&&this._outerView.dispatch(e)}}openEditor(){var e;this._innerView&&this.closeEditor(!1),this._innerView=new r.Lz(this._mathSrcElt,{state:a.$t.create({doc:this._node,plugins:[(0,s.w)({Tab:(e,t)=>(t&&t(e.tr.insertText("	")),!0),Backspace:(0,o.st)(o.ic,(e,t,n)=>!!e.selection.empty&&!(this._node.textContent.length>0)&&(this._outerView.dispatch(this._outerView.state.tr.insertText("")),this._outerView.focus(),!0)),"Ctrl-Backspace":(e,t,n)=>(this._outerView.dispatch(this._outerView.state.tr.insertText("")),this._outerView.focus(),!0),Enter:(0,o.st)(o.pC,c(this._outerView,1,!1)),"Ctrl-Enter":c(this._outerView,1,!1),ArrowLeft:c(this._outerView,-1,!0),ArrowRight:c(this._outerView,1,!0),ArrowUp:c(this._outerView,-1,!0),ArrowDown:c(this._outerView,1,!0),"Mod-z":this._options.undo,"Shift-Mod-z":this._options.redo})]}),dispatchTransaction:this.dispatchInner.bind(this)});let t=this._innerView.state;this._innerView.focus();let n=null==(e=this._mathPluginKey.getState(this._outerView.state))?void 0:e.prevCursorPos;null==n&&console.error("[prosemirror-math] Error:  Unable to fetch math plugin state from key.");let i=(null!=n?n:0)<=this._getPos()?0:this._node.nodeSize-2;this._innerView.dispatch(t.tr.setSelection(a.U3.create(t.doc,i))),this._isEditing=!0}closeEditor(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this._innerView&&(this._innerView.destroy(),this._innerView=void 0),e&&this.renderMath(),this._isEditing=!1}constructor(e,t,a,r={},l,s){n.e(4638).then(n.bind(n,57258)).then(e=>{i=e.default,this.renderMath()}),this._node=e,this._outerView=t,this._getPos=a,this._onDestroy=s&&s.bind(this),this._mathPluginKey=l,this.cursorSide="start",this._isEditing=!1,this._options=r,this._katexOptions=Object.assign({globalGroup:!0,throwOnError:!1},r.katexOptions),this._tagName=r.tagName||this._node.type.name.replace("_","-"),this.dom=document.createElement(this._tagName),this.dom.classList.add("math-node"),this._mathRenderElt=document.createElement("span"),this._mathRenderElt.textContent="",this._mathRenderElt.classList.add("math-render"),this.dom.appendChild(this._mathRenderElt),this._mathSrcElt=document.createElement("span"),this._mathSrcElt.classList.add("math-src"),this.dom.appendChild(this._mathSrcElt),this.dom.addEventListener("click",()=>this.ensureFocus()),this.renderMath()}}let u=new a.hs("prosemirror-math");function p(e,t){return(n,i,a)=>{let r=u.getState(i.state);if(!r)throw Error("no math plugin!");let l=r.activeNodeViews,s=new d(n,i,a,{katexOptions:{displayMode:e,macros:r.macros},...t},u,()=>{l.splice(l.indexOf(s))});return l.push(s),s}}let h=e=>new a.k_({key:u,state:{init:(e,t)=>({macros:{},activeNodeViews:[],prevCursorPos:0}),apply:(e,t,n,i)=>({activeNodeViews:t.activeNodeViews,macros:t.macros,prevCursorPos:n.selection.from})},props:{nodeViews:{math_inline:p(!1,e),math_display:p(!0,e)}}});var g=n(94289);function m(e,t){return g.FK.from(t.text(e))}function x(e){var t;let n=e.querySelector("img.mwe-math-fallback-image-inline[alt]");return null!=(t=null==n?void 0:n.getAttribute("alt"))&&t}function f(e){var t;let n=e.querySelector("math[alttext]");return null!=(t=null==n?void 0:n.getAttribute("alttext"))&&t}function b(e){var t;let n=e.querySelector("math annotation[encoding='application/x-tex'");return null!=(t=null==n?void 0:n.textContent)&&t}function y(e){var t=e,n=[x,f,b];for(let e of n){let n=e(t);if(!1!==n)return n}return!1}let v=[{tag:"span",getAttrs:e=>!!e.classList.contains("mwe-math-element")&&null,getContent:(e,t)=>m(y(e)||"\\text{\\color{red}(paste error)}",t)}];[...v],()=>["math-select",0];let C=(e,t)=>{let{$from:n}=e.selection,i=n.nodeBefore;if(!i)return!1;if("math_inline"==i.type.name){let i=n.index(n.depth),r=e.doc.resolve(n.posAtIndex(i-1));return t&&t(e.tr.setSelection(new a.nh(r))),!0}return i.type.name,!1};var w=n(46829);let A=/\$(.+)\$/;function j(e,t,n){return new w.fV(e,(e,i,a,r)=>{let l=e.doc.resolve(a),s=l.index(),o=e.doc.resolve(r),c=n instanceof Function?n(i):n;if(!l.parent.canReplaceWith(s,o.index(),t))return null;let d=[t.create(c,t.schema.text(i[1]))];return i[0].endsWith(" ")&&" "!==e.doc.textBetween(r,r+1)&&d.push(t.schema.text(" ")),e.tr.replaceWith(a,r,d)})}function k(e,t,n){return new w.fV(e,(e,i,r,l)=>{let s=e.doc.resolve(r),o=n instanceof Function?n(i):n;if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t))return null;let c=e.tr.delete(r,l).setBlockType(r,r,t,o);return i[1]&&c.insertText(i[1],r,r),c.setSelection(a.nh.create(c.doc,c.mapping.map(s.pos-1)))})}(()=>{try{return RegExp("(?<!\\\\)\\$(.+)(?<!\\\\)\\$")}catch(e){return A}})();let S=e=>{let{from:t,to:n}=e.selection,i=e.selection.content().content,a=[];return i.descendants((e,n,i)=>"text"!=e.type.name&&(!e.type.name.startsWith("math_")||(a.push({start:Math.max(t+n-1,0),end:t+n+e.nodeSize-1}),!1))),r.zF.create(e.doc,a.map(e=>{let{start:t,end:n}=e;return r.NZ.node(t,n,{class:"math-select"})}))},L=new a.k_({state:{init:(e,t)=>S(t),apply:(e,t)=>e.selection&&e.selectionSet?S(e):t},props:{decorations:e=>L.getState(e)}});function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,i){let{$from:r}=n.selection,l=r.index();if(!r.parent.canReplaceWith(l,l,e))return!1;if(i){let l=e.create({},t?n.schema.text(t):null),s=n.tr.replaceSelectionWith(l);i(s=s.setSelection(a.nh.create(s.doc,r.pos)))}return!0}}class E{serializeFragment(e){let t,n="",i=!0,a=e.size;return e.nodesBetween(0,a,(e,r)=>{let l=this.serializeNode(e);if(null!==l)return n+=l,!1;if(e.isText){var s;n+=(null==(s=e.text)?void 0:s.slice(Math.max(0,r)-r,a-r))||"",i=!1}else e.isLeaf&&t?(n+=t,i=!1):!i&&e.isBlock&&(n+="\n\n",i=!0)},0),n}serializeSlice(e){return this.serializeFragment(e.content)}serializeNode(e){let t=this.nodes[e.type.name];return void 0!==t?t(e):null}constructor(e,t){this.nodes={...null==t?void 0:t.nodes,...e.nodes},this.marks={...null==t?void 0:t.marks,...e.marks}}}let D=new E({nodes:{math_inline:e=>"$".concat(e.textContent,"$"),math_display:e=>"\n\n$$\n".concat(e.textContent,"\n$$")}})},72492:(e,t,n)=>{"use strict";n.d(t,{RE:()=>h,p0:()=>g,wX:()=>x});var i=n(46814),a=n(37243),r=n(52445),l=n(17508),s=n.n(l),o=n(38822),c=n.n(o),d=n(41797);n(22911);var u=n(82957);let p=e=>{"card"===e.type&&e.attrs&&delete e.attrs.id},h=e=>{let t=e=>{var n;return null==(n=e.content)?void 0:n.map(e=>{if(!e.content)return e;let n={...e,attrs:{...e.attrs}};return p(n),n.content=t(n),n})};return p(e),Object.assign({},e,{content:t(e)})},g=e=>{let t=(0,u.C)(),n=(0,a.getSchema)(t),l=(0,i.Tg)(n,e,"default"),s=(0,d.PR)(l);return(0,r.SM)(s)},m=(e,t)=>!!(c()(e)&&c()(t))||void 0,x=(e,t)=>{let n=(0,i.Tg)(e.schema,e.getJSON(),"default"),a=(0,i.vK)(n,"default"),r=(0,i.Tg)(e.schema,t,"default"),l=(0,i.vK)(r,"default");return s()(a,l,m)}},72688:(e,t,n)=>{"use strict";n.d(t,{QJ:()=>f,Jl:()=>x});var i=n(55452),a=n(37243),r=n(63867),l=n(62040),s=n(95889),o=n(38934),c=n(83817),d=n.n(c),u=n(43634),p=n(15607),h=n(33201);let g=e=>{let t=[],n={tree:{},parents:{},treeArray:[]};return e.doc.descendants((i,a)=>{if(!(0,h.jg)(i))return;let r=e.doc.resolve(a),l=i.attrs.id;t.push(l);let s=(0,p.TK)(r,h.jg).reverse().map(e=>{let{node:t}=e;return t.attrs.id}),o=[...s,l];o.reduce((e,t)=>(e[t]=e[t]||{},e[t]),n.tree),n.parents[l]=s,o.reduce((e,t)=>{let n=e.find(e=>e.id===t);return n?n.children:(e.push({id:l,children:[]}),e)},n.treeArray)}),{cardIds:t,cardIdMap:n}};class m{compute(e){let t=g(e);d()(this.value,t)||(this.hasChanges=!0);let n=t.cardIds.filter(Boolean),i=n.filter((e,t)=>n.includes(e,t+1));return this.duplicateCardIds=i.filter(e=>!this.duplicateCardIds.includes(e)),this.value=t,this}apply(e,t){return e.docChanged&&this.compute(t),this}processChanges(e){this.hasChanges&&this.value&&e((0,u.t0)(this.value)),this.hasChanges=!1}constructor(){this.hasChanges=!1,this.duplicateCardIds=[],this.value=null}}let x=new r.hs("cardIds"),f=a.YY.create({name:"cardIds",priority:o.y.CardIds,addOptions:()=>({enabled:!0}),addProseMirrorPlugins(){return this.options.enabled?[new r.k_({key:x,state:{init:()=>new m,apply:(e,t,n,i)=>t.apply(e,i)},appendTransaction:(e,t,n)=>{var a;let r=x.getState(n);if(!(null==r||null==(a=r.value)?void 0:a.cardIds))return null;if(e.some(e=>e.docChanged)&&r.duplicateCardIds.length&&!this.editor.isThumbnail){let t={duplicateIds:JSON.stringify(r.duplicateCardIds),transactions:JSON.stringify(b(e)),isThumbnail:this.editor.isThumbnail};null===s.zS||void 0===s.zS||s.zS.track(s.ng.DUPLICATE_CARD_IDS,{...t}),i.Cp("[generateCardIdMap] Duplicate cardIds detected. This is unexpected and will cause spotlight issues. Additional metadata:",{extra:t})}return null}})]:[]}}),b=e=>e.map(e=>{let t=e.steps.map(e=>{if(e instanceof l.Ln||e instanceof l.Wg){var t,n,i;let a=(null==(n=e.slice.toJSON())||null==(t=n.content)?void 0:t[0])||{},r={type:a.type,attrs:a.attrs,contentLength:null==(i=a.content)?void 0:i.length};return{name:e.constructor.name,from:e.from,to:e.to,sliceContentSimple:r}}return e instanceof l.q4?{name:e.constructor.name,pos:e.pos,attr:e.attr}:{name:e.constructor.name}}),n=Object.fromEntries(Object.entries(e.meta).map(e=>{let[t,n]=e;if("annotationEvent"===t){var i,a,r,l,s;return[t,{type:n.type,droppedBlockPos:n.droppedBlockPos,dragging:{inBlockLength:null==(a=n.dragging)||null==(i=a.inBlock)?void 0:i.length,inCardLength:null==(l=n.dragging)||null==(r=l.inCard)?void 0:r.length,origNodePos:null==(s=n.dragging)?void 0:s.origNodePos}}]}return"uiEvent"===t?[t,n]:[t,"object"==typeof n?"object":n]}));return{stepsData:t,docChanged:e.docChanged,selection:{from:e.selection.from,to:e.selection.to},selectionSet:e.selectionSet,metaData:n}})},72809:(e,t,n)=>{"use strict";n.d(t,{m:()=>l});var i=n(6029),a=n(19564),r=n(99038);let l={invalid_signup_code:{title:(0,i.jsx)(a.x6,{id:"F6yt1L",values:{GAMMA_PROPER_NOUN:r.On}}),description:(0,i.jsx)(a.x6,{id:"hVNvhu"})},invalid_reset_code:{title:(0,i.jsx)(a.x6,{id:"SvShcH"}),description:(0,i.jsx)(a.x6,{id:"Vm3y4h"})},invalid_user:{title:(0,i.jsx)(a.x6,{id:"a2AYF6"}),description:(0,i.jsx)(a.x6,{id:"x9CdxW",values:{GAMMA_PROPER_NOUN:r.On}})},other_workspace_member:{title:(0,i.jsx)(a.x6,{id:"J5F9Vo"}),description:(0,i.jsx)(a.x6,{id:"PX8jn2",values:{GAMMA_PROPER_NOUN:r.On,GAMMA_SUPPORT_EMAIL_ADDRESS:r.uz}})}}},72926:(e,t,n)=>{"use strict";n.d(t,{$w:()=>M,HQ:()=>P,Zb:()=>_,f0:()=>N,hx:()=>z,p_:()=>T,yU:()=>R});var i=n(46898),a=n(77650),r=n(37243),l=n(13731),s=n.n(l),o=n(26194),c=n.n(o),d=n(35342),u=n.n(d),p=n(83817),h=n.n(p),g=n(55729),m=n(74158),x=n(88586),f=n(58809),b=n(15342),y=n(17928),v=n(43634),C=n(73014),w=n(33201),A=n(56603),j=n(82927),k=n(77639),S=n(29608),L=n(68143);let I=(0,S.Xb)()?"bottom":"top";function E(e){return e?e.reduce((e,t)=>(t.targetId&&(e[t.targetId]?e[t.targetId].push(t):e[t.targetId]=[t]),e),{}):null}let D=e=>e.filter(e=>!!e.spec.isAnnotation),M=e=>(0,b.GV)(t=>{let n=(0,f.Jo)(t),i=E(((null==n?void 0:n.comments)||[]).filter(e=>e.status===x.EB6.Open));if(!i)return[];let a=D(e);return u()(a,e=>{let{spec:t}=e;return i[t.id]}).filter(Boolean)},h()),R=e=>e.filter(e=>!!e.spec.isDraftComment).map(e=>e.spec.comment),_=e=>{let{draftComment:t,clearDraftComment:n,editor:l}=e,[s]=(0,x.eRM)(),o=(0,i.d)(),c=l.gammaDocId,{user:d}=(0,j.ur)();return e=>{var i;if(!t)return;let{relativePos:u,targetId:p}=t,h=(0,A.d_)(l.state,u);if(!h)throw Error("Could not save comment, null pos from relativePos");let g=(0,r.eL)(l.state.doc.resolve(h),w.jg),m=l.view.state.doc.nodeAt(h),f=t.targetHtml||(0,C.Lo)(m,["footnote","footnoteLabel","cardNotes"]),b=t.targetHtml||(0,C.V6)(m,["footnote","footnoteLabel","cardNotes"]);l.commands.addAnnotation({id:p,pos:h});let y={targetId:p,docId:c,cardId:null==g||null==(i=g.node)?void 0:i.attrs.id,content:e,targetHtml:f,targetText:b};s({variables:{input:y},update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(c),fragment:k.Mi,fragmentName:"DocCommentsCreate",data:{comments:[null==n?void 0:n.createComment]}})},optimisticResponse:{createComment:{id:"temp-id",commentId:"",__typename:"Comment",...y,content:JSON.parse(JSON.stringify(e)),user:d,archived:!1,reactions:[],replies:[],status:x.EB6.Open,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}),o({title:a.Ru._({id:"4kSebh"}),status:"success",duration:5e3,isClosable:!1,position:I}),n()}},z=(e,t)=>{(0,g.useEffect)(()=>{let n=!0,i=i=>{let{selectionPos:a,parentPos:r,text:l}=i;n&&e()===r&&t({targetHtml:l,getPos:()=>a})};return y.LF.on(y.DN.CREATE_COMMENT_FROM_SELECTION,i),()=>{y.LF.on(y.DN.CREATE_COMMENT_FROM_SELECTION,i),n=!1}},[e,t])},N=e=>{let{showComment:t,comments:n,blockAllowsCommenting:i,highlightDuration:a=4e3}=e,[r,l]=(0,g.useState)(null);return(0,g.useEffect)(()=>{let e=!0,r=r=>{let{commentId:s,highlightComment:o=!1}=r;if(!e||!i)return;let c=(0,L.J2)(n,s);c&&(t(c),o&&(l(s),setTimeout(()=>{e&&l(null)},a)))};return y.LF.on(y.DN.OPEN_POPUP_COMMENT,r),()=>{y.LF.off(y.DN.OPEN_POPUP_COMMENT,r),e=!1}},[n,i,a,t]),r},T=e=>{let t=(0,m.wA)(),n=(0,b.GV)((0,v.iZ)(e)),i=(0,g.useRef)(null),[a,r]=(0,g.useState)(!1),l=(0,g.useCallback)(e=>{i.current=e,r(!!e)},[]),s=(0,g.useCallback)(()=>{i.current=n,r(!!n)},[n]),o=(0,g.useCallback)(()=>{var n;if(!i.current||!(null==(n=i.current.text)?void 0:n.length))return void t((0,v.zq)({id:e}));t((0,v.rR)({id:e,reply:i.current}))},[e,t]),c=(0,g.useRef)(o);return(0,g.useEffect)(()=>{c.current=o},[o]),(0,g.useEffect)(()=>(s(),()=>{c.current()}),[]),{hasLocalDraftReply:a,initialDraftReply:i.current,updateLocalDraftReply:l}},P=e=>(0,b.GV)(t=>{let n=(0,f.Jo)(t),i=E((null==n?void 0:n.reactions)||[]);if(!i)return[];let a=D(e),r=u()(a,e=>{let{spec:t}=e;return i[t.id]}).filter(Boolean),l=s()(r,"emoji"),o=[];for(let[e,t]of Object.entries(l)){let n=t.reduce((e,t)=>e+t.count,0);o.push({emoji:e,count:n,reactions:t})}return c()(o.filter(e=>e.count>0),"count").reverse()},h())},73014:(e,t,n)=>{"use strict";n.d(t,{Lo:()=>l,V6:()=>s});var i=n(37243),a=n(82957);let r=new Set(["bullet","numbered","todo","title","heading","paragraph","image","blockquote","embed","video"]),l=(e,t)=>{if(r.has(e.type.name)){let n={type:"card",content:[e.toJSON()]},r=(0,a.C)().map(e=>(null==t?void 0:t.includes(e.name))?e instanceof i.CU?e.extend({renderHTML:()=>["span",0]}):e.extend({renderHTML:()=>""}):e);return(0,i.Zx)(n||{},r)}return""},s=(e,t)=>{if(r.has(e.type.name)){let n={type:"card",content:[e.toJSON()]},r=(0,a.C)().map(e=>(null==t?void 0:t.includes(e.name))?(e instanceof i.CU,e.extend({renderText:()=>""})):e);return(0,i.Df)(n||{},r)}return""}},73071:(e,t,n)=>{"use strict";n.d(t,{b:()=>c,f:()=>o});var i=n(55765),a=n.n(i),r=n(55729);class l{subscribe(e,t){return this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t),()=>{try{if(!this.listeners[e])return;let n=this.listeners[e].indexOf(t);n>-1&&this.listeners[e].splice(n,1)}catch(e){}}}isRendered(e){return this.renderedMap[e]}onRendered(e){var t;this.renderedMap[e]=!0,null==(t=this.listeners[e])||t.forEach(e=>e())}onEditorUnload(e){this.renderedMap[e]=!1,this.listeners[e]=[]}constructor(){this.renderedMap={main:!1},this.listeners={}}}let s=a()(()=>new l),o=e=>({setEditorRendered:(0,r.useCallback)(()=>{e&&s().onRendered(e)},[e]),onEditorUnload:(0,r.useCallback)(()=>{e&&s().onEditorUnload(e)},[e])}),c=e=>{var t;let[n,i]=(0,r.useState)(void 0===e||null==(t=s().isRendered(e))||t);return(0,r.useEffect)(()=>{if(e)return s().subscribe(e,()=>{i(!0)})},[e]),n}},73581:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var i=n(12562),a=n(7158);let r=async function(e,t){var n,r;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.of.get("aiRequestRetries").chat;l.retries=null!=(r=l.retries)?r:s;let o=await (0,a.V1)({...e,interactionId:t},l);return null==o||null==(n=o.chatCompletion)?void 0:n[0].content}},73737:(e,t,n)=>{"use strict";n.d(t,{K:()=>d,z:()=>u});var i=n(6029),a=n(26420);n(55729);var r=n(91938),l=n(15342),s=n(15607),o=n(43634),c=n(25600);let d=e=>{let{enterZoom:t,doubleClickNonZoomHandler:n,...s}=e,c=(0,l.GV)(o.nD),d=!c,u=c&&!n;return r.$.GAMMA_PUPPETEER_SERVICE?null:(0,i.jsx)(a.a,{inset:0,w:"100%",h:"100%",position:"absolute",zIndex:1,cursor:d?"zoom-in":"default",onDoubleClick:u?t:n,onClick:d?t:void 0,"data-testid":"zoom-click-capture","data-zoom-click-capture":!0,opacity:0,...s})},u=e=>{let{decorations:t,node:n,editor:r}=e,d=(0,c.DM)(t)||!(0,s.We)(r),u=(0,l.GV)(o.nD),{displayStyle:p}=n.attrs;return(0,i.jsx)(a.a,{position:"absolute",inset:0,zIndex:1,pointerEvents:u&&!d&&"inline"===p?"auto":"none",cursor:"default"})}},73813:(e,t,n)=>{"use strict";n.d(t,{D0:()=>a,Hj:()=>l,aG:()=>c,cw:()=>r,hu:()=>o,kb:()=>i,md:()=>s});let i=75,a="".concat(i,"px"),r=10,l="navbar-view-backdrop",s="navbar-view-content",o="data-navbar-closed-toggle",c=()=>({type:"doc",content:[{type:"navbar",attrs:{image:{source:"image.custom"}},content:[{type:"navbarLinks",attrs:{horizontalAlign:"center"}},{type:"navbarButtons"}]}]})},73867:(e,t,n)=>{"use strict";n.d(t,{S:()=>c});var i=n(6029),a=n(40452),r=n(26420),l=n(48810),s=n(47412),o=n(19564);n(55729);let c=e=>{let{createdByName:t,createdByProfileImageUrl:n,createdByYou:c,timestampDescription:d}=e;return(0,i.jsxs)(a.s,{align:"center",children:[(0,i.jsx)(s.Vc,{size:"xs",fontSize:"xs",name:t,src:n,tooltipProps:{placement:"top"}}),(0,i.jsxs)(r.a,{marginInlineStart:2,marginInlineEnd:2,w:"100%",children:[(0,i.jsx)(l.E,{noOfLines:1,fontSize:"xs",w:"100%",wordBreak:"break-all",children:c?(0,i.jsx)(o.x6,{id:"WZTg05"}):(0,i.jsx)(o.x6,{id:"pS1F3d",values:{createdByName:t}})}),d&&(0,i.jsx)(l.E,{noOfLines:1,fontSize:"11px",color:"gray.400",children:d})]})]})}},74355:(e,t,n)=>{"use strict";n.d(t,{CD:()=>c,IN:()=>s,Wp:()=>o,rZ:()=>d});var i=n(58495),a=n(15342),r=n(81089),l=n(43634);let s=(e,t,n)=>{e&&t&&e.replacePageContent(t.shapes,t.bindings,n)},o=(e,t)=>{e.setSetting("isSnapping",t),setTimeout(()=>{(0,r.lN)(e,t?128:10)})},c=(e,t)=>{(0,a.KA)().dispatch((0,l.v5)(t?{drawingId:e}:{drawingId:null}))},d=()=>(0,i.Ak)(5)},74471:(e,t,n)=>{"use strict";n.d(t,{I:()=>c});var i=n(6029),a=n(49611),r=n(48621),l=n(47412);n(55729);var s=n(56288),o=n(80180);let c=e=>{let{label:t,shortcut:n,disabled:l=!1,color:s,isActive:c=!1,onClick:u,icon:p,iconRotation:h,testId:g,children:m,flipIcon:x,...f}=e,b=(0,i.jsx)(a.$,{isDisabled:l,color:s,variant:c?"activeToolbar":"toolbar",onClick:u,"data-testid":g,onMouseDown:o.Fw,size:"sm",...f,children:p?(0,i.jsx)(r.g,{icon:p,rotation:h,flip:x,fixedWidth:!0}):m||null});return t?(0,i.jsx)(d,{label:t,shortcut:n,children:b}):b},d=e=>{let{label:t,shortcut:n,children:a}=e;return(0,i.jsx)(l.Tz,{placement:"top",portalProps:{containerRef:(0,s.EC)()},label:t,shortcut:n,children:a})}},75484:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var i=n(37243);n(55729);class a extends i.KE{constructor(...e){super(...e),this.contentComponent=null}}},75495:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var i=n(12364),a=n.n(i),r=n(55729);let l=e=>{let[t,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(!e)return;let t=e=>{let{editor:t}=e;n(t.state.selection)};t({editor:e});let i=a()(t,200,{leading:!0});return e.on("selectionUpdate",i),()=>{e.off("selectionUpdate",i)}},[e]),{selection:t}}},75703:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});let i=e=>e.slice(-7).map(e=>"User"===e.from?{role:"user",content:e.message}:e.isClassification?{role:"assistant",content:e.message}:e.resp?{role:"assistant",content:e.resp}:null).filter(e=>!!(null==e?void 0:e.content))},75748:(e,t,n)=>{"use strict";n.d(t,{r:()=>h});var i=n(6029),a=n(24302),r=n(26385),l=n(26420),s=n(48810),o=n(51684),c=n(48621),d=n(19564),u=n(55729);let p={padding:{sm:4,md:4,lg:6},fontSize:{sm:"sm",md:"md",lg:"lg"},iconSize:{sm:"lg",md:"2x",lg:"3x"},labelFontSize:{sm:"xs",md:"sm",lg:"md"},spacing:{sm:1,md:2,lg:3}},h=(0,u.memo)(e=>{let{description:t,heading:n,isConnected:u=!0,size:h="lg",...g}=e,m=(0,a.dU)("gray.50","whiteAlpha.100");if(u)return null;let{spacing:x,padding:f,iconSize:b,fontSize:y,labelFontSize:v}=p;return(0,i.jsxs)(r.B,{spacing:x[h],p:f[h],borderRadius:"lg",bg:m,textAlign:"center",alignItems:"center",...g,children:[(0,i.jsx)(l.a,{opacity:.5,children:(0,i.jsx)(c.g,{icon:o.seF,size:b[h]})}),(0,i.jsx)(s.E,{fontWeight:"600",fontSize:y[h],mt:2,children:n||(0,i.jsx)(d.x6,{id:"ysdDIA"})}),(0,i.jsx)(s.E,{color:"gray.500",fontSize:v[h],children:t})]})});h.displayName="OfflineInfoBox"},75984:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(6029),a=n(55729),r=n(53587),l=n(66079),s=n(62917),o=n(62961),c=n(59858);let d=e=>{let{closeDrawer:t,editor:n,updateNestedAttributes:d,background:u,defaultMessage:p,isDark:h,isValidSource:g,defaultToNoBackgroundSource:m}=e,{currentEditBackgroundDrawerSourceKey:x,setBackgroundDrawerSourceKeyAction:f}=(0,s.Bz)(),b=l.Fn[x],y=(0,a.useCallback)(e=>{b.key===r.j?d({background:e}):d({background:{...e,accentId:void 0}})},[null==b?void 0:b.key,d]),v=(0,a.useCallback)(e=>g?g(e)&&(0,c.S0)(e):(0,c.S0)(e),[g]);return(0,i.jsx)(o.v,{closeDrawer:t,editor:n,isDark:h,isValidSource:v,defaultMessage:p,currentBackground:u,updateCurrentBackground:y,currentSourceKey:x,setCurrentSourceKey:f,currentSource:b,defaultToNoBackgroundSource:m})}},76083:(e,t,n)=>{"use strict";n.d(t,{E1:()=>i.E1,GO:()=>r.G,Jb:()=>a.J,Vo:()=>i.Vo,fS:()=>a.f,gT:()=>i.gT});var i=n(42644),a=n(55786),r=n(52055)},76373:(e,t,n)=>{"use strict";n.d(t,{w:()=>d});var i=n(24926),a=n(16491),r=n(55452),l=n(55729),s=n(95889),o=n(11916),c=n(56801);let d=e=>{let{doc:t,source:n,editor:d,fileName:u,cardIds:p,cardRanges:h}=e,g="https://www.googleapis.com/auth/drive.file",m=(0,l.useRef)(null),x=(0,s.st)(),f=(0,a.mg)({scope:g,prompt:"",onSuccess:async e=>{let{showErrorToast:l,showEmailToast:f,showSuccessToast:b,setExportInProgress:y,exportWaitWarnTimeout:v}=m.current,C="";if(!(0,a.DY)(e,g))return void l();C=e.access_token;let w=null==d?void 0:d.getJSON(),A="google_slides";(0,o.QH)(t.id,w,"google_slides","card_export_menu"===n,u,p,h,C).then(async e=>{let i=await e.json();if(!e.ok){if(console.error("Export failed:",{status:e.status,statusText:e.statusText}),400===e.status)throw new c.P("Google drive upload failed",i.error);throw Error("Fetching export failed: ".concat(e.status," ").concat(e.statusText))}let a=s.VV.GSLIDES_EXPORTED;a&&(null==x||x.track(a,{doc_id:t.id,source:n})),b(i.url,"web"),window.open(i.url,"_blank")}).catch(e=>{"AbortError"===e.name?f():(r.Cp(e,{extra:{docId:t.id,format:A,source:n}}),i.yf.logger.error("[useHandleExport] Error exporting doc",{docId:t.id,format:A,source:n},e),e instanceof c.P?l(e.code):l())}).finally(()=>{y(!1),clearTimeout(v)})}});return{interceptFileExport:e=>"google_slides"===e.format&&(m.current=e,f(),!0)}}},76565:(e,t,n)=>{"use strict";n.d(t,{a:()=>V});var i=n(6029),a=n(68917),r=n(27229),l=n(89122),s=n(78140),o=n(36999),c=n(49611),d=n(12514),u=n(41283),p=n(26420),h=n(83550),g=n(72470),m=n(77979),x=n(85595),f=n(58959),b=n(48810),y=n(29810),v=n(51684),C=n(99492),w=n(55597),A=n(48621),j=n(47412),k=n(19564),S=n(77650),L=n(55729),I=n(57963),E=n(82328),D=n(90184),M=n(26814),R=n(39892),_=n(89528),z=n(74003),N=n(95889),T=n(8098),P=n(84130),H=n(35292),F=n(92137),B=n(42350),O=n(65273);let V=e=>{let{attrs:t,editor:n,...p}=e,h=(0,L.useRef)(null),g=(0,M.tO)(void 0,"imageChat",N.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGES),{isOpen:m,onClose:x,onToggle:f}=(0,r.j)();(0,l.j)({ref:h,handler:e=>{if(!m)return;let t=e.target;(null==t?void 0:t.closest("[data-image-chat-menu-trigger]"))||x()}});let b=(0,L.useRef)(null),y=(0,H.l)(t),{isInOfflineMode:v}=(0,E.u)(),{toggleBuddyChatPanel:C,isBuddyChatPanelOpen:I}=(0,F.n)(),D=(0,L.useCallback)(()=>{I||(C(),T.q.emit("hide",{}))},[I,C]),R=(0,L.useCallback)(function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];g()&&(D(),e&&t?setTimeout(()=>{P.W.emit("sendMessage",{message:e})},200):setTimeout(()=>{P.W.emit("prefillMessage",{message:e||""})},200))},[g,D]),_=(0,L.useCallback)(e=>{R(e.message?e.message():e.label(),!e.openWithoutSendingMessage)},[R]),{suggestions:z,generateSuggestionsStatus:B}=(0,O.s)(t),V=(0,L.useMemo)(()=>[{label:()=>S.Ru._({id:"7kAwBx"}),key:"quick-actions",operations:W},{label:()=>S.Ru._({id:"nyQWMb"}),key:"suggested",operations:z.map(e=>({key:e,label:()=>e,creditCostType:"imageChat"})),loading:"generating"===B}],[z,B]);return y?(0,i.jsx)(j.L8,{isDark:!1,children:(0,i.jsxs)(s.W,{isLazy:!0,onClose:x,onOpen:f,isOpen:m,closeOnBlur:!1,initialFocusRef:b,children:[(0,i.jsx)(j.Tz,{label:(0,i.jsx)(k.x6,{id:"vKZEFh"}),placement:"top",shouldWrapChildren:!0,children:(0,i.jsxs)(o.I,{as:c.$,isActive:m,isDisabled:v,"data-image-chat-menu-trigger":!0,...p,children:[(0,i.jsx)(A.g,{icon:w.p7g,fixedWidth:!0}),(0,i.jsx)(a.D,{})]})}),(0,i.jsx)(d.Z,{children:(0,i.jsx)(u.c,{"data-card-ai-menu":!0,minWidth:"320px",width:"fit-content",maxWidth:"min(360px, 80vw)",fontFamily:"body",fontSize:"md",border:"none","data-image-chat-menu-trigger":!0,maxH:"60vh",display:"flex",flexDirection:"column",children:(0,i.jsx)(U,{handleMessage:R,handleOperation:_,onClose:x,firstItemRef:h,inputRef:b,isDisabled:v,pb:2,groupedOperations:V,selected:t})})})]})}):null},W=[{key:"chat",label:()=>S.Ru._({id:"LJNDI6"}),creditCostType:"imageChat",icon:v.Y$q,message:()=>"",openWithoutSendingMessage:!0},{key:"remove-bg",label:()=>S.Ru._({id:"ylbfBl"}),creditCostType:"removeBackground",icon:C.IP$,checkEnabled:B.d.removeBackground.checkEnabled},{key:"upscale",label:()=>S.Ru._({id:"OcutTC"}),creditCostType:"imageChat",icon:C.oZK,productFeature:"ai_models_plus",checkEnabled:B.d.upscale.checkEnabled},{key:"vectorize",label:()=>S.Ru._({id:"ZF+2pT"}),creditCostType:"imageChat",icon:C.nlc,productFeature:"ai_premium_models",checkEnabled:B.d.vectorize.checkEnabled},{key:"animate",label:()=>S.Ru._({id:"2qLe/y"}),creditCostType:"animateImage",icon:C.OxR,productFeature:"ai_premium_models",checkEnabled:B.d.animate.checkEnabled}],U=(0,L.memo)(e=>{let{handleMessage:t,handleOperation:n,onClose:a,firstItemRef:r,inputRef:l,isDisabled:s,showCreditCosts:o=!0,opacityFadeUpsell:c=!1,groupedOperations:d,selected:u,...v}=e,{openUpsellModal:C}=(0,z.I)(),j="-webkit-gradient(linear, left top, left bottom, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)))";return(0,i.jsxs)(p.a,{px:.5,pt:.5,flex:1,overflowY:"auto",style:c?{WebkitMaskImage:j,maskImage:j}:void 0,...v,children:[(0,i.jsx)(h.r,{children:(0,i.jsxs)(g.M,{size:"sm",mb:2,children:[(0,i.jsx)(m.W,{fontSize:"sm",color:"deepocean.300",children:(0,i.jsx)(A.g,{icon:w.p7g})}),(0,i.jsx)(I._,{initialHeight:"32px",ref:l,paddingInlineStart:9,py:1.5,borderRadius:"xl",maxLength:300,isDisabled:s,onKeyDown:e=>{var n,i;if(!s){if("Enter"===e.key&&!e.shiftKey){e.preventDefault(),e.stopPropagation();let n=null==(i=l.current)?void 0:i.value;if(!n)return;t(n),a()}"ArrowDown"===e.key&&(null==(n=l.current)?void 0:n.value.length)===0&&(e.preventDefault(),e.stopPropagation(),r.current&&r.current.focus())}},placeholder:S.Ru._({id:"vKZEFh"})})]})}),d.map((e,t)=>{let l=e.operations.filter(e=>!e.checkEnabled||e.checkEnabled(u));return l&&0!==l.length?(0,i.jsx)(h.r,{title:e.label(),children:l.map((e,l)=>{var s;let c=!e.productFeature||(0,R.vT)(e.productFeature);return(0,i.jsx)(x.D,{icon:(0,i.jsx)(A.g,{icon:null!=(s=e.icon)?s:w._$C,fixedWidth:!0}),onClick:()=>{if(!c)return void C({segmentEvent:N.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGE_CHAT});n(e),a()},ref:0===l&&0===t?r:null,children:(0,i.jsxs)(f.z,{children:[(0,i.jsx)(b.E,{children:e.label()}),(0,i.jsx)(y.h,{}),e.productFeature?(0,i.jsx)(_.Ch,{productFeature:e.productFeature,canUseFeature:c}):o&&(0,i.jsx)(D.G,{type:e.creditCostType,colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"sm"})]})},e.key)})},e.key):null})]})});U.displayName="ChatDropdownMenuGroups"},76694:(e,t,n)=>{"use strict";n.d(t,{u:()=>r,z:()=>l});var i=n(55729),a=n(80180);let r="is-dragging-over",l=(e,t)=>{let n=(0,i.useCallback)(n=>{var i;(!t||t(n))&&(null==(i=e.current)||i.classList.add(r))},[e]),l=(0,i.useCallback)(()=>{var t;return null==(t=e.current)?void 0:t.classList.remove(r)},[e]);return{onDragOver:a.JO,onDragEnter:n,onDragLeave:l,onDrop:l}}},77071:(e,t,n)=>{"use strict";n.d(t,{BJ:()=>aE,aQ:()=>aL});var i=n(6029),a=n(26420),r=n(51684),l=n(77650),s=n(55729),o=n(45214),c=n(43607),d=n(58959),u=n(57405),p=n(48810),h=n(50933),g=n(99492),m=n(48621),x=n(47412),f=n(98874);let b={key:"cellSize",defaultValue:()=>(0,f.rO)().md.width,Control:e=>{let{value:t,updateValue:n,option:a}=e,r=Object.values((0,f.rO)()).find(e=>e.width===t);return(0,i.jsxs)(d.z,{spacing:2,me:2,children:[(0,i.jsx)(x.Tz,{placement:"top",label:(0,i.jsxs)(u.T,{spacing:0,children:[(0,i.jsx)(p.E,{color:"gray.400",children:a.name()}),(0,i.jsx)(p.E,{children:null==r?void 0:r.label()})]}),children:(0,i.jsx)(p.E,{fontSize:"sm",fontWeight:"600",children:(0,i.jsx)(m.g,{icon:g.oZz})})}),(0,i.jsxs)(h.Ap,{min:(0,f.rO)().sm.width,max:(0,f.rO)().xl.width,step:5,value:t,onChange:n,w:"60px",focusThumbOnChange:!1,colorScheme:"trueblue",size:"sm",children:[(0,i.jsx)(h.hB,{children:(0,i.jsx)(h.hJ,{})}),r?(0,i.jsx)(x.Tz,{placement:"top",label:(0,i.jsxs)(u.T,{spacing:0,children:[(0,i.jsx)(p.E,{color:"gray.400",children:a.name()}),(0,i.jsx)(p.E,{children:r.label()})]}),children:(0,i.jsx)(h.OQ,{background:"trueblue.500"})}):(0,i.jsx)(h.OQ,{background:"trueblue.500"})]})]})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:g.oZz,items:Object.entries((0,f.rO)()).map(n=>{let[i,a]=n;return{key:"cell-size-".concat(i),label:a.label(),icon:a.width===e?g.e68:void 0,onClick:()=>{t(a.width)}}})}),getDefaultOnParse:e=>e.childElementCount%2==0?(0,f.rO)().lg.width:(0,f.rO)().md.width,checkEnabled(e){let{options:t}=e;return"vertical"!==t.orientation},name:()=>l.Ru._({id:"LNoaEH"}),validator:e=>Object.values((0,f.rO)()).some(t=>t.width===e)};var y=n(54229),v=n(35883);let C=(e,t,n)=>(0,i.jsx)(y.b,{currentColor:e,setColor:e=>{t(e,!0),null==n||n()},unsetColor:()=>{t(null,!0),null==n||n()},source:"SmartLayout",showAddColorButton:!1}),w={key:"color",Control:e=>{let{value:t,updateValue:n,editor:a}=e;return(0,i.jsx)(v.a,{color:t,setColor:e=>n(e,!0),editor:a,analyticsSource:"SmartLayout"})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:g.fyG,items:[{key:"clear",element:n=>C(e,t,n)}]}),name:()=>"Color"};var A=n(55597),j=n(74471);let k={key:"isEmphasized",Control:e=>{let{value:t,editor:n,pos:a}=e;return(0,i.jsx)(j.I,{label:t?l.Ru._({id:"PDMbsX"}):l.Ru._({id:"m1crrt"}),icon:t?A.yy:g.yy,onClick:()=>{a&&n.chain().handleEmphasizeCell(a,!t).run()}})},ControlMenu:(e,t,n)=>({key:n.key,label:e?l.Ru._({id:"PDMbsX"}):l.Ru._({id:"m1crrt"}),icon:e?A.yy:g.yy,onClick:()=>{t(!e)}}),name:()=>"Emphasis"},S=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.values(t.reduce((e,t)=>(t.forEach(t=>{e[t.key]=t}),e),{}))},L=e=>{let{additionalOptions:t=[],additionalCellOptions:n=[],defaultOptions:i={},presetConfigurations:a=[]}=e;return{...e,options:S([w,b],t),cellOptions:S([w,k],n),presetConfigurations:a,addDirection:e=>"vertical"===e.orientation?"bottom":"right",isFullWidth:e=>"horizontal"===e.orientation,defaultOptions:i}};var I=n(40452),E=n(66082),D=n(15342),M=n(95695),R=n(40077),_=n(96177),z=n(88839),N=n(62452),T=n(43634);let P=function(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,l=(0,D.GV)(T.SJ),o=null!=(n=null==t?void 0:t.color)?n:e.color,c=o,d=(0,z.M)(l),u=M.z0[d.shapeFill].opacity,p=(0,N.bh)(l);if(!c&&!r&&"custom"===d.shapeColorScheme&&p.length>0&&t){let e=(0,N.bh)(l).map(N.Ik);c=e[i%e.length]}let h=!0===a?0:!1===a?1:u,g=(0,s.useMemo)(()=>(0,_.q9)(c,h),[c,h]),m=o?(0,R.U2)(o):void 0;return{color:c,colorVars:g,headingColorCss:m,colorOverride:o}};var H=n(3298),F=n(58568);let B=2/3*3,O=function(e,t,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ltr",r=B*n,l=3*n;if(!i){let n=.75*t,i=(e-r)/2,a=i+r,s=(e-l)/2;return"M ".concat(i," 0 ")+"L ".concat(a," 0 ")+"L ".concat(a," ").concat(n," ")+"L ".concat(s+l," ").concat(n," ")+"L ".concat(e/2," ").concat(t," ")+"L ".concat(s," ").concat(n," ")+"L ".concat(i," ").concat(n," ")+"Z"}let s=t/2,o=(t-r)/2,c=o+r,d=(t-l)/2,u=d+l;if("rtl"===a){let t=2.5*n;return"M 0 ".concat(s," ")+"L ".concat(t," ").concat(d," ")+"L ".concat(t," ").concat(o," ")+"L ".concat(e," ").concat(o," ")+"L ".concat(e," ").concat(c," ")+"L ".concat(t," ").concat(c," ")+"L ".concat(t," ").concat(u," ")+"Z"}let p=e-2.5*n;return"M 0 ".concat(o," ")+"L ".concat(p," ").concat(o," ")+"L ".concat(p," ").concat(d," ")+"L ".concat(e," ").concat(s," ")+"L ".concat(p," ").concat(u," ")+"L ".concat(p," ").concat(c," ")+"L 0 ".concat(c," ")+"Z"},V=(0,s.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:r,cellOptions:l,index:s,direction:c,selectCellForElementProps:d}=t,{colorVars:u}=P(r,l,s),{width:p,height:h,fontSize:g,ref:m}=(0,F.Lf)(),x=O(p,h,g,n,c),f=n?{width:"100%",height:"".concat(3,"em")}:{minWidth:"".concat(3,"em"),width:"".concat(3,"em"),height:"100%"};return(0,i.jsx)(I.s,{contentEditable:!1,align:"center",justify:"center",position:"relative",sx:u,...d,ref:m,...f,children:(0,i.jsx)(a.a,{as:"svg",pos:"absolute",inset:"0",w:"100%",overflow:"visible","data-testid":"arrow-svg",...d,children:(0,i.jsx)(a.a,{as:"path",d:x,className:o.D6})})})});V.displayName="ArrowLabel";var W=n(21938),U=n(69837);let G=(e,t,n,i,a)=>{let r=(i?4:5)*n,l=+n;return i?"rtl"===a?"\n          M ".concat(l," 0\n          L 0 ").concat(r/2,"\n          L ").concat(l," ").concat(r,"\n          L ").concat(e," ").concat(r,"\n          L ").concat(e-l," ").concat(r/2,"\n          L ").concat(e," 0 Z"):"\n        M ".concat(e-l," 0\n        L ").concat(e," ").concat(r/2,"\n        L ").concat(e-l," ").concat(r,"\n        L 0 ").concat(r,"\n        L ").concat(l," ").concat(r/2,"\n        L 0 0 Z"):"\n          M 0 ".concat(t-l,"\n          L ").concat(r/2," ").concat(t,"\n          L ").concat(r," ").concat(t-l,"\n          L ").concat(r," 0\n          L ").concat(r/2," ").concat(l,"\n          L 0 0 Z")},Z=(0,s.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:r,cellOptions:l,index:s,direction:c,image:d,selectCell:u,selectCellForElementProps:p}=t,{colorVars:h}=P(r,l,s),{width:g,height:m,fontSize:x,ref:f}=(0,F.Lf)(),b=G(g,m,x,n,c),y=n?{width:"100%",height:"".concat(4,"em")}:{width:"".concat(5,"em"),height:"100%"};return(0,i.jsxs)(I.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...h,...(0,E.yp)("center")},...y,ref:f,"data-export-as-image":!0,className:o.lR,children:[(0,i.jsx)(a.a,{as:"svg",pos:"absolute",inset:"0",w:"100%",overflow:"visible","data-testid":"arrow-svg",...p,children:(0,i.jsx)(a.a,{as:"path",d:b,className:o.D6})}),(0,i.jsx)(I.s,{fontSize:"1.5em",pos:"absolute",my:"0.5em",alignItems:"center",justifyContent:"center",className:(0,W.cx)(R.U6),children:(0,i.jsx)(U.R,{image:d,number:r.numbered?s+1:void 0,isNumbered:r.numbered,iconSize:1,selectCell:u})})]})});Z.displayName="ChevronLabel";let K=(0,s.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:a,cellOptions:r,index:l,image:s,selectCell:c,selectCellForElementProps:d}=t,{colorVars:u}=P(a,r,l);return(0,i.jsx)(I.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...u},style:n?{borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopRightRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderTopWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"}:{borderTopRightRadius:"0px",borderBottomRightRadius:"0px",borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopWidth:"0px",borderLeftWidth:"0px",borderBottomWidth:"0px"},...n?{width:"100%",height:"3em"}:{width:"4em",height:"100%",minHeight:"4em"},className:(0,W.cx)(o.SA,o.lR),...d,children:(0,i.jsx)(I.s,{fontSize:"1.5em",alignItems:"center",justifyContent:"center",className:(0,W.cx)(R.U6),children:(0,i.jsx)(U.R,{image:s,number:a.numbered?l+1:void 0,isNumbered:a.numbered,iconSize:1,selectCell:c})})})});K.displayName="FlushLabel";var Q=n(53996),q=n(17006),J=n(29608),$=n(80274),Y=n(90278);let X=e=>{var t;let{cellProps:n,positionProps:r,markerProps:l,markerFontSize:d="h3",children:u}=e,{index:p,theme:h,layoutOptions:g,cellOptions:m,getPos:x,editor:f,selectCell:b,image:y}=n,v=(0,c.FX)(),C=null==(t=g.numbered)||t,w=ee(v,null!=d?d:"h3"),A=(0,s.useCallback)(()=>{let e=x();if(!f.isEditable||"number"!=typeof e)return;let t=f.state.doc.resolve(e);(0,Y.tN)(f,t)},[x,f]),j=(0,s.useMemo)(()=>(0,q.bh)(d,h),[d,h]),{colorVars:k}=P(g,m,p),S={...(0,J.nr)()?(0,R.U2)():void 0};return(0,i.jsxs)(I.s,{...r,contentEditable:!1,userSelect:"none",onMouseDown:A,cursor:"default",css:k,children:[(0,i.jsx)(Q.o,{h:"".concat(w,"em"),w:"".concat(w,"em"),className:o.SA,sx:S,pos:"relative",...l,children:(0,i.jsx)(a.a,{sx:j,className:(0,W.cx)(R.U6),textAlign:"center",style:{lineHeight:1},pos:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",children:(0,i.jsx)(U.R,{image:y,number:C?p+1:void 0,isNumbered:C,iconSize:1,selectCell:b})})}),u]})},ee=(e,t)=>{var n;let i=(0,$.o)(t);return(e&&null!=(n=i.mobileSize)?n:i.size)+.75},et=(e,t,n,i)=>{var a,r,l;let s=(0,$.o)(i),o="body"===s.type,c=t&&null!=(a=s.mobileSize)?a:s.size,d=null===n?0:ee(t,n);return(d-c*(o||t?null!=(r=e.config.lineHeightBody)?r:q.Uw:null!=(l=e.config.lineHeightHeading)?l:q.eL))/2},en=(0,s.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:a,cellOptions:r,index:l,direction:s,image:d,selectCell:u,selectCellForElementProps:p,theme:h,firstChildSize:g}=t,{colorVars:m}=P(a,r,l),x=et(h,(0,c.FX)(),"h1",g);return(0,i.jsxs)(I.s,{width:n?"100%":"3em",height:n?"3em":"100%",align:"center",justify:"center",position:"relative",direction:n?"row":"column",contentEditable:!1,children:[(0,i.jsx)(I.s,{borderRadius:"50% !important",width:"3em",height:"3em",position:"absolute",left:"rtl"===s?void 0:0,right:"rtl"===s?0:void 0,top:n?"50%":"".concat(x,"em"),transform:n?"translateY(-50%)":void 0,zIndex:"1",sx:{...m},className:(0,W.cx)(o.SA,o.lR),justify:"center",align:"center",children:(0,i.jsx)(I.s,{fontSize:"1.5em",my:"0.5em",alignItems:"center",justifyContent:"center",className:(0,W.cx)(R.U6),children:(0,i.jsx)(U.R,{image:d,number:a.numbered?l+1:void 0,isNumbered:a.numbered,iconSize:1,selectCell:u})})}),(0,i.jsx)(I.s,{align:"center",justify:"center",position:"relative",sx:m,...n?{width:"calc(100% - 1.5em)",height:"".concat(1,"em"),marginInlineStart:"1.5em"}:{minWidth:"".concat(1,"em"),width:"".concat(1,"em"),height:"calc(100% - 1.5em)",marginTop:"1.5em"},className:o.SA,...p})]})});en.displayName="IconCircleWithSimpleLineLabel";let ei=(0,s.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:a,cellOptions:r,index:l,image:s,selectCell:c,selectCellForElementProps:d}=t,{colorVars:u}=P(a,r,l);return(0,i.jsx)(I.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...u},style:{borderRadius:"12em"},...n?{width:"100%",height:"3em"}:{width:"4em",height:"100%",minHeight:"4em"},className:(0,W.cx)(o.SA,o.lR),...d,children:(0,i.jsx)(I.s,{fontSize:"1.5em",alignItems:"center",justifyContent:"center",className:(0,W.cx)(R.U6),children:(0,i.jsx)(U.R,{image:s,number:a.numbered?l+1:void 0,isNumbered:a.numbered,iconSize:1,selectCell:c})})})});ei.displayName="PillsLabel";let ea=(0,s.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:a,cellOptions:r,index:l,selectCellForElementProps:s}=t,{colorVars:c}=P(a,r,l);return(0,i.jsx)(I.s,{contentEditable:!1,align:"center",justify:"center",position:"relative",sx:c,style:n?{borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopRightRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderTopWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"}:{borderTopRightRadius:"0px",borderBottomRightRadius:"0px",borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopWidth:"0px",borderLeftWidth:"0px",borderBottomWidth:"0px"},...n?{width:"100%",height:"".concat(1,"em")}:{minWidth:"".concat(1,"em"),width:"".concat(1,"em"),height:"100%"},className:o.SA,...s})});ea.displayName="SimpleLineFlushLabel";let er=(0,s.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:a,cellOptions:r,index:l,selectCellForElementProps:s}=t,{colorVars:c}=P(a,r,l);return(0,i.jsx)(I.s,{contentEditable:!1,align:"center",justify:"center",position:"relative",sx:c,...n?{width:"100%",height:"".concat(1,"em")}:{minWidth:"".concat(1,"em"),width:"".concat(1,"em"),height:"100%"},className:o.SA,...s})});er.displayName="SimpleLineLabel";let el=(e,t,n,i,a)=>{let r=(i?4:5)*n,l=1.5*n;return i?"rtl"===a?"\n          M ".concat(l," 0\n          L ").concat(e," 0\n          L ").concat(e-l," ").concat(r,"\n          L 0 ").concat(r,"\n          Z"):"\n        M ".concat(l," 0\n        L ").concat(e," 0\n        L ").concat(e-l," ").concat(r,"\n        L 0 ").concat(r,"\n        Z"):"\n          M 0 ".concat(t,"\n          L 0 ").concat(l,"\n          L ").concat(r," 0\n          L ").concat(r," ").concat(t-l,"\n          Z")},es=(0,s.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:r,cellOptions:l,index:s,direction:c,image:d,selectCell:u,selectCellForElementProps:p}=t,{colorVars:h}=P(r,l,s),{width:g,height:m,fontSize:x,ref:f}=(0,F.Lf)(),b=el(g,m,x,n,c),y=n?{width:"100%",height:"".concat(4,"em")}:{width:"".concat(5,"em"),height:"100%"};return(0,i.jsxs)(I.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...h,...(0,E.yp)("center")},...y,ref:f,"data-export-as-image":!0,className:o.lR,children:[(0,i.jsx)(a.a,{as:"svg",pos:"absolute",inset:"0",w:"100%",overflow:"visible","data-testid":"arrow-svg",...p,children:(0,i.jsx)(a.a,{as:"path",d:b,className:o.D6})}),(0,i.jsx)(I.s,{fontSize:"1.5em",pos:"absolute",my:"0.5em",alignItems:"center",justifyContent:"center",className:(0,W.cx)(R.U6),children:(0,i.jsx)(U.R,{image:d,number:r.numbered?s+1:void 0,isNumbered:r.numbered,iconSize:1,selectCell:u})})]})});es.displayName="SlantedLabel";let eo={chevron:Z,flush:K,pills:ei,slanted:es,simpleLine:er,arrow:V,iconCircleWithSimpleLine:en,simpleLineFlush:ea},ec=(0,s.memo)(e=>{let{cellProps:t}=e,{layoutOptions:n,cellOptions:a,index:r,image:l,selectCell:s,selectCellForElementProps:c}=t,{colorVars:d}=P(n,a,r,!1);return(0,i.jsx)(I.s,{width:"".concat(3,"em"),height:"".concat(3,"em"),align:"center",justify:"center",contentEditable:!1,sx:d,className:(0,W.cx)(o.P7,o.ok),style:{borderRadius:"9999px"},...c,children:(0,i.jsx)(I.s,{alignItems:"center",justifyContent:"center",className:(0,W.cx)(R.U6),children:(0,i.jsx)(U.R,{image:l,number:n.numbered?r+1:void 0,isNumbered:n.numbered,iconSize:1.35,selectCell:s})})})});ec.displayName="IconCircleMarker";let ed={iconCircle:ec,smallBullet:e=>{let{cellProps:t}=e,{layoutOptions:n,cellOptions:r,index:l}=t,{colorVars:s}=P(n,r,l,!1);return(0,i.jsx)(a.a,{width:"0.5em",height:"0.5em",borderRadius:"50%",transform:"translateY(-50%)",className:o.P7,flexShrink:0,sx:s,contentEditable:!1})},bigBullet:X},eu=e=>{switch(e){case"solid":return"".concat(o.VN," ").concat(o.SA);case"outline":return"".concat(o.VN," ").concat(o.uk);case"none":return o.VN}};var ep=n(25722);let eh=(e,t)=>{if(!e)return{};let{markerPosition:n}=e,i={display:"flex",gap:H.xb};return"left"===n?{markerContainerStyles:{...i,flexDirection:"row",alignItems:"start"},markerStyles:{mt:t&&t<0?"".concat(-1*t,"em"):void 0},markerContentStyles:{mt:t&&t>0?"".concat(t,"em"):void 0}}:{markerContainerStyles:{...i,flexDirection:"column"},markerStyles:{},markerContentStyles:{}}},eg=e=>{let{isHorizontal:t,direction:n,layoutOptions:i,gap:a}=e;return{display:"flex",flexDirection:t?"column":"rtl"===n&&"left"===i.horizontalAlign||"ltr"===n&&"right"===i.horizontalAlign?"row-reverse":"row",gap:a,minH:t?void 0:"6em",h:"100%",borderRadius:"var(--box-border-radius)"}},em=e=>{let{isHorizontal:t}=e;return t?{minW:0,transformOrigin:"center top",p:H.xb,pt:0}:{transformOrigin:"left center",p:H.xb,px:0}},ex=e=>{let t,{children:n,cellStyle:r="none",cellContentPropOverrides:l,colorVars:s,alignStyles:o,cellProps:d,theme:u,markerProps:p,innerLabelProps:h,cursor:g,onClick:m}=e,{layoutOptions:x,direction:f,numCells:b,layoutContainerSize:y,firstChildSize:v}=d,{isHorizontal:C}=(0,ep.i)(x,b,y),w=(0,c.FX)();p&&(t=et(u,w,p.markerFontSize||null,v));let{markerContainerStyles:A,markerStyles:j,markerContentStyles:k}=eh(p,t),S=h?eg({isHorizontal:C,direction:f,layoutOptions:x,gap:"1em"}):{},L=h?em({isHorizontal:C}):{},I=p?ed[p.markerType]:void 0,E=h?eo[h.labelType]:void 0;return p&&h&&console.warn("markerProps and labelProps have not yet been validated for compatibility"),(0,i.jsxs)(a.a,{"data-selection-ring":!0,cursor:g||"text",onClick:m,position:"relative",p:"none"===r||h?0:H.xb,flex:"1",minW:"0",...l,sx:{...s,...A,...S,...o,...null==l?void 0:l.sx},className:eu(r),children:[p&&I&&(0,i.jsx)(a.a,{sx:{...j},children:(0,i.jsx)(I,{cellProps:d,markerFontSize:p.markerFontSize})}),E&&(0,i.jsx)(E,{cellProps:d,isHorizontal:C}),p||h?(0,i.jsx)(a.a,{flex:"1",w:"100%",minW:"0",sx:{...k,...L},cursor:"text",children:n}):n]})};var ef=n(48687);let eb=e=>{let{index:t,numCells:n,columns:i,unevenBehavior:a="center"}=e;if("flex"!==a||Math.floor(t/i)!==Math.ceil(n/i)-1)return ef.m;let r=n%i||i,l=t%i;if(l>=r)return 0;let s=i*ef.m,o=Math.floor(s/r);return l<s%r?o+1:o},ey=(e,t,n,i)=>{let a={};if(e){if(i&&"cascade"===e.horizontal){let e=t%n+1;a.paddingTop="".concat((n-e)*1.5,"em"),a.paddingBottom=0}else i||"oscillating"!==e.vertical||(a.paddingInlineStart="".concat(function(e){let t=e%6;return t<=3?1.5*t:4.5-(t-3)*1.5}(t),"em"));i&&"function"==typeof e.horizontal?a.paddingTop=e.horizontal(t,n):i||"function"!=typeof e.vertical||(a.paddingInlineStart=e.vertical(t))}return a},ev=(0,s.memo)(e=>{let{cellProps:t,children:n,unevenBehavior:a="center",forceBalance:r,staggering:l,cellStyle:s="none",cellContentPropOverrides:o,markerProps:c,innerLabelProps:d}=e,{layoutOptions:u,cellOptions:p,dragHandle:h,index:g,selectCellForElementProps:m,numCells:x,layoutContainerSize:f,direction:b,theme:y}=t,{colorVars:v}=P(u,p,g,!0),C=(null==o?void 0:o.alignItems)?void 0:{...(0,E.yp)(u.horizontalAlign,b),...(0,E.AS)(u.horizontalAlign,b)},{isHorizontal:w,columns:A}=(0,ep.i)(u,x,f,r),j=eb({index:g,numCells:x,columns:A,unevenBehavior:a}),k=l?ey(l,t.index,A,w):void 0;return(0,i.jsx)(I.s,{"data-content-reference":!0,gridColumn:"span ".concat(j),sx:{...k},h:"100%",children:(0,i.jsxs)(ex,{cellContentPropOverrides:o,colorVars:v,alignStyles:C,cellStyle:s,cellProps:t,theme:y,markerProps:c,innerLabelProps:d,cursor:m.cursor||"text",onClick:m.onClick,children:[n,h]})})});ev.displayName="SmartLayoutGridCell";var eC=n(83743);let ew=e=>{switch(e){case"none":return{rowGap:"0em",columnGap:"0em"};case"small":return{rowGap:"1em",columnGap:"1em"};case"medium":return{rowGap:"2em",columnGap:"1.25em"};case"large":return{rowGap:"2em",columnGap:"2em"}}},eA=(0,s.memo)(e=>{let{children:t,options:n,numCells:a,containerSize:r,onContextMenu:l,selectLayoutForElementProps:s,spacing:o="medium",unevenBehavior:c="center",forceBalance:d,wrapperStyle:u="none"}=e,{isHorizontal:p,columns:h,lastRowAligner:g}=(0,ep.i)(n,a,r,d),{rowGap:m,columnGap:x}=ew(o),f=p?{columns:h*ef.m,rowGap:m,columnGap:x}:{columns:+ef.m,rowGap:m};return(0,i.jsxs)(eC.r,{"data-selection-ring":!0,...f,pos:"relative",onContextMenu:l,...s,className:eu(u),children:[t,"center"===c&&g]})});eA.displayName="SmartLayoutGridWrapper";let ej=(0,s.memo)(e=>{let{children:t,visual:n,visualPosition:r="top",visualSize:l="100%",visualMaxSize:s,gap:o="1.25em",alignContent:c,unevenBehavior:d="center",forceBalance:u,cellProps:p,textboxProps:h,cellStyle:g="none"}=e,{layoutOptions:m,cellOptions:x,isContentEmpty:f,isLayoutFocused:b,direction:y,index:v}=p,C="left"===r,w=c||(C?"rtl"===y?"right":"left":m.horizontalAlign),{colorVars:A}=P(m,x,v,!0);return(0,i.jsxs)(ev,{cellProps:p,unevenBehavior:d,cellStyle:g,forceBalance:u,cellContentPropOverrides:{p:0,gap:f&&!b?0:o,display:"flex",flexDirection:C?"right"===w&&"rtl"!==y?"row-reverse":"row":"column",alignItems:C?"flex-start":void 0,justifyContent:"center",h:"100%"},children:[(0,i.jsx)(a.a,{w:l,maxW:s,flex:C?1:void 0,children:n}),(0,i.jsx)(a.a,{minW:C?"6em":"100%",maxW:"100%",flex:C?1.618:1,"data-content-empty":f,css:{...A,...C?(0,E.G4)("flex-start"):{}},cursor:"text",...h,children:t})]})});ej.displayName="VisualGridCell";var ek=n(41427),eS=n(45143);let eL={base:!1,md:!0},eI={base:!1,md:!0},eE=e=>{let t=(0,eS.h5)(eL)||!1,n=(0,eS.h5)(eI)||!1,i="horizontal"===e.orientation&&n,a=e.twoSided&&(i||t);return{isHorizontal:i,isTwoSided:a}},eD=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?e?{templateRows:"auto 0px auto",gridAutoColumns:"1fr",gridAutoFlow:"column",justifyContent:"start",columnGap:"1.25em"}:{templateColumns:t?"1fr 0px 1fr":"0px 0px 1fr",gridAutoRows:"auto",justifyContent:"center",rowGap:"2em"}:e?{templateRows:"auto 0px auto",autoColumns:"1fr",justifyContent:"center",columnGap:"1.25em"}:{templateColumns:t?"1fr 0px 1fr":"0px 0px 1fr",autoRows:"auto",justifyContent:"center",rowGap:"2em"}},eM=function(e,t,n,i,a){let r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=t&&(n+1)%2==1;return r?e?{gridColumn:n+1,gridRow:l?1:3,align:l?"flex-end":"flex-start",justify:"center",transformOrigin:l?"center bottom":"center top",pt:l?void 0:i,pb:l?i:void 0,px:a}:{gridRow:n+1,gridColumn:l?1:3,align:"flex-start",transformOrigin:l?"right center":"left center",ps:l?void 0:i,pe:l?i:void 0}:e?{gridColumn:"span 2",gridRow:l?1:3,align:l?"flex-end":"flex-start",justify:"center",transformOrigin:l?"center bottom":"center top",pt:l?void 0:i,pb:l?i:void 0,px:a}:{gridRow:"span 2",gridColumn:l?1:3,align:"flex-start",transformOrigin:l?"right center":"left center",ps:l?void 0:i,pe:l?i:void 0}},eR=(e,t,n,i,a,r)=>{let l=!t*i,s=t&&n%2==0,[o,c]=(0,ek.yz)(a),d="center"===r?"50%":0;return e?s?{bottom:"".concat(l,"em"),transform:"translateY(50%)"}:{top:"".concat(l,"em"),transform:"translateY(-50%)"}:s?{[c]:"".concat(l,"em"),transform:"translateX(".concat("rtl"===a?"-50":"50","%)"),top:d}:{[o]:"".concat(l,"em"),transform:"translateX(".concat("rtl"===a?"50":"-50","%)"),top:d}},e_=(e,t,n,i,a)=>{let r=t&&n%2==0,[l,s]=(0,ek.yz)(a),o="number"==typeof i?"".concat(i,"em"):i;return e?{height:o,width:"var(--line-thickness)",[l]:"50%",top:r?void 0:"50%",bottom:r?"50%":void 0,transform:"translateX(".concat("rtl"===a?"50":"-50","%)")}:{width:o,height:"var(--line-thickness)",top:"50%",transform:"translateY(-50%)",[l]:r?void 0:"calc(100% - var(--line-thickness))",[s]:r?"calc(100% - var(--line-thickness))":void 0}},ez=(e,t,n,i,a,r,l)=>"".concat(("inside"===e?l?t/2:t:0)+("none"===e?i:0)+(a?n/2:n)+(r?0:i),"em"),eN=(0,s.memo)(e=>{let{cellProps:t,markerSize:n,lineLength:r,verticalAlign:l="top",MarkerWrapper:s=X,markerFontSize:d="h3"}=e,{direction:u,index:p,layoutOptions:h}=t,{isHorizontal:g,isTwoSided:m}=eE(h),x=h.hasLine?"inside":"none",f=(0,c.FX)(),b=eR(g,m,p,n,u,l),y=e_(g,m,p,"none"===x?0:"inside"===x?"".concat(f?r/2:r,"em"):"100%",u);return(0,i.jsx)(s,{cellProps:t,positionProps:{...b,position:"absolute"},markerFontSize:d,children:"none"!==x&&(0,i.jsx)(a.a,{position:"absolute",zIndex:"-1","data-testid":"timeline-line",...y,className:o.eI})})});eN.displayName="AlternatingMarker";let eT=e=>{switch(e.verticalAlign||"top"){case"center":return{alignItems:"center"};case"bottom":return{alignItems:"flex-end"};default:return{alignItems:"flex-start"}}},eP=(0,s.memo)(e=>{let{children:t,markerSize:n=1.125,lineLength:a=3,contentPadding:r=2,minCellSize:l=8,MarkerComponent:s=eN,testIdPrefix:o="timeline-item",cellContentPropOverrides:d,markerFontSize:u="h3",useSequentialPositioning:p=!1,css:h,cellStyle:g="none",...m}=e,{layoutOptions:x,index:f,dragHandle:b,cellOptions:y,direction:v,selectCellForElementProps:C,theme:w}=m,{isHorizontal:A,isTwoSided:j}=eE(x),k=j&&(f+1)%2==1,S=x.hasLine?"inside":"none",{colorVars:L}=P(x,y,f,!0),D=(0,c.FX)(),M=ez(S,a,r,n,A,j,D),R=eM(A,j,f,M,"".concat(r/2,"em"),p),_={right:"rtl"===v?"left":"right",left:"rtl"===v?"right":"left"},z=et(m.theme,D,u,m.firstChildSize),N=A?{minW:"min(100%, ".concat(l,"em)"),...(0,E.yp)("center"),...L}:{minH:j?"".concat(l,"em"):void 0,...(0,E.yp)(k?_.right:_.left),...(0,E.AS)(k?_.right:_.left,v),...s&&{mt:"".concat(z,"em")},...L},T={...d,sx:N,flex:"1",maxW:"100%",...C};return(0,i.jsxs)(I.s,{minW:"0",position:"relative",transitionProperty:"border, padding, right, margin","data-selection-ring":"padded","data-content-reference":!0,...C,...R,["data-test-".concat(o)]:f,css:{...h},...eT(x),children:[s&&(0,i.jsx)(s,{cellProps:m,markerSize:n,lineLength:a}),(0,i.jsxs)(ex,{cellContentPropOverrides:T,cellStyle:g,cellProps:m,theme:w,children:[t,b]})]})});var eH=n(56570);let eF=(0,s.memo)(e=>{let{children:t,options:n,direction:a,onContextMenu:r,selectLayoutForElementProps:l,markerSize:o=1.125,useSequentialPositioning:c=!1,css:d}=e,{isHorizontal:u,isTwoSided:p}=eE(n),h=(0,s.useMemo)(()=>eD(u,p,c),[u,p,c]),{colorVars:g}=P(n);return(0,i.jsxs)(eH.x,{...h,"data-selection-ring":"padded",pos:"relative",onContextMenu:r,...l,css:d,children:[(0,i.jsx)(eB,{isHorizontal:u,isTwoSided:p,direction:a,markerSize:o,colorVars:g}),t,p&&(0,i.jsx)(eO,{isHorizontal:u,selectLayoutForElementProps:l})]})});eF.displayName="AlternatingGridWrapper";let eB=(0,s.memo)(e=>{let{isHorizontal:t,isTwoSided:n,direction:r,markerSize:l,colorVars:s}=e;return t?(0,i.jsx)(a.a,{gridRow:2,gridColumn:1,"data-spotlight-dim":!0,contentEditable:!1,css:s,children:(0,i.jsx)(a.a,{position:"absolute",height:"var(--line-thickness)",width:"100%",insetX:"0",insetBlockStart:n?void 0:"".concat(l,"em"),className:o.eI})}):(0,i.jsx)(Q.o,{gridColumn:2,gridRow:1,"data-spotlight-dim":!0,contentEditable:!1,css:s,children:(0,i.jsx)(a.a,{position:"absolute",width:"var(--line-thickness)",insetY:"0",left:n||"rtl"===r?void 0:"0",right:n||"ltr"===r?void 0:"0",className:o.eI,ms:n?void 0:"".concat(l,"em")})})});eB.displayName="AlternatingCenterLine";let eO=(0,s.memo)(e=>{let{isHorizontal:t,selectLayoutForElementProps:n}=e;return(0,i.jsx)(a.a,{...t?{gridColumn:"1 / span 1",gridRow:3,minW:"0.5fr"}:{gridColumn:3,gridRow:"1 / span 1",minH:"".concat(4,"em")},contentEditable:!1,...n})});eO.displayName="AlternatingStaggerElement";var eV=n(19564);let eW={key:"hasLine",defaultValue:()=>!0,Control:e=>{let{value:t,updateValue:n,option:a}=e;return(0,i.jsx)(j.I,{label:a.name(),onClick:()=>n(!t),isActive:t,icon:g.CCK})},ControlMenu:(e,t,n)=>({key:n.key,label:e?(0,i.jsx)(eV.x6,{id:"IELtbA"}):(0,i.jsx)(eV.x6,{id:"81xMlD"}),icon:g.CCK,onClick:()=>t(!e)}),name:()=>l.Ru._({id:"aPb1AT"})},eU={key:"orientation",defaultValue:()=>"horizontal",Control:e=>{let{value:t,updateValue:n,option:a}=e;return(0,i.jsx)(j.I,{label:a.name(),onClick:()=>n("horizontal"===t?"vertical":"horizontal"),isActive:"vertical"===t,icon:"horizontal"===t?g.dmS:g.B0C,testId:"smart-layout-orientation-option"})},ControlMenu:(e,t,n)=>({key:n.key,label:l.Ru._({id:"R56kJO"}),icon:"horizontal"===e?g.dmS:g.B0C,items:[{key:"horizontal",label:l.Ru._({id:"pzu7v4"}),icon:"horizontal"===e?g.e68:void 0,onClick:()=>t("horizontal")},{key:"vertical",label:l.Ru._({id:"mX/isJ"}),icon:"vertical"===e?g.e68:void 0,onClick:()=>t("vertical")}]}),name:()=>l.Ru._({id:"MRB7nI"}),validator:e=>"horizontal"===e||"vertical"===e},eG={key:"twoSided",defaultValue:()=>!0,Control:e=>{let{value:t,updateValue:n,option:a}=e;return(0,i.jsx)(j.I,{label:a.name(),onClick:()=>n(!t),isActive:t,icon:g.v6v,testId:"smart-layout-two-sided-option"})},ControlMenu:(e,t,n)=>({key:n.key,label:e?l.Ru._({id:"x+f1ZW"}):l.Ru._({id:"o18EC+"}),icon:g.v6v,onClick:()=>t(!e)}),name:()=>l.Ru._({id:"ovs7iP"})},eZ=e=>{let{additionalOptions:t=[],additionalCellOptions:n=[],presetConfigurations:i=[],...a}=e;return{baseHorizontalAlign:(0,E.Ro)("center"),imageSlot:"optional",imageType:"icon",options:S([{...eU,defaultValue:()=>"vertical"},eG,eW,w],t),cellOptions:S([w,k],n),presetConfigurations:i.length>0?i:[{name:()=>"Horizontal (one-sided)",options:{twoSided:!1,hasLine:!0,orientation:"horizontal"}},{name:()=>"Horizontal (two-sided)",options:{twoSided:!0,hasLine:!0,orientation:"horizontal"}},{name:()=>"Vertical (one-sided)",options:{twoSided:!1,hasLine:!0,orientation:"vertical"}},{name:()=>"Vertical (two-sided)",options:{twoSided:!0,hasLine:!0,orientation:"vertical"}}],addDirection:e=>"horizontal"===e.orientation?"right":"bottom",isFullWidth:e=>"horizontal"===e.orientation,...a}},eK=e=>{let{additionalOptions:t=[],presetConfigurations:n=[],...i}=e;return eZ({...i,additionalOptions:[{...eG,defaultValue:()=>!0},...t],presetConfigurations:n.length>0?n:[{name:()=>"Horizontal",options:{twoSided:!0,hasLine:!0,orientation:"horizontal"}},{name:()=>"Vertical",options:{twoSided:!0,hasLine:!0,orientation:"vertical"}}],defaultOptions:{twoSided:!0,numbered:!1,...i.defaultOptions}})},eQ=(0,s.memo)(e=>(0,i.jsx)(eF,{...e,markerSize:.75}));eQ.displayName="TimelineWrapper";let eq=(0,s.memo)(e=>{let{children:t,positionProps:n,cellProps:r}=e,{direction:l,layoutOptions:s,cellOptions:d,index:u}=r,{colorVars:p}=P(s,d,u),h=ee((0,c.FX)(),"h3");return(0,i.jsxs)(a.a,{...n,height:"".concat(h,"em"),css:p,children:[(0,i.jsx)(a.a,{position:"absolute",transform:"translate(".concat("rtl"===l?"50%":"-50%",", -50%)"),width:"".concat(.75,"em"),height:"".concat(.75,"em"),borderRadius:"50%",className:o.P7,zIndex:2,top:"50%"}),t]})});eq.displayName="TimelineMarkerBox";let eJ=(0,s.memo)(e=>(0,i.jsx)(eN,{...e,MarkerWrapper:eq,verticalAlign:"top"}));eJ.displayName="TimelineMarkerComponent";let e$=(0,s.memo)(e=>(0,i.jsx)(eP,{...e,lineLength:2,contentPadding:2,minCellSize:8,markerSize:.75,markerFontSize:"h3",MarkerComponent:eJ,cellStyle:"none"}));e$.displayName="TimelineCell";let eY=()=>eZ({key:"minimalTimeline",name:()=>l.Ru._({id:"cupqy6"}),family:"sequence",icon:r.bef,htmlTag:"minimal-timeline",Wrapper:eQ,Cell:e$,keywords:["minimal","timeline","layout","list","horizontal","vertical","clean"],featureFlag:"smartLayoutsJuly2025"}),eX=(0,s.memo)(e=>(0,i.jsx)(eF,{...e,markerSize:.75}));eX.displayName="TimelineWrapper";let e0=(0,s.memo)(e=>{let{children:t,positionProps:n,cellProps:r}=e,{direction:l,layoutOptions:s,cellOptions:c,index:d}=r,{colorVars:u}=P(s,c,d);return(0,i.jsxs)(a.a,{...n,css:u,children:[(0,i.jsx)(a.a,{position:"absolute",transform:"translate(".concat("rtl"===l?"50%":"-50%",", -50%)"),width:"0.75em",height:"0.75em",borderRadius:"50%",className:o.P7,zIndex:2}),t]})});e0.displayName="TimelineMarkerBox";let e1=(0,s.memo)(e=>(0,i.jsx)(eN,{...e,MarkerWrapper:e0,verticalAlign:"center"}));e1.displayName="TimelineMarkerComponent";let e2=(0,s.memo)(e=>(0,i.jsx)(eP,{...e,lineLength:3,contentPadding:0,minCellSize:8,markerSize:.75,MarkerComponent:e1,cellStyle:"solid"}));e2.displayName="TimelineCell";let e4=()=>eZ({key:"minimalTimelineWithBoxes",name:()=>l.Ru._({id:"D5zoh6"}),family:"sequence",icon:A.bef,htmlTag:"minimal-timeline-boxes",Wrapper:eX,Cell:e2,keywords:["minimal","timeline","boxes","layout","list","horizontal","vertical","clean"],featureFlag:"smartLayoutsJuly2025"}),e5={key:"horizontalAlign",defaultValue:()=>null,Control:e=>{let{value:t,updateValue:n}=e;return(0,i.jsx)(d.z,{spacing:0,dir:"ltr",children:E.gj.map(e=>{let{name:a,icon:r,alignment:l}=e;return(0,i.jsx)(j.I,{label:a(),icon:r,onClick:()=>{n(l===t?null:l)},isActive:t===l},a())})})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:g.ecg,items:E.gj.map(n=>{let{name:i,alignment:a}=n;return{key:i(),label:i(),icon:e===a?g.e68:void 0,onClick:()=>{t(a===e?null:a)}}})}),name:()=>l.Ru._({id:"0j+RGO"})},e6=(e,t,n,i)=>{let a=(e+1)%2==1;return t?a&&i?{borderBottomLeftRadius:"0 !important",borderBottomRightRadius:"0 !important",borderBottom:"none !important"}:{borderTopLeftRadius:"0 !important",borderTopRightRadius:"0 !important",borderTop:"none !important",top:"var(--line-thickness) !important"}:("ltr"===n?!i||!a:i&&a)?{borderTopLeftRadius:"0 !important",borderBottomLeftRadius:"0 !important",borderLeft:"none !important",left:"var(--line-thickness) !important"}:{borderTopRightRadius:"0 !important",borderBottomRightRadius:"0 !important",borderRight:"none !important",right:"var(--line-thickness) !important"}},e3=(0,s.memo)(e=>(0,i.jsx)(eF,{...e,markerSize:0,useSequentialPositioning:!0,css:{"--line-color":"var(--shape-border-color-override, var(--shape-border-color))"}}));e3.displayName="SolidBoxesAlternatingWrapper";let e9=(0,s.memo)(e=>{let{layoutOptions:t,index:n,direction:a}=e,{isHorizontal:r}=eE(t),l=e6(n,r,a,t.twoSided);return(0,i.jsx)(eP,{...e,lineLength:0,contentPadding:0,minCellSize:6,markerSize:0,useSequentialPositioning:!0,spanSize:1,cellContentPropOverrides:{p:H.xb,height:"100%",css:l},MarkerComponent:null,cellStyle:"solid"})});e9.displayName="SolidBoxesAlternatingCell";let e7=()=>eK({key:"solidBoxesAlternating",name:()=>l.Ru._({id:"17LxIH"}),family:"boxes",Wrapper:e3,Cell:e9,icon:r.aqE,htmlTag:"solidBoxesAlternating",additionalOptions:[e5],defaultOptions:{horizontalAlign:"center",verticalAlign:"middle"},keywords:["solid","boxes","alternating","layout","list","horizontal","vertical"],featureFlag:"smartLayoutsJuly2025"});var e8=n(37243),te=n(55424);let tt={key:"numbered",defaultValue:()=>!0,Control:e=>{let{value:t,updateValue:n,option:a}=e;return(0,i.jsx)(j.I,{label:a.name(),onClick:()=>n(!t),isActive:t,icon:g.Tsj})},ControlMenu:(e,t,n)=>({key:n.key,label:e?l.Ru._({id:"qCzYrD"}):l.Ru._({id:"Ty8hAp"}),icon:g.Tsj,onClick:()=>t(!e)}),name:()=>l.Ru._({id:"mVQI+S"})},tn={...tt,getDefaultOnParse:e=>!Array.from(e.children).every(e=>e.querySelector("icon")),checkEnabled:e=>{let{options:t,node:n}=e,i=n&&(0,e8.xe)(n,te.q);return(null==i?void 0:i.every(e=>{var t,n,i,a,r;return!(null==e||null==(n=e.node)||null==(t=n.attrs)?void 0:t.image)||(null==e||null==(r=e.node)||null==(a=r.attrs)||null==(i=a.image)?void 0:i.src)===void 0}))||!0===t.numbered}},ti=(0,s.memo)(e=>(0,i.jsx)(eF,{...e,markerSize:1.125}));ti.displayName="TimelineWrapper";let ta=(0,s.memo)(e=>(0,i.jsx)(eN,{...e,MarkerWrapper:X}));ta.displayName="TimelineMarkerComponent";let tr=(0,s.memo)(e=>(0,i.jsx)(eP,{...e,lineLength:3,contentPadding:2,minCellSize:8,markerSize:1.125,MarkerComponent:ta,cellStyle:"none"}));tr.displayName="TimelineCell";let tl=()=>eZ({key:"timeline",name:()=>l.Ru._({id:"cklVjM"}),family:"sequence",Wrapper:ti,Cell:tr,icon:A.o7M,htmlTag:"timeline",keywords:["timeline","layout","list","horizontal","vertical"],additionalOptions:[tn]});var ts=n(83740),to=n(34807),tc=n(28615);let td="1.5em",tu=e=>{let{containerSize:t,columnsNeeded:n}=e,i=(0,c.FX)(),a=(0,to.A)({base:1,sm:2,md:3,xl:4})||2;return(tc.D1?4:i?2:a)*t<n},tp=(0,s.memo)(e=>{let{children:t,layoutOptions:n,flexProps:r,...l}=e,{index:s,direction:d}=l,{colorVars:u}=P(n,e.cellOptions,s,!0),p=(0,E.AS)("rtl"===d?"right":"left",e.direction),h=(0,c.FX)(),g=et(e.theme,h,"h4",e.firstChildSize);return(0,i.jsxs)(I.s,{direction:"row",align:"flex-start",gap:H.xb,w:"100%","data-selection-ring":!0,"data-content-reference":!0,pos:"relative",...r,children:[(0,i.jsx)(X,{cellProps:e,markerFontSize:"h4"}),(0,i.jsx)(a.a,{flex:"1",minW:"0",className:o.VN,css:u,pt:"".concat(g,"em"),sx:p,children:t})]})});tp.displayName="StackedSmartLayoutCell";let th={ring:{thickness:.075,padAngle:0,roundness:0,iconSize:1,circleScale:.8,numberBackground:!0},flower:{thickness:.97,padAngle:3,roundness:.2,iconSize:1.25,circleScale:1},cycle:{thickness:.6,padAngle:2,roundness:0,pointiness:.33,iconSize:1.33,circleScale:1},circle:{thickness:.6,padAngle:3,iconSize:1.33,circleScale:1},semiCircle:{thickness:.5,padAngle:2,iconSize:1.5,circleScale:1}},tg=(0,s.memo)((0,s.forwardRef)((e,t)=>{let{flexProps:n,coords:r,...l}=e,{image:s,selectCell:c,layoutOptions:d,cellOptions:u,index:p,numCells:h,variant:g}=l,m=d.numbered&&h>1,{iconSize:x,numberBackground:f}=th[g.key],{colorVars:b}=P(d,u,p),{arcPath:y,circleWidth:v}=r;return(0,i.jsxs)(I.s,{pos:"relative",ref:t,aspectRatio:"1/1","data-smart-layout-emphasis":!0,css:{contain:"layout"},pointerEvents:"none",...n,children:[(0,i.jsx)(a.a,{as:"svg",pos:"absolute",inset:0,viewBox:"0 0 ".concat(v," ").concat(v),overflow:"visible",className:o.D6,css:b,children:(0,i.jsx)(a.a,{as:"path",d:y,transform:"translate(".concat(v/2,"px, ").concat(v/2,"px) scale(").concat(v,")"),style:{vectorEffect:"non-scaling-stroke"}})}),(0,i.jsx)(I.s,{className:f?o.SA:o.lR,top:"".concat(r.centroidTop,"px"),left:"".concat(r.centroidLeft,"px"),pos:"absolute",contentEditable:!1,transform:"translate(-50%, -50%)",borderRadius:"999px !important",aspectRatio:"1/1",h:"2.5em",align:"center",direction:"column",justify:"center",css:b,children:(0,i.jsx)(a.a,{className:(0,W.cx)(R.U6),pointerEvents:"auto",children:(0,i.jsx)(U.R,{image:s,number:m?p+1:void 0,isNumbered:d.numbered,iconSize:1.125*x,selectCell:c})})})]})}));tg.displayName="CircleSegment";var tm=n(84462),tx=n.n(tm),tf=n(5777);let tb=tx()(tf.JL);function ty(e,t){return[e*Math.sin(t),-e*Math.cos(t)]}function tv(e,t,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=a>1e-9?Math.sin(a/2)*(t-e)*(2*i):0,[l,s]=ty((e+t)/2-r,n-a/2),o=(t-e)*i;return[l+o*Math.cos(n),s+o*Math.sin(n)]}let tC=tx()(function(e){let{innerRadius:t=0,outerRadius:n=0,startAngle:i=0,endAngle:a=2*Math.PI,pointStrength:r=.5,padAngle:l=0}=e,{innerStartAngle:s,innerEndAngle:o,outerStartAngle:c,outerEndAngle:d,innerArcSpan:u,outerArcSpan:p,isClockwise:h}=function(e,t,n,i,a){let r=i>n,l=Math.abs(i-n),s=n,o=i,c=n,d=i,u=l,p=l;if(a>1e-9){let l=a/2,h=Math.sqrt(e*e+t*t),g=0;e>1e-9&&(g=Math.asin(h/e*Math.sin(l)));let m=0;t>1e-9&&(m=Math.asin(h/t*Math.sin(l))),(u-=2*g)>1e-9?r?(s+=g,o-=g):(s-=g,o+=g):s=o=(n+i)/2,(p-=2*m)>1e-9?r?(c+=m,d-=m):(c-=m,d+=m):c=d=(n+i)/2}return{isClockwise:r,innerStartAngle:s,innerEndAngle:o,outerStartAngle:c,outerEndAngle:d,innerArcSpan:u,outerArcSpan:p}}(t,n,i,a,l),g=ty(n,c),m=ty(n,d),x=ty(t,s),f=ty(t,o),b=r*(h?1:-1),y=r>0,v=tv(t,n,c,b,h?0:l),C=tv(t,n,d,b,h?l:0),w=+(u>=Math.PI),A=+(p>=Math.PI);return{arcPath:["M ".concat(g[0]," ").concat(g[1]),y&&"L ".concat(v[0]," ").concat(v[1]),"L ".concat(x[0]," ").concat(x[1]),"A ".concat(t," ").concat(t," 0 ").concat(w," ").concat(+!!h," ").concat(f[0]," ").concat(f[1]),y&&"L ".concat(C[0]," ").concat(C[1]),"L ".concat(m[0]," ").concat(m[1]),"A ".concat(n," ").concat(n," 0 ").concat(A," ").concat(+!h," ").concat(g[0]," ").concat(g[1]),"Z"].filter(Boolean).join(" "),centroid:ty((t+n)/2,((s+o)/2+(c+d)/2)/2+b*Math.PI/6)}}),tw={1:90,2:-180,3:-150,4:-90,5:-90,6:-60,7:-60,8:-45},tA=tx()(e=>{var t;let n,i,{index:a,numCells:r,variant:l,direction:s,semi:o,themeRoundness:c}=e,d=(o?-90:null!=(t=tw[r])?t:0)*("rtl"===s?-1:1),u=(o?180:360)/r*("rtl"===s?-1:1),p=a*u+d,h=p+u,g=(p+h)/2,m=Math.PI/180*((90-g)%360),{thickness:x,padAngle:f,roundness:b=c,pointiness:y}=th[l],v=.5*(1-x);if(y){let e=tC({innerRadius:v,outerRadius:.5,startAngle:p*Math.PI/180,endAngle:h*Math.PI/180,padAngle:f*Math.PI/180,pointStrength:y});n=e.arcPath,i=e.centroid}else{let e=tb({innerRadius:v,outerRadius:.5,startAngle:p*Math.PI/180,endAngle:h*Math.PI/180,padAngle:f*Math.PI/180,cornerRadius:b});n=e()||"",i=e.centroid()}let C=i[0],w=i[1],A=.5*Math.cos(m),j=(g+360)%360;return{outsideX:A,outsideY:.5*Math.sin(m),centroidX:C,centroidY:w,arcPath:n,sideX:j>0&&j<=180?"right":"left",sideY:j>90&&j<=270?"bottom":"top",startAngle:p,midpointAngle:g,endAngle:h}}),tj=e=>{let{index:t,numCells:n,variant:i,direction:a,semi:r=!1,themeRoundness:l}=e,{width:s,height:o,ref:c}=(0,F.Lh)(),d=tA({index:t,numCells:n,variant:i,direction:a,semi:r,themeRoundness:l}),{outsideX:u,outsideY:p,centroidX:h,centroidY:g}=d,m=o*(.5-p)*(r?2:1),x=o*(.5+g)*(r?2:1),f=o*(.5+u)*(r?2:1),b=o*(.5+h)*(r?2:1);return{...d,outsideTop:m,outsideLeft:f,centroidTop:x,centroidLeft:b,circleRef:c,circleWidth:s,circleHeight:o}},tk=tx()(e=>{var t;let n=360/e,i=null!=(t=tw[e])?t:0,a=[],r=[],l=[];for(let t=0;t<e;t++){let e=(i+t*n)%360,s=e+n/2,o=s>0&&s<=180?"right":"left",c=(90-e)%360*Math.PI/180,d=Math.sin(c),u={index:t,angle:e,sideX:o,sideY:s>90&&s<=270?"bottom":"top",x:Math.cos(c),y:d,columnPosition:-1};"left"===o?a.push(u):r.push(u),l.push(u)}return a.sort((e,t)=>t.y-e.y),r.sort((e,t)=>t.y-e.y),a.forEach((e,t)=>{e.columnPosition=t}),r.forEach((e,t)=>{e.columnPosition=t}),{items:l,leftItems:a,rightItems:r}}),tS=(e,t)=>{let{items:n,rightItems:i,leftItems:a}=tk(t),{columnPosition:r,sideX:l}=n[e],s=function(e,t){return Math.abs(e*t)/function(e,t){for(;0!==t;){let n=t;t=e%t,e=n}return e}(e,t)}(i.length,a.length),o="right"===l?i.length:a.length,c=1===t?3:s/o;return{rowStart:r*c+1,rowSpan:c,numRows:s,verticalAlign:"center"}},tL=(0,s.memo)(e=>{let{children:t,containerSize:n,variant:a,onContextMenu:r,selectLayoutForElementProps:l}=e,s=tu({containerSize:n,columnsNeeded:3}),{circleScale:o}=th[a.key];return(0,i.jsx)(eH.x,{pos:"relative","data-selection-ring":"padded",templateColumns:"1fr calc(".concat(100*(s?.8:.35*o),"% * var(--media-scale, 1)) 1fr"),autoRows:"auto",rowGap:s?td:"1.5em",dir:"ltr",onContextMenu:r,...l,children:t})});tL.displayName="CircleWrapper";let tI=(0,s.memo)(e=>tu({containerSize:e.layoutContainerSize,columnsNeeded:3})?(0,i.jsx)(tD,{...e}):(0,i.jsx)(tE,{...e}));tI.displayName="CircleCell";let tE=(0,s.memo)(e=>{let{children:t,index:n,numCells:r,dragHandle:l,variant:s,direction:c,theme:d,selectCellForElementProps:u}=e,{roundness:p}=(0,z.M)(d),{pathRounding:h}=M.T5[p],{circleRef:g,...m}=tj({index:n,numCells:r,variant:s.key,direction:c,themeRoundness:h}),x="right"===m.sideX,f=x?"left":"right",b=(0,E.yp)(f),y=(m.midpointAngle+360)%180==90,{rowStart:v,rowSpan:C,numRows:w,verticalAlign:A}=tS(n,r),j=y?"2em":"flower"===s.key?"0em":w%2==0?"1.5em":"1em";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(I.s,{gridColumn:x?3:1,gridRow:"".concat(v," / span ").concat(C),zIndex:"1",sx:{...b,...(0,E.AS)(f,"ltr"),...x?{pl:j}:{pr:j}},direction:"column",justify:A,className:o.VN,minW:"0",...u,children:(0,i.jsxs)(a.a,{"data-content-reference":!0,"data-smart-layout-emphasis":!0,"data-selection-ring":"padded",pos:"relative",w:"100%",cursor:"text",children:[t,l]})}),(0,i.jsx)(tg,{...e,flexProps:{gridColumn:2,gridRow:"1 / span ".concat(w),alignSelf:"center"},coords:m,ref:g})]})}),tD=(0,s.memo)(e=>{let{index:t,numCells:n,direction:a,variant:r,theme:l}=e,{roundness:s}=(0,z.M)(l),{pathRounding:o}=M.T5[s],{circleRef:c,...d}=tj({index:t,numCells:n,variant:r.key,direction:a,themeRoundness:o});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tg,{...e,flexProps:{gridRow:1,gridColumn:2},coords:d,ref:c}),(0,i.jsx)(tp,{flexProps:{gridColumn:"1 / span 3",gridRow:"auto",dir:a},...e})]})});tD.displayName="CircleCellStacked";let tM=()=>({key:"circle",name:()=>l.Ru._({id:"7xMmki"}),icon:g.O0T,keywords:["circle","ring","radial","donut","circular"],options:[w,tn],cellOptions:[w,k],presetConfigurations:[{name:()=>l.Ru._({id:"7xMmki"}),options:{numbered:!0}}],Wrapper:tL,Cell:tI,addDirection:()=>"bottom",defaultAttrs:{image:{source:ts.f.key}},htmlTag:"circle",imageSlot:"optional",imageType:"icon",family:"circles"}),tR=()=>({...tM(),key:"cycle",name:()=>l.Ru._({id:"qicHbX"}),icon:g.yNr,htmlTag:"cycle",keywords:["cyclical","flywheel","circle","circular","recycle"],presetConfigurations:[{name:()=>l.Ru._({id:"qicHbX"}),options:{numbered:!0}}]}),t_=()=>({...tM(),key:"flower",name:()=>l.Ru._({id:"abEdHK"}),icon:g.xnU,keywords:["petals","clover","butterfly"],htmlTag:"flower",presetConfigurations:[{name:()=>l.Ru._({id:"abEdHK"}),options:{numbered:!0}}]}),tz=()=>({...tM(),key:"ring",name:()=>l.Ru._({id:"EKlSR5"}),icon:g.GEE,keywords:["ring","circle","circular"],htmlTag:"ring",presetConfigurations:[{name:()=>l.Ru._({id:"EKlSR5"}),options:{numbered:!0}}]}),tN=(0,s.memo)(e=>{let{children:t,containerSize:n,onContextMenu:a,selectLayoutForElementProps:r}=e;return tu({containerSize:n,columnsNeeded:3})?(0,i.jsx)(eH.x,{pos:"relative","data-selection-ring":"padded",templateColumns:"1fr",templateRows:"auto auto",rowGap:td,onContextMenu:a,...r,dir:"ltr",children:t}):(0,i.jsx)(eH.x,{pos:"relative","data-selection-ring":"padded",onContextMenu:a,...r,autoColumns:"1fr",autoRows:"auto",columnGap:"1.5em",rowGap:"2em",children:t})});tN.displayName="SemiCircleWrapper";let tT=(0,s.memo)(e=>tu({containerSize:e.layoutContainerSize,columnsNeeded:3})?(0,i.jsx)(tH,{...e}):(0,i.jsx)(tP,{...e}));tT.displayName="SemiCircleCell";let tP=(0,s.memo)(e=>{let{children:t,index:n,numCells:a,dragHandle:r,variant:l,direction:s,theme:o,selectCellForElementProps:c}=e,d=(0,E.yp)("center"),{roundness:u}=(0,z.M)(o),{pathRounding:p}=M.T5[u],{circleRef:h,...g}=tj({index:n,numCells:a,variant:l.key,direction:s,semi:!0,themeRoundness:p}),m=a>4?"70%":"60%";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(I.s,{direction:"column",align:"center",justify:"flex-end",pos:"relative",zIndex:"1","data-content-reference":!0,"data-smart-layout-emphasis":!0,"data-selection-ring":"padded",sx:{...d,...(0,E.AS)("center","ltr")},mb:a>2?"-".concat(.6*g.outsideTop,"px"):void 0,...c,cursor:"text",children:[t,r]}),(0,i.jsx)(tg,{...e,flexProps:{gridRow:2,gridColumn:"1 / span ".concat(a),alignSelf:"start",justifySelf:"center",aspectRatio:"2/1",width:"calc(".concat(m," * var(--media-scale, 1))")},coords:g,ref:h})]})});tP.displayName="SemiCircleCellTop";let tH=(0,s.memo)(e=>{let{index:t,numCells:n,direction:a,variant:r,theme:l}=e,{roundness:s}=(0,z.M)(l),{pathRounding:o}=M.T5[s],{circleRef:c,...d}=tj({index:t,numCells:n,variant:r.key,direction:a,semi:!0,themeRoundness:o});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tg,{...e,flexProps:{gridRow:1,gridColumn:1,alignSelf:"start",justifySelf:"center",aspectRatio:"2/1",width:"calc(100% * var(--media-scale, 1))"},coords:d,ref:c}),(0,i.jsx)(tp,{flexProps:{gridColumn:1,gridRow:"auto",dir:a},...e})]})});tH.displayName="SemiCircleCellStacked";let tF=()=>({...tM(),key:"semiCircle",name:()=>l.Ru._({id:"r9sPHK"}),Wrapper:tN,Cell:tT,addDirection:()=>"right",htmlTag:"semicircle",keywords:["semicircle","arc","circle","radial"],icon:g.jiG,presetConfigurations:[{name:()=>l.Ru._({id:"r9sPHK"}),options:{numbered:!0}}]});var tB=n(14122),tO=n(50861);let tV=(0,s.memo)(e=>{let{children:t,...n}=e,{layoutOptions:r,cellOptions:l,index:s,firstChildSize:d,theme:u}=n,p=(0,c.FX)(),{colorVars:h}=P(r,l,s,!0),{color:g,colorVars:m}=P(r,l,s,!0),x=et(u,p,null,d),f={...n.image&&(0,tO.Xs)(n.image)?(0,tB.t)(null!=g?g:"var(--accent-color-readable)"):{}};return(0,i.jsxs)(ev,{cellProps:n,unevenBehavior:"flex",cellStyle:"none",cellContentPropOverrides:{display:"flex",flexDirection:"row",alignItems:"start",gap:H.xb,pt:"".concat(-1*x,"em")},children:[(0,i.jsx)(a.a,{width:"2.25em",height:"2.25em",transform:"translateY(-50%)",flexShrink:0,sx:{...m,...f},contentEditable:!1,display:"flex",alignItems:"center",justifyContent:"center",children:(0,i.jsx)(U.R,{image:n.image,iconSize:1.5,placeholderIfEmpty:!1,selectCell:n.selectCell,isNumbered:!1})}),(0,i.jsx)(a.a,{flex:"1",minW:"0",className:o.VN,css:h,mt:"".concat(x,"em"),cursor:"text",children:t})]})});tV.displayName="IconBulletsCell";let tW=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,unevenBehavior:"flex",spacing:"medium"}));tW.displayName="IconBulletsWrapper";let tU=()=>L({key:"iconBullets",name:()=>l.Ru._({id:"Xl0g8o"}),icon:g.cCs,keywords:["icon","bullets","layout","list","icon bullets"],htmlTag:"iconBullets",family:"bullets",additionalOptions:[eU],presetConfigurations:[{name:()=>l.Ru._({id:"Xl0g8o"}),options:{},zoomIn:!0}],defaultAttrs:{image:{source:"image.icon",src:"https://cdn-staging.gamma.app/_app_static/icons/v0/star.svg"}},imageSlot:"optional",imageType:"icon",Wrapper:tW,Cell:tV,isFullWidth:()=>!0,addDirection:()=>"right",featureFlag:"smartLayoutSkins"}),tG=()=>L({key:"arrowBullets",name:()=>l.Ru._({id:"KFruYJ"}),icon:g.dmS,keywords:["arrow","bullets","layout","list","arrow bullets"],htmlTag:"arrowBullets",family:"bullets",additionalOptions:[eU],presetConfigurations:[{name:()=>l.Ru._({id:"KFruYJ"}),options:{},zoomIn:!0}],defaultAttrs:{image:{source:"image.icon",src:"https://cdn-staging.gamma.app/_app_static/icons/v0/arrow-right.svg"}},imageSlot:"optional",imageType:"icon",Wrapper:tW,Cell:tV,isFullWidth:()=>!0,addDirection:()=>"right",featureFlag:"smartLayoutsJuly2025"}),tZ=(0,s.memo)(e=>{let{children:t,...n}=e;return(0,i.jsx)(ev,{cellProps:n,unevenBehavior:"flex",cellStyle:"none",markerProps:{markerType:"bigBullet",markerFontSize:"h3",markerPosition:"left"},children:t})});tZ.displayName="BulletsCell";let tK=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,unevenBehavior:"flex",spacing:"medium"}));tK.displayName="BulletsWrapper";let tQ=()=>L({key:"bigBullets",name:()=>l.Ru._({id:"OsVXoX"}),icon:g.ITF,keywords:["bullets","layout","list","bullet"],htmlTag:"bullets",family:"bullets",additionalOptions:[eU,tn],presetConfigurations:[{name:()=>l.Ru._({id:"UIxZV9"}),options:{numbered:!0},zoomIn:!0},{name:()=>l.Ru._({id:"EJnrtJ"}),options:{numbered:!1},zoomIn:!0}],imageSlot:"optional",imageType:"icon",Wrapper:tK,Cell:tZ,isFullWidth:()=>!0,addDirection:()=>"right"}),tq=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",unevenBehavior:"flex"}));tq.displayName="OutlineBoxesWrapper";let tJ=(0,s.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:a}=e,{colorVars:r}=P(t,n,a,!0),l={...r};return(0,i.jsx)(ev,{cellProps:e,unevenBehavior:"flex",cellStyle:"outline",cellContentPropOverrides:{sx:l},children:e.children})});tJ.displayName="OutlineBoxesCell";let t$=()=>L({key:"outlineBoxes",name:()=>l.Ru._({id:"f43cMT"}),icon:g.Nfw,keywords:["outline","boxes","layout","border"],htmlTag:"outline-boxes",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"f43cMT"}),options:{horizontalAlign:"center"}}],additionalOptions:[e5],Wrapper:tq,Cell:tJ,isFullWidth:()=>!0}),tY=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",unevenBehavior:"flex"}));tY.displayName="OutlineBoxesWithSideLineWrapper";let tX=(0,s.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:a}=e,{colorVars:r}=P(t,n,a,!1);return(0,i.jsxs)(ev,{cellProps:e,unevenBehavior:"flex",cellStyle:"outline",cellContentPropOverrides:{style:{borderInlineStartWidth:"0px",borderStartStartRadius:"calc(var(--line-thickness) * 4)",borderEndStartRadius:"calc(var(--line-thickness) * 4)",paddingInlineStart:"calc(var(--line-thickness) * 4 + ".concat(H.xb,")")}},children:[(0,i.jsx)(I.s,{position:"absolute",top:"calc(var(--line-thickness) * -1)",bottom:"calc(var(--line-thickness) * -1)",insetInlineStart:"calc(var(--line-thickness) * -1)",width:"calc(var(--line-thickness) * 4)",className:o.P7,borderInlineStartRadius:"var(--box-border-radius)",sx:r,contentEditable:!1}),e.children]})});tX.displayName="OutlineBoxesWithSideLineCell";let t0=()=>L({key:"outlineBoxesWithSideLine",name:()=>l.Ru._({id:"6NYS8b"}),icon:r.POs,keywords:["outline","boxes","layout","sidebar","line","border"],htmlTag:"outline-boxes-with-line",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"6NYS8b"}),options:{horizontalAlign:"center"}}],additionalOptions:[e5],Wrapper:tY,Cell:tX,isFullWidth:()=>!0}),t1=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",unevenBehavior:"flex"}));t1.displayName="OutlineBoxesWithTopCircleWrapper";let t2=(0,s.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:a,image:r,selectCell:l,selectCellForElementProps:s}=e,{colorVars:c}=P(t,n,a);return(0,i.jsx)(I.s,{position:"absolute",top:"-".concat(1.5,"em"),left:"50%",transform:"translateX(-50%)",width:"".concat(3,"em"),height:"".concat(3,"em"),align:"center",justify:"center",contentEditable:!1,sx:{...c},className:(0,W.cx)(o.P7,o.ok),style:{borderRadius:"100%"},...s,children:(0,i.jsx)(I.s,{alignItems:"center",justifyContent:"center",className:(0,W.cx)(R.U6),children:(0,i.jsx)(U.R,{image:r,number:t.numbered?a+1:void 0,isNumbered:t.numbered,iconSize:1.2000000000000002,selectCell:l})})})});t2.displayName="TopCircle";let t4=(0,s.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:a}=e,{colorVars:r}=P(t,n,a,!1);return(0,i.jsxs)(ev,{cellProps:e,unevenBehavior:"flex",cellStyle:"outline",cellContentPropOverrides:{pos:"relative",mt:"".concat(1.5,"em"),pt:"calc(".concat(H.xb," + ").concat(1.5,"em)"),style:{borderTopWidth:"0px",borderTopLeftRadius:"calc(var(--line-thickness) * 4)",borderTopRightRadius:"calc(var(--line-thickness) * 4)"}},children:[(0,i.jsx)(I.s,{position:"absolute",top:"calc(var(--line-thickness) * -1)",left:"calc(var(--line-thickness) * -1)",right:"calc(var(--line-thickness) * -1)",height:"calc(var(--line-thickness) * 4)",className:o.P7,borderTopRadius:"var(--box-border-radius)",sx:r,contentEditable:!1}),(0,i.jsx)(t2,{...e}),e.children]})});t4.displayName="OutlineBoxesWithTopCircleCell";let t5=()=>L({key:"outlineBoxesWithTopCircle",name:()=>l.Ru._({id:"bFvflC"}),icon:g.QRE,keywords:["outline","boxes","layout","circle","top","stripe","badge"],htmlTag:"outline-boxes-with-top-circle",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"duDvK9"}),options:{horizontalAlign:"center",numbered:!0}},{name:()=>l.Ru._({id:"wLSSrc"}),options:{horizontalAlign:"center",numbered:!1}}],additionalOptions:[e5,tn],imageSlot:"optional",imageType:"icon",Wrapper:t1,Cell:t4,isFullWidth:()=>!0,dragHandlePlacement:"left"}),t6=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",unevenBehavior:"flex"}));t6.displayName="ProcessStepsWrapper";let t3=(0,s.memo)(e=>{let t,{layoutOptions:n,index:a,image:r,selectCell:l,selectCellForElementProps:s}=e;return t=n.numbered?a+1<10?"0".concat(a+1):"".concat(a+1):void 0,(0,i.jsx)(I.s,{className:o.VN,flexDirection:"column",alignItems:"right"!==n.horizontalAlign?n.horizontalAlign:"end",opacity:1,contentEditable:!1,...s,children:(0,i.jsx)(I.s,{alignItems:"center",justifyContent:"center",className:(0,W.cx)(R.U6),mb:"".concat(.25,"em"),children:(0,i.jsx)(U.R,{image:r,number:t,isNumbered:n.numbered,iconSize:1,selectCell:l,textAlign:n.numbered?"left":void 0,fontWeight:"light"})})})});t3.displayName="TopBorderIconOrNumber";let t9=(0,s.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:a,image:r,selectCell:l,selectCellForElementProps:s}=e,{colorVars:c}=P(t,n,a,!1);return(0,i.jsxs)(ev,{cellProps:e,unevenBehavior:"flex",cellStyle:"none",cellContentPropOverrides:{textAlign:"start",mb:"".concat(.75,"em"),style:{borderRadius:0,borderWidth:0}},children:[(0,i.jsx)(t3,{layoutOptions:t,cellOptions:n,index:a,image:r,selectCell:l,selectCellForElementProps:s}),(0,i.jsx)(I.s,{position:"relative",top:"calc(var(--line-thickness) * -1)",marginTop:"0.2em",marginBottom:"0.5em",opacity:1,height:"calc(var(--line-thickness) * 1)",className:o.P7,borderRadius:0,sx:c,contentEditable:!1}),e.children]})});t9.displayName="ProcessStepsCell";let t7=()=>L({key:"processSteps",name:()=>l.Ru._({id:"uFRM59"}),icon:g.Tsj,keywords:["boxes","layout","border","top","outline","badge","header","process","agenda","step"],htmlTag:"process-steps",family:"bullets",presetConfigurations:[{name:()=>l.Ru._({id:"uFRM59"}),options:{horizontalAlign:"center",numbered:!0}},{name:()=>l.Ru._({id:"cO9Sj8"}),options:{horizontalAlign:"center",numbered:!1}}],additionalOptions:[e5,tn],imageSlot:"optional",imageType:"icon",Wrapper:t6,Cell:t9,isFullWidth:()=>!0,dragHandlePlacement:"top",featureFlag:"smartLayoutsJuly2025"}),t8=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",unevenBehavior:"flex"}));t8.displayName="QuoteBoxesWrapper";let ne=(0,s.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:a}=e,{colorVars:r}=P(t,n,a,!0),{colorVars:l}=P(t,n,a,!1),s={...r};return(0,i.jsxs)(ev,{cellProps:e,unevenBehavior:"flex",cellStyle:"outline",cellContentPropOverrides:{p:"calc(".concat(H.xb," + 0.5em)"),sx:s},children:[(0,i.jsx)(nt,{position:"absolute",top:"-".concat(.6,"em"),insetStart:"-".concat(.6,"em"),width:"".concat(1.2,"em"),height:"".concat(1.2,"em"),css:l}),(0,i.jsx)(nt,{position:"absolute",bottom:"-".concat(.6,"em"),insetEnd:"-".concat(.6,"em"),width:"".concat(1.2,"em"),height:"".concat(1.2,"em"),transform:"rotate(180deg)",css:l}),e.children]})});ne.displayName="QuoteBoxesCell";let nt=e=>(0,i.jsx)(a.a,{contentEditable:!1,userSelect:"none",pointerEvents:"none",...e,children:(0,i.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",className:o._B,style:{filter:"drop-shadow(0.25em 0 0em var(--card-color)) drop-shadow(0 0.25em 0em var(--card-color))"},children:(0,i.jsx)("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-10zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h4v10h-10z"})})}),nn=()=>L({key:"quoteBoxes",name:()=>l.Ru._({id:"dXQ/Ao"}),icon:g.$7g,keywords:["quote","quotes","boxes","layout","testimonial","quotation"],htmlTag:"quote-boxes",family:"quotes",presetConfigurations:[{name:()=>l.Ru._({id:"dXQ/Ao"}),options:{horizontalAlign:"center"}}],additionalOptions:[e5],Wrapper:t8,Cell:ne,isFullWidth:()=>!0,featureFlag:"smartLayoutsJuly2025"}),ni=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",unevenBehavior:"flex"}));ni.displayName="SpeechBubblesWrapper";let na=(0,s.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:r,selectCellForElementProps:l,children:s}=e,{colorVars:c}=P(t,n,r),{width:d,height:u,fontSize:p,ref:h}=(0,F.Lf)(),g=nr(d,u,p);return(0,i.jsx)(ev,{cellProps:e,unevenBehavior:"flex",children:(0,i.jsxs)(I.s,{position:"relative",css:c,width:"100%",h:"100%",minHeight:"4em",ref:h,className:o.lR,children:[(0,i.jsx)(a.a,{as:"svg",pos:"absolute",inset:"0",w:"100%",h:"100%",overflow:"visible","data-testid":"speech-bubble-svg",...l,children:(0,i.jsx)(a.a,{as:"path",d:g,className:o.D6})}),(0,i.jsx)(a.a,{pos:"relative",p:"".concat(1,"em"),pb:"".concat(2.2,"em"),w:"100%",zIndex:1,sx:(0,E.yp)(t.horizontalAlign||"left"),children:s})]})})});na.displayName="SpeechBubblesCell";let nr=(e,t,n)=>{let i=1.2*n,a=.5*n,r=e-0,l=t-i-0,s=2*e/3,o=0+l;return"\n    M ".concat(0+a," ").concat(0,"\n    L ").concat(0+r-a," ").concat(0,"\n    Q ").concat(0+r," ").concat(0," ").concat(0+r," ").concat(0+a,"\n    L ").concat(0+r," ").concat(0+l-a,"\n    Q ").concat(0+r," ").concat(0+l," ").concat(0+r-a," ").concat(0+l,"\n    L ").concat(s+i/2," ").concat(o,"\n    L ").concat(s+i/2," ").concat(o+i,"\n    L ").concat(s-i/2," ").concat(o,"\n    L ").concat(0+a," ").concat(0+l,"\n    Q ").concat(0," ").concat(0+l," ").concat(0," ").concat(0+l-a,"\n    L ").concat(0," ").concat(0+a,"\n    Q ").concat(0," ").concat(0," ").concat(0+a," ").concat(0,"\n    Z")},nl=()=>L({key:"speechBubbles",name:()=>l.Ru._({id:"H+n8Qp"}),icon:g.DN2,keywords:["speech","bubbles","quotes","conversation","dialogue"],htmlTag:"speechBubbles",family:"quotes",additionalOptions:[tn,{...e5,defaultValue:(0,E.Ro)("left")}],presetConfigurations:[{name:()=>l.Ru._({id:"btb61s"}),options:{horizontalAlign:"left"}},{name:()=>l.Ru._({id:"9WPD2t"}),options:{horizontalAlign:"center"}},{name:()=>l.Ru._({id:"HbrV/u"}),options:{horizontalAlign:"right"}}],imageSlot:"optional",Wrapper:ni,Cell:na,featureFlag:"smartLayoutsJuly2025"}),ns=(0,s.memo)(e=>{let{children:t,...n}=e;return(0,i.jsx)(ev,{cellProps:n,unevenBehavior:"flex",cellStyle:"none",markerProps:{markerType:"smallBullet",markerFontSize:null,markerPosition:"left"},children:t})});ns.displayName="SmallBulletsCell";let no=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,unevenBehavior:"flex",spacing:"medium"}));no.displayName="SmallBulletsWrapper";let nc=()=>L({key:"smallBullets",name:()=>l.Ru._({id:"XY2IHD"}),icon:g.pch,keywords:["small","bullets","layout","list","bullet"],htmlTag:"smallBullets",family:"bullets",additionalOptions:[eU],presetConfigurations:[{name:()=>l.Ru._({id:"XY2IHD"}),options:{},zoomIn:!0}],Wrapper:no,Cell:ns,isFullWidth:()=>!0,addDirection:()=>"right"}),nd=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",unevenBehavior:"flex"}));nd.displayName="SolidBoxesWrapper";let nu=(0,s.memo)(e=>{let{colorVars:t}=P(e.layoutOptions,e.cellOptions,e.index);return(0,i.jsx)(ev,{cellProps:e,unevenBehavior:"flex",cellStyle:"solid",cellContentPropOverrides:{sx:t},children:e.children})});nu.displayName="SolidBoxesCell";let np=()=>L({key:"solidBoxes",name:()=>l.Ru._({id:"fN02hl"}),icon:r.Nfw,keywords:["solid","boxes","layout","filled","text boxes"],htmlTag:"solid-boxes",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"fN02hl"}),options:{horizontalAlign:"center"}}],additionalOptions:[e5],Wrapper:nd,Cell:nu,isFullWidth:()=>!0}),nh=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",unevenBehavior:"flex"}));nh.displayName="SolidBoxesWithIconsInsideWrapper";let ng=(0,s.memo)(e=>(0,i.jsx)(ev,{cellProps:e,unevenBehavior:"flex",cellStyle:"solid",markerProps:{markerType:"iconCircle",markerFontSize:null,markerPosition:"top"},children:e.children}));ng.displayName="SolidBoxesWithIconsInsideCell";let nm=()=>L({key:"solidBoxesWithIconsInside",name:()=>l.Ru._({id:"X7s5I1"}),icon:r.Dnq,keywords:["solid","boxes","layout","icons","inside","filled","text boxes"],htmlTag:"solid-boxes-with-icons-inside",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"WH8tvt"}),options:{horizontalAlign:"center",numbered:!0}},{name:()=>l.Ru._({id:"X7s5I1"}),options:{horizontalAlign:"center",numbered:!1}}],additionalOptions:[e5,tn],imageSlot:"optional",imageType:"icon",Wrapper:nh,Cell:ng,isFullWidth:()=>!0,dragHandlePlacement:"top",featureFlag:"smartLayoutsJuly2025"}),nx=(0,s.memo)(e=>{let{children:t,...n}=e;return(0,i.jsx)(ev,{cellProps:n,unevenBehavior:"flex",cellStyle:"solid",markerProps:{markerType:"smallBullet",markerPosition:"left",markerFontSize:null},children:t})});nx.displayName="SolidBoxSmallBulletsCell";let nf=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,unevenBehavior:"flex",spacing:"medium"}));nf.displayName="SolidBoxBulletsWrapper";let nb=()=>L({key:"solidBoxSmallBullets",name:()=>l.Ru._({id:"4N8X2T"}),icon:g.pch,keywords:["small","bullets","layout","list","bullet"],htmlTag:"solidBoxSmallBullets",family:"bullets",additionalOptions:[eU],presetConfigurations:[{name:()=>l.Ru._({id:"4N8X2T"}),options:{},zoomIn:!0}],Wrapper:nf,Cell:nx,isFullWidth:()=>!0,addDirection:()=>"right"}),ny=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"none",unevenBehavior:"flex",wrapperStyle:"solid"}));ny.displayName="SolidJoinedBoxesWrapper";let nv=(0,s.memo)(e=>{let{index:t,layoutOptions:n,numCells:r,layoutContainerSize:l,cellOptions:s,children:c}=e,{columns:d}=(0,ep.i)(n,r,l,!1),{colorVars:u}=P(n,s,t,!1,!0),{colorVars:p}=P(n,s,t,!1),h=0===t,g=t%d==0,m=t>=d,x=t===d-1,f=t===Math.floor((r-1)/d)*d,b=t===r-1;return(0,i.jsxs)(ev,{cellProps:e,unevenBehavior:"flex",cellContentPropOverrides:{p:H.xb,css:{...u},borderStartStartRadius:h?"var(--box-border-radius)":"0",borderEndStartRadius:f?"var(--box-border-radius)":"0",borderStartEndRadius:x?"var(--box-border-radius)":"0",borderEndEndRadius:b?"var(--box-border-radius)":"0",backgroundColor:"var(--shape-bg-color-override, var(--shape-bg-color-alpha))"},children:[!h&&!g&&(0,i.jsx)(a.a,{position:"absolute",top:"0",contentEditable:!1,zIndex:0,height:"100%",width:"var(--line-thickness)",insetStart:"0",className:o.eI,css:p}),m&&(0,i.jsx)(a.a,{position:"absolute",top:"0",contentEditable:!1,zIndex:0,width:"100%",height:"var(--line-thickness)",insetStart:"0",className:o.eI,css:p}),c]})});nv.displayName="SolidJoinedBoxesCell";let nC=()=>L({key:"solidJoinedBoxes",name:()=>l.Ru._({id:"6zAXOC"}),icon:r.swh,keywords:["solid","boxes","layout","filled","text boxes"],htmlTag:"solid-joined-boxes",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"6zAXOC"}),options:{horizontalAlign:"center"}}],additionalOptions:[e5],Wrapper:ny,Cell:nv,isFullWidth:()=>!0,featureFlag:"smartLayoutsJuly2025"}),nw=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"none",unevenBehavior:"flex",wrapperStyle:"solid"}));nw.displayName="SolidJoinedBoxesWrapper";let nA=(e,t)=>e?"".concat(H.xb," 2.5em ").concat(H.xb," ").concat(H.xb):t?"".concat(H.xb," ").concat(H.xb," ").concat(H.xb," 2.5em"):"".concat(H.xb," 2.5em ").concat(H.xb," 2.5em"),nj=(e,t)=>0===e?"".concat(H.xb," ").concat(H.xb," 2.5em ").concat(H.xb):e===t-1?"2.5em ".concat(H.xb," ").concat(H.xb," ").concat(H.xb):"2.5em ".concat(H.xb," 2.5em ").concat(H.xb),nk=(e,t,n,i)=>{let a="rtl"===i?e===n-1:e===Math.floor((n-1)/t)*t,r="rtl"===i?e===Math.floor((n-1)/t)*t:e===n-1;return{borderStartStartRadius:("rtl"===i?e===t-1:0===e)?"var(--box-border-radius)":"0",borderEndStartRadius:a?"var(--box-border-radius)":"0",borderStartEndRadius:("rtl"===i?0===e:e===t-1)?"var(--box-border-radius)":"0",borderEndEndRadius:r?"var(--box-border-radius)":"0"}},nS=(0,s.memo)(e=>{let{direction:t,index:n,layoutOptions:r,numCells:l,layoutContainerSize:s,cellOptions:c,children:d,image:u,selectCell:p}=e,{columns:h,isHorizontal:g}=(0,ep.i)(r,l,s,!1),{colorVars:m}=P(r,c,n,!1,!0),{colorVars:x}=P(r,c,n,!1),f="rtl"===t?n===h-1:0===n,b="rtl"===t?(n+1)%h==0:n%h==0,y="rtl"===t?n%h==0:(n+1)%h==0||n===l-1,v=n>=h,C=!f&&!b&&g,w=g?nA(b,y):nj(n,l),A=nk(n,h,l,t);return(0,i.jsxs)(ev,{cellProps:e,unevenBehavior:"flex",cellContentPropOverrides:{p:w,css:{...m},...A,backgroundColor:"var(--shape-bg-color-override, var(--shape-bg-color-alpha))"},children:[C&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.a,{position:"absolute",top:"0",contentEditable:!1,zIndex:0,height:"100%",width:"var(--line-thickness)",left:"0",className:o.eI,css:x}),(0,i.jsx)(I.s,{position:"absolute",top:"50%",left:"calc(-".concat(1.25,"em)"),transform:"translateY(-50%)",width:"".concat(2.5,"em"),height:"".concat(2.5,"em"),align:"center",justify:"center",contentEditable:!1,zIndex:1,sx:x,borderRadius:"50%",className:(0,W.cx)(o.uk,o.SA,o.lR),children:(0,i.jsx)(I.s,{alignItems:"center",justifyContent:"center",className:(0,W.cx)(R.U6),children:(0,i.jsx)(U.R,{image:u,number:r.numbered?n+1:void 0,isNumbered:r.numbered,iconSize:1.25,selectCell:p})})})]}),v&&(0,i.jsx)(a.a,{position:"absolute",top:"0",contentEditable:!1,zIndex:0,width:"100%",height:"var(--line-thickness)",left:"0",className:o.eI,css:x,children:!g&&(0,i.jsx)(I.s,{position:"absolute",top:"50%",left:"calc(50% - ".concat(1.25,"em)"),transform:"translateY(-50%)",width:"".concat(2.5,"em"),height:"".concat(2.5,"em"),align:"center",justify:"center",contentEditable:!1,zIndex:1,sx:x,borderRadius:"50%",className:(0,W.cx)(o.uk,o.SA,o.lR),children:(0,i.jsx)(I.s,{alignItems:"center",justifyContent:"center",className:(0,W.cx)(R.U6),children:(0,i.jsx)(U.R,{image:u,number:r.numbered?n+1:void 0,isNumbered:r.numbered,iconSize:1.25,selectCell:p})})})}),d]})});nS.displayName="SolidJoinedBoxesCell";let nL=()=>L({key:"solidJoinedBoxesWithIcons",name:()=>l.Ru._({id:"riEUxW"}),icon:r.swh,keywords:["solid","boxes","layout","filled","text boxes","icons"],htmlTag:"solid-joined-boxes-with-icons",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"riEUxW"}),options:{horizontalAlign:"center"}}],additionalOptions:[e5],imageSlot:"always",imageType:"icon",Wrapper:nw,Cell:nS,isFullWidth:()=>!0,dragHandlePlacement:"top",featureFlag:"smartLayoutsJuly2025"}),nI=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",unevenBehavior:"flex"}));nI.displayName="SolidLeafBoxesWrapper";let nE=(0,s.memo)(e=>{let{colorVars:t}=P(e.layoutOptions,e.cellOptions,e.index);return(0,i.jsx)(ev,{cellProps:e,unevenBehavior:"flex",cellStyle:"solid",cellContentPropOverrides:{sx:t,style:{borderRadius:"2em 0 2em 0"}},children:e.children})});nE.displayName="SolidLeafBoxesCell";let nD=()=>L({key:"solidLeafBoxes",name:()=>l.Ru._({id:"gVDJjb"}),icon:g.YHM,keywords:["solid","leaf","boxes","layout","filled","text boxes","rounded"],htmlTag:"solid-leaf-boxes",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"gVDJjb"}),options:{horizontalAlign:"center"}}],additionalOptions:[e5],Wrapper:nI,Cell:nE,isFullWidth:()=>!0,featureFlag:"smartLayoutsJuly2025"}),nM=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"none",forceBalance:!0}));nM.displayName="ArrowsWrapper";let nR=(0,s.memo)(e=>(0,i.jsx)(ev,{cellProps:e,forceBalance:!0,innerLabelProps:{labelType:"chevron"},children:e.children}));nR.displayName="ArrowsCell";let n_=()=>L({key:"arrows",name:()=>l.Ru._({id:"YUGjgn"}),icon:g.vFJ,keywords:["sequence","ordered","arrows","chevrons","roadmap"],htmlTag:"arrows",family:"sequence",additionalOptions:[eU,tn,{...e5,defaultValue:(0,E.Ro)("left")}],presetConfigurations:[{name:()=>l.Ru._({id:"QI5FSO"}),options:{orientation:"horizontal"},hideIfVertical:!0},{name:()=>l.Ru._({id:"KphBeD"}),options:{orientation:"vertical"}}],imageSlot:"optional",imageType:"icon",Wrapper:nM,Cell:nR});(0,s.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:a,cellOptions:r,index:l,image:s,selectCell:c,selectCellForElementProps:d}=t,{colorVars:u}=P(a,r,l);return(0,i.jsx)(I.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...u},style:n?{borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopRightRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderTopWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"}:{borderTopRightRadius:"0px",borderBottomRightRadius:"0px",borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopWidth:"0px",borderLeftWidth:"0px",borderBottomWidth:"0px"},...n?{width:"100%",height:"3em"}:{width:"4em",height:"100%",minHeight:"4em"},className:(0,W.cx)(o.SA,o.lR),...d,children:(0,i.jsx)(I.s,{fontSize:"1.5em",alignItems:"center",justifyContent:"center",className:(0,W.cx)(R.U6),children:(0,i.jsx)(U.R,{image:s,number:a.numbered?l+1:void 0,isNumbered:a.numbered,iconSize:1,selectCell:c})})})}).displayName="OutlineBoxesWithLabelLabel";let nz=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",forceBalance:!0}));nz.displayName="OutlineBoxesWithLabelWrapper";let nN=(0,s.memo)(e=>(0,i.jsx)(ev,{cellProps:e,forceBalance:!0,cellContentPropOverrides:{borderRadius:"var(--box-border-radius)"},innerLabelProps:{labelType:"flush"},cellStyle:"outline",children:e.children}));nN.displayName="OutlineBoxesWithLabelCell";let nT=()=>L({key:"outlineBoxesWithLabel",name:()=>l.Ru._({id:"VWjsp7"}),icon:g._vK,keywords:["outline","boxes","label","sequence","ordered","headers"],htmlTag:"outline-boxes-with-label",family:"boxes",additionalOptions:[eU,tn],presetConfigurations:[{name:()=>l.Ru._({id:"yTTyHb"}),options:{orientation:"horizontal"},hideIfVertical:!0},{name:()=>l.Ru._({id:"UifYfm"}),options:{orientation:"vertical"}}],imageSlot:"optional",imageType:"icon",Wrapper:nz,Cell:nN}),nP=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",forceBalance:!0}));nP.displayName="PillsWrapper";let nH=(0,s.memo)(e=>(0,i.jsx)(ev,{cellProps:e,forceBalance:!0,innerLabelProps:{labelType:"pills"},children:e.children}));nH.displayName="PillsCell";let nF=()=>L({key:"pills",name:()=>l.Ru._({id:"OOCfU+"}),icon:g.M1V,keywords:["pills","capsules","sequence","ordered","rounded"],htmlTag:"pills",family:"sequence",additionalOptions:[eU,tn],presetConfigurations:[{name:()=>l.Ru._({id:"D17j6n"}),options:{orientation:"horizontal"},hideIfVertical:!0},{name:()=>l.Ru._({id:"gJEEpm"}),options:{orientation:"vertical"}}],imageSlot:"optional",imageType:"icon",Wrapper:nP,Cell:nH}),nB=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"none",forceBalance:!0}));nB.displayName="SlantedLabelsWrapper";let nO=(0,s.memo)(e=>(0,i.jsx)(ev,{cellProps:e,forceBalance:!0,innerLabelProps:{labelType:"slanted"},children:e.children}));nO.displayName="SlantedLabelsCell";let nV=()=>L({key:"slantedLabels",name:()=>l.Ru._({id:"J0xtcw"}),icon:r.sD5,keywords:["sequence","ordered","arrows","chevrons","roadmap"],htmlTag:"slantedLabels",family:"sequence",additionalOptions:[eU,tn,{...e5,defaultValue:(0,E.Ro)("left")}],presetConfigurations:[{name:()=>l.Ru._({id:"gA8+s2"}),options:{orientation:"horizontal"},hideIfVertical:!0},{name:()=>l.Ru._({id:"ryugXN"}),options:{orientation:"vertical"}}],imageSlot:"optional",imageType:"icon",Wrapper:nB,Cell:nO,featureFlag:"smartLayoutsJuly2025"}),nW=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",forceBalance:!0}));nW.displayName="StepsWrapper";let nU=(0,s.memo)(e=>(0,i.jsx)(ev,{cellProps:e,forceBalance:!0,staggering:{horizontal:"cascade",vertical:"oscillating"},innerLabelProps:{labelType:"simpleLine"},children:e.children}));nU.displayName="StepsCell";let nG=()=>L({key:"steps",name:()=>l.Ru._({id:"A9onc2"}),icon:g.k2U,keywords:["steps","sequence","ordered"],htmlTag:"steps",family:"steps",additionalOptions:[eU],presetConfigurations:[{name:()=>l.Ru._({id:"087akc"}),options:{orientation:"horizontal",horizontalAlign:"left"},hideIfVertical:!0},{name:()=>l.Ru._({id:"DCkonM"}),options:{orientation:"vertical",horizontalAlign:"left"}}],Wrapper:nW,Cell:nU}),nZ=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",forceBalance:!0}));nZ.displayName="StepsWrapper";let nK=(0,s.memo)(e=>(0,i.jsx)(ev,{cellProps:e,forceBalance:!0,staggering:{horizontal:"cascade",vertical:"oscillating"},innerLabelProps:{labelType:"arrow"},children:e.children}));nK.displayName="StepsCell";let nQ=()=>L({key:"stepsWithArrow",name:()=>l.Ru._({id:"kQwqXh"}),icon:g.INJ,keywords:["steps","arrow","sequence","ordered"],htmlTag:"steps",family:"steps",additionalOptions:[eU],presetConfigurations:[{name:()=>l.Ru._({id:"wFgEzK"}),options:{orientation:"horizontal",horizontalAlign:"left"},hideIfVertical:!0},{name:()=>l.Ru._({id:"WkYYLP"}),options:{orientation:"vertical",horizontalAlign:"left"}}],Wrapper:nZ,Cell:nK,featureFlag:"smartLayoutsJuly2025"}),nq=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",forceBalance:!0}));nq.displayName="StepsWrapper";let nJ=(0,s.memo)(e=>(0,i.jsx)(ev,{cellProps:e,forceBalance:!0,staggering:{horizontal:"cascade",vertical:"oscillating"},innerLabelProps:{labelType:"iconCircleWithSimpleLine"},children:e.children}));nJ.displayName="StepsCell";let n$=()=>L({key:"stepsWithIcons",name:()=>l.Ru._({id:"q8HKHP"}),icon:g.o97,keywords:["steps","icons","sequence","ordered"],htmlTag:"stepsWithIcons",family:"steps",additionalOptions:[eU,tn],presetConfigurations:[{name:()=>l.Ru._({id:"lPCKsX"}),options:{orientation:"horizontal",horizontalAlign:"left"},hideIfVertical:!0},{name:()=>l.Ru._({id:"wNI9DR"}),options:{orientation:"vertical",horizontalAlign:"left"}}],imageSlot:"optional",imageType:"icon",Wrapper:nq,Cell:nJ,featureFlag:"smartLayoutsJuly2025"}),nY=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",forceBalance:!0}));nY.displayName="StepsWrapper";let nX=(0,s.memo)(e=>(0,i.jsx)(ev,{cellProps:e,forceBalance:!0,staggering:{horizontal:"cascade",vertical:"oscillating"},cellContentPropOverrides:{borderRadius:"var(--box-border-radius)"},innerLabelProps:{labelType:"simpleLineFlush"},cellStyle:"outline",children:e.children}));nX.displayName="StepsCell";let n0=()=>L({key:"stepsWithOutlineBoxes",name:()=>l.Ru._({id:"bKc2b/"}),icon:r.idT,keywords:["steps","outline","boxes","sequence","ordered"],htmlTag:"steps",family:"steps",additionalOptions:[eU],presetConfigurations:[{name:()=>l.Ru._({id:"pi32P5"}),options:{orientation:"horizontal",horizontalAlign:"left"},hideIfVertical:!0},{name:()=>l.Ru._({id:"T9MVOK"}),options:{orientation:"vertical",horizontalAlign:"left"}}],Wrapper:nY,Cell:nX,featureFlag:"smartLayoutsJuly2025"});var n1=n(56151),n2=n(30709),n4=n(85813);let n5=e=>{let{updateAttributes:t,value:n,placeholder:a,inputProps:r,...l}=e,o=(0,s.useCallback)(e=>{t&&t({label:""===e?null:e})},[t]),c=(0,D.GV)(T.Cl)&&t;return(0,i.jsxs)(n1.F,{value:n||"",placeholder:a,onChange:o,isDisabled:!c,...l,children:[(0,i.jsx)(n2.l,{width:"100%",h:"1em",py:0,noOfLines:1,userSelect:c?void 0:"none",lineHeight:1}),(0,i.jsx)(n4.j,{width:"100%",my:-1,py:1,lineHeight:1,...r})]})},n6={key:"imagePosition",defaultValue:()=>"top",Control:e=>{let{value:t,updateValue:n,option:a}=e;return(0,i.jsx)(j.I,{label:a.name(),onClick:()=>n("top"===t?"left":"top"),isActive:"left"===t,icon:"top"===t?g.qXP:g.Usg,testId:"smart-layout-orientation-option"})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:"top"===e?g.qXP:g.Usg,items:[{key:"top",label:l.Ru._({id:"WWy8TN"}),icon:"top"===e?g.e68:void 0,onClick:()=>t("top")},{key:"left",label:l.Ru._({id:"lg7+vk"}),icon:"left"===e?g.e68:void 0,onClick:()=>t("left")}]}),name:()=>l.Ru._({id:"BWUDJY"})},n3=[{label:()=>l.Ru._({id:"yrC1Cd"}),key:"xs"},{label:()=>l.Ru._({id:"4Revpc"}),key:"sm"},{label:()=>l.Ru._({id:"agPptk"}),key:"md"},{label:()=>l.Ru._({id:"k7rCa/"}),key:"lg"},{label:()=>l.Ru._({id:"vp6Yr4"}),key:"xl"},{label:()=>l.Ru._({id:"CK1KXz"}),key:"full"}],n9={key:"shapeSize",defaultValue:()=>null,Control:e=>{let{value:t,updateValue:n,option:a}=e,r=n3.findIndex(e=>e.key===t);-1===r&&(r=3);let{label:l}=n3[r],o=(0,s.useCallback)(e=>{let{key:t}=n3[e];n(t)},[n]);return(0,i.jsxs)(d.z,{spacing:2,me:2,children:[(0,i.jsx)(x.Tz,{placement:"top",label:(0,i.jsxs)(u.T,{spacing:0,children:[(0,i.jsx)(p.E,{color:"gray.400",children:a.name()}),(0,i.jsx)(p.E,{children:l()})]}),children:(0,i.jsx)(p.E,{fontSize:"sm",fontWeight:"600",children:(0,i.jsx)(m.g,{icon:a.icon,fixedWidth:!0})})}),(0,i.jsxs)(h.Ap,{min:0,max:n3.length-1,step:1,value:r,onChange:o,w:"60px",focusThumbOnChange:!1,colorScheme:"trueblue",size:"sm",children:[(0,i.jsx)(h.hB,{children:(0,i.jsx)(h.hJ,{})}),(0,i.jsx)(x.Tz,{placement:"top",label:(0,i.jsxs)(u.T,{spacing:0,children:[(0,i.jsx)(p.E,{color:"gray.400",children:a.name()}),(0,i.jsx)(p.E,{children:l()})]}),children:(0,i.jsx)(h.OQ,{background:"trueblue.500"})})]})]})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:g.j3q,items:n3.map(n=>({key:n.key,label:n.label(),icon:n.key===e?g.e68:void 0,onClick:()=>t(n.key)}))}),name:()=>l.Ru._({id:"FeDgKA"}),icon:g.j3q,validator:e=>null===e||n3.some(t=>t.key===e)};var n7=n(79018);let n8=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"medium"}));n8.displayName="CircleStatsWrapper";let ie={xs:.35,sm:.48,md:.61,lg:.74,xl:.87,full:1},it=(0,s.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:l,updateAttributes:s,index:d,selectCellForElementProps:u}=e,p=(0,z.M)(t),h=(0,n7.dD)(e),g=(0,tf.JL)({innerRadius:41,outerRadius:50}),m=g({startAngle:0,endAngle:2*h*Math.PI}),x=g({startAngle:0,endAngle:2*Math.PI}),b=ie[n.shapeSize]||1,y="min(100%, ".concat(f.mw*b,"em)"),v=(0,c.FX)()||"left"===n.imagePosition?"".concat(2*b,"em"):"".concat(2.5*b,"em"),{colorOverride:C}=P(n,r,d,!0),{colorVars:w}=P(n,r,d),{colorVars:A}=P(n,r,d,!1),{useTransparentTrack:j,shouldRecolorTrack:k}=ia(p,C),S=(0,i.jsxs)(I.s,{direction:"column",align:"center",justify:"center",width:"100%",maxW:y,pos:"relative",contentEditable:!1,py:"0.25em",...u,children:[(0,i.jsx)(n5,{value:l||"",updateAttributes:s,pos:"absolute",insetStart:"".concat(9,"%"),className:(0,W.cx)(R.U6),fontSize:v,lineHeight:1,display:"flex",alignItems:"center",sx:(0,E.yp)("center"),style:{width:"".concat(82,"%")},cursor:"text"}),(0,i.jsxs)("svg",{width:"100%",viewBox:"".concat(-50," ").concat(-50," ").concat(100," ").concat(100),overflow:"visible",onClick:e=>{u.onClick(e)},cursor:u.cursor,children:[(0,i.jsx)(a.a,{as:"path",d:x||void 0,className:o.D6,style:{fill:j?"var(--card-color)":void 0},"data-testid":"stats-track",css:k?w:void 0,...u}),(0,i.jsx)(a.a,{as:"path",d:m||void 0,className:o._B,"data-testid":"stats-fill",css:A,...u})]})]});return(0,i.jsx)(ej,{visual:S,visualPosition:n.imagePosition,visualSize:"".concat(100*b,"%"),visualMaxSize:y,gap:"1em",cellProps:e,children:e.children})});it.displayName="CircleStatsCell";let ii=()=>L({key:"circleStats",name:()=>l.Ru._({id:"mvpFPS"}),icon:g.ItB,keywords:["stats","circle"],htmlTag:"circleStats",family:"numbers",additionalOptions:[{...n6,checkEnabled(e){let{options:t}=e;return"vertical"!==t.orientation}},{...n9,name:()=>l.Ru._({id:"1C+7U1"}),icon:g.GEE},{...e5,defaultValue:(0,E.Ro)("center"),checkEnabled(e){let{options:t}=e;return"left"!==t.imagePosition}}],presetConfigurations:[{name:()=>l.Ru._({id:"MpKR5P"}),options:{shapeSize:"lg"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:n8,Cell:it}),ia=(e,t)=>{let n="default"!==e.shapeColorScheme;return{useTransparentTrack:"none"===e.shapeFill||"solid"===e.shapeFill&&"custom"===e.shapeColorScheme||t&&n,shouldRecolorTrack:n}},ir=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"medium"}));ir.displayName="BarStatsWrapper";let il=(0,s.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:l,updateAttributes:s,index:c,selectCellForElementProps:d}=e,u=(0,z.M)(t),p=n.horizontalAlign,h=(0,n7.dD)(e),{colorOverride:g}=P(n,r,c,!0),{colorVars:m}=P(n,r,c),{colorVars:x}=P(n,r,c,!1),{useTransparentTrack:f,shouldRecolorTrack:b}=ia(u,g),y=(0,i.jsxs)(I.s,{direction:"row",align:"center",justify:"stretch",width:"100%",pos:"relative",contentEditable:!1,gap:"0.75em",...d,children:[(0,i.jsxs)(a.a,{flex:"1",my:"0.5em",pos:"relative",borderRadius:"var(--box-border-radius)",...d,children:[(0,i.jsx)(a.a,{pos:"absolute",inset:"0",className:o.SA,style:f?{background:"var(--card-color)"}:void 0,css:b?m:void 0,...d}),(0,i.jsx)(a.a,{w:"".concat(100*h,"%"),h:"1.25em",pos:"relative",className:o.P7,borderRadius:"inherit",css:x,...d})]}),(0,i.jsx)(n5,{value:l||"",updateAttributes:s,className:(0,W.cx)(R.U6),lineHeight:1,display:"flex",alignItems:"center",sx:(0,E.yp)(p),fontSize:"1.25em",inputProps:{textAlign:"right",width:"4em",py:0},minW:"1em"})]});return(0,i.jsx)(ej,{visual:y,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});il.displayName="BarStatsCell";let is=()=>L({key:"barStats",name:()=>l.Ru._({id:"LYRXtx"}),icon:g.dYn,keywords:["stats","bar","progress","number","percentage"],htmlTag:"percentages",family:"numbers",additionalOptions:[{...e5,defaultValue:(0,E.Ro)("left")}],presetConfigurations:[{name:()=>l.Ru._({id:"oWD4zD"}),options:{horizontalAlign:"left"},cellAttrs:{label:"75"}},{name:()=>l.Ru._({id:"HEnTGz"}),options:{horizontalAlign:"right"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:ir,Cell:il}),io=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"medium"}));io.displayName="CircleWithBoldLineStatsWrapper";let ic={xs:.35,sm:.48,md:.61,lg:.74,xl:.87,full:1},id=(0,s.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:l,updateAttributes:s,index:d,selectCellForElementProps:u}=e,p=(0,z.M)(t),h=(0,n7.dD)(e),g=9,m=(0,tf.JL)({innerRadius:50-g,outerRadius:50})({startAngle:0,endAngle:2*h*Math.PI}),x=45,b=.45,y=(0,tf.JL)({innerRadius:x-b,outerRadius:x})({startAngle:0,endAngle:2*Math.PI}),v=ic[n.shapeSize]||1,C="min(100%, ".concat(f.mw*v,"em)"),w=(0,c.FX)()||"left"===n.imagePosition?"".concat(2*v,"em"):"".concat(2.5*v,"em"),{colorOverride:A}=P(n,r,d,!0),{colorVars:j}=P(n,r,d),{colorVars:k}=P(n,r,d,!1),{useTransparentTrack:S,shouldRecolorTrack:L}=ip(p,A),D=(0,i.jsxs)(I.s,{direction:"column",align:"center",justify:"center",width:"100%",maxW:C,pos:"relative",contentEditable:!1,py:"0.25em",...u,children:[(0,i.jsx)(n5,{value:l||"",updateAttributes:s,pos:"absolute",insetStart:"".concat(g,"%"),className:(0,W.cx)(R.U6),fontSize:w,lineHeight:1,display:"flex",alignItems:"center",sx:(0,E.yp)("center"),style:{width:"".concat(100-2*g,"%")},cursor:"text"}),(0,i.jsxs)("svg",{width:"100%",viewBox:"".concat(-50," ").concat(-50," ").concat(100," ").concat(100),overflow:"visible",onClick:e=>{u.onClick(e)},cursor:u.cursor,children:[(0,i.jsx)(a.a,{as:"path",d:y||void 0,className:o.Lp,style:{fill:S?"var(--card-color)":void 0},"data-testid":"stats-track",css:{...L?j:void 0,"--shape-border-width":"0.125em"},...u}),(0,i.jsx)(a.a,{as:"path",d:m||void 0,className:o._B,"data-testid":"stats-fill",css:k,...u})]})]});return(0,i.jsx)(ej,{visual:D,visualPosition:n.imagePosition,visualSize:"".concat(100*v,"%"),visualMaxSize:C,gap:"1em",cellProps:e,children:e.children})});id.displayName="CircleWithBoldLineStatsCell";let iu=()=>L({key:"circleStatsWithBoldLine",name:()=>l.Ru._({id:"kSnmN+"}),icon:g.ItB,keywords:["stats","circle"],htmlTag:"circle-stats-with-bold-line",family:"numbers",additionalOptions:[{...n6,checkEnabled(e){let{options:t}=e;return"vertical"!==t.orientation}},{...n9,name:()=>l.Ru._({id:"1C+7U1"}),icon:g.GEE},{...e5,defaultValue:(0,E.Ro)("center"),checkEnabled(e){let{options:t}=e;return"left"!==t.imagePosition}}],presetConfigurations:[{name:()=>l.Ru._({id:"MpKR5P"}),options:{shapeSize:"lg"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:io,Cell:id,featureFlag:"smartLayoutsJuly2025"}),ip=(e,t)=>{let n="default"!==e.shapeColorScheme;return{useTransparentTrack:"none"===e.shapeFill||"solid"===e.shapeFill&&"custom"===e.shapeColorScheme||t&&n,shouldRecolorTrack:n}},ih=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"medium"}));ih.displayName="CircleWithExternalBoldLineStatsWrapper";let ig={xs:.35,sm:.48,md:.61,lg:.74,xl:.87,full:1},im=(0,s.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:l,updateAttributes:s,index:d,selectCellForElementProps:u}=e,p=(0,z.M)(t),h=(0,n7.dD)(e),g=9,m=(0,tf.JL)({innerRadius:50-g,outerRadius:50})({startAngle:0,endAngle:2*h*Math.PI}),x=35,b=.35000000000000003,y=(0,tf.JL)({innerRadius:x-b,outerRadius:x})({startAngle:0,endAngle:2*Math.PI}),v=ig[n.shapeSize]||1,C="min(100%, ".concat(f.mw*v,"em)"),w=(0,c.FX)()||"left"===n.imagePosition?"".concat(2*v,"em"):"".concat(2.5*v,"em"),{colorOverride:A}=P(n,r,d,!0),{colorVars:j}=P(n,r,d),{colorVars:k}=P(n,r,d,!1),{useTransparentTrack:S,shouldRecolorTrack:L}=ib(p,A),D=(0,i.jsxs)(I.s,{direction:"column",align:"center",justify:"center",width:"100%",maxW:C,pos:"relative",contentEditable:!1,py:"0.25em",...u,children:[(0,i.jsx)(n5,{value:l||"",updateAttributes:s,pos:"absolute",insetStart:"".concat(g,"%"),className:(0,W.cx)(R.U6),fontSize:w,lineHeight:1,display:"flex",alignItems:"center",sx:(0,E.yp)("center"),style:{width:"".concat(100-2*g,"%")},cursor:"text"}),(0,i.jsxs)("svg",{width:"100%",viewBox:"".concat(-50," ").concat(-50," ").concat(100," ").concat(100),overflow:"visible",onClick:e=>{u.onClick(e)},cursor:u.cursor,children:[(0,i.jsx)(a.a,{as:"path",d:y||void 0,className:o.Lp,style:{fill:S?"var(--card-color)":void 0},"data-testid":"stats-track",css:{...L?j:void 0,"--shape-border-width":"0.125em"},...u}),(0,i.jsx)(a.a,{as:"path",d:m||void 0,className:o._B,"data-testid":"stats-fill",css:k,...u})]})]});return(0,i.jsx)(ej,{visual:D,visualPosition:n.imagePosition,visualSize:"".concat(100*v,"%"),visualMaxSize:C,gap:"1em",cellProps:e,children:e.children})});im.displayName="CircleWithExternalBoldLineStatsCell";let ix=()=>L({key:"circleStatsWithExternalBoldLine",name:()=>l.Ru._({id:"L3jtjR"}),icon:g.ItB,keywords:["stats","circle"],htmlTag:"circle-stats-with-external-bold-line",family:"numbers",additionalOptions:[{...n6,checkEnabled(e){let{options:t}=e;return"vertical"!==t.orientation}},{...n9,name:()=>l.Ru._({id:"1C+7U1"}),icon:g.GEE},{...e5,defaultValue:(0,E.Ro)("center"),checkEnabled(e){let{options:t}=e;return"left"!==t.imagePosition}}],presetConfigurations:[{name:()=>l.Ru._({id:"MpKR5P"}),options:{shapeSize:"lg"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:ih,Cell:im,featureFlag:"smartLayoutsJuly2025"}),ib=(e,t)=>{let n="default"!==e.shapeColorScheme;return{useTransparentTrack:"none"===e.shapeFill||"solid"===e.shapeFill&&"custom"===e.shapeColorScheme||t&&n,shouldRecolorTrack:n}},iy=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"medium"}));iy.displayName="DotGridStatsWrapper";let iv=(0,s.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:l,updateAttributes:s,index:c,selectCellForElementProps:d}=e,u=(0,z.M)(t),p=n.horizontalAlign,h=(0,n7.dD)(e),{colorOverride:g}=P(n,r,c,!0),{colorVars:m}=P(n,r,c),{colorVars:x}=P(n,r,c,!1),{useTransparentTrack:f,shouldRecolorTrack:b}=ia(u,g),y=Math.round(100*h),v=Array.from({length:100},(e,t)=>{let n=Math.floor(t/10),r=t%10,l=Math.floor(y/10),s=n>=10-l||n===10-l-1&&r<y%10;return(0,i.jsx)(a.a,{w:"1em",h:"1em",borderRadius:"50% !important",className:s?o.P7:o.SA,css:s?x:b?m:void 0,style:!s&&f?{background:"var(--card-color)"}:void 0,...d},t)}),C=(0,i.jsx)(I.s,{width:"100%",justify:"center"===p?"center":"right"===p?"flex-end":"flex-start",children:(0,i.jsxs)(I.s,{direction:"column",align:"center"===p?"center":"right"===p?"flex-end":"flex-start",justify:"stretch",width:"100%",pos:"relative",contentEditable:!1,gap:"0.75em",...d,children:[(0,i.jsx)(eH.x,{templateColumns:"repeat(10, 1fr)",gap:"0.2em",flex:"1",my:"0.5em",justifyItems:"center",alignItems:"center",...d,children:v}),(0,i.jsx)(n5,{value:l||"",updateAttributes:s,className:(0,W.cx)(R.U6),lineHeight:1,display:"flex",alignItems:"center",sx:(0,E.yp)(p),fontSize:"3em",inputProps:{textAlign:"left",width:"4em",py:0},minW:"1em",mb:"0.25em"})]})});return(0,i.jsx)(ej,{visual:C,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});iv.displayName="DotGridStatsCell";let iC=()=>L({key:"dotGridStats",name:()=>l.Ru._({id:"iW6hrR"}),icon:r.nBi,keywords:["stats","dot","grid","number","percentage"],htmlTag:"percentages",family:"numbers",additionalOptions:[{...e5,defaultValue:(0,E.Ro)("left")}],presetConfigurations:[{name:()=>l.Ru._({id:"OCJYne"}),options:{horizontalAlign:"left"},cellAttrs:{label:"75"}},{name:()=>l.Ru._({id:"Ho9/Bu"}),options:{horizontalAlign:"right"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:iy,Cell:iv,featureFlag:"smartLayoutsJuly2025"}),iw=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"medium"}));iw.displayName="DotLineStatsWrapper";let iA=(0,s.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:l,updateAttributes:s,index:c,selectCellForElementProps:d}=e,u=(0,z.M)(t),p=n.horizontalAlign,h=(0,n7.dD)(e),{colorOverride:g}=P(n,r,c,!0),{colorVars:m}=P(n,r,c),{colorVars:x}=P(n,r,c,!1),{useTransparentTrack:f,shouldRecolorTrack:b}=ia(u,g),y=Math.round(5*h),v=Array.from({length:5},(e,t)=>{let n=t<y;return(0,i.jsx)(a.a,{w:"1em",h:"1em",borderRadius:"50% !important",className:n?o.P7:o.SA,css:n?x:b?m:void 0,style:!n&&f?{background:"var(--card-color)"}:void 0,...d},t)}),C=(0,i.jsx)(I.s,{width:"100%",justify:"center"===p?"center":"right"===p?"flex-end":"flex-start",children:(0,i.jsxs)(I.s,{direction:"row",align:"center",justify:"stretch",pos:"relative",contentEditable:!1,gap:"0.75em",...d,children:[(0,i.jsx)(eH.x,{templateColumns:"repeat(5, 1fr)",gap:"0.1em",my:"0.5em",justifyItems:"center",alignItems:"center",...d,children:v}),(0,i.jsx)(n5,{value:l||"",updateAttributes:s,className:(0,W.cx)(R.U6),lineHeight:1,display:"flex",alignItems:"center",sx:(0,E.yp)(p),fontSize:"1.25em",inputProps:{textAlign:"left",width:"4em",py:0},minW:"1em"})]})});return(0,i.jsx)(ej,{visual:C,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});iA.displayName="DotLineStatsCell";let ij=()=>L({key:"dotLineStats",name:()=>l.Ru._({id:"Z+uBD/"}),icon:r.Dwc,keywords:["stats","bar","progress","number","percentage"],htmlTag:"percentages",family:"numbers",additionalOptions:[{...e5,defaultValue:(0,E.Ro)("left")}],presetConfigurations:[{name:()=>l.Ru._({id:"kpy3OF"}),options:{horizontalAlign:"left"},cellAttrs:{label:"75"}},{name:()=>l.Ru._({id:"YT7LWI"}),options:{horizontalAlign:"right"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:iw,Cell:iA,featureFlag:"smartLayoutsJuly2025"}),ik=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"medium"}));ik.displayName="PlainStatsWrapper";let iS={xs:2,sm:2.65,md:3.3,lg:3.95,xl:4.6,full:5.25},iL=(0,s.memo)(e=>{let{layoutOptions:t,cellOptions:n,label:a,updateAttributes:r,index:l}=e,{headingColorCss:s}=P(t,n,l,!0),o=t.horizontalAlign,d=iS[t.shapeSize||"md"],u=(0,c.FX)(),p=(0,i.jsx)(I.s,{direction:"column",align:"center",justify:"center",width:"100%",pos:"relative",contentEditable:!1,py:"0.5em",css:s,fontSize:u?"0.75em":"1em",children:(0,i.jsx)(n5,{value:a||"",updateAttributes:r,className:(0,W.cx)(R.U6),fontSize:"".concat(d,"em"),lineHeight:1,display:"flex",alignItems:"center",sx:(0,E.yp)(o||"center"),style:{width:"100%"},placeholder:"—",cursor:"text"})});return(0,i.jsx)(ej,{visual:p,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});iL.displayName="PlainStatsCell";let iI=()=>L({key:"stats",name:()=>l.Ru._({id:"29Hx9U"}),icon:g.Bi7,keywords:["stats"],htmlTag:"numbers",family:"numbers",additionalOptions:[{...n9,name:()=>l.Ru._({id:"IfKwpr"}),icon:g.ACh},{...e5,defaultValue:(0,E.Ro)("center")}],presetConfigurations:[{name:()=>l.Ru._({id:"cYvymx"}),options:{shapeSize:"lg"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",defaultOptions:{cellSize:10},Wrapper:ik,Cell:iL});var iE=n(33750),iD=n.n(iE);let iM=e=>e/100*5,iR=(0,s.memo)(e=>{let{fillAmount:t,trackColorVars:n,fillColorVars:r,size:l}=e;return t<.01?(0,i.jsx)(a.a,{sx:{...n,path:{fill:"inherit"}},children:(0,i.jsx)(m.g,{icon:A.yy,fontSize:l,style:{strokeWidth:"1em"},className:o.Lp})}):t>.99?(0,i.jsx)(a.a,{sx:{...r,path:{fill:"inherit"}},children:(0,i.jsx)(m.g,{icon:A.yy,fontSize:l,className:o._B})}):(0,i.jsxs)(a.a,{position:"relative",sx:{...n,path:{fill:"inherit"}},children:[(0,i.jsx)(m.g,{icon:A.yy,className:o.Lp,style:{strokeWidth:"1em"},fontSize:l}),(0,i.jsx)(a.a,{position:"absolute",top:"0",insetStart:"0",width:"".concat(100*t,"%"),height:"100%",overflow:"hidden",sx:{...r,path:{fill:"inherit"}},children:(0,i.jsx)(m.g,{icon:A.yy,className:o._B,fontSize:l})})]})});iR.displayName="StarIcon";let i_=(0,s.memo)(e=>{let{rating:t,trackColorVars:n,fillColorVars:r,size:l}=e,s=[];for(let e=1;e<=5;e++){let o=iD()(t-e+1,0,1);s.push((0,i.jsx)(a.a,{children:(0,i.jsx)(iR,{size:l,fillAmount:o,trackColorVars:n,fillColorVars:r},e)}))}return(0,i.jsx)(I.s,{gap:"0.25em",align:"center",children:s})});i_.displayName="StarRating";let iz=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"medium"}));iz.displayName="StarStatsWrapper";let iN=(0,s.memo)(e=>{let{layoutOptions:t,cellOptions:n,label:r,updateAttributes:l,index:s,selectCellForElementProps:o}=e,c=t.horizontalAlign,d=iM(100*(0,n7.dD)({label:r,basis:5})),{colorVars:u}=P(t,n,s),{colorVars:p}=P(t,n,s,!1),h=(0,i.jsx)(I.s,{width:"100%",justify:"center"===c?"center":"right"===c?"flex-end":"flex-start",children:(0,i.jsxs)(I.s,{direction:"row",align:"center",justify:"stretch",pos:"relative",contentEditable:!1,gap:"0.75em",...o,children:[(0,i.jsx)(a.a,{display:"flex",alignItems:"center",justifyContent:"flex-start",...o,children:(0,i.jsx)(i_,{rating:d,size:t.cellSize===f.vG?"1.25em":"1.5em",trackColorVars:u,fillColorVars:p})}),(0,i.jsx)(n5,{value:r||"",updateAttributes:l,className:(0,W.cx)(R.U6),lineHeight:1,display:"flex",alignItems:"center",sx:(0,E.yp)(c),fontSize:"1.25em",inputProps:{textAlign:"left",width:"2em",py:0},minW:"1em"})]})});return(0,i.jsx)(ej,{visual:h,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});iN.displayName="StarStatsCell";let iT=()=>L({key:"starStats",name:()=>l.Ru._({id:"omSCb1"}),icon:A.yy,keywords:["stats","star","rating","number","percentage"],htmlTag:"ratings",family:"numbers",additionalOptions:[{...e5,defaultValue:(0,E.Ro)("left")}],presetConfigurations:[{name:()=>l.Ru._({id:"NGIe/7"}),options:{horizontalAlign:"left"},cellAttrs:{label:"4.5"}},{name:()=>l.Ru._({id:"AeN6Ey"}),options:{horizontalAlign:"right"},cellAttrs:{label:"4.5"}}],defaultAttrs:{label:"3.5"},addDirection:()=>"right",Wrapper:iz,Cell:iN,featureFlag:"smartLayoutsJuly2025"}),iP=(e,t,n,i,a)=>({top:n,left:i,orientation:a}),iH=(e,t)=>!(e.rect.bottom<=t.rect.top||t.rect.bottom<=e.rect.top)&&(e.rect.right<=t.rect.left+5&&e.rect.right>=t.rect.left-50||t.rect.right<=e.rect.left+5&&t.rect.right>=e.rect.left-50),iF=(e,t)=>!(e.rect.right<=t.rect.left||t.rect.right<=e.rect.left)&&(e.rect.bottom<=t.rect.top+5&&e.rect.bottom>=t.rect.top-50||t.rect.bottom<=e.rect.top+5&&t.rect.bottom>=e.rect.top-50),iB=(0,s.memo)(e=>{let{top:t,left:n,orientation:r}=e,l="horizontal"===r?{width:"".concat(1,"em"),height:"".concat(2,"em"),"-webkit-mask":"radial-gradient(circle ".concat(.5,"em at 50% 0%,transparent 99%,#000),\n            radial-gradient(circle ").concat(.5,"em at 50% 100%,transparent 99%,#000)"),"-webkit-mask-composite":"destination-in",maskComposite:"destination-in"}:{width:"".concat(2,"em"),height:"".concat(1,"em"),"-webkit-mask":"radial-gradient(circle ".concat(.5,"em at 0 50%,transparent 99%,#000),\n            radial-gradient(circle ").concat(.5,"em at 100% 50%,transparent 99%,#000)"),"-webkit-mask-composite":"destination-in",maskComposite:"destination-in"};return(0,i.jsx)(a.a,{contentEditable:!1,position:"absolute",top:"".concat(t,"px"),insetStart:"".concat(n,"px"),backgroundColor:"var(--shape-border-color)",pointerEvents:"none",zIndex:1,transform:"translate(-50%, -50%)",sx:l})});iB.displayName="CellConnector";let iO=(0,s.memo)(e=>{let[t,n]=(0,s.useState)([]),{ref:r,width:l,height:o}=(0,F.Lh)(),c=(0,s.useCallback)(()=>{if(!r.current)return;let e=r.current,t=e.querySelectorAll("[data-cell-index]"),i=[];t.forEach((t,n)=>{let a=t.getBoundingClientRect(),r=e.getBoundingClientRect(),l={left:a.left-r.left,top:a.top-r.top,right:a.right-r.left,bottom:a.bottom-r.top,width:a.width,height:a.height};i.push({rect:l,index:n,el:t})});let a=[];for(let e=0;e<i.length;e++)for(let t=e+1;t<i.length;t++){let n=i[e],r=i[t];if(iH(n,r)){let e=Math.max(n.rect.top,r.rect.top),t=Math.min(n.rect.bottom,r.rect.bottom)-e;if(t>0){let i=n.rect.left<r.rect.left?n:r,l=n.rect.left<r.rect.left?r:n,s=(i.rect.right+l.rect.left)/2,o=e+t/2;a.push(iP(n,r,o,s,"horizontal"))}}if(iF(n,r)){let e=Math.max(n.rect.left,r.rect.left),t=Math.min(n.rect.right,r.rect.right)-e;if(t>0){let i=n.rect.top<r.rect.top?n:r,l=n.rect.top<r.rect.top?r:n,s=(i.rect.bottom+l.rect.top)/2,o=e+t/2;a.push(iP(n,r,s,o,"vertical"))}}}n(a)},[]);return(0,s.useEffect)(()=>{l&&o&&c()},[l,o,c,e.numCells]),(0,i.jsxs)(a.a,{position:"relative",ref:r,children:[(0,i.jsx)(eA,{...e,spacing:"small",unevenBehavior:"flex"}),t.map((e,t)=>(0,i.jsx)(iB,{...e},"".concat(e.orientation,"-").concat(e.top,"-").concat(e.left,"-").concat(t)))]})});iO.displayName="ConnectedBoxesWrapper";let iV=(0,s.memo)(e=>(0,i.jsx)(ev,{cellProps:e,unevenBehavior:"flex",cellStyle:"solid","data-cell-index":e.index,children:e.children}));iV.displayName="ConnectedBoxesCell";let iW=()=>L({key:"connectedBoxes",name:()=>l.Ru._({id:"u6HATE"}),icon:r.Nfw,keywords:["connected","boxes","layout","filled","connectors","flow"],htmlTag:"connected-boxes",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"u6HATE"}),options:{horizontalAlign:"center"}}],additionalOptions:[e5],Wrapper:iO,Cell:iV,isFullWidth:()=>!0,featureFlag:"smartLayoutSkins"});var iU=n(88889),iG=n(17485),iZ=n(89703);let iK=e=>{let{selectCell:t,isFocused:n}=e,i=(0,iZ.f)();return{handleClick:(0,s.useCallback)(()=>{n?i({isOpen:!0}):null==t||t()},[t,i,n]),handleDoubleClick:(0,s.useCallback)(()=>{null==t||t(),i({isOpen:!0})},[t,i])}},iQ={xs:.3,sm:.44,md:.58,lg:.72,xl:.86,full:1},iq=(0,s.memo)(e=>(0,i.jsx)(eA,{...e}));iq.displayName="ImagesWithTextWrapper";let iJ=(0,s.memo)(e=>{var t,n;let{image:r,layoutOptions:l,numCells:s,layoutContainerSize:o,isFocused:c,selectCell:d,...u}=e,p=null!=(n=l.imageShape)?n:"square",h=iG.zF[p],g=null==r||null==(t=r.meta)?void 0:t.has_transparency,m=!l.shapeSize&&l.imageSize?l.imageSize:iQ[l.shapeSize||"full"],x="left"===l.imagePosition,{columns:b}=(0,ep.i)(l,o,s,!1),y=1===b?"min(100%, ".concat(f.mw*m,"em)"):"100%",v=g?{...h}:{...tB.z,...h},{handleClick:C,handleDoubleClick:w}=iK({selectCell:d,isFocused:c}),A=(0,i.jsx)(a.a,{"data-smart-layout-image-drop-target":"true",className:"image",w:"100%",h:"100%",overflow:"hidden",sx:v,children:(0,i.jsx)(iU.Y,{image:r,imageShape:p,handleEditableClick:C,handleEditableDoubleClick:w,hasQuickActions:!0,...u})});return(0,i.jsx)(ej,{visual:A,visualPosition:l.imagePosition,visualSize:"calc(".concat(100*(x?.5*m:m),"% * var(--media-scale))"),visualMaxSize:y,gap:l.shapeSize<=iQ.xs?"1em":"1.25em",cellProps:e,children:e.children})});iJ.displayName="ImagesWithTextCell";let i$=()=>{let e=L({key:"imagesText",name:()=>l.Ru._({id:"cDxTeG"}),keywords:["team","caption","images","text","layout"],icon:g.oMV,htmlTag:"images",family:"images",additionalOptions:[n6,{...b,getDefaultOnParse:()=>f.vG},{...n9,icon:g.Cyq,name:()=>l.Ru._({id:"8J92vb"})},iG.Kl,{...e5,defaultValue:(0,E.Ro)("left"),checkEnabled(e){let{options:t,deco:n}=e,i=t.imagePosition;return(null==n?void 0:n.direction)==="rtl"?"right"!==i:"left"!==i}}],presetConfigurations:[{name:()=>l.Ru._({id:"10G7S6"}),options:{imageShape:"square",shapeSize:"lg",horizontalAlign:"center"}},{name:()=>l.Ru._({id:"VVRqpK"}),options:{imageShape:"circle",shapeSize:"lg",horizontalAlign:"center"}}],addDirection:e=>"left"===e.imagePosition?"bottom":"right",defaultOptions:{imageShape:"landscape"},imageSlot:"always",imageType:"image",Wrapper:iq,Cell:iJ});return{...e,options:e.options.filter(e=>"color"!==e.key),cellOptions:e.cellOptions.filter(e=>"color"!==e.key)}},iY=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",unevenBehavior:"flex"}));iY.displayName="QuoteBoxesWithFacesWrapper";let iX=(0,s.memo)(e=>{var t,n;let{layoutOptions:a,cellOptions:r,index:l,selectCell:s,isFocused:c,image:d}=e,{colorVars:u}=P(a,r,l,!1),{handleClick:p,handleDoubleClick:h}=iK({selectCell:s,isFocused:c}),g=null!=(n=a.imageShape)?n:"circle",m=iG.zF[g],x=null==d||null==(t=d.meta)?void 0:t.has_transparency,f=5*(!a.shapeSize&&a.imageSize?a.imageSize:iQ[a.shapeSize||"md"]),b=f/iG.z_[g],y=x?{...m}:{...tB.z,...m};return(0,i.jsx)(I.s,{position:"absolute",top:"-".concat(b,"em"),left:"50%",transform:"translateX(-50%)",width:"".concat(2*f,"em"),align:"center",justify:"center",contentEditable:!1,sx:{...u,"> div":{width:"100%"}},style:y,className:(0,W.cx)(o.uk),overflow:"hidden",children:(0,i.jsx)(iU.Y,{...e,imageShape:g,hasQuickActions:!0,handleEditableClick:p,handleEditableDoubleClick:h})})});iX.displayName="FaceCircle";let i0=(0,s.memo)(e=>{let{layoutOptions:t}=e,n=5*(!t.shapeSize&&t.imageSize?t.imageSize:iQ[t.shapeSize||"md"])/iG.z_[t.imageShape];return(0,i.jsxs)(ev,{cellProps:e,unevenBehavior:"flex",cellStyle:"outline",cellContentPropOverrides:{mt:"".concat(n,"em"),pt:"calc(".concat(H.xb," + ").concat(n,"em)")},children:[(0,i.jsx)(iX,{...e}),e.children]})});i0.displayName="QuoteBoxesWithFacesCell";let i1=()=>L({key:"quoteBoxesWithFaces",name:()=>l.Ru._({id:"lDxgZ6"}),icon:g.ppD,keywords:["quote","quotes","testimonial","faces","circle"],htmlTag:"quote-boxes-with-faces",family:"quotes",presetConfigurations:[{name:()=>l.Ru._({id:"duDvK9"}),options:{horizontalAlign:"center",numbered:!0,imageShape:"circle",shapeSize:"md"}},{name:()=>l.Ru._({id:"wLSSrc"}),options:{horizontalAlign:"center",numbered:!1,imageShape:"square",shapeSize:"sm"}}],additionalOptions:[e5,{...n9,icon:g.Cyq,name:()=>l.Ru._({id:"8J92vb"})},iG.Kl],defaultOptions:{imageShape:"circle"},imageSlot:"optional",imageType:"image",Wrapper:iY,Cell:i0,isFullWidth:()=>!0,dragHandlePlacement:"left",featureFlag:"smartLayoutSkins",disabled:!0}),i2={1:["face-smile"],2:["face-frown","face-smile"],3:["face-frown","face-meh","face-smile"],4:["face-sad-tear","face-frown","face-smile","face-laugh"],5:["face-sad-tear","face-frown","face-meh","face-smile","face-laugh-beam"]},i4=e=>{let{numCells:t,index:n}=e,a=i2[Math.min(5,Math.max(1,t))],r=a[n%a.length],l=e.image&&e.image.src?e.image:{source:"image.icon",src:"".concat("https://cdn-staging.gamma.app/_app_static/icons/v0/").concat(r,".svg")};return(0,i.jsx)(tV,{...e,image:l})},i5=()=>L({key:"satisfaction",name:()=>l.Ru._({id:"/IniW+"}),icon:g.H82,keywords:["satisfaction","emoji","scale","rating"],htmlTag:"satisfaction",family:"bullets",additionalOptions:[eU],presetConfigurations:[{name:()=>l.Ru._({id:"/IniW+"}),options:{},zoomIn:!0}],imageSlot:"optional",imageType:"icon",Wrapper:tW,Cell:i4,isFullWidth:()=>!0,addDirection:()=>"right",featureFlag:"smartLayoutSkins",maxCells:5,disabled:!0}),i6=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,spacing:"small",unevenBehavior:"flex"}));i6.displayName="SolidBoxesWithTopIconsWrapper";let i3=(0,s.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:a,image:r,selectCell:l,selectCellForElementProps:s}=e,{colorVars:c}=P(t,n,a,!1);return(0,i.jsx)(I.s,{position:"absolute",top:"-".concat(1.5,"em"),insetStart:"left"===t.horizontalAlign?"".concat(1.5,"em"):"right"===t.horizontalAlign?"calc(100% - ".concat(4.5,"em)"):"50%",transform:"center"!==t.horizontalAlign&&t.horizontalAlign?void 0:"translateX(-50%)",width:"".concat(3,"em"),height:"".concat(3,"em"),align:"center",justify:"center",contentEditable:!1,sx:{...c},className:(0,W.cx)(o.P7,o.ok),borderRadius:"var(--box-border-radius)",...s,children:(0,i.jsx)(I.s,{alignItems:"center",justifyContent:"center",className:(0,W.cx)(R.U6),children:(0,i.jsx)(U.R,{image:r,number:t.numbered?a+1:void 0,isNumbered:t.numbered,iconSize:1.5,selectCell:l})})})});i3.displayName="TopIcon";let i9=(0,s.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:a}=e,{colorVars:r}=P(t,n,a,!0);return(0,i.jsxs)(ev,{cellProps:e,unevenBehavior:"flex",cellStyle:"solid",cellContentPropOverrides:{mt:"".concat(1.5,"em"),pt:"calc(".concat(H.xb," + ").concat(1.5,"em)"),sx:r},children:[(0,i.jsx)(i3,{...e}),e.children]})});i9.displayName="SolidBoxesWithTopIconsCell";let i7=()=>L({key:"solidBoxesWithTopIcons",name:()=>l.Ru._({id:"YcdSxJ"}),icon:r.$tZ,keywords:["solid","boxes","layout","icons","top","filled","text boxes"],htmlTag:"solid-boxes-with-top-icons",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"YcdSxJ"}),options:{}}],additionalOptions:[e5],imageSlot:"always",imageType:"icon",Wrapper:i6,Cell:i9,isFullWidth:()=>!0,dragHandlePlacement:"left",featureFlag:"smartLayoutSkins"}),i8={xs:.15,sm:.2,md:.25,lg:.3,xl:.35,full:.4},ae={xs:"lg",sm:"h3",md:"h2",lg:"h1",xl:"h1",full:"title"},at=(0,s.memo)(e=>(0,i.jsx)(eA,{...e,forceBalance:!0}));at.displayName="IconsWithTextWrapper";let an=(0,s.memo)(e=>{var t;let{image:n,layoutOptions:r,cellOptions:l,selectCell:o,theme:d,firstChildSize:u}=e,p=i8[r.shapeSize||"md"],h="left"===r.imagePosition,g=p<=i8.xs,m=null!=(t=null==l?void 0:l.color)?t:r.color;n&&(0,tO.Xs)(n);let x=(0,s.useMemo)(()=>(0,_.q9)(m,0),[m]),b={aspectRatio:"1 / 1",...g&&h&&{mt:".175em"}},y="min(100%, ".concat(f.vG*p,"em)"),v=et(d,(0,c.FX)(),ae[r.shapeSize||"md"],u),C=(0,i.jsx)(a.a,{"data-smart-layout-image-drop-target":"true",className:"image",w:"100%",h:"100%",sx:b,css:x,children:(0,i.jsx)(U.R,{image:n,placeholderIfEmpty:!0,iconSize:5*p,boxProps:{w:"100%",h:"100%"},selectCell:o,isNumbered:r.numbered,color:null!=m?m:"url(#theme-accent-gradient-linear) var(--accent-color-readable)"})});return(0,i.jsx)(ej,{visual:C,visualPosition:r.imagePosition,visualSize:"calc(".concat(100*p,"% * var(--media-scale))"),visualMaxSize:y,gap:g?"1em":"1.25em",cellProps:e,textboxProps:{pt:h?"".concat(v,"em"):0},forceBalance:!0,children:e.children})});an.displayName="IconsWithTextCell";let ai=()=>L({key:"iconsText",name:()=>l.Ru._({id:"joUkNe"}),icon:g.cCs,keywords:["icons","text","layout"],htmlTag:"icons",family:"images",additionalOptions:[n6,w,b,{...n9,icon:g.Cyq,name:()=>l.Ru._({id:"bwZEQG"}),defaultValue:()=>"md"},{...e5,defaultValue:(0,E.Ro)("left"),checkEnabled(e){let{options:t,deco:n}=e,i=t.imagePosition;return(null==n?void 0:n.direction)==="rtl"?"right"!==i:"left"!==i}}],additionalCellOptions:[{...w,checkEnabled(e){let{attrs:t}=e;return!t.image||(0,tO.Xs)(t.image)}}],presetConfigurations:[{name:()=>l.Ru._({id:"pG60n/"}),options:{imagePosition:"top",shapeSize:"lg"}},{name:()=>l.Ru._({id:"hscPGi"}),options:{imagePosition:"left",shapeSize:"lg"}}],addDirection:e=>"left"===e.imagePosition?"bottom":"right",defaultAttrs:{image:{source:ts.f.key}},imageSlot:"always",imageType:"icon",Wrapper:at,Cell:an}),aa="40em",ar="0.25em",al={key:"outsideText",defaultValue:()=>!0,Control:e=>{let{value:t,updateValue:n,option:a}=e;return(0,i.jsx)(j.I,{label:a.name(),onClick:()=>n(!t),isActive:t,icon:g.LEB})},ControlMenu:(e,t,n)=>({key:n.key,label:e?l.Ru._({id:"W0lrhO"}):l.Ru._({id:"OtsbQu"}),icon:g.LEB,onClick:()=>t(!e)}),name:()=>l.Ru._({id:"OtsbQu"})};var as=n(29452),ao=n.n(as);let ac=(0,s.memo)(e=>{let{Step:t=am,node:n,...a}=e,{children:r,numCells:l,options:s,theme:o,direction:c}=a,d=s.horizontalAlign||"center",u=(0,E.yp)(d,c),p="funnel"===a.variant.key,h="staircase"===a.variant.key,g=ao()(l).map(e=>{let a=n.maybeChild(e);if(!a)return null;let r=a.attrs.options,u=a.attrs.image;return(0,i.jsx)(ad,{index:e,numCells:l,theme:o,isFunnel:p,alignment:d,direction:c,isStepped:h,cellOptions:r,layoutOptions:s,Step:t,image:u},e)});return(0,i.jsxs)(I.s,{direction:"column","data-selection-ring":!0,align:"stretch",gap:"1em",onContextMenu:a.onContextMenu,...a.selectLayoutForElementProps,children:[(0,i.jsx)(I.s,{direction:"column",sx:u,contentEditable:!1,gap:ar,"data-alternate-colors":!0,...a.selectLayoutForElementProps,children:g}),(0,i.jsx)(I.s,{gap:td,direction:"column",...a.selectLayoutForElementProps,children:r})]})});ac.displayName="StackedPyramidWrapper";let ad=e=>{let{index:t,numCells:n,cellOptions:a,layoutOptions:r,isFunnel:l,alignment:s,direction:o,isStepped:c,Step:d,image:u}=e,p=!c&&l&&t===n-1?{pos:"relative",bottom:"0.25em"}:c||l||0!==t?{}:{pos:"relative",top:"0.25em"},{colorVars:h}=P(r,a,t,!1);return(0,i.jsx)(d,{index:t,numCells:n,isOutside:!0,isNumbered:r.numbered,isStacked:!0,isFunnel:l,alignment:s,direction:o,stepSx:h,image:u,children:(0,i.jsx)(ag,{index:t,image:u,isNumbered:r.numbered,...p})},t)},au=(e,t)=>"right"===e?"right":"left"===e||"ltr"===t?"left":"right",ap=(0,s.memo)(e=>{let t=tu({containerSize:e.containerSize,columnsNeeded:e.options.outsideText&&!e.scaleContentToFit?3:2}),{colorVars:n}=P(e.options,void 0,void 0,!0);return t?(0,i.jsx)(ac,{...e}):(0,i.jsx)(eC.r,{columns:1,autoRows:"1fr","data-selection-ring":!0,gap:ar,onContextMenu:e.onContextMenu,...e.selectLayoutForElementProps,sx:e.options.outsideText?n:void 0,children:e.children})});ap.displayName="PyramidWrapper";let ah=(0,s.memo)(e=>{let{Step:t=am,isFunnel:n=!1,isStepped:r=!1,alignment:l="center",...s}=e,{children:c,layoutOptions:d,index:u,numCells:p,dragHandle:h,direction:g}=s,m=d.outsideText,x=tu({containerSize:s.layoutContainerSize,columnsNeeded:m&&!s.scaleContentToFit?3:2}),{colorVars:f}=P(d,s.cellOptions,u),{colorVars:b}=P(d,s.cellOptions,u,!0);if(x)return(0,i.jsx)(tp,{...s});let y=d.numbered,v=au(l,g),C={...(0,E.yp)(v,g),...(0,E.AS)(v,g)},w=r?{bottom:"-1px"}:n?{top:"calc(-1px - ".concat(ar," / 2 )")}:{bottom:"calc(-1px - ".concat(ar," / 2 )")},A=n?0===u:u===p-1,j=r?"0.5em":ar,k=y&&m&&!r,S=k&&n&&u===p-1?{pos:"relative",bottom:"15%"}:k&&!n&&0===u?{pos:"relative",top:"15%"}:{},L="rtl"===g&&"left"===l||"ltr"===g&&"right"===l?"row-reverse":"row";return(0,i.jsxs)(I.s,{"data-selection-ring":!0,"data-content-reference":!0,pos:"relative",w:"100%",direction:L,justify:m||"center"!==l?void 0:"center",...s.selectCellForElementProps,children:[(0,i.jsxs)(t,{numCells:p,index:u,isFunnel:n,isOutside:m,isNumbered:y,alignment:l,selectCell:s.selectCell,selectCellForElementProps:s.selectCellForElementProps,stepSx:f,direction:g,image:s.image,children:[m?(0,i.jsx)(ag,{index:u,image:s.image,isNumbered:y,selectCell:s.selectCell,...S}):c,h]}),m&&(0,i.jsxs)(I.s,{direction:"column",justify:"center",minW:0,flex:1,px:H.xb,py:H.xb,pos:"relative",sx:C,className:o.VN,css:b,cursor:"text",children:[c,!A&&(0,i.jsx)(a.a,{contentEditable:!1,position:"absolute",...w,insetStart:j,insetEnd:j,h:"var(--line-thickness)",transform:"scaleY(0.5)",className:o.eI})]})]})});ah.displayName="PyramidCell";let ag=(0,s.memo)(e=>{let{index:t,image:n,selectCell:r,isNumbered:l,...s}=e;return(0,i.jsx)(a.a,{className:(0,W.cx)(R.U6,o.lR),fontSize:"1.25em",display:"flex",sx:(0,E.yp)("center"),pos:"relative",contentEditable:!1,...s,children:(0,i.jsx)(U.R,{image:n,number:l?t+1:void 0,isNumbered:l,iconSize:1.125,selectCell:r})})});ag.displayName="PyramidLabel";let am=(0,s.memo)(e=>{let{numCells:t,index:n,isFunnel:a,isOutside:r,isStacked:l,children:s,alignment:c,selectCellForElementProps:d,stepSx:u,direction:p}=e,h=a?t-n-1:n,{width:g,height:m,ref:x}=(0,F.Lh)(),f=45*!r,b=r&&!l?50:100,y=af(t,h,f),v=.99*af(t,h+1,f),C=b/100*v,w=(0,E.yp)(c,p),A=(0,E.AS)(c,p),j=l?void 0:r?{ms:"center"===c?"".concat((b-C)/2,"%"):void 0}:{maxW:"calc(".concat(aa," * ").concat(C/100,")")};return(0,i.jsxs)(I.s,{direction:"column",ref:x,"data-testId":"pyramid-step",pos:"relative",w:"".concat(C,"%"),sx:{...w,...A,...u},contentEditable:!r&&void 0,...j,children:[(0,i.jsx)(ax,{width:g,height:m,alignment:c,topSize:a?1:y/v,bottomSize:a?y/v:1,selectCellForElementProps:d}),(0,i.jsx)(I.s,{direction:"column",justify:"center",h:"100%",p:r?"0.5em":H.xb,boxSizing:"border-box",sx:{...w,alignItems:r?w.alignItems:"stretch"},className:o.lR,w:"".concat((y+v)/2/v*100,"%"),minW:"3em",cursor:"text",children:s})]})});am.displayName="PyramidStep";let ax=(0,s.memo)(e=>{let{width:t,height:n,topSize:r,bottomSize:l,alignment:s,selectCellForElementProps:c}=e,d=t*(1-r)/2,u=t*(1-l)/2,p="left"===s?"\n    M 0 0\n    L ".concat(t-2*d," 0\n    L ").concat(t-2*u," ").concat(n,"\n    L 0 ").concat(n,"\n    L 0 0 Z"):"right"===s?"\n    M ".concat(2*d," 0\n    L ").concat(t," 0\n    L ").concat(t," ").concat(n,"\n    L ").concat(2*u," ").concat(n,"\n    L ").concat(2*d," 0 Z"):"\n    M ".concat(d," 0\n    L ").concat(t-d," 0\n    L ").concat(t-u," ").concat(n,"\n    L ").concat(u," ").concat(n,"\n    L ").concat(d," 0 Z");return(0,i.jsx)(a.a,{as:"svg",pos:"absolute",inset:"0",overflow:"visible",contentEditable:!1,"data-testid":"trapezoid-svg",w:"".concat(t,"px"),h:"".concat(n,"px"),...c,children:(0,i.jsx)(a.a,{as:"path",d:p,className:o.D6,...c})})});ax.displayName="TrapezoidSVG";let af=(e,t,n)=>n+t/e*(100-n),ab={...tt,checkEnabled:e=>{let{options:t,node:n}=e,i=n&&(0,e8.xe)(n,te.q);return t.outsideText&&((null==i?void 0:i.every(e=>{var t,n;return!(null==e||null==(n=e.node)||null==(t=n.attrs)?void 0:t.image)}))||!0===t.numbered)}},ay=()=>({key:"pyramid",name:()=>l.Ru._({id:"MYceoI"}),icon:g.IJv,options:[al,ab,w],cellOptions:[w,k],presetConfigurations:[{name:()=>l.Ru._({id:"Ud6L0K"}),options:{outsideText:!1}},{name:()=>l.Ru._({id:"q9tXj9"}),options:{numbered:!0,outsideText:!0}}],Wrapper:ap,Cell:ah,addDirection:()=>"bottom",htmlTag:"pyramid",imageSlot:"optional",imageType:"icon",family:"steps"}),av=(0,s.memo)(e=>(0,i.jsx)(ah,{...e,isFunnel:!0}));av.displayName="FunnelCell";let aC=()=>({...ay(),key:"funnel",name:()=>l.Ru._({id:"n6KuKd"}),icon:g.AKc,htmlTag:"funnel",Cell:av,presetConfigurations:[{name:()=>l.Ru._({id:"rSrvFr"}),options:{outsideText:!1}},{name:()=>l.Ru._({id:"dXD9N4"}),options:{numbered:!0,outsideText:!0}}]}),aw=(0,s.memo)(e=>{let{children:t,options:n,containerSize:a,onContextMenu:r,selectLayoutForElementProps:l}=e,s=(0,E.yp)(n.horizontalAlign||"left"),{colorVars:o}=P(n);if(tu({containerSize:a,columnsNeeded:e.options.outsideText&&!e.scaleContentToFit?3:2}))return(0,i.jsx)(ac,{...e,Step:aA});let c={...s,...n.outsideText?o:{}};return(0,i.jsx)(I.s,{direction:"column","data-selection-ring":!0,gap:"0.5em",sx:c,onContextMenu:r,...l,children:t})});aw.displayName="StaircaseWrapper";let aA=(0,s.memo)(e=>{let{numCells:t,index:n,isOutside:a,isStacked:r,children:l,alignment:s,direction:c,selectCell:d,stepSx:u}=e,p={...(0,E.yp)(s,c),alignItems:a?"center":"stretch",...u},h=a&&!r?50:100,g=h/100*af(t,n+1,45*!a),m=r?void 0:a?{ms:"center"===s?"".concat((h-g)/2,"%"):void 0}:{maxW:"calc(".concat(aa," * ").concat(g/100,")")};return(0,i.jsx)(I.s,{py:a?"0.5em":H.xb,px:H.xb,sx:p,className:o.SA,w:"".concat(g,"%"),boxSizing:"border-box",...m,direction:"column",justify:"center",contentEditable:!a&&void 0,onClick:a?d:void 0,pos:"relative",children:l})});aA.displayName="StaircaseStep";let aj=(0,s.memo)(e=>{let t=e.layoutOptions.horizontalAlign;return(0,i.jsx)(ah,{...e,Step:aA,isFunnel:!1,isStepped:!0,alignment:t})});aj.displayName="StaircaseCell";let ak=()=>({...ay(),key:"staircase",name:()=>l.Ru._({id:"CFVHFO"}),options:[...ay().options,{...e5,defaultValue:(0,E.Ro)("left")}],presetConfigurations:[{name:()=>l.Ru._({id:"y9fkH/"}),options:{outsideText:!1}},{name:()=>l.Ru._({id:"nGMGDy"}),options:{numbered:!0,outsideText:!0}}],icon:g.UER,Wrapper:aw,Cell:aj,htmlTag:"staircase",imageSlot:"optional",imageType:"icon",family:"steps"}),aS=()=>tQ(),aL=()=>[tQ(),nc(),tU(),tG(),i5(),np(),nm(),t$(),t0(),t5(),iW(),nC(),nL(),i7(),nD(),nn(),i1(),t7(),nT(),i$(),ai(),tl(),eY(),e4(),n_(),nF(),nl(),nV(),iI(),ii(),is(),iT(),iC(),ij(),ak(),nG(),n0(),nQ(),n$(),ay(),aC(),tR(),t_(),tM(),tz(),tF(),iu(),ix(),e7(),nb()],aI=()=>aL().reduce((e,t)=>(e[t.key]=t,e),{}),aE=e=>{if(!e)return aS();aD[e]&&(e=aD[e]);let t=aI()[e];return t||aS()},aD={textBoxes:"solidBoxes",bullets:"bigBullets"}},77249:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,Z:()=>i});let i=(e,t)=>"".concat(e,"-").concat(JSON.stringify(t)),a=e=>{let[t,n]=e.split("-");return{key:t,options:JSON.parse(n)}}},77387:(e,t,n)=>{"use strict";n.d(t,{S:()=>f,o:()=>y});var i=n(6029),a=n(26420),r=n(55729),l=n(74158),s=n(48094),o=n(15342),c=n(6845),d=n(72688),u=n(87930),p=n(43634),h=n(95081),g=n(41896),m=n(82957),x=n(20011);let f=e=>{let{reduxData:t,...n}=e,a=(0,x.F)(t);return(0,i.jsx)(l.Kq,{store:a,children:(0,i.jsx)(b,{...n})})},b=e=>{let{onCreate:t=()=>{},initialContent:n,content:l,theme:x,isThumbnail:f,portalComponent:b}=e,[y,v]=(0,r.useState)(!1),C=(0,r.useMemo)(()=>(0,m.C)(),[]),w=(0,o.jL)();(0,r.useEffect)(()=>{w((0,p.Yl)({theme:x||null})),w((0,p.kd)({isAllowedToEdit:!1})),w((0,p.$j)({animationsEnabled:!1}))},[x,w]);let A=(0,g.hG)({async onCreate(e){var n;let{editor:i}=e;console.debug("[EditorPreview][onCreate] TipTap editor is now ready"),null==(n=d.Jl.getState(i.state))||n.compute(i.state).processChanges(w),i.commands.command(()=>((0,c.jL)(i.state.doc,w),!0)),v(!0),null==t||t({editor:i})},extensions:C,content:n,editable:!1});return(A.isThumbnail=f,(0,r.useEffect)(()=>{var e;l&&A&&(A.commands.setContent(l),A.commands.command(()=>((0,c.jL)(A.state.doc,w),!0)),null==(e=u.U.getState(A.state))||e.compute(A.state.doc).processChanges(w))},[l,A,w]),(0,s.GZ)(A),y)?(0,i.jsx)(a.a,{className:"editor-preview-root","data-variation-preview":!0,"data-testid":"editor-preview-root",width:"100%",position:"relative",sx:h.q,children:(0,i.jsx)(g.$Z,{editor:A,portalComponent:b,style:{width:"100%",height:"100%"},className:"highlight-mask"})}):(0,i.jsx)(i.Fragment,{})},y={"[data-thumbnail-hidden]":{display:"none !important"},"*":{backdropFilter:"none !important",webkitBackdropFilter:"none !important",WebkitTransition:"none !important",MozTransition:"none !important",OTransition:"none !important",msTransition:"none !important",transition:"none !important",vectorEffect:"none"},contain:"paint",".editor-core-root, .editor-preview-root":{height:"100% !important",width:"auto !important"},".doc-content-wrapper":{pb:"0 !important",minH:"auto !important"},"[data-doc-background-element], [data-doc-background-element-present-mode]":{display:"none !important"},".card2-background":{mt:0}}},77467:(e,t,n)=>{"use strict";n.d(t,{S:()=>i.S,_:()=>i._});var i=n(60277)},77639:(e,t,n)=>{"use strict";n.d(t,{Mi:()=>er,aM:()=>ea});var i=n(9329),a=n(97662);function r(){let e=(0,i._)(["\n  fragment DefaultThemeFontFields on ThemeFont {\n    id\n    name\n    url\n  }\n"]);return r=function(){return e},e}function l(){let e=(0,i._)(["\n  ","\n  fragment DefaultThemeFields on Theme {\n    id\n    workspaceId\n    name\n    headingFont\n    headingFontWeight\n    bodyFont\n    bodyFontWeight\n    accentColor\n    logoUrl\n    config\n    priority\n    previewUrl\n    archived\n    createdTime\n    updatedTime\n    fonts {\n      ... on ThemeFont {\n        ...DefaultThemeFontFields\n      }\n    }\n  }\n"]);return l=function(){return e},e}function s(){let e=(0,i._)(["\n  ","\n  mutation CreateTheme($input: CreateThemeInput!) {\n    createTheme(input: $input) {\n      ...DefaultThemeFields\n      docCount\n    }\n  }\n\n  mutation UpdateTheme($input: UpdateThemeInput!) {\n    updateTheme(input: $input) {\n      ...DefaultThemeFields\n      docCount\n    }\n  }\n\n  mutation MakeThemeStandard($id: ID!, $newId: ID) {\n    makeThemeStandard(id: $id, newId: $newId) {\n      ...DefaultThemeFields\n      docCount\n    }\n  }\n\n  mutation DuplicateTheme($id: ID!) {\n    duplicateTheme(id: $id) {\n      ...DefaultThemeFields\n    }\n  }\n\n  query GetTheme($id: ID) {\n    theme(id: $id) {\n      ...DefaultThemeFields\n      createdBy {\n        id\n        displayName\n        email\n        profileImageUrl\n      }\n    }\n  }\n\n  query GetThemeWithCount($id: ID) {\n    theme(id: $id) {\n      ...DefaultThemeFields\n      docCount\n      siteCount\n      createdBy {\n        id\n        displayName\n        email\n        profileImageUrl\n      }\n    }\n  }\n\n  query GetThemes($workspaceId: ID, $archived: Boolean) {\n    themes(workspaceId: $workspaceId, archived: $archived) {\n      ...DefaultThemeFields\n      createdBy {\n        id\n        displayName\n        email\n        profileImageUrl\n      }\n    }\n  }\n\n  mutation ArchiveTheme($id: ID!) {\n    archiveTheme(id: $id) {\n      ...DefaultThemeFields\n      docCount\n      siteCount\n    }\n  }\n\n  mutation UnarchiveTheme($id: ID!) {\n    unarchiveTheme(id: $id) {\n      ...DefaultThemeFields\n    }\n  }\n"]);return s=function(){return e},e}let o=(0,a.J1)(r()),c=(0,a.J1)(l(),o);function d(){let e=(0,i._)(["\n  query SearchMention(\n    $workspaceId: ID!\n    $query: String!\n    $types: [SearchType!] = [user, doc]\n  ) {\n    search(orgId: $workspaceId, query: $query, types: $types) {\n      __typename\n      ... on DocResult {\n        id\n        title\n        text\n        archived\n        previewUrl\n        createdBy {\n          id\n          displayName\n          profileImageUrl\n        }\n        organization {\n          id\n        }\n        editors {\n          user {\n            id\n            displayName\n            profileImageUrl\n          }\n          lastViewed\n          lastEdited\n        }\n        docUser {\n          lastViewed\n          lastEdited\n          favorited\n        }\n        orgAccess\n        updatedTime\n        createdTime\n        editedTime\n      }\n      ... on User {\n        id\n        displayName\n        email\n        profileImageUrl\n      }\n    }\n  }\n"]);return d=function(){return e},e}function u(){let e=(0,i._)(["\n  fragment ReactionFields on Reaction {\n    emoji\n    count\n    targetId\n    targetType\n    docId\n    users {\n      id\n      displayName\n      profileImageUrl\n    }\n  }\n"]);return u=function(){return e},e}function p(){let e=(0,i._)(["\n  fragment CommentAuthorFields on User {\n    id\n    displayName\n    profileImageUrl\n    email\n  }\n"]);return p=function(){return e},e}function h(){let e=(0,i._)(["\n  ","\n  ","\n  fragment ReplyFields on Comment {\n    id\n    commentId\n    content\n    createdTime\n    updatedTime\n    archived\n    user {\n      ...CommentAuthorFields\n    }\n    reactions {\n      ...ReactionFields\n    }\n  }\n"]);return h=function(){return e},e}function g(){let e=(0,i._)(["\n  ","\n  ","\n  ","\n  fragment CommentFields on Comment {\n    id\n    docId\n    cardId\n    content\n    targetText\n    targetHtml\n    createdTime\n    updatedTime\n    archived\n    targetId\n    status\n    user {\n      ...CommentAuthorFields\n    }\n    replies {\n      ...ReplyFields\n    }\n    reactions {\n      ...ReactionFields\n    }\n  }\n"]);return g=function(){return e},e}function m(){let e=(0,i._)(["\n  fragment DocCollaboratorFields on DocCollaborator {\n    docId\n    user {\n      id\n      displayName\n      email\n      profileImageUrl\n    }\n    permission\n    guest\n    accessLinkId\n  }\n\n  fragment DocInvitationsFields on DocInvitation {\n    id\n    docId\n    email\n    permission\n  }\n"]);return m=function(){return e},e}function x(){let e=(0,i._)(["\n  fragment DocChannelFields on DocChannel {\n    id\n    name\n    slug\n    permission\n  }\n"]);return x=function(){return e},e}function f(){let e=(0,i._)(["\n  fragment DocEditorsFields on DocEditor {\n    user {\n      id\n      displayName\n      email\n      profileImageUrl\n    }\n    lastEdited\n  }\n"]);return f=function(){return e},e}function b(){let e=(0,i._)(["\n  fragment FileCollaboratorFields on FileCollaborator {\n    user {\n      id\n      displayName\n      email\n      profileImageUrl\n    }\n    fileId\n    permission\n    guest\n    accessLinkId\n  }\n\n  fragment FileInvitationsFields on FileInvitation {\n    id\n    fileId\n    email\n    permission\n  }\n"]);return b=function(){return e},e}function y(){let e=(0,i._)(["\n  ","\n  fragment FileFields on File {\n    id\n    title\n    titleEdited\n    archived\n    disabled\n    channels {\n      id\n      name\n      permission\n      slug\n    }\n    createdBy {\n      id\n      displayName\n      email\n    }\n    accessLinks {\n      id\n      docId\n      type\n      permission\n      token\n      url\n    }\n    collaborators {\n      ...FileCollaboratorFields\n    }\n    invitations {\n      ...FileInvitationsFields\n    }\n    site {\n      id\n      enabled\n    }\n    createdTime\n    updatedTime\n    editedTime\n    publishedTime\n    savedTime\n    workspace {\n      id\n      name\n    }\n    workspaceAccess\n    pages {\n      id\n      title\n      path\n      offline\n      createdTime\n      updatedTime\n      editedTime\n    }\n    mainPageId\n\n    accessLinks {\n      id\n      docId\n      type\n      permission\n      token\n      url\n    }\n    channels {\n      id\n      permission\n      name\n    }\n    workspaceAccess\n    workspace {\n      id\n      name\n    }\n  }\n"]);return y=function(){return e},e}function v(){let e=(0,i._)(["\n  ","\n  ","\n  fragment DocSiteFields on Site {\n    id\n    archived\n    workspaceId\n    name\n    domains {\n      id\n      siteId\n      name\n      status\n      builtin\n      canonical\n    }\n    hasCustomDomain\n    routes {\n      id\n      siteId\n      docId\n      path\n      offline\n      doc {\n        id\n        title\n      }\n    }\n    currentDeployment {\n      id\n      siteId\n      buildHost\n      deploymentTime\n    }\n    createdTime\n    updatedTime\n    previewUrl\n    pageCount\n    archived\n    enabled\n    faviconUrl\n    themeId\n    navEnabled\n    navContent\n    gtmContainerId\n    metaPixelId\n  }\n"]);return v=function(){return e},e}function C(){let e=(0,i._)(["\n  ","\n  mutation AddCollaborators(\n    $docId: ID!\n    $collaborators: [DocCollaboratorInput!]!\n  ) {\n    addCollaborators(docId: $docId, collaborators: $collaborators) {\n      id\n      collaborators {\n        ...DocCollaboratorFields\n      }\n      invitations {\n        ...DocInvitationsFields\n      }\n    }\n  }\n"]);return C=function(){return e},e}function w(){let e=(0,i._)(["\n  ","\n  mutation RemoveCollaborators(\n    $docId: ID!\n    $collaborators: [DocCollaboratorRemovalInput!]!\n  ) {\n    removeCollaborators(docId: $docId, collaborators: $collaborators) {\n      id\n      collaborators {\n        ...DocCollaboratorFields\n      }\n      invitations {\n        ...DocInvitationsFields\n      }\n    }\n  }\n"]);return w=function(){return e},e}function A(){let e=(0,i._)(["\n  ","\n  mutation AddCollaboratorByAccessLink($docId: ID!) {\n    addCollaboratorByAccessLink(docId: $docId) {\n      id\n      collaborators {\n        ...DocCollaboratorFields\n      }\n    }\n  }\n"]);return A=function(){return e},e}function j(){let e=(0,i._)(["\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  query GetDoc($id: ID!, $password: String) {\n    doc(id: $id, password: $password) {\n      id\n      title\n      titleEdited\n      titleCard {\n        id\n        previewUrl\n      }\n      archived\n      disabled\n      createdTime\n      updatedTime\n      editedTime\n      savedTime\n      currentSnapshotId\n      publishedSnapshotId\n      publishedSnapshot {\n        content\n      }\n      publishedTime\n      source\n      comments {\n        ...CommentFields\n      }\n      reactions {\n        ...ReactionFields\n      }\n      accessLinks {\n        id\n        docId\n        type\n        permission\n        token\n        url\n      }\n      links {\n        url\n        status\n      }\n      orgAccess\n      organization {\n        id\n        name\n        products\n      }\n      theme {\n        ...DefaultThemeFields\n        fonts {\n          id\n          name\n          url\n        }\n      }\n      collaborators {\n        ...DocCollaboratorFields\n      }\n      invitations {\n        ...DocInvitationsFields\n      }\n      # Including docUser fields required for Apollo cache optimistic updates\n      # TODO if we use this in multiple places, extract a fragment\n      docUser {\n        id\n        docId\n        lastViewed\n        lastEdited\n        favorited\n      }\n      editors {\n        ...DocEditorsFields\n      }\n      createdBy {\n        firstName\n        displayName\n        id\n        email\n      }\n      channels {\n        ...DocChannelFields\n      }\n      site {\n        ...DocSiteFields\n      }\n      file {\n        ...FileFields\n        searchEngineIndexingEnabled\n      }\n      docGenerateInput {\n        id\n        settings\n        docGeneration {\n          id\n          generationType\n        }\n      }\n    }\n  }\n"]);return j=function(){return e},e}function k(){let e=(0,i._)(["\n  query GetDocRobots($id: ID!) {\n    doc(id: $id) {\n      id\n      title\n      createdTime\n      updatedTime\n      searchEngineIndexingAllowed\n      canonicalUrl\n      currentSnapshot {\n        id\n        docId\n        content\n      }\n      titleCard {\n        id\n        previewUrl\n        text\n      }\n      organization {\n        id\n        name\n        products\n        # NB: Need this so that useCan works properly.\n        __typename\n      }\n      createdBy {\n        displayName\n        id\n        email\n      }\n      links {\n        url\n        nodeType\n        status\n      }\n      theme {\n        ...DefaultThemeFields\n      }\n    }\n  }\n"]);return k=function(){return e},e}function S(){let e=(0,i._)(["\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  subscription SubscribeToDoc($id: ID!) {\n    doc(id: $id) {\n      ... on DocSubscription {\n        id\n        title\n        titleEdited\n        titleCard {\n          id\n          previewUrl\n        }\n        archived\n        updatedTime\n        editedTime\n        savedTime\n        publishedTime\n        accessLinks {\n          id\n          docId\n          type\n          permission\n          token\n          url\n        }\n        channels {\n          ...DocChannelFields\n        }\n        collaborators {\n          ...DocCollaboratorFields\n        }\n        editors {\n          ...DocEditorsFields\n        }\n        invitations {\n          ...DocInvitationsFields\n        }\n        theme {\n          ...DefaultThemeFields\n        }\n        reactions {\n          ...ReactionFields\n        }\n        orgAccess\n      }\n\n      ... on DocCommentsSubscription {\n        id\n        comments {\n          ...CommentFields\n        }\n      }\n      ... on DocReactionsSubscription {\n        id\n        reactions {\n          ...ReactionFields\n        }\n      }\n      ... on DocLinksSubscription {\n        id\n        links {\n          url\n          status\n        }\n      }\n    }\n  }\n"]);return S=function(){return e},e}function L(){let e=(0,i._)(["\n  mutation UpdateDocTitle($id: ID!, $title: String, $titleEdited: Boolean) {\n    updateDoc(input: { id: $id, title: $title, titleEdited: $titleEdited }) {\n      id\n      title\n      titleEdited\n    }\n  }\n"]);return L=function(){return e},e}function I(){let e=(0,i._)(["\n  mutation UpdateDocOrgAccess($id: ID!, $orgAccess: Permission) {\n    updateDoc(input: { id: $id, orgAccess: $orgAccess }) {\n      id\n      orgAccess\n    }\n  }\n"]);return I=function(){return e},e}function E(){let e=(0,i._)(["\n  mutation UpdateDocAccessLinks($id: ID!, $accessLinks: [AccessLinkInput!]) {\n    updateDoc(input: { id: $id, accessLinks: $accessLinks }) {\n      id\n      accessLinks {\n        permission\n        id\n      }\n    }\n  }\n"]);return E=function(){return e},e}function D(){let e=(0,i._)(["\n  ","\n  mutation UpdateDocTheme($id: ID!, $themeId: String) {\n    updateDoc(input: { id: $id, themeId: $themeId }) {\n      id\n      theme {\n        ...DefaultThemeFields\n      }\n    }\n  }\n"]);return D=function(){return e},e}function M(){let e=(0,i._)(["\n  mutation InviteMembers($workspaceId: ID!, $invitees: [InvitationInput!]!) {\n    inviteMembers(orgId: $workspaceId, invitees: $invitees) {\n      id\n      name\n      invitations {\n        email\n      }\n    }\n  }\n"]);return M=function(){return e},e}function R(){let e=(0,i._)(["\n  ","\n  ","\n  ","\n  mutation CreateComment($input: CreateCommentInput) {\n    createComment(input: $input) {\n      id\n      docId\n      cardId\n      content\n      targetText\n      targetHtml\n      createdTime\n      updatedTime\n      commentId\n      archived\n      targetId\n      status\n      user {\n        ...CommentAuthorFields\n      }\n      replies {\n        ...ReplyFields\n      }\n      reactions {\n        ...ReactionFields\n      }\n    }\n  }\n"]);return R=function(){return e},e}function _(){let e=(0,i._)(["\n  mutation UpdateComment($input: UpdateCommentInput!) {\n    updateComment(input: $input) {\n      id\n      docId\n      content\n      updatedTime\n    }\n  }\n"]);return _=function(){return e},e}function z(){let e=(0,i._)(["\n  mutation UpdateCommentStatus($input: UpdateCommentStatusInput!) {\n    updateCommentStatus(input: $input) {\n      id\n      status\n      updatedTime\n    }\n  }\n"]);return z=function(){return e},e}function N(){let e=(0,i._)(["\n  mutation RemoveComment($id: ID!) {\n    archiveComment(id: $id) {\n      id\n      archived\n    }\n  }\n"]);return N=function(){return e},e}function T(){let e=(0,i._)(["\n  ","\n  fragment DocReactionsCreate on Doc {\n    reactions {\n      ...ReactionFields\n    }\n  }\n"]);return T=function(){return e},e}function P(){let e=(0,i._)(["\n  ","\n  ","\n  fragment DocCommentsCreate on Doc {\n    comments {\n      id\n      docId\n      cardId\n      content\n      targetText\n      targetHtml\n      createdTime\n      updatedTime\n      archived\n      targetId\n      status\n      user {\n        ...CommentAuthorFields\n      }\n    }\n  }\n  fragment DocRepliesCreate on Doc {\n    comments {\n      id\n      replies {\n        ...ReplyFields\n      }\n    }\n  }\n  fragment DocCommentsUpdate on Doc {\n    comments {\n      id\n      docId\n      content\n      updatedTime\n      reactions {\n        ...ReactionFields\n      }\n    }\n  }\n  fragment DocRepliesUpdate on Doc {\n    comments {\n      id\n      replies {\n        id\n        docId\n        content\n        updatedTime\n        reactions {\n          ...ReactionFields\n        }\n      }\n    }\n  }\n  fragment DocCommentsRemove on Doc {\n    comments {\n      id\n      archived\n    }\n  }\n  fragment DocRepliesRemove on Doc {\n    comments {\n      id\n      replies {\n        id\n        archived\n      }\n    }\n  }\n"]);return P=function(){return e},e}function H(){let e=(0,i._)(["\n  ","\n  mutation AddReaction($reactionInput: AddReactionInput!) {\n    addReaction(input: $reactionInput) {\n      ...ReactionFields\n    }\n  }\n"]);return H=function(){return e},e}function F(){let e=(0,i._)(["\n  ","\n  mutation RemoveReaction($reactionInput: RemoveReactionInput!) {\n    removeReaction(input: $reactionInput) {\n      ...ReactionFields\n    }\n  }\n"]);return F=function(){return e},e}function B(){let e=(0,i._)(["\n  query GetMemoAnalytics($memoId: ID!) {\n    memoStats(id: $memoId) {\n      memoId\n      uniqueViewers\n      uniqueEditors\n      cardCount\n      lastOpened\n      viewers {\n        user {\n          id\n          displayName\n          email\n          profileImageUrl\n        }\n        visitorId\n        lastOpened\n        cardsViewed\n      }\n      dailyViews {\n        dayCount\n        timezone\n        everyone {\n          date\n          uniqueVisitors\n        }\n        viewers {\n          date\n          uniqueVisitors\n        }\n      }\n    }\n  }\n\n  query GetDocCardsAnalytics($docId: ID!, $userId: ID) {\n    docCardsStats(docId: $docId, userId: $userId) {\n      docId\n      uniqueVisitors\n      uniqueEditors\n      cardCount\n      everyone {\n        cardId\n        viewTimePercent\n        viewersPercent\n      }\n      viewers {\n        cardId\n        viewTimePercent\n        viewersPercent\n      }\n    }\n  }\n"]);return B=function(){return e},e}function O(){let e=(0,i._)(["\n  mutation SetDocPassword($docId: ID!, $password: String!) {\n    setDocPassword(id: $docId, password: $password) {\n      id\n      accessLinks {\n        id\n        permission\n        type\n      }\n    }\n  }\n"]);return O=function(){return e},e}function V(){let e=(0,i._)(["\n  mutation RemoveDocPassword($docId: ID!) {\n    removeDocPassword(id: $docId) {\n      id\n      accessLinks {\n        id\n        permission\n        type\n      }\n    }\n  }\n"]);return V=function(){return e},e}function W(){let e=(0,i._)(["\n  query GetDocPassword($docId: ID!) {\n    getDocPassword(id: $docId)\n  }\n"]);return W=function(){return e},e}function U(){let e=(0,i._)(["\n  mutation UpdateSearchEngineIndexing($fileId: ID!, $enable: Boolean!) {\n    updateSearchEngineIndexing(fileId: $fileId, enable: $enable) {\n      id\n      searchEngineIndexingEnabled\n    }\n  }\n"]);return U=function(){return e},e}function G(){let e=(0,i._)(["\n  query GetPublicDoc($docId: ID!) {\n    publicDoc(id: $docId) {\n      id\n      logoUrl\n    }\n  }\n"]);return G=function(){return e},e}function Z(){let e=(0,i._)(["\n  query GetDocCurrentSnapshotId($id: ID!) {\n    doc(id: $id) {\n      id\n      currentSnapshotId\n    }\n  }\n"]);return Z=function(){return e},e}function K(){let e=(0,i._)(["\n  query GetDocCurrentSnapshot($id: ID!, $password: String) {\n    doc(id: $id, password: $password) {\n      id\n      currentSnapshot {\n        content\n        __typename\n      }\n    }\n  }\n"]);return K=function(){return e},e}(0,a.J1)(s(),c),(0,a.J1)(d());let Q=(0,a.J1)(u()),q=(0,a.J1)(p()),J=(0,a.J1)(h(),Q,q),$=(0,a.J1)(g(),J,Q,q),Y=(0,a.J1)(m()),X=(0,a.J1)(x()),ee=(0,a.J1)(f()),et=(0,a.J1)(b()),en=(0,a.J1)(y(),et),ei=(0,a.J1)(v(),c,en);(0,a.J1)(C(),Y),(0,a.J1)(w(),Y),(0,a.J1)(A(),Y),(0,a.J1)(j(),$,Y,ee,X,ei,c,Q),(0,a.J1)(k());let ea=(0,a.J1)(S(),$,Y,ee,X,c,Q);(0,a.J1)(L()),(0,a.J1)(I()),(0,a.J1)(E()),(0,a.J1)(D(),c),(0,a.J1)(M()),(0,a.J1)(R(),J,Q,q),(0,a.J1)(_()),(0,a.J1)(z()),(0,a.J1)(N()),(0,a.J1)(T(),Q);let er=(0,a.J1)(P(),J,q);(0,a.J1)(H(),Q),(0,a.J1)(F(),Q),(0,a.J1)(B()),(0,a.J1)(O()),(0,a.J1)(V()),(0,a.J1)(W()),(0,a.J1)(U()),(0,a.J1)(G()),(0,a.J1)(Z()),(0,a.J1)(K())},78893:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var i=n(63867),a=n(55729),r=n(22115),l=n(15342),s=n(43634);let o=e=>{let{editor:t,getPos:n}=e,o=(0,l.GV)(s.nD),c=(0,l.GV)(s.Du),d=(0,l.jL)(),{onContextMenu:u,menuProps:p}=(0,r.EF)(),{onClose:h,...g}=p;return{onCloseContextMenu:()=>{d((0,s.$n)({open:!1})),h()},onOpenContextMenu:(0,a.useCallback)(e=>{let a=n();if(o&&"number"==typeof a){if(c)return void e.preventDefault();t.view.dispatch(t.view.state.tr.setSelection(i.nh.create(t.view.state.doc,a))),u(e),d((0,s.$n)({open:!0}))}},[o,c,t.view,n,u,d]),menuProps:g}}},79018:(e,t,n)=>{"use strict";n.d(t,{dD:()=>r,x9:()=>c});var i=n(33750),a=n.n(i);let r=e=>{let{label:t,basis:n=100}=e,i=c(t);return i?a()(i/n,0,1):0},l=/[0-9,.]+/g,s=/[,.](?=\d{3})/g,o=/([0-9]+)\s?\/\s?([0-9]+)/g,c=e=>{if(e){if("number"==typeof e)return e;try{var t,n;let i=null==(t=e.match(o))?void 0:t[0];if(i){let[e,t]=i.split("/").map(e=>e.trim());return 100*parseFloat(e)/parseFloat(t)}let a=null==(n=e.match(l))?void 0:n[0],r=null==a?void 0:a.replaceAll(s,"");return r?parseFloat(r):void 0}catch(t){console.error("[SmartLayout] Failed to parse label number: ".concat(e),t);return}}}},79555:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var i=n(88586),a=n(32024);class r extends a.U{getSystemChatMessage(e){return{role:i.VDI.System,operation:this.systemPromptOperation,variables:e}}getUserChatMessage(e){return{role:i.VDI.User,operation:this.userPromptOperation,variables:e}}constructor({variables:e,systemPromptOperation:t,userPromptOperation:n,params:i}){super({params:i}),this.variables=e,this.systemPromptOperation=t,this.userPromptOperation=n}}},79958:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var i=n(77650),a=n(99038);let r=e=>e&&e.length?e:i.Ru._({id:"7ZviFu",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.TP}})},80039:(e,t,n)=>{"use strict";n.d(t,{QP:()=>r,j1:()=>a,lI:()=>i});let i=e=>"middle"===e?"center":e,a=e=>({start:"left",middle:"center",end:"right"})[e],r=(e,t)=>{t&&Object.entries(t).forEach(t=>{let[n,i]=t;void 0!==i&&e.style.setProperty(n,i.toString())})}},80045:(e,t,n)=>{"use strict";n.d(t,{R:()=>m});var i=n(37243),a=n(41896),r=n(12117),l=n(46957),s=n(43944),o=n(91656),c=n(6029),d=n(84886),u=n(66082);let p=[e=>e.toString(),e=>String.fromCharCode(96+e),e=>(function(e){let t={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},n="";for(let i of Object.keys(t)){let a=Math.floor(e/t[i]);e-=a*t[i],n+=i.repeat(a)}return n})(e).toLowerCase()],h=e=>{var t;let{decorations:n,node:i}=e,{indent:r,fontSize:l,placeholder:s}=i.attrs,o=null==(t=n.find(e=>e.spec.listNumber))?void 0:t.spec.listNumber,h=(p[r%p.length]||p[0])(o);return(0,c.jsx)(d.u,{dir:(0,u.fZ)(n),...e,children:(0,c.jsx)(a.$p,{as:"li","data-list-counter":h,"data-font-size":l,"data-placeholder":s})})},g=/^(\d+)\.\s$/,m=i.bP.create({name:o.e.Numbered,content:"inline*",defining:!0,group:"block cardNotesBlock",selectable:!1,allowFontSizes:"body",addOptions:()=>({HTMLAttributes:{}}),addNodeView:()=>(0,a.gu)(h,{as:"ol",update:l.z0,updateWrapperEl:(e,t)=>{e.setAttribute("indent",t.node.attrs.indent)}}),addAttributes:()=>({indent:{default:0},fontSize:r.mD}),addInputRules(){return[(0,s.aW)({find:g,type:this.type},this.editor.state.schema)]},addKeyboardShortcuts:()=>({"Mod-/":e=>{let{editor:t}=e;return t.commands.setListItems({variant:o.e.Numbered})},"Mod-Shift-7":e=>{let{editor:t}=e;return t.commands.setListItems({variant:o.e.Numbered})}}),parseHTML(){return[{tag:'li[variant="'.concat(this.name,'"]')}]},renderHTML(e){let{HTMLAttributes:t}=e;return["li",(0,i.KV)(this.options.HTMLAttributes,t,{variant:this.name}),0]}})},80215:(e,t,n)=>{"use strict";n.d(t,{N_:()=>x,lQ:()=>b,mF:()=>f});var i=n(6029),a=n(78140),r=n(36999),l=n(49611),s=n(41283),o=n(37930),c=n(48478),d=n(48810),u=n(99492),p=n(48621),h=n(19564),g=n(45176),m=n(80180);let x=()=>({flex:{title:(0,i.jsx)(h.x6,{id:"oNVcTP"}),description:(0,i.jsx)(h.x6,{id:"HfsL0F"})},grid:{title:(0,i.jsx)(h.x6,{id:"fY+Mvd"}),description:(0,i.jsx)(h.x6,{id:"Ur6uwh"})},logo:{title:(0,i.jsx)(h.x6,{id:"iG7KNr"}),description:(0,i.jsx)(h.x6,{id:"hcTCev"})}}),f=(e,t,n,i)=>{let a="flex"===e&&t.thumbHeight<g.pg?g.pg:"grid"===e||"logo"===e?Math.round(t.thumbHeight):void 0;n.chain().updateAttributes("gallery",{layout:e,dimensions:"grid"===e?"square":void 0,stretchToFill:"flex"!==e&&void 0,...a&&{thumbHeight:a}}).setNodeSelection(i.from).focus().run()},b=e=>{let{selection:t,editor:n}=e,h=t.node.attrs,g=x(),b=Object.keys(g).includes(h.layout)?h.layout:"flex",y=g[b].title;return(0,i.jsxs)(a.W,{closeOnSelect:!0,isLazy:!0,autoSelect:!1,strategy:"fixed",children:[(0,i.jsx)(r.I,{as:l.$,"data-testid":"display-style-dropdown",size:"sm",rightIcon:(0,i.jsx)(p.g,{fixedWidth:!0,icon:u.Jt$,transform:"shrink-6"}),boxShadow:"none",onMouseDown:m.Fw,children:y}),(0,i.jsx)(s.c,{zIndex:2,maxW:"400px",children:(0,i.jsx)(o.i,{type:"radio",onChange:e=>f(e,h,n,t),value:h.layout,children:Object.entries(g).map(e=>{let[t,{title:n,description:a}]=e;return(0,i.jsxs)(c.k,{value:t,onMouseDown:m.Fw,"data-testid":"display-style-option-".concat(t),children:[(0,i.jsx)(d.E,{children:n}),(0,i.jsx)(d.E,{fontSize:"xs",color:"gray.500",children:a})]},t)})})})]})}},80911:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var i=n(94289),a=n(63867),r=n(91242),l=n(23513);class s extends a.LN{map(e,t){let{deleted:n,pos:i}=t.mapResult(this.anchor),r=e.resolve(i);return n?(0,l.n)(r)||a.LN.near(r):new s(r,this.side)}content(){return new i.Ji(i.FK.from(this.node),0,0)}eq(e){return e instanceof s&&e.anchor===this.anchor&&e.side===this.side}toJSON(){return{type:"presentation",anchor:this.anchor,side:this.side}}createSelectionNear(){let e=this.side<1?1:-1;return(0,r.s)(this.$from,e)||a.LN.near(this.$from)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw RangeError("Invalid input for PresentationSelection.fromJSON");return new s(e.resolve(t.anchor))}static create(e,t,n){return new s(e.resolve(t),n)}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}constructor(e,t=0){let n=e.nodeAfter;super(e,e.node(0).resolve(e.pos+n.nodeSize)),this.node=n,this.side=t}}if(s.prototype.visible=!1,!s.prototype.jsonID)try{a.LN.jsonID("presentation",s)}catch(e){}},81570:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});let i={prompt:"",template:null,settings:{},status:"ready"}},81880:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var i=n(60908);let a=e=>{var t,n;return!!(e.src&&!(0,i.v7)(e.src)&&!(0,i.SV)(e.src)&&!((null==(t=e.meta)?void 0:t.frame_count)&&(null==(n=e.meta)?void 0:n.frame_count)>1))}},81946:(e,t,n)=>{"use strict";n.d(t,{R:()=>m});var i=n(6029),a=n(24302),r=n(26385),l=n(56570),s=n(26420),o=n(47412),c=n(19564),d=n(55729),u=n(82328),p=n(42644),h=n(84672),g=n(27856);let m=(0,d.memo)(function(e){let{editor:t,appendCard:n}=e,{isInOfflineMode:d}=(0,u.u)(),m={bgColor:(0,a.dU)("gray.50","blackAlpha.900")};return(0,i.jsx)(r.B,{p:2,bg:m.bgColor,children:(0,g.D)().map(e=>{let{subcategory:a,items:u}=e,g=u.filter(e=>t&&!(0,p.gT)(t,e,!1,d));if(0!==g.length)return(0,i.jsxs)(r.B,{spacing:1,children:[(0,i.jsx)(o._x,{flex:"1",textAlign:"left",children:a}),(0,i.jsx)(l.x,{gap:"1.5",gridTemplateColumns:"1fr 1fr 1fr",children:g.map(e=>(0,i.jsx)(o.Tz,{label:(0,i.jsx)(c.x6,{id:"BPbkIF"}),placement:"top",children:(0,i.jsx)(s.a,{cursor:"pointer",onClick:()=>{n(e.key)},borderRadius:"xl",_hover:{boxShadow:"lg"},transitionProperty:"box-shadow",transitionDuration:"normal",children:(0,i.jsx)(h.Z,{item:e})})},e.key))})]},a)})})})},82059:(e,t,n)=>{"use strict";n.d(t,{h:()=>b,f:()=>m});var i=n(37243),a=n(17406),r=n(41896),l=n(36811),s=n(46957),o=n(6029),c=n(21938),d=n(77650),u=n(40077),p=n(84886),h=n(66082);let g=e=>{let{node:t,decorations:n}=e,{level:i,horizontalAlign:a,placeholder:l}=t.attrs,s=l||(i===m.DefaultTitle?d.Ru._({id:"wja8aL"}):d.Ru._({id:"MHrjPM"}));return(0,o.jsx)(p.u,{...e,style:{display:"flex",flexDirection:"column",...(0,h.yp)(a)},children:(0,o.jsx)(r.$p,{dir:(0,h.fZ)(n),level:i,className:(0,c.cx)("title",u.U6),"data-placeholder":s,style:{minWidth:"min(100%, 10em)",...(0,h.O8)(a)}})})};var m=function(e){return e[e.DefaultTitle=1]="DefaultTitle",e[e.LargeTitle=2]="LargeTitle",e[e.XLargeTitle=3]="XLargeTitle",e}({});let x=e=>{switch(e){case 1:default:return"md";case 2:return"lg";case 3:return"xl"}},f=e=>{switch(e){case"md":default:return 1;case"lg":return 2;case"xl":return 3}},b=i.bP.create({name:"title",content:"inline*",group:"block cardNotesBlock",defining:!0,selectable:!1,addAttributes:()=>({level:{default:1}}),addNodeView:()=>(0,r.gu)(g,{update:s.z0}),parseHTML:()=>[{tag:"h1[class=title]"},{tag:"display[size]",getAttrs:e=>({level:f(e.getAttribute("size"))})}],addInputRules(){return(0,a.Y5)().map(e=>{let[,t]=e,{inputRegex:n,level:i}=t;return n?(0,l.JJ)({find:n,type:this.type,getAttributes:{level:i}}):null}).filter(e=>!!e)},renderHTML(e){let{HTMLAttributes:t}=e;return["h1",(0,i.KV)(t,{class:"title"}),0]},renderHTMLforAI(e){let{HTMLAttributes:t}=e,{level:n=1,...i}=t,a=x(n);return["display",{...i,size:a},0]}})},82172:(e,t,n)=>{"use strict";n.d(t,{Jx:()=>p,SQ:()=>o,pT:()=>d,tb:()=>u});var i=n(932),a=n.n(i),r=n(91656),l=n(15607),s=n(70815);let o=e=>{let t=[];for(let n=0;n<e.length;n++){let i=e[n],a=i.node.attrs.indent,r=c(e,n,e=>e.node.attrs.indent>a),l=o(r);t.push({node:i.node,pos:i.pos,children:l}),n+=r.length}return t},c=(e,t,n)=>{let i=[];for(let a=t+1;a<e.length;a++){let t=e[a];if(n(t))i.push(t);else break}return i},d=e=>e.map(e=>{let t=d(e.children);return{type:"card",content:[{type:"heading",attrs:{level:Math.min(e.node.attrs.indent+1,s.Bq)},content:[{type:"text",text:e.node.textContent}]},...t]}}),u=(e,t)=>({type:"smartLayout",attrs:{variantKey:t},content:e.map(e=>{let t=[{type:"heading",attrs:{level:4},content:a()(e.node.content.toJSON())}];return t.push(...e.children.map(e=>{let t=a()(e.node.toJSON());return t.attrs.indent-=1,t})),{type:"smartLayoutCell",content:t}})}),p=e=>(0,l.Ng)(e,r.x)},82592:(e,t,n)=>{"use strict";n.d(t,{CP:()=>h,FN:()=>x,Sg:()=>g,gC:()=>m});var i=n(37243),a=n(94289),r=n(47665),l=n(42721),s=n(85448),o=n(68469),c=n(95011),d=n(63792);let u=new Map,p=new Map,h=async e=>{let{editor:t,rootNode:n,theme:i,interactionId:a,workspaceId:r,docId:s,startPos:o,endPos:h}=e,g=(0,d.i)(),m=new c.t;n.descendants((e,n)=>{if((!o||!(n<o))&&(!h||!(n>h)))for(let n of g){if(!n.detectNode(e))continue;let o=n.getNodeId(e);if(!o)continue;let c={docId:s||t.gammaDocId,workspaceId:r||t.gammaOrgId||(0,l.gx)(),interactionId:a,theme:i,imageStore:m},d=n.getCacheKey(e,c);if(p.has(d)){f(t,o,n,p.get(d));continue}if(u.has(d)){u.get(d).then(e=>{f(t,o,n,e)});continue}let h=n.processNode(e,c);u.set(d,h),h.then(e=>{p.set(d,e),f(t,o,n,e)});break}})},g=async e=>{let{editor:t,content:n,theme:i,interactionId:r,workspaceId:l,docId:s}=e,o=a.bP.fromJSON(t.state.schema,n);h({editor:t,rootNode:o,theme:i,interactionId:r,workspaceId:l,docId:s})},m=async e=>{let{card:t,schema:n,context:i,theme:r}=e,l=[],h=(0,d.i)(),g=new c.t,m=i.interactionId||(0,o.$)();(0,s.LS)(t,async e=>{if("text"!==e.type)try{let t=a.bP.fromJSON(n,e);for(let n of h)if(n.detectNode(t)){if(!n.getNodeId(t))continue;let a={docId:i.docId,workspaceId:i.workspaceId,interactionId:m,theme:r,imageStore:g},s=n.getCacheKey(t,a);if(p.has(s)){e.attrs=p.get(s);continue}if(!u.has(s)){let i=n.processNode(t,a);u.set(s,i),i.then(t=>{p.set(s,t),e.attrs=t}),l.push(i)}break}}catch(e){console.error(e)}}),await Promise.all(l)},x=async e=>{let{lastCompletedCardId:t,editor:n,theme:a,interactionId:l}=e;if(!t)return;console.debug("[AsyncNodes] Resuming incomplete nodes after card:",t);let s=(0,i.xe)(n.state.doc,e=>(0,r.jg)(e)&&e.attrs.id===t)[0];if(!s)return void console.error("[resumeIncompleteAsyncNodes] Cannot find card with id:",t);let o=s.pos+s.node.nodeSize;h({editor:n,rootNode:n.state.doc,theme:a,interactionId:l,startPos:0,endPos:o})},f=(e,t,n,a)=>{let r=(0,i.xe)(e.state.doc,e=>n.getNodeId(e)===t)[0];if(!r)return void console.error("[updateAsyncNodeAttrs] Could not find node with id=".concat(t));let l=e.chain();l.updateAttributesAtPos(r.pos,a),l.noUndo&&l.noUndo(),l.run()}},82957:(e,t,n)=>{"use strict";n.d(t,{C:()=>cs});var i=n(57398),a=n(58497),r=n(91938),l=n(87140),s=n(37243),o=n(51589),c=n(62040),d=n(41896),u=n(46957),p=n(6029),h=n(26420),g=n(84886),m=n(66082);let x=e=>(0,p.jsx)(g.u,{...e,children:(0,p.jsxs)(h.a,{position:"relative","data-selection-ring":"padded",dir:(0,m.fZ)(e.decorations),children:[(0,p.jsx)(d.$p,{as:"blockquote"}),(0,p.jsx)(h.a,{position:"absolute",css:{insetInlineStart:"0"},top:"0",height:"100%",w:"var(--line-thickness)",backgroundColor:"var(--accent-color)",backgroundImage:"var(--accent-gradient)"})]})}),f=o.Ay.extend({group:"cardBlock layoutBlock footnoteBlock tableBlock smartLayoutBlock",content:"(block | calloutBlock)+",addNodeView:()=>(0,d.gu)(x,{update:u.z0}),addCommands(){var e;return{...null==(e=this.parent)?void 0:e.call(this),unwrapQuoteOnDelete:()=>e=>{let{state:t,tr:n}=e,{selection:i}=t;if(!i.empty)return!1;let a=(0,s.KP)(e=>e.type.name===f.name)(i);if(!a||!(i.from<=a.pos+2))return!1;let r=i.$from.blockRange(i.$to);if(!r)return!1;let l=(0,c.jP)(r);return!!l&&(n.lift(r,l),!0)}}}});var b=n(41885);let y=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,v=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,C=b.Ay.extend({addInputRules(){return[(0,s.OX)({find:y,type:this.type}),(0,s.OX)({find:v,type:this.type})]},renderHTML(e){let{HTMLAttributes:t}=e;return["b",(0,s.KV)(this.options.HTMLAttributes,t),0]}});var w=n(44911),A=n(9343),j=n(9100);let k=s.bP.create({name:"buttonGroup",content:"button{1, ".concat(j.r4,"}"),group:"block",allowGapCursor:!1,addNodeView:()=>(0,d.gu)(A.r,{update:u.R$}),parseHTML:()=>[{tag:"div[class=button-group]"},{tag:"buttons"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,s.KV)(t,{class:"button-group"}),0]},renderHTMLforAI(e){let{node:t}=e;return["buttons",{},0]}});var S=n(58959),L=n(48810),I=n(21938),E=n(48621),D=n(55729),M=n(40077),R=n(62452),_=n(30892),z=n(58082),N=n(43216),T=n(93770),P=n(17006),H=n(7957);let F=e=>{let{node:t,editor:n,getPos:i,decorations:a}=e,{variant:r,icon:l,color:s}=t.attrs,{firstChildSize:o}=(0,T.P)(a),{theme:c,isDark:u}=(0,z.a)(a),m=(0,P.bh)(o,c),x=(0,R.Ik)((0,R.VH)(c)),{colors:f,icon:b}=(0,H.Tg)(r),{backgroundColor:y,iconColor:v,bodyColor:C}=s?B(s):O(u,f,x),w=(0,D.useCallback)(()=>{n.isEditable&&n.commands.selectNodeAtPos(i())},[n,i]);return(0,p.jsx)(g.u,{...e,children:(0,p.jsxs)(h.a,{backgroundColor:"".concat(y," !important"),pt:"0.25em",pb:"0.5em",px:"1em",className:"calloutBox",borderRadius:"var(--box-border-radius)",css:{"--body-color":C,"--heading-color":C},"data-selection-ring":!0,pos:"relative",children:[(0,p.jsxs)(S.z,{direction:"row",align:o?"baseline":"flex-start",spacing:"1em",children:[l&&(0,p.jsx)(L.E,{sx:m,onClick:w,color:v,mt:o?void 0:"1em",contentEditable:!1,children:(0,p.jsx)(E.g,{icon:b,fixedWidth:!0})}),(0,p.jsx)(d.$p,{style:{flex:"1 1 auto",minWidth:0},className:(0,I.cx)(M.Dv)})]}),(0,p.jsx)(N.A,{handlePlacement:"outside",...e})]})})},B=e=>{let t=(0,_.$p)(e),n=t?(0,_.PE)(e,.7):(0,_.PE)(e,.3);return{backgroundColor:e,bodyColor:t?"white":"black",iconColor:n}},O=(e,t,n)=>{if("accent"===t){let t=e?(0,_.PE)(n,.15):(0,_.PE)(n,.85),i=e?(0,_.PE)(n,.7):(0,_.PE)(n,.3);return{backgroundColor:t,bodyColor:e?"white":"black",iconColor:i}}let i=e?t.dark:t.light;return{backgroundColor:i.backgroundColor,bodyColor:e?"white":"black",iconColor:i.iconColor}},V=s.bP.create({name:"calloutBox",group:"cardBlock layoutBlock footnoteBlock smartLayoutBlock",content:"(block | calloutBlock)+",selectable:!0,isolating:!0,containerHandle:!0,addAttributes:()=>({variant:{default:"note",parseHTML:e=>e.getAttribute("variant"),renderHTML:e=>({variant:e.variant})},icon:{default:!0},color:{renderHTML:e=>({color:e.color}),parseHTML:e=>e.getAttribute("color")}}),addNodeView:()=>(0,d.gu)(F,{update:u.z0}),parseHTML:()=>[{tag:"aside"}],renderHTML(e){let{HTMLAttributes:t}=e;return["aside",(0,s.KV)(t,{class:"calloutBox"}),0]}});var W=n(26406),U=n(6845),G=n(86812),Z=n(72688),K=n(29614),Q=n(45611),q=n(55978),J=n(15607),$=n(98088),Y=n(53996),X=n(59230),ee=n(15342),et=n(89703),en=n(62917),ei=n(43634),ea=n(85235),er=n(80180),el=n(60908),es=n(4522);let eo=e=>{var t,n;let{node:i,editor:a,getPos:r}=e,{image:l}=i.attrs,{src:s,tempUrl:o,uploadStatus:c,showPlaceholder:d}=l,u=(0,ee.GV)(ei.nD),h=c===X.A.Uploading,m=(0,ee.GV)(ei.wC)===ea.w.SLIDE_VIEW,x=(0,et.f)(),f=(0,en.j8)(a,r),b=(0,D.useCallback)(()=>{u&&(f(),x({isOpen:!0}))},[u,x,f]),y=d||!s&&!o;return(0,p.jsx)(g.u,{...e,children:(0,p.jsxs)(Y.o,{className:"image-card",position:"relative",w:"100%",h:"100%",onClick:f,onDoubleClick:b,"data-selection-ring":!0,"data-selection-background":!0,"data-drag-handle":!0,onMouseDown:er.Fw,borderRadius:"var(--card-border-radius)",bg:"black",overflow:"hidden",children:[y?(0,p.jsx)(es.Pf,{w:"100%",css:{aspectRatio:"16 / 9"},isLoading:"queued"===l.loadImageStatus,loadingProvider:null==(t=l.loadImageParams)?void 0:t.provider,hasUploadError:"error"===l.loadImageStatus,promptPreview:null==(n=l.loadImageParams)?void 0:n.query}):(0,p.jsx)(el.Me,{src:s||o||"",alt:"",h:m?"100vh":void 0,objectFit:"contain",resizeParams:{width:2e3,format:"jpg"}}),h&&u&&(0,p.jsx)(es.Td,{}),c===X.A.Error&&(0,p.jsx)(es.Hy,{})]})})},ec=s.bP.create({name:"cardImageItem",atom:!0,selectable:!1,draggable:!1,isolating:!0,imageKeyPath:"image",accessoryImageKey:"image",addNodeView:()=>(0,d.gu)(eo,{update:u.z0}),parseHTML:()=>[{tag:"img[class=image-card][".concat(K.A,"]"),getAttrs:e=>({image:(0,Q.K)(e)}),priority:1e3},{tag:"img[class=image-card]"}],addAttributes:()=>({id:(0,q.e)($.z),image:{...(0,J.tb)("image"),default:{}}}),renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,s.KV)(t,{class:"image-card"})]},renderHTMLforAI(e){let{node:t}=e,{image:n}=t.attrs;return["img",{class:"image-card",prompt:n.query}]}});var ed=n(8327),eu=n(38934),ep=n(52762),eh=n(38194),eg=n(40452),em=n(97481),ex=n.n(em),ef=n(22115),eb=n(17859),ey=n(40061),ev=n(53587),eC=n(69370),ew=n(49249),eA=n(43607),ej=n(78893),ek=n(82689),eS=n(5061),eL=n(76083),eI=n(15587),eE=n(25600),eD=n(17496),eM=n(26385),eR=n(56570),e_=n(55597),ez=n(47412),eN=n(19564),eT=n(77650),eP=n(831),eH=n.n(eP),eF=n(82328),eB=n(22445),eO=n(37605),eV=n(91792),eW=n(55786),eU=n(46898),eG=n(67909),eZ=n(36071),eK=n(54731),eQ=n(3674),eq=n(17920),eJ=n(40691),e$=n(99492),eY=n(36432),eX=n(50507),e0=n(9455),e1=n(41710);let e2=(0,D.memo)(e=>{let{editor:t,onClose:n,handleAddCard:i,recentlyUsedTemplates:a}=e,r=(0,eU.d)(),l=(0,eX.wz)("modal"),s=(0,D.useCallback)(e=>{r({status:"success",title:eT.Ru._({id:"WJGAWS"}),duration:1300,isClosable:!1,position:"top"}),n(),i(e,"modal")},[n,i,r]),o=a.filter(e=>!(0,eX.l2)(t,e)).slice(0,e1.q);return(0,p.jsx)(ez.L8,{isDark:!1,children:(0,p.jsxs)(eG.aF,{isOpen:!0,onClose:n,size:{base:"5xl","2xl":"6xl"},children:[(0,p.jsx)(eZ.m,{}),(0,p.jsxs)(eK.$,{children:[(0,p.jsx)(eQ.s,{}),(0,p.jsx)(eq.r,{children:(0,p.jsx)(eN.x6,{id:"HNcS3K"})}),(0,p.jsx)(eJ.c,{pb:6,children:(0,p.jsxs)(eM.B,{spacing:6,children:[!!o.length&&(0,p.jsxs)(eM.B,{children:[(0,p.jsxs)(L.E,{color:"gray.600",children:[(0,p.jsx)(E.g,{icon:e$.a$,fixedWidth:!0})," ",(0,p.jsx)(eN.x6,{id:"uabU9X"})]}),(0,p.jsx)(eR.x,{templateColumns:"repeat(auto-fill, minmax(calc(".concat(e0.dG.lg," + 0.4em), 1fr))"),gap:3,children:o.map(e=>{let{jsonContent:t,id:n,name:i}=e;return(0,p.jsx)(eY.F,{isDark:!1,isSelected:!1,tooltip:i(),label:i(),onClick:()=>s(n),w:"auto",templateIcon:(0,p.jsx)(e0.LK,{templateContent:t,isDark:!1,borderRadius:"base",size:"lg"})},n)})})]}),l.map(e=>{let{subcategory:n,items:i}=e;return(0,p.jsxs)(eM.B,{children:[(0,p.jsx)(L.E,{color:"gray.600",children:n}),(0,p.jsx)(eR.x,{templateColumns:"repeat(auto-fill, minmax(calc(".concat(e0.dG.lg," + 0.4em), 1fr))"),gap:3,children:i.filter(e=>!(0,eX.l2)(t,e)).map(e=>{let{id:t,name:n,jsonContent:i}=e,r=!!a.find(e=>{let{id:n}=e;return n===t});return(0,p.jsx)(eY.F,{isDark:!1,isSelected:!1,tooltip:"".concat(n()," ").concat(r?eT.Ru._({id:"uabU9X"}):""),label:n(),onClick:()=>s(t),w:"auto",templateIcon:(0,p.jsx)(e0.LK,{templateContent:i,isDark:!1,borderRadius:"base",size:"lg"}),boxShadow:"none"},t)})})]},n)})]})})]})]})})});var e4=n(6807),e5=n(65148),e6=n(94922),e3=n(64642);let e9=(0,D.memo)(e=>{let{setCardContent:t,editor:n,isFocused:i,edgeLayoutsDisabled:a,isNested:r,isCardDark:l}=e,{isInOfflineMode:s}=(0,eF.u)(),{isOpen:o,onClose:c,onOpen:d}=(0,eB.E)({id:"cardTemplatesModal"}),u=(0,eV.rd)(),h=l||u,[g,m]=(0,e4.M)(e5.E.recentlyUsedCardTemplateIds,[]),x=(0,D.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"placeholder";t(e),"aiCardAfter"!==e&&m((0,e3.s)(e,g));let i="placeholder"===n?eO.oU.CARD_TEMPLATE_PLACEHOLDER:eO.oU.CARD_TEMPLATE_MODAL;(0,eW.J)({nodeName:"card",key:e},i)},[t,g,m]),[f,b]=(0,D.useMemo)(()=>{let e=g.map(e=>(0,eX.iT)()[e]).filter(e=>!!e),t=(0,eX.wz)("placeholder").flatMap(e=>{let{items:t}=e;return t});return[eH()([...e,...t],"id").filter(e=>!!e).filter(e=>!(0,eX.l2)(n,e,e=>{var t;let{jsonContent:n}=e;return a&&(0,e6.sP)(null==(t=n.attrs)?void 0:t.layout)})),e]},[a,n,g]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ez.L8,{isDark:h,children:(0,p.jsx)(eD.S,{in:i||o,onAnimationComplete:()=>{var e,t;null==(e=(t=n.commands).refreshBubbleMenu)||e.call(t)},children:(0,p.jsxs)(eM.B,{overflow:"hidden",mx:16,mb:12,contentEditable:!1,onMouseDown:er.Fw,cursor:"default",fontFamily:"body",color:"var(--body-color-muted)",children:[(0,p.jsx)(L.E,{fontSize:"sm",fontWeight:"normal",children:(0,p.jsx)(eN.x6,{id:"3h21H3"})}),(0,p.jsxs)(eR.x,{templateColumns:"repeat(auto-fill, minmax(calc(".concat(e0.dG.md," + var(--chakra-space-1-5)), 1fr))"),fontSize:"1rem",gap:2,children:[f.slice(0,r?2:4).map(e=>{let{id:t,jsonContent:n,name:i}=e;return(0,p.jsx)(eY.F,{tooltip:i(),isDark:h,templateIcon:(0,p.jsx)(e0.LK,{templateContent:n,isDark:h,borderRadius:"base",maxH:"5em",overflow:"hidden"}),isSelected:!1,onClick:()=>x(t),w:"auto",minW:"auto",fontSize:"1em"},t)}),(0,p.jsx)(eY.F,{tooltip:eT.Ru._({id:"bHT6mZ"}),label:(0,p.jsx)(eN.x6,{id:"iTylMl"}),isDark:h,templateIcon:(0,p.jsx)(E.g,{icon:e_.Qyz,fixedWidth:!0}),isSelected:!1,onClick:d,fontSize:"1em"}),!s&&(0,p.jsx)(eY.F,{isDark:h,templateIcon:(0,p.jsx)(E.g,{icon:e_.p7g,fixedWidth:!0}),label:(0,p.jsx)(eN.x6,{id:"ziAjHi"}),tooltip:eT.Ru._({id:"tkZYgO"}),isSelected:!1,onClick:()=>{x("aiCardAfter")},fontSize:"1em"})]})]})})}),o&&(0,p.jsx)(e2,{editor:n,onClose:c,handleAddCard:x,recentlyUsedTemplates:b})]})});e9.displayName="ChooseCardTemplatePlaceholder";var e7=n(33787),e8=n(19705),te=n(4913),tt=n(95197),tn=n(84033);let ti=e=>{let{isNested:t,isMobileDevice:n,cardMarginSettings:i,cardAttrs:a}=e,r=(0,ee.GV)(ei.Jq),{areElementsCurrentlyHiddenBySettings:l}=(0,tn.j)(a);return n||t||(0,tt.Nk)(i)||"webpage"===r||l};var ta=n(36433);let tr=(e,t)=>{let n=(0,tt.cP)("top",e)?"top":"bottom",i=t["".concat(n,"Center")],a=t["".concat(n,"Left")],r=t["".concat(n,"Right")],l=(0,tt.cP)("center",e);return!!i&&(!i||!!a||!!r||l)},tl=e=>{var t;let{element:n,position:i,cardId:a,shouldStretch:r,isWidthConstrained:l,containerHeight:s}=e,o=(0,ee.GV)(ei.uF),{flex:c,text:d}=(0,tt.o)(i),u=(null==n?void 0:n.type)==="image"||(null==n?void 0:n.type)==="themeLogo",h=(null==n?void 0:n.type)==="text"||(null==n?void 0:n.type)==="cardNumbers",{logoSrc:g,logoImage:m}=(0,ta.G)(),x=(null==n?void 0:n.type)==="image"?null==(t=n.imageAttrs)?void 0:t.meta:null==m?void 0:m.meta,f=(null==n?void 0:n.type)==="image"?(0,tt._V)(n):g,b=f&&(0,el.Ub)(f,el.Rb,x)||f,y=(0,D.useMemo)(()=>a&&(null==n?void 0:n.type)==="cardNumbers"?(0,tt.RP)(o.indexOf(a),n.startIndex,n.startNumber):"",[n,a,o]),v=null==x?void 0:x.aspect_ratio,C=(0,D.useMemo)(()=>(0,te.I6)(n,v),[n,v]),w=(0,ee.GV)(ei.SJ),A=null==w?void 0:w.config.roundness,j=(0,D.useMemo)(()=>(0,te.lX)(s,n,A,v,c),[n,A,s,v,c]);return!n&&(0,tt.cP)("center",i)?null:(0,p.jsxs)(eg.s,{alignItems:"center",justifyContent:c,flex:r?1:void 0,flexShrink:u?0:void 0,flexBasis:u&&l?"calc(50% - ".concat(.25,"em)"):void 0,children:[h&&(0,p.jsxs)(L.E,{fontSize:"calc(".concat(e8.Vn,"em / var(--media-scale))"),ps:"calc(".concat(j.start,"em / var(--media-scale))"),pe:"calc(".concat(j.end,"em / var(--media-scale))"),opacity:.65,noOfLines:1,fontFamily:"var(--body-font)",color:"var(--body-color)",fontWeight:"var(--body-font-weight)",textAlign:d,children:["cardNumbers"===n.type&&y,"text"===n.type&&n.content]}),u&&b&&(0,p.jsx)(e7._,{src:b,h:"calc(".concat(C,"em / var(--media-scale))"),ps:"calc(".concat(j.start,"em / var(--media-scale))"),pe:"calc(".concat(j.end,"em / var(--media-scale))"),objectFit:"contain"})]})},ts=(e,t,n,i)=>{let a=(0,tt.cP)("top",e);if("top"===t&&a)return null;if(!(0,tt.cP)("center",e)||"left"!==t&&"right"!==t)return e;let r=a?"top":"bottom",l="left"===t?"".concat(r,"Left"):"".concat(r,"Right"),s="left"===t?"".concat(r,"Right"):"".concat(r,"Left");return(0,tt.M3)(n[l],i)||(0,tt.M3)(n[s],i)?(0,tt.M3)(n[l],i)?l:(0,tt.M3)(n[s],i)?s:e:null},to=(e,t,n)=>Object.entries(e).reduce((i,a)=>{let[r,l]=a;if((0,tt.M3)(l,n))return i;let s=ts(r,t,e,n);return s?{...i,[s]:l}:i},{}),tc=(e,t,n,i)=>{if("left"!==n&&"right"!==n)return!1;let a=t["".concat(e,"Left")],r=t["".concat(e,"Center")],l=t["".concat(e,"Right")],s=!(0,tt.M3)(a,i)&&((null==a?void 0:a.type)==="image"||(null==a?void 0:a.type)==="themeLogo"),o=!(0,tt.M3)(l,i)&&((null==l?void 0:l.type)==="image"||(null==l?void 0:l.type)==="themeLogo");return s&&!r&&o},td=e=>{let{cardNode:t,isNested:n,isMobileDevice:i,displayLayout:a}=e,r=null==t?void 0:t.attrs,{cardMarginSettings:l}=(0,ee.GV)(ei.Uu),{hideFromFirst:s,hideFromLast:o,...c}=l,d=ti({isNested:n,cardMarginSettings:l,isMobileDevice:i,cardAttrs:r}),{logoSrc:u}=(0,ta.G)(),g=to(c,a,u),m=tc("top",g,a,u),x=tc("bottom",g,a,u),f=(0,ee.GV)(ei.SJ),b=null==f?void 0:f.config.roundness,y=(0,te.hn)(l,b),v=(0,D.useMemo)(()=>(0,te.mE)(l),[l]),C=(0,D.useMemo)(()=>(0,te.JP)(b,v),[b,v]);return d?null:(0,p.jsxs)(h.a,{dir:"ltr",css:{"--margin-padding":"calc(".concat(C,"em / var(--media-scale))")},children:[(0,p.jsx)(S.z,{"data-card-margin-elements":"top",position:"absolute",pointerEvents:"none",justifyContent:"space-between",alignItems:"center",h:"calc(".concat(y,"em / var(--media-scale))"),p:"var(--margin-padding)",top:0,insetStart:0,insetEnd:0,spacing:"".concat(.5,"em"),overflow:"hidden",children:["topLeft","topCenter","topRight"].map(e=>(0,p.jsx)(tl,{element:g[e],position:e,cardId:null==t?void 0:t.attrs.id,shouldStretch:tr(e,g),isWidthConstrained:m,containerHeight:v},e))}),(0,p.jsx)(S.z,{"data-card-margin-elements":"bottom",position:"absolute",pointerEvents:"none",justifyContent:"space-between",alignItems:"center",h:"calc(".concat(y,"em / var(--media-scale))"),p:"var(--margin-padding)",bottom:0,insetStart:0,insetEnd:0,spacing:"".concat(.5,"em"),overflow:"hidden",children:["bottomLeft","bottomCenter","bottomRight"].map(e=>(0,p.jsx)(tl,{element:g[e],position:e,cardId:null==t?void 0:t.attrs.id,shouldStretch:tr(e,g),isWidthConstrained:x,containerHeight:v},e))})]})};var tu=n(16309),tp=n(54604),th=n(80314),tg=n(32380),tm=n(87386),tx=n(94289),tf=n(11324),tb=n(75074),ty=n(65280),tv=n(68301),tC=n(54229),tw=n(96632),tA=n(24813),tj=n(17226),tk=n(19842),tS=n(71340),tL=n(18232),tI=n(98071),tE=n(95465),tD=n(71737);let tM=e=>{let{editor:t,cardNode:n,cardPos:i,cardId:a,displayLayout:r,hasCardNotesNode:l}=e,s=(0,eU.d)(),o=(0,ty.T)(),c=(0,tv.u)("copyCardsToDeck"),d=(0,ee.GV)(ei.nD),u=(0,tE.K)(),h=a===(0,ee.GV)(ei.uF)[0],g=(0,tL._)(t,i),m=(0,D.useCallback)(()=>{if(!t||!n)return;let e=t.state.doc.nodeAt(i),a=e&&(0,tm.getCardTitle)(e.toJSON());t.chain().deleteCard(i).focus().run();let r=eT.Ru._({id:"0MWv65",values:{displayTitle:a?'"'.concat(a,'"'):"card"}}),l=eT.Ru._({id:"9uI/rE"}),o=s({title:(0,p.jsxs)(S.z,{children:[(0,p.jsx)(L.E,{noOfLines:1,children:r}),(0,p.jsx)(th.N,{textDecoration:"underline",onClick:()=>{(0,tg.tN)(t.state),s.close(o)},children:l})]}),status:"info",duration:3e3,position:"top"})},[t,n,i,s]),x=(0,D.useCallback)(()=>{if(!t||!n)return;let e=tx.FK.from([n]);(0,tj.E)(e,t,!1)},[t,n]),f=(0,D.useCallback)(()=>{t&&void 0!==i&&t.chain().mergeCardsAtPos(i).focus().run()},[t,i]),b=(0,D.useCallback)(()=>{if(!t||!n)return;let e=n.attrs,a={background:{type:ep.h.NONE,source:void 0},cardSize:void 0,verticalAlign:void 0,container:{...e.container,width:void 0,background:void 0},layout:"blank"};(0,tA.e)(t,i,a)},[t,n,i]),{setCardColor:y,currentColor:v,themeCardColor:C}=(0,tS.Q)({editor:t,attrs:null==n?void 0:n.attrs,getPos:()=>i}),w=(0,D.useCallback)(()=>{if(!t||!a||!n)return;d&&!l&&(0,tD.ni)(t,i);let e=(0,tb.Ix)((0,ee.KA)().getState());tf.R.emit("toggle",{clickedCardId:a,activeNotesCardId:e})},[t,a,n,i,l,d]),{onCopyLinkClick:A}=(0,tw.L)({cardId:null==n?void 0:n.attrs.id}),j=(0,D.useCallback)(()=>{t&&a&&A()},[t,a,A]);return(0,D.useMemo)(()=>t?[{key:"card-options",title:(0,p.jsx)(eN.x6,{id:"kryGs+"})},{divider:!0},{key:"copy-card",label:(0,p.jsx)(eN.x6,{id:"Bq0HJ4"}),icon:e$.jPR,onClick:x},...c?[{key:"copy-card-to-deck",label:(0,p.jsx)(eN.x6,{id:"IAsTWw"}),icon:(0,p.jsx)(E.g,{icon:e$.Rvk,flip:"horizontal"}),onClick:()=>n&&o([n])}]:[],...h?[]:[{key:"merge-card-with-above",label:(0,p.jsx)(eN.x6,{id:"lxx9kE"}),icon:e$.INu,onClick:f}],{divider:!0},{key:"change-card-color",label:(0,p.jsx)(eN.x6,{id:"D/jD8b"}),icon:e$.fyG,items:[{key:"color-picker",element:e=>(0,p.jsx)(tC.b,{currentColor:null!=v?v:C,setColor:t=>{y(t),null==e||e()},source:"CardColor"})}]},{key:"reset-styling",label:(0,p.jsx)(eN.x6,{id:"6hU6uw"}),icon:e$.ub2,onClick:b},{divider:!0},{key:"card-notes",label:(0,p.jsx)(eN.x6,{id:"PFP9+0"}),icon:e$.bLf,onClick:w},{key:"copy-private-link",label:u?(0,p.jsx)(eN.x6,{id:"F0YmUY"}):(0,p.jsx)(eN.x6,{id:"j7DOt7"}),icon:e$.CQO,onClick:j},{divider:!0},{key:"layout",label:eT.Ru._({id:"rdU729"}),icon:e$.swh,items:tk.bI.map(e=>({key:e,label:(0,tI.Nu)(e),checked:r===e,icon:(0,p.jsx)(tk.Ed,{layout:e,isSelected:r===e}),onClick:()=>g(e)}))},{divider:!0},{key:"delete",label:(0,p.jsx)(eN.x6,{id:"cnGeoo"}),icon:e$.yLS,onClick:m,color:"red.500"}]:[],[t,x,c,h,f,b,w,u,j,m,n,o,v,C,y,r,g])};var tR=n(47665),t_=n(27246);let tz=(e,t,n)=>{if(n)return{};if("behind"===e||"blank"===e)return{borderRadius:"var(--card-border-radius)"};if("left"===e)return"accent"===t?{borderLeftRadius:"var(--card-border-radius)"}:"body"===t?{borderRightRadius:"var(--card-border-radius)"}:{};if("right"===e)return"body"===t?{borderLeftRadius:"var(--card-border-radius)"}:"accent"===t?{borderRightRadius:"var(--card-border-radius)"}:{};if("top"===e||"mobileLeft"===e)return"body"===t?{borderBottomRadius:"var(--card-border-radius)"}:"accent"===t?{borderTopRadius:"var(--card-border-radius)"}:{};if("mobileRight"===e){if("accent"===t)return{borderBottomRadius:"var(--card-border-radius)"};if("body"===t)return{borderTopRadius:"var(--card-border-radius)"}}return{}},tN=e=>{var t;let n,{node:i,getPos:a,decorations:r,editor:l}=e,o=i.attrs,c=(0,eS.fW)(),u=(0,t_.Bn)(r);try{let e=a();n=(0,s.eL)(null==l?void 0:l.state.doc.resolve(e),tR.jg)}catch(e){console.error(e)}let{isNested:h,insideSideLayout:g,displayLayout:m,hasCardNotesNode:x,isCardDark:f}=(0,tu.tg)(r),b=(null==u?void 0:u.layout)==="blank",y=tz(u.layout,o.itemId,"full"===u.cardSize),v={flexDirection:"column",justifyContent:o.verticalAlign||"var(--card-vertical-align)"},C=(0,e6.lH)(null==u?void 0:u.layout),w=C&&!C.items[o.itemId],[A]=(0,tp.E)(u.cardId),j=(0,eI.v)(r),k=(0,ee.GV)(ei.nD),S=(0,eE.DM)(r),L=(0,D.useCallback)(e=>{if(!n)return;let t=(0,eL.GO)()[e]||(0,eL.GO)().blankCard,{layoutTemplateColumns:i,...a}=n.node.attrs;t.attrs={...a,...t.attrs};let r=n.pos,s=n.pos+n.node.nodeSize;l.chain().insertContentAt({from:r,to:s},t,{updateSelection:!1}).selectInsertedNode().run()},[l,n]),I=tM({editor:l,cardNode:null==n?void 0:n.node,cardPos:null!=(t=null==n?void 0:n.pos)?t:0,cardId:null==n?void 0:n.node.attrs.id,displayLayout:m,hasCardNotesNode:x}),{onOpenContextMenu:E,onCloseContextMenu:M,menuProps:R}=(0,ej.$)({editor:l,getPos:a}),_=(0,eA.FX)();return(0,p.jsxs)(d.VR,{dir:c?"rtl":"ltr",as:"div",style:{...w?{display:"none"}:{}},children:[(0,p.jsxs)(eg.s,{"data-content-reference":!0,className:"card-layout-cell-bg",w:"100%",h:"100%",position:"relative","data-selection-ring":!0,"data-selection-background":!0,..."presentCurrent"!==A&&y,...v,children:[(0,p.jsx)(d.$p,{as:"div",style:{width:"100%"},onContextMenu:e=>{e.target===e.currentTarget&&E(e)}}),k&&j&&b&&(0,p.jsx)(e9,{isFocused:S,editor:l,setCardContent:L,edgeLayoutsDisabled:g,isNested:h,isCardDark:!!f}),(0,p.jsx)(td,{cardNode:null==n?void 0:n.node,displayLayout:m,isNested:h,isMobileDevice:_})]}),(0,p.jsx)(ef.tz,{menuItems:I,isOpen:R.isOpen,position:R.position,onClose:M,size:"small"})]})};var tT=n(40268),tP=n(66079);let tH=e=>{var t;let{hasImage:n,onEditImage:i,image:a,editor:r,isLoading:l,openEditBackgroundDrawer:s,borderProps:o,accentLayout:c,...d}=e,u=!!i;return n?null:(0,p.jsx)(eg.s,{align:"center",justify:"center",pos:"absolute",inset:0,role:"group",cursor:"default","data-layout-cut":"mobileLeft"===c?"top":c,...n?{}:{bgColor:"gray.200"},...d,children:!r.isThumbnail&&(0,p.jsx)(eg.s,{pos:"absolute",inset:0,justify:"center",align:"center",cursor:u?"default":void 0,onClick:i,children:(0,p.jsx)(h.a,{color:"gray.400",h:"100%",w:"100%",children:(0,p.jsx)(es.Pf,{icon:tP.Fn[ev.j].icon,isUploading:!1,isLoading:l,loadingProvider:null==a||null==(t=a.loadImageParams)?void 0:t.provider,onSelectAndFocus:i,hasUploadError:!1,isAccentImageDrawer:!0,openEditBackgroundDrawer:s,h:"100%",w:"100%",hasQuickActions:"behind"!==c,...o})})})})};var tF=n(81880),tB=n(62171);let tO=e=>{let{background:t,rounded:n,resizeParams:i,cutLayout:a,isDark:r,bodyColor:l}=e,s=(0,tB.FD)(t,r,i,l);return(0,p.jsx)(h.a,{position:"absolute",inset:"0",overflow:"hidden",borderRadius:n?"var(--box-border-radius)":"inherit","data-layout-cut":a,...s})},tV=e=>{var t,n;let{background:i,rounded:a,cutLayout:r}=e,l=i.image&&!(0,el.SV)(i.image.src)&&!(null==(t=i.image.meta)?void 0:t.has_transparency),s=l?(0,tB.FD)(i,!1,{width:400,blur:50,format:"jpg"}):void 0;return(0,p.jsx)(h.a,{position:"absolute",inset:"0","data-image-fit-bg":!0,overflow:"hidden",...s,borderRadius:a?"var(--box-border-radius)":"inherit",marginY:a?"1em":void 0,bgPosition:"center","data-layout-cut":r,children:l&&!(0,el.md)((null==(n=i.image)?void 0:n.src)||void 0)&&(0,p.jsx)(h.a,{backdropFilter:"blur(6em)",inset:0,position:"absolute",borderRadius:"inherit","data-selection-ring":"inside"})})},tW=e=>{let{image:t,resizeParams:n,cutLayout:i,bodyColor:a}=e,{tempUrl:r,meta:l}=t,s=t.src?(0,el.pO)(t.src,a):void 0,o=s&&(0,tF.D)(t)&&n?(0,el.Ub)(s,n,l):s;return(0,p.jsx)(el.Me,{src:o||void 0,fallbackSrc:r||void 0,borderRadius:"var(--box-border-radius)",pos:"relative",flex:"0 1 auto",minH:0,minW:0,width:"auto",maxW:"100%","data-layout-cut-fg":i,className:"reset-max-width-with-margins"})};var tU=n(84130),tG=n(35292),tZ=n(92137),tK=n(90184),tQ=n(5380),tq=n(45574),tJ=n(70015),t$=n(33201);let tY=e=>{var t;let n,{editor:i,node:a,decorations:r,getPos:l}=e,o=a.attrs,c=(0,t_.Bn)(r),d=(0,tI.jh)(o,null==c?void 0:c.layout),{changeFocalPoint:u,startRemoveBg:h,isRemovingBg:g}=(0,tQ.c)({editor:i,getPos:l,backgroundRemovalId:null==c?void 0:c.cardId});try{n=(0,s.eL)(i.state.doc.resolve(l()),t$.jg)}catch(e){console.error(e)}let m=o.background.type===ep.h.IMAGE,{displayLayout:x}=(0,tu.tg)(r),f=(0,tL._)(i,(null==n?void 0:n.pos)||0),b=(0,tG.l)(o.background.image),{toggleBuddyChatPanel:y,isBuddyChatPanelOpen:v}=(0,tZ.n)(),C=(0,tJ.d)({editor:i,getPos:l,node:a,includeCut:!1,imageSrc:null==(t=o.background.image)?void 0:t.src});return{contextMenuItems:[...m?[...C,{divider:!0},{key:"edit-image",label:m?eT.Ru._({id:"9IrgTy"}):eT.Ru._({id:"pVb3uA"}),icon:e$.MT7,onClick:()=>{let e=null==n?void 0:n.node.attrs.id;e&&tT.R.emit("toggleEditBackgroundDrawer",{openDrawer:!0,cardId:e})}},...b?[{key:"ask-ai",label:(0,p.jsx)(eN.x6,{id:"vKZEFh"}),icon:e_.p7g,onClick:()=>{v||y(),setTimeout(()=>{tU.W.emit("prefillMessage",{message:""})},200)}}]:[],{key:"remove-background",label:g?eT.Ru._({id:"RdqLb7"}):eT.Ru._({id:"ylbfBl"}),icon:g?e$.z1G:e$.sAw,rightIcon:g?void 0:(0,p.jsx)(tK.G,{type:"removeBackground",ms:2,color:"gray.400"}),disabled:g,onClick:h},{key:"fit-image",label:"fit"===d?eT.Ru._({id:"2Ivw1n"}):eT.Ru._({id:"VPxUGR"}),icon:e$.GZ1,onClick:()=>{i.commands.updateAttributesAtPos(l(),{fitType:"fit"===d?"fill":"fit"})}},{key:"change-focus-point",label:eT.Ru._({id:"BmxaoW"}),icon:e$.xD0,onClick:()=>{let e=(0,tq.um)(a);u((0,tq.Df)(i,a,l(),e))},disabled:"fit"===d},{divider:!0}]:[],{key:"layout",label:eT.Ru._({id:"vR68Ol"}),icon:e$.swh,items:tk.bI.map(e=>({key:e,label:(0,tI.Nu)(e),icon:(0,p.jsx)(tk.Ed,{layout:e,isSelected:x===e}),onClick:()=>f(e)}))},{divider:!0},{key:"remove-accent-image",label:m?eT.Ru._({id:"sGYCGx"}):eT.Ru._({id:"6vLq+T"}),icon:m?e$.K3F:e$.yLS,onClick:()=>(0,tI.kB)(i,l(),m),color:"red.500"}]}},tX={width:1200},t0=e=>{var t,n,i;let a=(0,ee.GV)(ei.SJ),r=(null==(t=a.config)?void 0:t.accentBackgrounds)&&(null==(n=a.config)?void 0:n.accentBackgrounds.length)>0;return e.source||(null==(i=e.image)?void 0:i.source)||r?ev.j:ey.L},t1=e=>{let{editor:t,node:n,getPos:i}=e;(0,D.useEffect)(()=>{"cardLayoutItem"===n.type.name&&"accent"===n.attrs.itemId&&setTimeout(()=>{t.commands.command(e=>{let{tr:a}=e;return(0,e6.OH)(a,i(),n,t.schema),!0})})},[t,i,n])},t2=e=>{var t,n,i,a,r;let{node:l,decorations:s,editor:o,getPos:c}=e,u=l.attrs,{background:h}=u;t1(e);let{openBackgroundTab:g,...m}=(0,eC.O)(),x=t0(h),f=(0,D.useCallback)(e=>{var t,n;o.commands.updateNestedAttributesAtPos(c(),e);let i=null==(t=s.find(e=>e.spec&&"cardId"in e.spec))?void 0:t.spec;(0,eb.Vc)({previous_attrs:(null==h?void 0:h.image)||{},new_attrs:(null==(n=e.background)?void 0:n.image)||{},image_type:"accent_background",replacement_method:"card_accent_drawer",doc_id:o.gammaDocId||"",node_id:null==i?void 0:i.cardId})},[o,c,h,s]),b=(0,D.useCallback)(e=>{o.commands.updateNestedAttributesAtPos(c(),{background:ex()({},h,{image:{...e,meta:{has_transparency:!0}}})})},[o,c,h]),{onCloseContextMenu:y,onOpenContextMenu:v,menuProps:C}=(0,ej.$)({editor:o,getPos:c}),{contextMenuItems:w}=tY({editor:o,node:l,decorations:s,getPos:c}),{defaultFullBleed:A}=(0,ee.GV)(ei.Uu),j=(0,t_.Bn)(s),{isDark:k,bodyColor:S,cardColor:L}=(0,z.a)(s),I=(0,ee.GV)(ei.wC)!==ea.w.SLIDE_VIEW&&(null==j||!j.isNested)&&((null==j?void 0:j.cardSize)==="default"?"full"===A:(null==j?void 0:j.cardSize)==="full"),E=null==j?void 0:j.cardId,M=null==j?void 0:j.layout,R="behind"===M,_=o.isThumbnail?el.p7:"right"===M||"left"===M||"top"===M||"mobileLeft"===M||"mobileRight"===M?tX:void 0,{bgRemovalInProgress:N}=(0,ew._)({editor:o,id:E,src:null==(t=h.image)?void 0:t.src,updateAttributes:b}),T=(0,tI.jh)(u,M),P=!!(0,e6.lH)(M).items[u.itemId],H=tz(j.layout,u.itemId,"full"===j.cardSize),F="none"===h.type||h.type===ep.h.IMAGE&&!h.image||h.type===ep.h.IMAGE&&!(null==(n=h.image)?void 0:n.src)&&!(null==(i=h.image)?void 0:i.tempUrl),B="fit"===T&&h.image&&!F,O=(0,en.j8)(o,c),{setBackgroundDrawerSourceKeyAction:V}=(0,en.Bz)(),W=(null==(a=h.image)?void 0:a.loadImageStatus)==="queued",U=(0,ee.GV)(ei.nD);(0,D.useEffect)(()=>tT.R.on("toggleEditBackgroundDrawer",e=>{let{openDrawer:t,cardId:n}=e;t&&n===E&&(V(x),g(!1))}),[x,E,g,V]);let G=null==(r=h.image)?void 0:r.uploadStatus,Z=(0,eA.FX)(),K=!I||"fit"===T||Z?void 0:"left"===M||"right"===M?{borderRadius:"var(--box-border-radius)",marginY:"1em",height:"auto"}:"top"===M||"behind"===M?{width:"var(--editor-width)",position:"absolute",transform:"translateX(-50%)",left:"calc(50% - var(--doc-padding-left, 0px) / 2 + var(--doc-padding-right, 0px) / 2)"}:void 0,Q=(0,D.useCallback)(e=>{(!(e.target instanceof Element)||e.target.closest("[data-card-layout]"))&&(O(),V(x),g(!1))},[x,O,g,V]);if(!P)return null;let q="mobileLeft"===M?"top":M;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(d.VR,{as:"div",style:{display:I?"flex":void 0},children:[(0,p.jsxs)(eg.s,{"data-content-reference":!0,"data-change-focus-point-el":!0,className:"card-layout-cell-bg",w:"100%",h:"100%",onContextMenu:m.isOpen?void 0:v,"data-selection-ring":"inside","data-selection-background":!0,"data-card-layout":null==j?void 0:j.layout,"data-testid":"card-accent-layout-item","data-fit-type":T,position:"relative","data-drag-handle":!0,...H,...{flexDirection:"column",justifyContent:"center"},onClick:O,onDoubleClick:Q,...K,bgSize:"fill"===T||R?"cover":"contain",p:"fill"===T||R?0:I?"1.5em":"1.25em",objectFit:"contain",css:{containerType:"size"},align:"center",justify:"center",children:[!B&&(0,p.jsx)(tO,{background:h,rounded:I&&!Z,resizeParams:_,cutLayout:q,isDark:k,bodyColor:S}),B&&(0,p.jsx)(tV,{background:h,rounded:I&&!Z,cutLayout:q}),B&&(0,p.jsx)(tW,{image:h.image,resizeParams:_,cutLayout:q,bodyColor:S}),R&&(0,p.jsx)(ek.TH,{background:h,cardColor:L}),U&&(0,p.jsx)(eC.G,{editor:o,updateNestedAttributes:f,background:null==u?void 0:u.background,backFrom:E?{source:"accentBackgroundDrawer",id:E}:void 0,enableMask:R,isAccentImageDrawer:!0,...m}),(0,p.jsx)(tH,{isLoading:W,editor:o,hasImage:!F,image:h.image,onEditImage:U?O:void 0,openEditBackgroundDrawer:g,borderProps:H,accentLayout:null==j?void 0:j.layout,...H}),(G==X.A.Uploading||N)&&U&&(0,p.jsx)(es.Td,{removeBackground:N,scootRight:N&&("top"===M||"left"===M)}),G==X.A.Error&&(0,p.jsx)(es.Hy,{})]}),(0,p.jsx)(ef.tz,{menuItems:w,isOpen:C.isOpen,position:C.position,onClose:y,size:"small"})]})})},t4=e=>{let{node:t}=e;return"accent"===t.attrs.itemId?(0,p.jsx)(t2,{...e}):(0,p.jsx)(tN,{...e})},t5=s.bP.create({name:"cardAccentLayoutItem",group:"cardLayoutItemGroup",priority:eu.y.CardAccentLayoutItem,selectable:!1,atom:!0,draggable:!0,imageKeyPath:"background.image",addAttributes:()=>({itemId:{default:"accent"},fitType:{parseHTML:e=>e.getAttribute("fitType")},background:{default:{type:ep.h.NONE},...(0,J.tb)("background")}}),addNodeView:()=>(0,d.gu)(t4,{update:u.z0}),parseHTML:()=>[{tag:"img[class=accent-image][bookmark]",getAttrs:e=>{let t=(0,eh.Ll)(e);return!!t&&{background:{type:ep.h.IMAGE,image:t,source:t.source}}}},{tag:"img[class=accent-image][".concat(K.A,"]"),getAttrs:e=>{let t=(0,Q.K)(e);return{background:{type:ep.h.IMAGE,image:t,source:t.source}}}},{tag:"img[class=accent-image][src]",getAttrs:e=>({background:{type:ep.h.IMAGE,image:{src:e.getAttribute("src")||"",source:"image.custom"}}})},{tag:"img[class=accent-image][placeholder=true]",priority:70},{tag:"img[class=accent-image]"},{tag:"div[class=card-accent-layout-item]",context:"card/"}],renderHTMLforAI(e){let{node:t,disableBookmarks:n,HTMLAttributes:i}=e;if(n){var a;let e=t.attrs.background;return["img",{src:null==(a=e.image)?void 0:a.src,alt:e.image?(0,ed.ve)(e.image):void 0,class:"accent-image",fitType:i.fitType}]}let r=t.attrs.background;return["img",{bookmark:r.image?(0,eh.vL)({attrs:r.image}):void 0,class:"accent-image",alt:r.image&&(0,ed.ve)(r.image),fitType:i.fitType}]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,s.KV)(t,{class:"card-accent-layout-item"})]}});var t6=n(17275),t3=n(63867),t9=n(97255),t7=n(56603);let t8=new t3.hs("cardLayoutResizing");class ne{getActiveHandleAbs(e){return this.activeHandle?(0,t7.d_)(e,this.activeHandle):null}reset(){return this.activeHandle=null,this.side=null,this.dragging=null,this}setHandle(e,t){return null===t.setHandle?(this.activeHandle=null,this.side=null):(this.activeHandle=(0,t7.JO)(e,t.setHandle.pos),this.side=t.setHandle.side),this}setDragging(e){return this.dragging=e.setDragging,this}apply(e,t){let n=e.getMeta(t8);return n&&"setHandle"in n?this.setHandle(t,n):n&&"setDragging"in n?this.setDragging(n):n&&"reset"in n?this.reset():this}constructor(){this.activeHandle=null,this.dragging=null}}var nt=n(50333),nn=n.n(nt),ni=n(39078),na=n(38537);let nr=e=>t8.getState(e.state),nl=(e,t)=>{e.dispatch(e.state.tr.setMeta(t8,{setHandle:t}))},ns=(e,t)=>{e.dispatch(e.state.tr.setMeta(t8,{setDragging:t}))},no=e=>{e.dispatch(e.state.tr.setMeta(t8,{reset:!0}))},nc=(e,t)=>{if(!e.editable||!t.target||t.target.closest(".column-resize-handle"))return;let n=nr(e);if(n.dragging)return;let i=function(e,t){let n=e.posAtCoords({left:t.clientX,top:t.clientY});if(!n||-1===n.inside)return null;let i=e.domAtPos(n.inside);if(!i)return null;let a=i.node.childNodes[i.offset];if(!a)return null;let r=e.state.doc.resolve(n.inside);if(!r.nodeAfter||!(0,tR.sw)(r.nodeAfter))return null;let l=(0,J.TK)(r,tR.jg)[0];if(!l)return null;let s=l.node.attrs.layout;if(!(0,e6.lH)(s).allowResizing)return null;let o="top"===s,{left:c,right:d,bottom:u,top:p}=a.getBoundingClientRect();if(t.clientX-c<=5&&!o){let n=e.posAtCoords({left:t.clientX-10,top:t.clientY});if(!n)return null;let i=e.state.doc.nodeAt(n.inside);return i&&(0,tR.sw)(i)?"cardLayoutItem"===i.type.name?{pos:n.inside,side:"right"}:{pos:r.pos,side:"left"}:null}if(d-t.clientX<=5&&!o){let n=e.posAtCoords({left:t.clientX+10,top:t.clientY});if(!n)return null;let i=e.state.doc.nodeAt(n.inside);return i&&(0,tR.sw)(i)?"cardLayoutItem"===i.type.name?{pos:n.inside,side:"left"}:{pos:r.pos,side:"right"}:null}if(u-t.clientY<=5&&o){let n=e.posAtCoords({left:t.clientX,top:t.clientY+10});if(!n)return null;let i=e.state.doc.nodeAt(n.inside);return i&&(0,tR.sw)(i)&&"cardLayoutItem"===i.type.name?{pos:n.inside,side:"top"}:null}if(t.clientY-p<=5&&o){let n=e.posAtCoords({left:t.clientX,top:t.clientY+10});if(!n)return null;let i=e.state.doc.nodeAt(n.inside);if(!i||!(0,tR.sw)(i)||"cardLayoutItem"!==i.type.name)return null;let a=e.state.doc.resolve(n.inside).parent;return a&&"card"===a.type.name&&"top"===a.attrs.layout?{pos:n.inside,side:"top"}:null}return null}(e,t),a=n.getActiveHandleAbs(e.state),r=n.side;null===a&&null===i||i&&i.side===r&&i.pos===a||nl(e,i)},nd=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",i=e.domAtPos(t),a=i.node.childNodes[i.offset];return"x"===n?a.offsetWidth:a.offsetHeight},nu=(e,t)=>{let{node:n,offset:i}=e.domAtPos(t.start()),a=n.childNodes[i];do if(a&&a.classList&&a.classList.contains("node-card"))break;while(a=a.parentNode);return a},np=(e,t,n)=>{let i=(0,e6.lH)(n),a=t.querySelector('[data-node-view-content-inner="card"]');if("top"===n)return ng(e,a,n);let r=e.attrs,l=(null==a?void 0:a.style.gridTemplateColumns)||r.layoutTemplateColumns||i.grid.gridTemplateColumns;if(!l)return null;let s=l.split(" ");if(!s.length)return null;let o=s[0].includes("fr"),c=[];if(o){let e=s.map(e=>+e.replace("fr","")),t=e.reduce((e,t)=>e+t,0);c=e.map(e=>e/t*100)}else c=s.map(e=>+e.replace("%",""));return c},nh={sm:100,md:200,lg:300},ng=(e,t,n)=>{let i=(0,e6.lH)(n),a=e.attrs,r=(null==t?void 0:t.style.gridTemplateRows)||a.layoutTemplateRows||i.grid.gridTemplateRows;if(!r)return null;let l=r.split(" ");if(!l.length)return null;let s=l[0],o=s.includes("var"),c=[];if(o){var d;let e=null==(d=s.split("-").at(-1))?void 0:d.slice(0,-1);e&&e in nh||(e="md"),c=[nh[e],0]}else c=l.map(e=>"auto"===e?0:Number.parseInt(e));return c},nm=s.bP.create({name:"cardLayoutItem",group:"cardLayoutItemGroup",content:"(block | cardBlock)+",selectable:!1,draggable:!1,isolating:!0,containerHandle:!0,priority:eu.y.CardLayoutItem,addAttributes:()=>({itemId:{default:"body"}}),addNodeView:()=>(0,d.gu)(t4,{update:u.z0}),addCommands:()=>({handleCardAccentDelete:()=>e=>{let{state:t,commands:n}=e;if(!(0,s.BQ)(t.selection))return!1;let{node:i}=t.selection;if(!(0,e6.wL)(i))return!1;let a=(0,s.KP)(tR.jg)(t.selection);return!!a&&n.setCardLayout(a.pos,"blank")},selectInsideCardBody:(e,t)=>n=>{let{state:i,tr:a,commands:r}=n,l=i.doc.nodeAt(e);if(!l||!(0,tR.jg)(l))return!1;let s=(0,e6.dg)(a,e);if(0===Object.entries(s).length)return r.selectInsideNodeAtPos(e,t);let o=s.body;return!!o&&r.selectInsideNodeAtPos(o.pos,t)},setCardLayout:(e,t,n)=>i=>{let{tr:a,editor:r}=i;return(0,t6.c)(r,a,e,t,n)},removeCardLayout:e=>t=>{let{tr:n,editor:i}=t,a=(0,tR.W0)(i,e);return!!a&&(0,t6.c)(i,n,a.pos,"blank")}}),parseHTML:()=>[{tag:"div[class=card-layout-item]"},{tag:"div[class=body]",context:"card/"}],addProseMirrorPlugins(){return[(0,t_.OX)(this.editor),new t3.k_({key:t8,state:{init:()=>new ne,apply:(e,t,n,i)=>t.apply(e,i)},props:{attributes:e=>null!==t8.getState(e).getActiveHandleAbs(e)?{class:"resize-cursor"}:{class:""},handleDOMEvents:{mousemove:(e,t)=>(nc(e,t),!1),mouseleave(e){let t=nr(e);return null===t.getActiveHandleAbs(e.state)||t.dragging||nl(e,null),!1},mousedown:(e,t)=>(!function(e,t){if(!e.editable)return;let n=nr(e),i=n.getActiveHandleAbs(e.state);if(null===i||n.dragging)return;let a=e.state.doc.resolve(i),r=a.node(),l=nu(e,a),s=l.querySelector('[data-node-view-content-inner="card"]');if(!s)return;let o=n.side,c=o&&["top","bottom"].includes(o)?"y":"x",d="x"===c?s.offsetWidth:s.offsetHeight,u=nd(e,i),p=np(r,l,r.attrs.layout);if(!p)return;ns(e,{startX:t.clientX,startY:t.clientY,dragDirection:o&&["top","bottom"].includes(o)?"y":"x",startSize:u,colWidths:p,totalSize:d,colIndex:0});let h=null;function g(){window.removeEventListener("mouseup",g),window.removeEventListener("mousemove",m);let t=nr(e);if(t.dragging){if(null===h)return void ns(e,null);if(t.dragging)try{(function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"x",a=e.state.doc.resolve(t).before(),r=n.join(" "),l=e.state.tr.setNodeAttribute(a,"x"===i?"layoutTemplateColumns":"layoutTemplateRows",r);e.dispatch(l),function(e,t){let n=e.state.doc.resolve(t),i=nu(e,n).querySelector('[data-node-view-content-inner="card"]');i&&(i.style.gridTemplateColumns="",i.style.gridTemplateRows="")}(e,t)})(e,t.getActiveHandleAbs(e.state),h,t.dragging.dragDirection),ns(e,null)}catch(t){no(e)}h=null}}function m(t){if(!t.which)return g();let n=nr(e),i=n.getActiveHandleAbs(e.state);if(!n.dragging||null===i)return;let{colWidths:a}=n.dragging,r=a[0],s={left:[10,25,37.5,50,62.5],right:[37.5,50,62.5,75,90],top:Object.values(nh)}[null!=o?o:"left"];if("top"===o){let e=r+(t.clientY-n.dragging.startY),i=s.findIndex((t,n,i)=>n===i.length-1||e<=(i[n+1]+t)/2),a=Object.keys(nh)[i];h=["var(--top-accent-height-".concat(a,")"),"auto"]}else{let e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,{totalSize:i}=e,a="x"===e.dragDirection?t.clientX-e.startX:t.clientY-e.startY;return nn()(100*a/i/n,0)*n}(n.dragging,t,.1),i=r+e<s[0]?s[0]:r+e>s[s.length-1]?s[s.length-1]:s.find(t=>6.25>=Math.abs(t-r-e));h=(0,ni.H0)(a,0,i-r,10).map(e=>"".concat(e,"%"))}(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",i=e.querySelector('[data-node-view-content-inner="card"]');i&&(i.style["y"===n?"gridTemplateRows":"gridTemplateColumns"]=t.join(" "))})(l,h,c),(0,na.i$)(l)}window.addEventListener("mouseup",g),window.addEventListener("mousemove",m),t.preventDefault()}(e,t),!1)},decorations(e){let t=t8.getState(e),n=t.getActiveHandleAbs(e);if(null!==n){let i=[];try{let a=document.createElement("div");a.className="column-resize-handle ".concat(t.side),i.push(t9.NZ.widget(n+1,a));let r=e.doc.nodeAt(n);return i.push(t9.NZ.node(n,n+r.nodeSize,{class:"has-column-resize-handle"})),t9.zF.create(e.doc,i)}catch(e){return console.error("(caught) cardLayoutResizing error: ".concat(e.message)),t9.zF.empty}}},nodeViews:{}}})]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,s.KV)(t,{class:"card-layout-item"}),0]},renderHTMLforAI(e){let{node:t}=e;return["div",{class:"body"},0]}});var nx=n(9922),nf=n.n(nx),nb=n(75484),ny=n(1739),nv=n(2426),nC=n(2320),nw=n(25105),nA=n(99923);class nj extends d.Lz{updateProps(e){this.isDestroyed||this.renderer.updateProps(e)}mountEditor(){let e=this.editor,{nodeName:t,preventNodeOrExtensionTypes:n}=this.editorOptions,i=[...cs({isInnerEditor:!0}),nw.V,ny.mk,eE.bU,tq.Q8,nS.configure({outerEditor:e,getPos:this.getPos}),nC.c,nv.bY].filter(e=>!n||!n.includes(e.name)).map(e=>e.name===t?e.extend({topNode:!0}):e);return this.innerEditor=new nb.K({extensions:i,content:{type:t,content:this.node.content.toJSON(),attrs:nf()(this.node.attrs)},onBeforeCreate(i){let{editor:a}=i;a.schema.nodes={...e.schema.nodes},null==n||n.forEach(e=>{a.schema.nodes[e]&&delete a.schema.nodes[e]}),a.schema.marks={...e.schema.marks},a.schema.topNodeType=e.schema.nodes[t],a.extensionManager.schema=a.schema}}),this.innerEditor.gammaOrgId=e.gammaOrgId,this.innerEditor.gammaDocId=e.gammaDocId,this.innerEditor.parentEditor=e,this.innerEditor.view.updateState=function(e){if(!this.docView){this.state=e;return}this.updateStateInner(e,this.state.plugins!=e.plugins)},this.innerEditor.view.update=function(e){this.docView&&t9.Lz.prototype.update.call(this,e)},this.updateProps({innerEditor:this.innerEditor}),this.innerEditor}destroy(){var e;this.isDestroyed=!0,null==(e=this.innerEditor)||e.destroy(),super.destroy()}update(e,t){var n;if(!e.sameMarkup(this.node))return!1;this.node=e;let i=null==(n=this.innerEditor)?void 0:n.view;if(!i)return!0;let a=i.state,r=e.content.findDiffStart(a.doc.content);if(null!=r){let{a:t,b:n}=e.content.findDiffEnd(a.doc.content),l=r-Math.min(t,n);l>0&&(t+=l,n+=l),i.dispatch(a.tr.replace(r,n,e.slice(r,t)).setMeta(nA.k,!0).setMeta("preventAutolink",!0))}return super.update(e,t)}stopEvent(e){return!!this.innerEditor&&this.innerEditor.view.dom.contains(e.target)}ignoreMutation(){return!0}get contentDOM(){return null}constructor(e,t,n){super(e,t,n),this.isDestroyed=!1,this.editorOptions=n,this.updateProps({mountEditor:()=>this.mountEditor(),destroyEditor:()=>{var e,t,n;null==(e=this.innerEditor)||e.destroy(),null==(t=(n=this.editor.commands).forceHideBubbleMenu)||t.call(n,!1),setTimeout(()=>{this.updateProps({innerEditor:void 0})})}})}}function nk(e,t){return n=>new nj(e,n,t)}let nS=s.YY.create({name:"innerEditorExtension",addOptions:()=>({outerEditor:null,getPos:null}),addProseMirrorPlugins(){let{outerEditor:e,getPos:t}=this.options;return[new t3.k_({appendTransaction:n=>{let i=n[0];if(!i)return null;if(!i.getMeta(nA.k)){let i=e.state.tr,a=c.Lm.offset(t()+1);for(let e=0;e<n.length;e++){let t=n[e].steps;for(let e=0;e<t.length;e++){let n=t[e],r=n.map(a);!r&&n instanceof c.Wg&&0==n.from&&(r=nL(n,a)),r&&i.step(r)}}if(i.setMeta(nA.R,!0).setMeta("preventAutolink",!0),i.docChanged){let t=!e.state.selection.eq(i.selection),n=e.state.selection instanceof t3.U3;if(t&&n)try{i.setSelection(t3.U3.create(i.doc,i.mapping.map(e.state.selection.from),i.mapping.map(e.state.selection.to)))}catch(e){console.error("[InnerEditorExtension] restore selection error",e)}e.view.dispatch(i)}}return null}})]},addKeyboardShortcuts(){let{outerEditor:e}=this.options;return{"Mod-z":()=>e.commands.undo(),"Mod-y":()=>e.commands.redo()}}}),nL=(e,t)=>{let n=t.mapResult(e.from,1),i=t.mapResult(e.to,-1),a=t.map(e.gapFrom,1),r=t.map(e.gapTo,1);return n.deletedAcross&&i.deletedAcross||a<n.pos||r>i.pos?null:new c.Wg(n.pos,i.pos,a,r,e.slice,e.insert,e.structure)};var nI=n(75495);let nE=(e,t)=>{try{let n=(0,s.eL)(e.state.doc.resolve(t),tR.jg),i=null==n?void 0:n.node;return null==i?void 0:i.attrs.id}catch(e){return}},nD=e=>{let{decorations:t,editor:n,getPos:i,destroyEditor:a,mountEditor:r}=e,l=(0,ee.jL)();(0,nI.y)(n);let{mountEditor:s,activeNoteCardId:o}=(0,ee.GV)(tb.rd),c=i(),d="number"==typeof c?nE(n,c):void 0,{isNested:u}=(0,tu.tg)(t),p=!u&&(0,tD.I5)(n,i()),h=o===d&&"function"==typeof r&&s===r,g=p&&!h&&!!r&&!u&&!n.isThumbnail;(0,D.useEffect)(()=>{g&&requestAnimationFrame(()=>{l((0,tb.Lz)({activeNoteCardId:d,mountEditor:r,destroyEditor:a}))})},[g,a,l,r,d])};var nM=n(67200),nR=n(24903),n_=n(92397),nz=n(64895);let nN=new t3.hs("cardNotesPlugin"),nT=(e,t)=>new t3.k_({key:nN,props:{attributes:()=>{let n=t.getState();return(0,tb.Iw)(n)&&!(0,tD.NO)(e)&&(0,ei.nD)(n)&&!e.isStatic?{class:"card-notes-active"}:{class:""}},decorations:n=>{let{doc:i,selection:a}=n,r=t.getState();if(!(0,tb.Iw)(r)||(0,tD.NO)(e)||!(0,ei.nD)(r)||e.isStatic)return;let l=(0,n_.hT)(e.state.doc,a.from);if(l)return t9.zF.create(i,[t9.NZ.node(l.pos,l.pos+l.node.nodeSize,{class:"card-notes-active-parent-card"})])}},appendTransaction:(t,n,i)=>{if((0,tD.NO)(e)||e.isThumbnail||e.isStatic)return;let a=i.tr;return((0,nR.z)(t,n,i,a,"cardNotes"),nH(t,n,i,a),a.docChanged)?a:null}}),nP=e=>e.map(e=>{let t=0===e.slice.content.size;return e.from!==e.to&&t?{type:"delete",step:e}:e.from!==e.to||t?e.from===e.to||t?null:{type:"replace",step:e}:{type:"insert",step:e}}).filter(e=>!!e),nH=(e,t,n,i)=>{e.forEach(e=>{let a=e.steps.filter(e=>e instanceof c.Ln||e instanceof c.Wg);1!==a.length||(0,nM.he)(e)||e.getMeta(nA.R)||e.getMeta("appendedTransaction")||e.getMeta("cardNotesHandled")||e.getMeta("rearrangeCards")||nP(a).filter(e=>"delete"===e.type||"replace"===e.type).forEach(e=>{let{step:a}=e,{from:r,to:l}=a;t.doc.nodesBetween(r,l,(e,a)=>{if("cardNotes"===e.type.name){var l;let o=t.doc.resolve(a),c=(0,s.eL)(o,tR.jg),d=(0,s.xe)(n.doc,e=>(0,tR.jg)(e)&&e.attrs.id===(null==c?void 0:c.node.attrs.id));if(!d[0])return;let u=(0,s.xe)(d[0].node,e=>"cardNotes"===e.type.name);if(u.length>0&&(null==(l=u[0])?void 0:l.node.content.eq(e.content))&&d[0].pos===(null==c?void 0:c.pos))return;let p=(0,n_.hT)(n.doc,r);if(!p)return void console.warn("[preventNotesDelete] parentCard not found");let h=n.doc.resolve(p.pos);if((0,tD.PD)(h)){let t=(0,nz.XC)(n.doc,p.pos,!1);if(null===t)return void console.warn("[preventNotesDelete] insertPos not found");i.insert(t,e.content)}else{let t=p.pos+p.node.nodeSize-1;i.insert(t,e)}}})})})},nF=s.bP.create({name:"cardNotes",content:"cardNotesBlock+",selectable:!1,atom:!0,parseHTML:()=>[{tag:"div[class=card-notes]"},{tag:"notes"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,s.KV)(t,{class:"card-notes"}),0]},renderHTMLforAI:()=>["notes",0],renderText:()=>"",addProseMirrorPlugins(){let e=(0,ee.KA)();return[nT(this.editor,e)]},addNodeView(){return this.editor.shouldUsePublishedVersion?(0,d.gu)(()=>null):nk(nD,{nodeName:this.name,preventNodeOrExtensionTypes:["dropCursor","smartLayout","doc","document","card","embed","slashMenu","mediaUpload","GammaMention"]})}});var nB=n(77467),nO=n(97139),nV=n.n(nO);let nW=e=>{let{node:t}=e,n=nV().sanitize(t.attrs.code),i=(0,ee.GV)(ei.wC)===ea.w.SLIDE_VIEW;return(0,p.jsx)(g.u,{...e,children:(0,p.jsx)(eg.s,{className:"card-code-item",dangerouslySetInnerHTML:{__html:n},contentEditable:!1,direction:"column",justify:"center",sx:i?nU:void 0,onMouseDown:er.Fw})})},nU={h:"100vh",overflowY:"auto"},nG=s.bP.create({name:"cardCodeItem",atom:!0,selectable:!1,draggable:!1,addAttributes:()=>({id:(0,q.e)($.z),code:{default:""},aiGenerateStatus:{}}),addNodeView:()=>(0,d.gu)(nW,{update:u.z0}),parseHTML:()=>[{tag:"div[class=custom-code]"},{tag:"custom-code",content:"card/",getAttrs:e=>({code:e.innerHTML})}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,s.KV)(t,{class:"custom-code"})]},renderHTMLforAI(e){let{node:t}=e;return["custom-code",{},t.attrs.code]},addExtensions:()=>[nZ]}),nZ=nB.S.extend({name:"UniqueCodeCardId"}).configure({attributeName:"id",types:["codeCard"],initialValue:$.z,filterTransaction:nM.kz,pluginKey:new t3.hs("UniqueCodeCardId")});var nK=n(64268),nQ=n(51504),nq=n(5221),nJ=n(99745),n$=n(57405),nY=n(39247),nX=n(58809);let n0=e=>(0,p.jsx)(h.a,{bg:"var(--body-color)",opacity:"0.4",borderRadius:"sm",...e});var n1=n(91176),n2=n(28615),n4=n(31090),n5=n(70259),n6=n(63902),n3=n(19546),n9=n(63255),n7=n(85732),n8=n(70006);let ie=(0,D.memo)(e=>{let{cardId:t,docId:n,editor:i,cards:a,level:r,showNested:l,isPresentMode:s}=e,o=(0,n5.d)({cardId:t,editor:i}),c=(0,ee.GV)(nX.Jo),d=(0,D.useCallback)(e=>{(0,n3.T)(i,e,t)},[i,t]),u=(0,n6.oR)(),g=(0,D.useMemo)(()=>{let e=(0,n8.Io)({cardId:t,docId:n,isPresentMode:s});return u?(0,n7.M7)({url:e,doc:c}):e},[t,n,c,s,u]),{listStyle:m,paddingStart:x,marginStart:f}=(0,n9.WI)(r);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n4.B8,{mb:"0.5em",children:(0,p.jsx)(n4.ck,{listStyleType:m,ps:x,ms:f,children:(0,p.jsx)(h.a,{display:"inline",children:(0,p.jsx)(th.N,{href:g,className:"link",role:"link",isExternal:!u,noOfLines:1,wordBreak:"break-word",onClick:d,display:"-webkit-inline-box",verticalAlign:"top",children:(null==o?void 0:o.title)||(0,p.jsx)(eN.x6,{id:"wja8aL"})})})})}),l&&a.map(e=>(0,p.jsx)(ie,{cardId:e.id,cards:e.children,editor:i,level:r+1,showNested:l,docId:n,isPresentMode:s},e.id))]})});ie.displayName="CardTOCItem";let it=e=>{let{node:t,editor:n,getPos:i}=e,{nested:a}=t.attrs,r=i(),l="number"==typeof r?(0,n_.hT)(n.state.doc,r):void 0,s=(0,ee.GV)(nY.NG),o=(0,ee.GV)((0,ei.xO)({cardId:null==l?void 0:l.node.attrs.id,showAll:n2.LD})).filter(e=>{let{id:t}=e;return!(null==s?void 0:s[t])}),c=(0,ee.GV)(nX.Jo),d=(0,ee.GV)(ei.wC),u=(0,ee.GV)(ei.jO),m=d===ea.w.SLIDE_VIEW;return(0,p.jsx)(g.u,{...e,as:"div",children:(0,p.jsxs)(h.a,{cursor:"default",pointerEvents:u?"none":void 0,borderRadius:"var(--box-border-radius)","data-selection-ring":!0,className:"card-toc",children:[0===o.length&&(0,p.jsxs)(nK.F,{colorScheme:"gray",color:"gray.700",fontFamily:"body",fontSize:"1em",py:"0.75em",px:"1em",children:[(0,p.jsx)(nQ._,{w:"1em",h:"1em",alignSelf:"center",me:"0.75em"}),(0,p.jsxs)(h.a,{children:[(0,p.jsx)(nq.X,{fontSize:"1em",lineHeight:"1.5em",children:(0,p.jsx)(eN.x6,{id:"519v/x"})}),(0,p.jsx)(nJ.T,{fontSize:"0.75em",lineHeight:"1.5em",children:(0,p.jsx)(eN.x6,{id:"HmhQ3B"})})]})]}),o.map(e=>(0,p.jsx)(ie,{cardId:e.id,cards:e.children,editor:n,level:0,showNested:a,docId:(null==c?void 0:c.id)||"",isPresentMode:m},e.id))]})})},ii=e=>(0,p.jsx)(n1.V,{children:(0,p.jsxs)(n$.T,{spacing:"0.5em",align:"start",children:[(0,p.jsx)(n0,{h:"1em",w:"14em",bg:"var(--link-color)"}),(0,p.jsx)(n0,{h:"1em",w:"14em",bg:"var(--link-color)"}),(0,p.jsx)(n0,{h:"1em",w:"14em",bg:"var(--link-color)"}),(0,p.jsx)(n0,{h:"1em",w:"14em",bg:"var(--link-color)"})]})}),ia=s.bP.create({name:"tableOfContents",group:"block",atom:!0,selectable:!0,dynamic:!0,addAttributes:()=>({nested:{default:!1}}),parseHTML:()=>[{tag:"div[class=toc]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,s.KV)(t,{class:"toc"})]},addNodeView(){return this.editor.isThumbnail?(0,d.gu)(ii,{update:u.z0}):(0,d.gu)(it,{update:u.z0})}});var ir=n(58495),il=n(29421),is=n(54992),io=n(85542),ic=n(28620),id=n(81498),iu=n(44646);let ip={serialize(e){let{omitIds:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=["colgroup",{}],i=["tbody",{}],a=["table",{},n,i];return e.rows.forEach((a,r)=>{let l=["tr",{}];t||(l[1].id=a.id),i.push(l),e.columns.forEach(i=>{if(0===r){let{type:e,label:a,format:r,id:l,fixedType:s}=i,o=["col",{type:e,label:a,format:r,"fixed-type":s}];t||(o[1].id=l),n.push(o)}let s=e.getCell({column:i.id,row:a.id});l.push(["td",{type:s.type},["value",{},s.textValue]])})}),a},parse(e){let t=[],n=[],i=[];for(let a of e.children)switch(a.tagName){case"COLGROUP":t=[...a.children].filter(e=>"COL"===e.nodeName).map(e=>{var t;return new ic.n({id:e.getAttribute("id")||void 0,type:e.getAttribute("type")||"label",label:e.getAttribute("label")||"",format:e.getAttribute("format")||"raw",fixedType:(null==(t=e.getAttribute("fixed-type"))?void 0:t.toLowerCase())==="true"})});break;case"TBODY":if(!t.length)throw Error("No columns defined before tbody");n=[...a.children].filter(e=>"TR"===e.nodeName).map(e=>{let n=new iu.N({id:e.getAttribute("id")||void 0});return!function(e,n){[...e.children].filter(e=>"TD"===e.nodeName).forEach((e,a)=>{let r=e.getElementsByTagName("value").item(0),l=t[a],s={row:n,column:l},o="data"===l.type?new is.T(s):new io.l(s);o.textValue=(null==r?void 0:r.textContent)?r.textContent:"",i.push(o)})}(e,n),n})}return new id.h({columns:t,rows:n,cells:i})}};var ih=n(49611),ig=n(51684),im=n(8995),ix=n(14974),ib=n(26658),iy=n(23275),iv=n(36091);function iC(e){for(let t of e.columns)if(!t.isEmpty(e)&&"data"===t.type)return t;return null}function iw(e){for(let t of e.columns)if(!t.isEmpty(e)&&"label"===t.type)return t;return null}var iA=n(94297),ij=n(12180),ik=n(21959),iS=n(75906);let iL=e=>{let{direction:t="vertical",definition:n,textValue:i,x:a,y:r,width:l,height:s,bounds:o,offset:c={x:0,y:0},onPositionChange:d,invertColorOfInsideText:u}=e,h=(()=>{if(!n)return!1;let e=n.getDimensions(i),d=e.width+c.x,u=e.height+c.y;return"vertical"===t?n.inside?(n.rotate?d:u)+n.margin<s:r-(n.rotate?d:u)-n.margin<=0:n.inside?d+n.margin<l:a+d+n.margin+l>=o.width})(),g=(0,D.useMemo)(()=>({x:"vertical"===t?a+l/2+c.x:a+l+(n.margin+c.x)*(h?-1:1),y:"vertical"===t?r+(c.y+n.margin)*(h?1:-1):r+s/2+c.y}),[a,l,c.x,r,s,c.y,h,t,n.margin]);return((0,D.useEffect)(()=>{null==d||d(g)},[g]),n.hide)?null:(0,p.jsx)(iS.A,{pointerEvents:"none",...g,textAnchor:n.rotate?h?"end":"start":"vertical"===t?"middle":h?"end":"start",verticalAnchor:"vertical"===t?n.rotate?"middle":h?"start":"end":"middle",style:{...n.textStyles,userSelect:"none",filter:h&&u?"invert(1)":void 0},angle:270*!!n.rotate,children:i})};var iI=n(96784),iE=n(19034),iD=n(66490),iM=n(1860),iR=n(75415),i_=n(88678),iz=n(50998),iN=n.n(iz),iT=n(63674);let iP={top:8,bottom:2,right:1,left:4},iH=e=>{let{color:t,labelCells:n,dataCells:i,height:a,children:r,textColor:l,tickColor:s,tiny:o=!1,width:c,fontFamily:d="var(--body-font)",fontSize:u="var(--chakra-fontSizes-sm)",fontWeight:h="var(--body-font-weight)",margin:g=ij.PH,direction:m="vertical",hideLabels:x=!1,padding:f=0,labelPadding:b=.3,pullToZero:y=!0,onMouseMove:v,onMouseLeave:C,onMouseMoveInside:w,onMouseLeaveInside:A}=e,j=o?2:14,k=o?{top:1,right:0,bottom:2,left:0}:iP,S=o?{top:0,right:0,bottom:0,left:0}:g,L=!!o||x;o&&(u="2px",f=0);let I=o?.5:2,E=o?1:6,M=i.map(e=>e.data),R=i.reduce((e,t)=>{if("mixed"===e)return e;let n=t.getFormatter().type;return""===e||e===n?n:"mixed"},""),_=Math.max(...M),z=Math.min(...M),N=n.length?n:i.map(e=>({position:{row:e.position.row},textValue:""})),T=(0,D.useMemo)(()=>{let e="percentage"===R&&_<=100?100:null;return function(e,t,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(null!==a&&t>a&&(console.error("`capAt` MUST be larger than `max`",{capAt:a,max:t}),a=null),!i){let n=(0,iM.A)({range:[0,1],domain:[e,Math.max(t,0)]}).ticks();i=n.length<2?1:Math.abs(n[1]-n[0])}let r=(0,iT.yw)(Math.max(t,0),i,1),l=(0,iT.yw)(e,i,-1),s=(0,iT.yw)((r-l)/(n-1),i,1);s&&s!==i&&(l=(0,iT.yw)(l,s,-1));let o=[l];for(;o[o.length-1]<r&&(o.push(l+o.length*s),!(o.length>2*n)););return null!==a&&o[o.length-1]>=a?Array.from({length:n+1}).map((e,t)=>(l+(r-l)/n)*t):o}(y?Math.min(z,0):z,_,4,void 0,e)},[z,_,y,R]),P=i[0].format.bind(i[0]),H="vertical"===m?T.map(e=>i[0].format(e)):N.map(e=>iN()(e.textValue,{length:25,separator:" "})),F=(0,iT.Vr)(H,{fontFamily:d,fontSize:u,fontWeight:h}),B=L?0:F.maxWidth,O={top:S.top+k.top,right:S.right+k.right,bottom:S.bottom+I+(L?0:E+k.bottom),left:S.left+B+I+(L?0:E+k.left)},V=("vertical"===m?N:i).map(e=>{let{textValue:t}=e;return iN()(t,{length:25,separator:" "})}),{bottomTickValues:W,bottomLabels:U,rotateLabels:G,labelsHeight:Z,splitIx:K}=iF({em:j,textStyles:{fontFamily:d,fontSize:u,fontWeight:h},hideLabels:L,padding:f,height:a,width:c,margin:O,labelCells:N,labelStrings:V}),Q=a-O.top-O.bottom-Z,q="horizontal"===m&&Q/H.length<j?(O.left-=B,[]):N.map(e=>{let{position:{row:t}}=e;return t}),J=c-O.left-O.right,$=N.map(e=>"".concat(e.position.row,":").concat(e.textValue)).join(","),{labelScale:Y,labelIndex:X}=(0,D.useMemo)(()=>({labelScale:(0,ix.A)({range:"vertical"===m?[0,J]:[0,Q],domain:N.map(e=>e.position.row),paddingInner:b,paddingOuter:.3}),labelIndex:Object.fromEntries(N.map(e=>[e.position.row,e]))}),[J,m,Q,$,b]),ee=(0,D.useMemo)(()=>{let e=T[0],t=T[T.length-1];return(0,iM.A)({range:"horizontal"===m?[z<0?f:0,J]:[Q-(z<0?f:0),I+f],round:!0,domain:[e,t]})},[T,Q,z,J,m,f,I]),et=(()=>{if(!w&&!A)return null;let e=e=>t=>{e(t,function(e,t){var n;let i=null!=(n=(0,iD.A)(e))?n:{x:e.clientX,y:e.clientY};return{svgCoords:i,axisCoords:{x:i.x-t.left,y:i.y-t.top}}}(t,O))};return{move:w&&e(w),leave:A&&e(A)}})();return(0,p.jsxs)("svg",{width:"100%",viewBox:"0 0 ".concat(c," ").concat(a),height:"100%",preserveAspectRatio:"none",overflow:"visible",onMouseMove:v,onMouseLeave:C,children:[T.map((e,n)=>"vertical"===m?(0,p.jsx)(iR.A,{from:{x:O.left,y:ee(e)+O.top},to:{x:c,y:ee(e)+O.top},stroke:t,opacity:0===e?.5:.2},n):(0,p.jsx)(iR.A,{from:{x:O.left+ee(e),y:O.top},to:{x:O.left+ee(e),y:Q},stroke:t,opacity:0===e?.5:.2},n)),et&&(0,p.jsx)(ib.A,{fill:"transparent",opacity:.2,x:O.left,y:O.top,height:Q,width:J,onMouseMove:et.move,onMouseLeave:et.leave}),r({labelScale:Y,dataScale:ee,yMax:Q,xMax:J,margin:{...O}}),(0,p.jsx)(im.A,{children:"vertical"===m?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(iI.A,{top:O.top,left:O.left,scale:ee,stroke:t,rangePadding:z<0?-1*f:0,strokeWidth:I,tickValues:L?[]:T,tickFormat:P,tickLength:E,tickStroke:s||t,tickLabelProps:()=>({fill:l||t,textAnchor:"end",fontFamily:d,fontSize:u,fontWeight:h,dy:"0.33em",dx:o?0:-4,userSelect:"none"})}),(0,p.jsx)(iE.A,{top:Q+O.top,left:O.left,scale:Y,stroke:t,tickValues:W,tickFormat:(e,t)=>U[t],tickStroke:s||t,tickLabelProps:(e,n)=>({fill:l||t,fontFamily:d,fontSize:u,fontWeight:h,userSelect:"none",dy:4*!o,i:n}),strokeWidth:I,tickLength:E,tickComponent:e=>{let{x:t,y:n,i,dy:a,formattedValue:r,...l}=e;return(0,p.jsx)("g",{alignmentBaseline:"middle",...l,children:G||!K[i]?(0,p.jsx)("text",{x:t,y:n,dy:a,transform:G?"rotate(-45, ".concat(t,", 0)"):"",textAnchor:G?"end":"middle",children:r}):(r||"").split(" ").map((e,r)=>(0,p.jsx)("text",{x:t,y:n+j*r,dy:a,textAnchor:"middle",children:e},"".concat(i,":").concat(r)))})}})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(iI.A,{top:O.top,left:O.left,scale:Y,stroke:t,strokeWidth:I,tickLength:E,tickValues:L?[]:q,tickFormat:e=>iN()(X[e].textValue,{length:25,separator:" "}),tickStroke:s||t,tickLabelProps:()=>({fill:l||t,textAnchor:"end",fontFamily:d,fontSize:u,fontWeight:h,dy:"0.33em",dx:o?0:-4,userSelect:"none"})}),(0,p.jsx)(iE.A,{top:Q+O.top,left:O.left,scale:ee,stroke:t,rangePadding:z<0?f:0,tickValues:L?[]:T,tickFormat:P,tickLength:E,tickStroke:s||t,tickLabelProps:(e,n)=>({fill:l||t,textAnchor:0===n?"end":"middle",fontFamily:d,fontSize:u,fontWeight:h,userSelect:"none",dy:4*!o}),strokeWidth:I})]})})]})},iF=e=>{let{em:t,textStyles:n,hideLabels:i,padding:a,height:r,width:l,margin:s,labelStrings:o,labelCells:c}=e,d=o.join(","),u=(l-s.left-s.right)/o.length,{fontFamily:p,fontSize:h,fontWeight:g}=n;return(0,D.useMemo)(()=>{let e=[...o],l={bottomTickValues:[],rotateLabels:!1,labelsHeight:0,splitIx:[],sliceWidth:u,bottomLabels:[]};if(i||u<=t+3)return l;let{widths:d,maxWidth:p}=(0,iT.Vr)(o,n),h=!1,g=t,m=c.map(e=>{let{position:{row:t}}=e;return t}),x=o.map((e,i)=>{if(h||d[i]<u-a)return!1;let{widths:r,maxWidth:l}=(0,iT.Vr)(e.split(" "),n);if(l>u-a)return h=!0,!0;let s=r.length*t;return s>g&&(g=s),!0});if(!h)return{bottomTickValues:m,rotateLabels:h,labelsHeight:g,splitIx:x,sliceWidth:u,bottomLabels:e};let f=e=>Math.cos(Math.PI/4)*e-(t+7);g=Math.sin(Math.PI/4)*p;let b=f(p);if(b>.3*r)return l;let y=e=>s.left+u*e+u/2;for(let t=0;t<o.length;t++){let i=y(t);if(i>b)break;if(f(d[t])>i){let a=(0,iT.jp)(o[t],e=>{let t=(0,i_.A)(e,n);if(null===t)return -1;let a=f(t);return a<i-10?1:a>i?-1:0});if(!a)return console.log("could not truncate"),l;e[t]=a}}return{bottomTickValues:m,bottomLabels:e,rotateLabels:h,labelsHeight:g,splitIx:x,sliceWidth:u}},[t,r,d,p,h,g,i,a,u])};var iB=n(18833);let iO=e=>{let{data:t,render:n,getColor:i,getOpacity:a,onMouseOver:r,onMouseLeave:l,onClick:s,onDoubleClick:o,textColor:c,position:d="bottom",width:u}=e,g=(0,D.useRef)(null),[m,x]=(0,D.useState)(0),[f,b]=(0,D.useState)(!1),y=["top","bottom"].includes(d),v=t.some(e=>n(e).length>20),C=(0,eA.FX)(),w=v&&y&&C,A=y?{width:"100%",display:"grid",gridTemplateColumns:w?"1fr":"repeat(auto-fit, minmax(".concat(m,"em, 1fr))"),justifyItems:f||w?"flex-start":"center",alignSelf:"stretch","& > div:first-child":{justifySelf:f||w?void 0:"flex-end"},"& > div:last-child":{justifySelf:f||w?void 0:"flex-start"}}:{height:"100%",flexDir:"column"},j=t.map(e=>n(e)).join("|");return(0,D.useEffect)(()=>{let e=0;if(!g.current)return;let t=(0,iT.us)(g.current);for(let t of g.current.querySelectorAll(":scope > div")){var n;t.style.width="min-content";let i=(null==(n=t.getClientRects()[0])?void 0:n.width)||0;t.style.width="",i>e&&(e=i)}x(parseFloat((e/t).toFixed(2)))},[j]),(0,D.useEffect)(()=>{b(!!g.current&&function(e){var t;let n=e.children;if(!n.length)return!1;let i=null==(t=n.item(0))?void 0:t.offsetTop;for(let e of n)if(e.offsetTop!==i)return!0;return!1}(g.current))},[u,m]),(0,p.jsx)(eg.s,{ref:g,sx:A,flexGrow:0,flexShrink:1,flexWrap:"wrap",alignContent:["left","top"].includes(d)?"flex-end":"flex-start",justifyContent:"center",gap:5,children:t.map((e,t)=>(0,p.jsxs)(S.z,{flexGrow:0,flexShrink:1,opacity:a?a(e,t):1,cursor:"pointer",onMouseOver:null==r?void 0:r(e,t),onMouseLeave:null==l?void 0:l(e,t),onClick:null==s?void 0:s(e,t),onDoubleClick:null==o?void 0:o(e,t),transition:"opacity ".concat(ij.UG,"s"),minW:"min-content",gap:2,alignItems:"flex-start",children:[(0,p.jsx)(h.a,{flex:"0 0 auto",as:iB.P.div,width:"1em",height:"1em",flexShrink:0,bg:i(e,t),borderRadius:"sm",animate:{backgroundColor:i(e,t)},children:" "}),(0,p.jsx)(L.E,{flex:"0 1 auto",fontSize:"1em",lineHeight:"1em",color:c,textAlign:"left",children:iN()(n(e),{length:w?60:30})})]},t))})};function iV(){let e=(0,D.useRef)(null);return(0,D.useEffect)(()=>()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{clickHandler:t=>n=>{e.current||(e.current=setTimeout(()=>{e.current=null,t(n)},200))},doubleClickHandler:t=>n=>{e.current&&(clearTimeout(e.current),e.current=null),t(n)}}}let iW=e=>{let{showInlineLabels:t,dataCells:n,scale:i,textStyles:a,direction:r,labelMargin:l=5}=e,s=n.flatMap(e=>e.map(e=>e.textValue)),o=s.join("|"),c=i.bandwidth();return(0,D.useMemo)(()=>{if(!t)return;let e=n[0].length>1?(0,ix.A)({range:[0,c],domain:n[0].map(e=>e.textValue),paddingInner:.2}):i,o=(0,iT.Vr)(s,a),d="vertical"===r&&o.maxWidth+l>=e.bandwidth(),u="vertical"===r?d&&o.maxHeight+l>=e.bandwidth():o.maxHeight+l>=e.bandwidth(),p=Object.fromEntries(s.map((e,t)=>[e,t]));return{margin:l,rotate:d,hide:u,textStyles:a,getDimensions:e=>{let t=p[e];return{width:void 0===t?0:o.widths[t],height:void 0===t?0:o.heights[t]}},inside:!1}},[t,a,o,r,c,l])};var iU=n(8527),iG=n(2241),iZ=n(25927),iK=n(40149);let iQ=e=>{let{TooltipInner:t}=e,{showTooltip:n,tooltipOpen:i,tooltipLeft:a,tooltipTop:r,tooltipData:l,hideTooltip:s}=(0,iZ.A)(),o={minW:"5rem",textAlign:"left",pointerEvents:"none",...(0,iU.V)("Tooltip")},c=(0,D.useRef)();return(0,D.useEffect)(()=>()=>{c.current&&clearTimeout(c.current)},[]),{mouseMoveHandler:(e,t)=>i=>{c.current&&clearTimeout(c.current);let a=t?t(e,i):(0,iT.OP)(i);n({tooltipData:{...e,position:e.position},tooltipTop:null==a?void 0:a.y,tooltipLeft:null==a?void 0:a.x})},mouseLeaveHandler:e=>e=>{c.current=window.setTimeout(()=>{s()},300)},renderTooltip:function(){return i&&l?(0,p.jsx)(iq,{style:{},top:r,left:a,sx:{...o,top:void 0,left:void 0,userSelect:"none",pointerEvents:"none"},position:"absolute",contentEditable:!1,suppressContentEditableWarning:!0,children:(0,p.jsx)(t,{...l})},Math.random()):null}}},iq=(0,iG.B)(iK.A,{shouldForwardProp:e=>["top","left","style","children"].includes(e)});var iJ=n(68397);let i$=e=>{let{dispatch:t}=(0,D.useContext)(iJ.uR),n=e.filter(e=>e instanceof ic.n).map(e=>e.id),i=n.join(",");(0,D.useEffect)(()=>(t({type:"reportActiveColumnIds",payload:n}),()=>{t({type:"reportActiveColumnIds",payload:void 0})}),[i,t])},iY=function(){let{textColor:e="var(--body-color)",fontFamily:t="var(--body-font)",fontSize:n="var(--chakra-fontSizes-sm)",fontWeight:i="var(--body-font-weight)"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,D.useMemo)(()=>({fontFamily:t,fontSize:n,fontWeight:i,fill:e}),[e,t,n,i])},iX=e=>{let{showZero:t,data:n,dataColumns:i,animationDuration:a,barColors:r,textColor:l,direction:s,selectCell:o,tooltipEnter:c,tooltipLeave:d,dataScale:u,labelScale:h,yMax:g,xMax:m,margin:x,minValueGreaterThanZero:f,onDataClick:b,onDataDoubleClick:y,isThumbnail:v,focusedPosition:C,setFocusedPosition:w,showInlineLabels:A}=e,j=(0,ik.wQ)(i,"id"),k=iY({textColor:l}),S=n.rows.map(e=>e.getCells(n).filter(e=>!!j.get(e.position.column))),L=iW({dataCells:S,textStyles:k,scale:h,direction:s,showInlineLabels:A});return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(im.A,{top:x.top,left:x.left,children:n.rows.map((e,n)=>{let i="group-".concat(e.id);return(0,p.jsx)(i1,{animationDuration:a,barColors:r,data:S[n],showZero:t,yMax:g,xMax:m,dataScale:u,inlineLabels:L,labelScale:h,selectCell:o,direction:s,globalMinValueGreaterThanZero:f,tooltipEnter:c,tooltipLeave:d,onDataClick:b,onDataDoubleClick:y,borderRadius:v?1:5,focusedPosition:C,setFocusedPosition:w},i)})})})},i0=e=>{var t,n;let{TooltipInner:i,showZero:a=!0,data:r,textColor:l,accentColor:s,animationDuration:o=ij.UG,isThumbnail:c=!1,width:d,height:u,chartType:g,colorScheme:m=ij.gb,hideLabels:x,showInlineLabels:f,onDataClick:b,onDataDoubleClick:y,backgroundColor:v,chartOptions:C,onContextMenu:w}=e,A="horizontal-bar"===g?"horizontal":"vertical",{renderTooltip:j,mouseMoveHandler:k,mouseLeaveHandler:S}=iQ({TooltipInner:i}),[L,I]=(0,D.useState)(null),E=iw(r),M=(null==E?void 0:E.getCells(r))||[],R=r.columns.filter(e=>{let{type:t}=e;return"data"===t}),_=R.map(e=>e.getCells(r)).flat(),z=R.length>1&&!x,N=Math.min(..._.map(e=>e.data).filter(e=>e>0)),T=R.map(e=>{let{id:t}=e;return t}),P=(0,iA.M)(s,T.length>1?T:[...new Set(_.map(e=>e.position.row))],m,{contrastColor:v}),H=(0,iT.jt)(c),F=null!=(t=C["vertical"===A?"bar":"horizontal-bar"])?t:{};return i$([E,...R]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(h.a,{"data-test":"bar-chart-container",height:z?"calc(100% - ".concat(3,"em)"):"100%",cursor:"default",userSelect:"none",contentEditable:!1,onContextMenu:w,children:[(0,p.jsx)(iH,{width:d,height:z?u-3*H:u,labelCells:M,dataCells:_,color:l,textColor:l,tiny:c,direction:A,hideLabels:x,pullToZero:null==(n=F.axisPullToZero)||n,children:e=>(0,p.jsx)(iX,{showZero:a,barColors:P,data:r,textColor:l,dataColumns:R,animationDuration:o,direction:A,tooltipEnter:k,tooltipLeave:S,minValueGreaterThanZero:N,onDataClick:b,onDataDoubleClick:y,isThumbnail:c,focusedPosition:L,setFocusedPosition:I,showInlineLabels:f,...e})}),z&&(0,p.jsx)(iO,{width:d,data:R,render:e=>e.label,getColor:e=>P.get(e.id),textColor:l,onMouseOver:e=>()=>I({row:"_",column:e.id}),onMouseLeave:()=>()=>I(null)})]}),j()]})},i1=e=>{var t;let{animationDuration:n,barColors:i,data:a,showZero:r,yMax:l,xMax:s,dataScale:o,inlineLabels:c,labelScale:d,direction:u,globalMinValueGreaterThanZero:h,tooltipEnter:g,tooltipLeave:m,onDataClick:x,onDataDoubleClick:f,borderRadius:b,focusedPosition:y,setFocusedPosition:v}=e,{clickHandler:C,doubleClickHandler:w}=iV(),A=d.bandwidth(),j=d(null==(t=a[0])?void 0:t.position.row)||0,k=(0,D.useMemo)(()=>{let e=a.map(e=>e.position.column);return(0,ix.A)({range:[j,j+A],domain:e,paddingInner:.2*(e.length>1)})},[A,a,j]),S=r?o(h):0,L=e=>{let t=g(e);return n=>{t(n),v(e.position)}},I=e=>{let t=m(e);return e=>{t(e),v(null)}},E=e=>null!==y&&(a.length>1?y.column!==e.position.column:y.row!==e.position.row);return(0,p.jsx)(im.A,{children:a.map(e=>{let t={dataScale:o,value:e,innerScale:k,yMax:l,xMax:s,scaledMinValueGreaterThanZero:S,showZero:r},{x:d,y:h,width:g,height:m,roundedCorners:y}="vertical"===u?function(e){var t,n;let{dataScale:i,value:a,innerScale:r,showZero:l,scaledMinValueGreaterThanZero:s}=e,o=Math.min(i.range()[0],i(0)),c=o-(null!=(t=i(a.data))?t:0),d=c,u=null!=(n=r(a.position.column))?n:0,p=o-d,h=r.bandwidth(),g={topLeft:!0,topRight:!0,bottomLeft:!1,bottomRight:!1};return l&&Math.abs(o-s)>12&&6>Math.abs(c)&&(d=6,i.domain()[0]<0?(p-=3,g.bottomLeft=!0,g.bottomRight=!0):p-=6),d<0&&(p+=d,g.topLeft=!1,g.topRight=!1,g.bottomLeft=!0,g.bottomRight=!0),{x:u,y:p,height:Math.abs(d),width:h,roundedCorners:g}}(t):function(e){let{dataScale:t,value:n,innerScale:i,showZero:a,scaledMinValueGreaterThanZero:r}=e,l=Math.max(t.range()[0],t(0)),s=l,o=i(n.position.column),c=t(n.data)-l,d=i.bandwidth(),u=c,p={topLeft:!1,topRight:!0,bottomLeft:!1,bottomRight:!0};return a&&r>12&&6>Math.abs(c)&&(u=6,t.domain()[0]<0&&(s-=3,p.bottomLeft=!0,p.topLeft=!0)),u<0&&(s+=u,p.bottomLeft=!0,p.bottomRight=!1,p.topLeft=!0,p.topRight=!1),{x:s,y:o,height:d,width:Math.abs(u),roundedCorners:p}}(t);return(0,p.jsx)(i2,{yMax:l,xMax:s,x:d,y:h,direction:u,width:g,height:m,radius:b,topLeft:y.topLeft,topRight:y.topRight,bottomRight:y.bottomRight,bottomLeft:y.bottomLeft,fill:i.get(a.length>1?e.position.column:e.position.row),label:c?{...c,label:e.textValue}:void 0,opacity:E(e)?.5:1,duration:n,onMouseLeave:I(e),onMouseMove:L(e),onClick:x?C(x.bind(void 0,e)):void 0,onDoubleClick:f?w(f.bind(void 0,e)):void 0,style:{cursor:"pointer",transition:"opacity .25s"}},e.key)})})},i2=e=>{let{duration:t=0,y:n,x:i,height:a,width:r,yMax:l,xMax:s,innerRef:o,direction:c,label:d,opacity:u,style:h,...g}=e,[m,x]=(0,D.useState)(0),[f,b]=(0,D.useState)(r),[y,v]=(0,D.useState)(n+a),[C,w]=(0,D.useState)(i);return(0,D.useEffect)(()=>{(0,iv.i)(m,a,{duration:t,onUpdate:e=>x(e)})},[a]),(0,D.useEffect)(()=>{(0,iv.i)(f,r,{duration:t,onUpdate:e=>b(e)})},[r]),(0,D.useEffect)(()=>{(0,iv.i)(C,i,{duration:t,onUpdate:e=>w(e)})},[i]),(0,D.useEffect)(()=>{(0,iv.i)(y,n,{duration:t,onUpdate:e=>v(e)})},[n]),(0,p.jsxs)(im.A,{children:[(0,p.jsx)(ib.A,{height:"vertical"===c?Math.max(0,l):m,width:"horizontal"===c?Math.max(0,s):f,x:"vertical"===c?C:0,y:"vertical"===c?0:y,...g,onClick:void 0,onDoubleClick:void 0,style:void 0,opacity:0}),(0,p.jsxs)("g",{opacity:u,style:h,children:[(0,p.jsx)(iy.A,{height:m,width:f,x:C,y:y,innerRef:o,...g}),d&&(0,p.jsx)(iL,{direction:c,textValue:d.label,definition:d,width:f,height:m,x:C,y:y,invertColorOfInsideText:!0,bounds:{x:0,y:0,width:s,height:l}})]})]})};var i4=n(46979),i5=n(51600);let i6=e=>{var t,n;let{data:i,TooltipInner:a,isThumbnail:r=!1,width:l,height:s,accentColor:o,textColor:c,colorScheme:d=ij.gb,hideLabels:u,backgroundColor:g,chartOptions:m,onContextMenu:x,...f}=e,{renderTooltip:b,mouseMoveHandler:y,mouseLeaveHandler:v}=iQ({TooltipInner:a}),[C,w]=(0,D.useState)(null),[A,j]=(0,D.useState)(null),k=iw(i),S=(null==k?void 0:k.getCells(i))||[],L=i.columns.filter(e=>{let{type:t}=e;return"data"===t}),I=L.map(e=>e.getCells(i)).flat(),E=L.map(e=>{let{id:t}=e;return t}),M=(0,iA.M)(o,E,d,{contrastColor:g}),R=(0,iT.jt)(r),_=L.length>1&&!u,z=_?s-3*R:s;return i$([k,...L]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(h.a,{"data-test":"line-chart-container",height:_?"calc(100% - ".concat(3,"em)"):"100%",cursor:"default",contentEditable:!1,suppressContentEditableWarning:!0,userSelect:"none",onContextMenu:x,children:[(0,p.jsx)(iH,{width:l,height:z,color:c,textColor:c,tiny:r,labelCells:S,dataCells:I,hideLabels:u,labelPadding:0,pullToZero:null==(n=null==(t=m.line)?void 0:t.axisPullToZero)||n,onMouseMoveInside:r?void 0:(e,t)=>w(t.axisCoords),onMouseLeaveInside:r?void 0:()=>w(null),children:e=>(0,p.jsx)(i3,{data:i,dataColumns:L,width:l,height:z,isThumbnail:r,getColor:M.get.bind(M),textColor:c,tooltipEnter:y,tooltipLeave:v,hoverPosition:C,highlightedColumn:A,chartOptions:m,...f,...e})}),_&&(0,p.jsx)(iO,{width:l,data:L,getColor:e=>M.get(e.id),textColor:c,render:e=>e.label,onMouseOver:e=>()=>j(e.id),onMouseLeave:()=>()=>j(null)})]}),b()]})},i3=e=>{var t,n;let{labelScale:i,dataScale:a,data:r,dataColumns:l,isThumbnail:s,getColor:o,margin:c,tooltipEnter:d,tooltipLeave:u,chartOptions:{line:h={}},onDataClick:g,onDataDoubleClick:m,animationDuration:x=ij.UG,textColor:f,hoverPosition:b,highlightedColumn:y,showInlineLabels:v}=e,[C,w]=a.range(),[A,j]=(0,D.useState)(null),[k,S]=(0,D.useState)(null),L=iY({textColor:f}),I=(0,ik.wQ)(l,"id"),E=iW({dataCells:r.rows.map(e=>e.getCells(r).filter(e=>!!I.get(e.position.column))),textStyles:L,scale:i,direction:"vertical",showInlineLabels:1===l.length&&v,labelMargin:-2}),M=e=>{let{data:t,position:{row:n}}=e;return{x:i(n)+i.bandwidth()/2,y:a(t)}},R=e=>{let t=d(e),n=M(e);return i=>{t(i),j(n),S(e.position.row)}},_=e=>{let t=u(e);return e=>{t(e),j(null),S(null)}};return(0,p.jsxs)(im.A,{left:c.left,top:c.top,children:[(0,p.jsx)("line",{y1:w,y2:C,x1:0,x2:0,strokeWidth:1,stroke:f,transform:"translate(".concat(null!=(n=null!=(t=null==A?void 0:A.x)?t:null==b?void 0:b.x)?n:0,", 0)"),style:{opacity:"".concat(b||A?.8:0),pointerEvents:"none",transition:"opacity ".concat(x,"s, transform ").concat(.15*!!A,"s")}}),l[0].getCells(r).map(e=>(0,p.jsx)(ib.A,{opacity:0,height:C,width:i.bandwidth(),x:i(e.position.row),y:w,onMouseMove:R(e),onMouseLeave:_(e)},"p-".concat(e.key))),l.map(e=>{let t=e.getCells(r);return(0,p.jsx)(i9,{cells:t,isThumbnail:s,color:o(e.id),xScale:i,yScale:a,onDataClick:g,onDataDoubleClick:m,lineOptions:h,animationDuration:x,onMouseMove:R,onMouseLeave:_,highlightedRow:k,highlightedColumn:y,inlineLabels:E,height:C},e.id)})]})},i9=e=>{var t;let{cells:n,color:i,xScale:a,yScale:r,onDataClick:l,onDataDoubleClick:s,onMouseMove:o,onMouseLeave:c,lineOptions:d={},animationDuration:u,isThumbnail:h,highlightedRow:g,highlightedColumn:m,inlineLabels:x,height:f}=e,{clickHandler:b,doubleClickHandler:y}=iV(),v=a.bandwidth(),[C,w]=(0,D.useState)({}),A=i7(n,r,u),j=e=>a(e.position.row)||0,k=e=>(!!g||!!m)&&(m?m!==e.position.column:g!==e.position.row);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(i5.A,{data:n,x:e=>j(e)+v/2,y:A,stroke:i,strokeWidth:2,style:{pointerEvents:"none",transition:"opacity ".concat(u,"s")},opacity:(t=n[0],(g||m)&&(m?m!==t.position.column:!!g))?.3:1}),!h&&n.map(e=>{let t=C[e.key],n=j(e)+a.bandwidth()/2,r=A(e);return(0,p.jsxs)("g",{style:{transition:"opacity ".concat(u,"s")},opacity:d.hideMarkers?0:k(e)?.3:1,children:[x&&!x.hide&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(iL,{textValue:e.textValue,definition:x,width:v,height:f,x:j(e),y:A(e),offset:{y:Math.min(.1*f,50),x:0},onPositionChange:t=>{w(n=>({...n,[e.key]:t}))}}),t&&(0,p.jsx)("line",{x1:n,y1:r,x2:t.x,y2:t.y+5*(t.y>r?-1:1),stroke:x.textStyles.fill})]}),(0,p.jsx)(iB.P.circle,{cx:n,cy:r,r:4,fill:i,stroke:i,style:{cursor:"pointer"},onMouseMove:o(e),onMouseLeave:c(e),onClick:l?b(l.bind(void 0,e)):void 0,onDoubleClick:s?y(s.bind(void 0,e)):void 0})]},"circle-".concat(e.key))})]})},i7=(e,t,n)=>{let i=(0,D.useRef)(Object.fromEntries(e.map(e=>[e.key,void 0]))),a=()=>e=>i.current[e.key],[r,l]=(0,D.useState)(()=>a());return(0,D.useEffect)(()=>{let r=t(0);if(0===r)return;let s=e.map(e=>{var s;let o=e.key;return(0,iv.i)(null!=(s=i.current[o])?s:r,t(e.data),{duration:n,ease:"easeOut",onUpdate:e=>{i.current[o]=e,l(()=>a())}})});return()=>{s.forEach(e=>{e.stop()})}},[e,t]),r||console.log("no getter"),r};var i8=n(99385),ae=n(31612);let at=e=>{let{targetValue:t,initialValue:n=0,duration:i=ij.UG}=e,[a,r]=(0,D.useState)(n);return(0,D.useEffect)(()=>{let{stop:e}=(0,iv.i)(a,t,{duration:i,onUpdate:e=>{r(e)}});return()=>{e()}},[t]),a};var an=n(5777);function ai(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height}function aa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"number"==typeof t&&(t={x:t,y:t}),{...e,x:e.x+t.x*n,y:e.y+t.y*n}}class ar{get anchor(){let e=360*this.angle/(2*Math.PI);switch(!0){case e>=225&&e<=315:return{h:"middle",v:"end"};case e>=45&&e<=135:return{h:"middle",v:"start"};case e>135&&e<225:return{h:"end",v:"middle"};default:return{h:"start",v:"middle"}}}get key(){return this.cell.key}get closestCorner(){let e=this.angle,t=this.rect;return{x:e>=1.5*Math.PI||e<=Math.PI/2?t.x:t.x+this.width,y:e<=Math.PI?t.y:t.y+this.height}}get furthestCorner(){let e=this.angle,t=this.rect;return{x:e>=1.5*Math.PI||e<=Math.PI/2?t.x+this.width:t.x,y:e<=Math.PI?t.y+this.height:t.y}}getConnectionPoint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.rect,{x:n,y:i}=this.closestCorner,a=n/Math.cos(this.angle),r=i/Math.sin(this.angle),l=a;return ai({x:r*Math.cos(this.angle),y:i},t)?l=r:ai({x:n,y:a*Math.sin(this.angle)},t)||console.error("Line does not intersect rect"),{x:(l-e)*Math.cos(this.angle),y:(l-e)*Math.sin(this.angle)}}get rect(){var e,t,n;return{...(e=this._angle,aa({x:Math.cos(e)*(t=this.radius+this.offset),y:Math.sin(e)*t},null!=(n=this.anchorPos)?n:0)),width:this.width,height:this.height}}get angle(){return this._angle}set angle(e){this._angle=function(e){let t=e;for(;t<0;)t+=2*Math.PI;return t%(2*Math.PI)}(e)}getOverflowingRadius(){let e=this.boundingRect,t=this.furthestCorner;if(t.y<e.y||t.x<e.x||t.x>e.x+e.width||t.y>e.y+e.height){let n=Math.min(Math.abs(e.x/Math.cos(this.angle)),Math.abs(e.y/Math.sin(this.angle)));return Math.sqrt(t.x**2+t.y**2)-n}return 0}handleIntersection(e){let t=this.rect,n=e.rect,i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=aa(e,n),a=aa(t,n),r=e=>{let t={x:"width",y:"height"}[e];return a[e]>i[e]?[a[e],Math.max(i[e]+i[t]-a[e],0)]:[i[e],Math.max(a[e]+a[t]-i[e],0)]},[l,s]=r("x"),[o,c]=r("y");return 0!==s&&0!==c&&aa({x:l,y:o,width:s,height:c},-1*n)}(n,t,this.radius);if(!i)return 0;let a=(i.x>n.x?i.width:-1*i.width)*Math.sign(t.x),r=0>Math.sign(t.y)?-((i.y>n.y?n.height-i.height+t.height:i.height)*1):i.y>n.y?i.height:n.height-i.height,l=a/Math.cos(this.angle),s=r/Math.sin(this.angle),o=Math.sign(l)===Math.sign(s)?Math.min(Math.max(l,0),Math.max(s,0)):Math.max(l,s);return this.offset+=o,this.offset}get anchorPos(){var e,t;return e={w:this.width,h:this.height},{x:"start"===(t=this.anchor).h?0:"middle"===t.h?-(e.w/2):-1*e.w,y:"start"===t.v?0:"middle"===t.v?-(e.h/2):-1*e.h}}constructor(e,t,n,i,a,r,l){this.cell=e,this.radius=n,this.label=i,this.width=a,this.height=r,this.boundingRect=l,this.offset=0,this.angle=t}}let al=e=>{let{showLabels:t,cells:n,radius:i,textStyles:a,chartWidth:r,margin:l=20,...s}=e,o=n.map(e=>e.textValue).join("|");return(0,D.useMemo)(()=>{if(!t)return{labelPad:0,labels:[]};let e={x:-(r/2),y:-(r/2),width:r,height:r},o=(0,an.rL)({value:e=>e.data,...s})(n),c=i,d=0,u=o.map(t=>{var n;let{startAngle:r,endAngle:l}=t,s=t.data,o=s.textValue,{width:c,height:u}=null!=(n=(0,iT.Z7)(o,a))?n:{width:0,height:0},p=new ar(s,(r+l)/2-Math.PI/2,i,o,c,u,e),h=p.getOverflowingRadius();return h>d&&(d=h),p}),p=d,h=d,g=0;for(;p>0&&g++<2;){let e=d;d=0,p=0,u.forEach((t,n)=>{t.radius=t.radius-e,0!==n&&(p+=t.handleIntersection(u[n-1])),n===u.length-1&&(p+=t.handleIntersection(u[0]));let i=t.getOverflowingRadius();i>d&&(d=i)}),h+=d,p+=d}let m=l+h;return i-m<.25*i?{labelPad:0,labels:[]}:{labelPad:m,labels:u}},[o,a,i,r,l,t])},as=e=>{let{labels:t,radius:n,textStyles:i,colors:a,isFocused:r,explodeOffset:l,animationDuration:s=.2}=e;return(0,p.jsx)("g",{children:t.map((e,t)=>{let o=e.getConnectionPoint(5),c=r(e.cell.position),d=r(e.cell.position,!0),u="opacity ".concat(s,"s, transform ").concat(s,"s"),h=d?"translate(".concat(Math.cos(e.angle)*l,"px, ").concat(Math.sin(e.angle)*l,"px)"):"";return(0,p.jsxs)("g",{opacity:c?1:.5,style:{transition:u,transform:h},children:[(0,p.jsx)("line",{x1:Math.cos(e.angle)*n,y1:Math.sin(e.angle)*n,x2:o.x,y2:o.y,stroke:i.fill,strokeWidth:d?2:1}),(0,p.jsx)("circle",{cx:o.x,cy:o.y,r:3,fill:a[t],stroke:i.fill}),(0,p.jsx)("text",{dominantBaseline:"hanging",x:e.rect.x,y:e.rect.y+3,...i,fontWeight:d?"bold":"normal",pointerEvents:"none",style:{userSelect:"none"},children:e.label})]},e.key)})})},ao=e=>{var t;let{data:n,TooltipInner:i,colorScheme:a=ij.gb,isThumbnail:r=!1,width:l,height:s,chartType:o,textColor:c,accentColor:d,chartOptions:{donut:u,pie:h},hideLabels:g,showInlineLabels:m,onDataClick:x,onDataDoubleClick:f,animationDuration:b=ij.UG,backgroundColor:y,onContextMenu:v}=e,{dispatch:C}=(0,D.useContext)(iJ.uR),{renderTooltip:w,mouseMoveHandler:A,mouseLeaveHandler:j}=iQ({TooltipInner:i}),k={top:15,right:15,bottom:15,left:15},S=iC(n),L=iw(n),I=S?S.getCells(n).filter(e=>!e.isEmpty):[];i$([L,S]),(0,D.useEffect)(()=>{let e="pie-no-labels";return L||g||C((0,ae.TD)(eT.Ru._({id:"gMgGUM"}),{severity:"warning",id:e,dismissable:!1})),()=>{C((0,ae.sA)(e))}},[L,g,C]),(0,D.useEffect)(()=>{let e="pie-single-row";return 1===I.length&&C((0,ae.TD)(eT.Ru._({id:"uHTxZb"}),{severity:"info",id:e,dismissable:!0})),()=>{C((0,ae.sA)(e))}},[I.length,C]);let E=I.map(e=>{let{position:t}=e;return t.row}),M=(0,iA.M)(d,E,a,{contrastColor:y,minContrast:1.3}),[R,_]=(0,D.useState)(null),z=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return R?R.row===e.row&&R.column==R.column:!t};r&&(k.top=5,k.right=5,k.bottom=5,k.left=5);let N=r||g||!L,[T,P]=l<s?[l,l]:[s,s],H=T-k.left-k.right,F=P-k.top-k.bottom,B=Math.min(H,F)/2,O=H/2,V=at({targetValue:"donut"===o?(null==u?void 0:u.radius)||.5:1,initialValue:1,duration:b}),W=null!=(t=null==h?void 0:h.legendPosition)?t:"bottom",U=iY(),{labelPad:G,labels:Z}=al({showLabels:m,cells:I,radius:B,textStyles:U,chartWidth:H,sort:null}),K=B-G,Q=K*V,q=e=>(0,p.jsx)(ad,{cells:I,colors:M,donutThickness:Q,duration:b,isDummy:e,isFocused:z,isThumbnail:r,onClick:x,onDoubleClick:f,radius:K,setFocus:_,tooltipEnter:A,tooltipLeave:j}),J=["top","left"].includes(W),$=["right","left"].includes(W),Y="".concat($?"row":"column").concat(J?"-reverse":"");return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(eg.s,{height:"100%","data-test":"pie-chart-container",cursor:"default",contentEditable:!1,suppressContentEditableWarning:!0,userSelect:"none",flexDirection:Y,gap:1,justifyContent:J?"flex-end":"flex-start",onContextMenu:v,children:[(0,p.jsx)("svg",{style:{aspectRatio:"1",minHeight:"2em",overflow:"hidden"},viewBox:"0 0 ".concat(T," ").concat(P),children:(0,p.jsx)(im.A,{top:F/2+k.top,left:O+k.left,children:(0,p.jsxs)(p.Fragment,{children:[q(!0),q(!1),(0,p.jsx)(as,{labels:Z,isFocused:z,radius:K,textStyles:U,colors:[...M.values()],explodeOffset:15})]})})}),!N&&(0,p.jsx)(iO,{width:l,position:W,data:I,getColor:e=>M.get(e.position.row),render:e=>{let{position:{row:t}}=e;return n.getCellOrThrow({row:t,column:L.id}).label},textColor:c,getOpacity:e=>z(e.position)?1:.2,onMouseOver:e=>()=>_(e.position),onMouseLeave:()=>()=>_(null)})]}),w()]})},ac=e=>{let{arc:t,duration:n=.2,path:i,getColor:a,tooltipEnter:r,tooltipLeave:l,onClick:s,onDoubleClick:o,focused:c,setFocused:d,isThumbnail:u,radius:h,isDummy:g,isDonut:m,...x}=e,{startAngle:f,endAngle:b}=t,y=a(t.data),[v,C]=(0,D.useState)(f),[w,A]=(0,D.useState)(f),[j,k]=(0,D.useState)(y),{clickHandler:S,doubleClickHandler:L}=iV();(0,D.useEffect)(()=>{(0,iv.i)(v,[v,b],{duration:n,onUpdate:e=>C(e)})},[b]),(0,D.useEffect)(()=>{(0,iv.i)(w,[w,f],{duration:n,onUpdate:e=>A(e)})},[f]),(0,D.useEffect)(()=>{(0,iv.i)(j,y,{duration:n,onUpdate:e=>k(e)})},[y]);let I=c?u?4:15:0,E=(w+v)/2,M=I>0?"translate(".concat(Math.sin(E)*I,", ").concat(-(Math.cos(E)*I*1),")"):"";return(0,p.jsx)("g",{transform:M,style:{transition:"transform ".concat(n,"s")},children:(0,p.jsx)("path",{d:i({...t,startAngle:w,endAngle:v}),fill:j,stroke:g||m?"transparent":"var(--card-color)",strokeWidth:.02*h,strokeLinecap:"round",strokeLinejoin:"round",onMouseMove:e=>{d(!0),null==r||r(t.data)(e)},onMouseLeave:e=>{d(!1),null==l||l(t.data)(e)},onClick:s?S(s.bind(void 0,t.data)):void 0,onDoubleClick:o?L(o.bind(void 0,t.data)):void 0,...x})})},ad=e=>{let{cells:t,colors:n,donutThickness:i,duration:a,isDummy:r,isFocused:l,isThumbnail:s,onClick:o,onDoubleClick:c,radius:d,setFocus:u,tooltipEnter:h,tooltipLeave:g}=e;return(0,p.jsx)(i8.A,{data:t,outerRadius:d,innerRadius:r?0:d-i,pieValue:e=>{let{data:t}=e;return t},pieSort:null,pieSortValues:null,padAngle:r?0:.016*(i<d),children:e=>{let{arcs:t,...m}=e;return t.map(e=>(0,p.jsx)(ac,{arc:e,...m,radius:d,isDonut:i<d,focused:!r&&l(e.data.position,!0),setFocused:t=>{u(t?e.data.position:null)},getColor:e=>r?"transparent":n.get(e.position.row),tooltipEnter:h,tooltipLeave:g,duration:r?0:a,isThumbnail:s,onClick:o,onDoubleClick:c,isDummy:!!r},e.data.key))}})};var au=n(75287),ap=n(5872),ah=n(14389),ag=n(61651),am=n(45002);let ax=e=>{let{isResizing:t,onResizing:n,setIsResizing:i,cloneBoxProps:a={},showResizeControls:r,disableCloning:l,children:s,...o}=e,c=(0,D.useRef)(null),d=(0,D.useRef)(null),u=(0,D.useRef)(void 0);return(0,D.useEffect)(()=>{if(!l&&(!0===t&&d.current&&u.current&&d.current.appendChild(u.current),!t&&u.current)){var e;null==(e=u.current.parentNode)||e.removeChild(u.current)}},[t]),(0,p.jsxs)(p.Fragment,{children:[t&&!l?(0,p.jsx)(h.a,{filter:"blur(15px)",...a,ref:d,width:"100%",height:"100%",position:"relative","data-test":"resize-placeholder"}):(0,p.jsx)(h.a,{ref:c,width:"100%",height:"100%",filter:t?"blur(4px) opacity(0.75)":void 0,children:s}),r&&(0,p.jsx)(am.u4,{setIsResizing:e=>{if(!l&&e){var t;u.current=null==(t=c.current)?void 0:t.cloneNode(!0);let e=u.current;e&&(e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.width="auto",e.style.height="auto")}i(e)},onResizing:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];let{width:r,height:l}=e,s=u.current;if(!s)return;let o={width:s.offsetWidth,height:s.offsetHeight},c=r/o.width,d=l/o.height;s.style.transform="scale(".concat(c,", ").concat(d,")"),s.style.transformOrigin="top left",null==n||n(e,...i)},...o})]})};var af=n(68068),ab=n(60628),ay=n(96500),av=n(59557),aC=n(72104);let aw=e=>{var t,n;let{state:i,dispatch:a}=(0,D.useContext)(iJ.uR),[r,l]=(0,D.useState)(new Date),s=(0,D.useRef)(!1),o=i.feedback;return((0,D.useEffect)(()=>{if(!(null==o?void 0:o.length))return;let e=[],t=o.filter(t=>{let n=t.dismissable;return n instanceof Date&&(!(n<=r)||(e.push(t.id),!1))});e.length&&a((0,ae.sA)(...e)),!s.current&&t.length&&(s.current=setTimeout(()=>{s.current=!1,l(new Date)},1e3))},[o,r,a]),null==(t=i.feedback)?void 0:t.length)?(0,p.jsx)(eM.B,{marginY:2,...e,children:null==(n=i.feedback)?void 0:n.map(e=>(0,p.jsxs)(nK.F,{marginBottom:1,status:e.severity,children:[(0,p.jsx)(nQ._,{}),(0,p.jsx)(nJ.T,{flexGrow:1,children:e.message}),e.dismissable&&(0,p.jsx)(aC.U,{cursor:"pointer",onClick:()=>{a((0,ae.sA)(e.id))}})]},e.id))}):null};var aA=n(23907),aj=n(3276),ak=n(71024);let aS=n.n(ak)()(async()=>(await Promise.all([n.e(7585),n.e(7155),n.e(1940)]).then(n.bind(n,61940))).DataEditor,{loadableGenerated:{webpack:()=>[61940]},ssr:!1,loading:()=>(0,p.jsx)(eg.s,{m:5,h:"100%",justifyContent:"center",children:(0,p.jsx)(aj.y,{size:"lg"})})}),aL=e=>(0,p.jsx)(aS,{...e}),aI=(0,iJ.en)(e=>{let{onChange:t,onClose:n,data:i,isOpen:a,renderChart:r,attributes:l,updateAttributes:s,accentColor:o,selectedCell:c,cardColor:d}=e,u=(0,ee.GV)(ei.SJ),g=(0,R.Ik)((0,R.fQ)(u));return(0,p.jsxs)(af._s,{placement:"bottom",onClose:n,isOpen:a,trapFocus:!0,isFullHeight:!0,returnFocusOnClose:!1,children:[(0,p.jsx)(eZ.m,{}),(0,p.jsxs)(ab.z,{borderTopRadius:"xl",h:"calc(var(--100vh) - 24px)",transitionDuration:{enter:"0.4s"},children:[(0,p.jsx)(eQ.s,{}),(0,p.jsxs)(eJ.c,{p:0,h:"100%",overflow:"auto","data-testid":"chart-editor-body",display:"flex",flexDir:"column",children:[(0,p.jsx)(eq.r,{children:(0,p.jsx)(eN.x6,{id:"44wbJb"})}),(0,p.jsxs)(eg.s,{direction:{base:"column",xl:"row-reverse"},overflow:"auto",gap:5,px:5,children:[(0,p.jsxs)(eg.s,{direction:{base:"column",lg:"row",xl:"column"},width:{base:"auto",xl:"40%","2xl":"30%"},gap:5,children:[(0,p.jsx)(h.a,{flexGrow:{base:1,xl:0},flexShrink:0,flexBasis:"auto",borderRadius:"md",overflow:"hidden",children:(0,p.jsx)(h.a,{background:d,borderRadius:"md",padding:8,maxWidth:"100%",h:"xs",children:(0,p.jsx)(h.a,{as:av.A,position:"relative",children:e=>{let{width:t,height:n}=e;return r({data:i,width:t,height:n,textColor:g})}})})}),(0,p.jsx)(h.a,{background:"gray.50",borderRadius:"md",children:(0,p.jsx)(aA.z,{attributes:l,updateAttributes:s,accentColor:o})})]}),(0,p.jsx)(ay.c,{display:{base:"block",xl:"none"}}),(0,p.jsxs)(h.a,{flexGrow:1,zIndex:1,overflow:{xl:"auto"},children:[(0,p.jsx)(aL,{onChange:t,data:i||id.h.createEmpty(2,3),selectedCell:c}),(0,p.jsx)(aw,{})]})]})]})]})]})}),aE=e=>{let t=(0,D.useRef)(!1),[n,i]=(0,D.useState)(!1);(0,D.useEffect)(()=>{if(t.current||null===e)return;let n=!1;e.columns.forEach((t,i)=>{let a=e.getCellAtIndex({row:0,column:i});n=(0,ik.aH)(a,e)||n}),t.current=!0,n&&i(n)},[e])},aD=e=>{let{editor:t,node:n,getPos:i}=e,a=(0,D.useCallback)(()=>{t.commands.selectNodeAtPos(i()),t.chain().deleteSelectionAndSelectNear().run()},[t,i]),{attrs:r}=n,l=!!r.data,s=r.colorScheme,o=r.chartType,c=e=>{t.commands.selectNodeAtPos(i()),t.chain().updateAttributes("chart",e).focus().run()},d=(0,tJ.d)({editor:t,node:n,getPos:i});return[{key:"chart-options",title:(0,p.jsx)(eN.x6,{id:"nuBbBr"})},{divider:!0},...d,{divider:!0},{key:"edit-chart",label:l?(0,p.jsx)(eN.x6,{id:"BhcOHV"}):(0,p.jsx)(eN.x6,{id:"UHoZ5e"}),icon:e$.zLW,onClick:()=>{t.commands.selectNodeAtPos(i()),t.commands.editSelectedChart()}},{divider:!0},{key:"change-color-scheme",label:(0,p.jsx)(eN.x6,{id:"q3f9iw"}),icon:e$.wIs,items:[{key:"default",label:eT.Ru._({id:"ovBPCi"}),check:!s,onClick:()=>{c({colorScheme:void 0})}},...Object.entries(ij.fA).map(e=>{let[t,n]=e;return{key:t,label:n.label(),check:t===s,onClick:()=>{c({colorScheme:t})}}})]},{key:"horizontal-alignment",label:(0,p.jsx)(eN.x6,{id:"9ms+e0"}),icon:e$.ecg,items:m.gj.map(e=>{let{name:n,key:i,icon:a,checkActive:r,apply:l}=e;if(r&&l)return{key:i,label:n(),check:r(t),icon:a,onClick:()=>{l(t)}}}).filter(Boolean)},{divider:!0},{key:"switch-chart-type",label:(0,p.jsx)(eN.x6,{id:"U2Nq+R"}),icon:e$.$Fj,items:Object.entries(ij.XD).map(e=>{let[t,{label:n,icon:i}]=e;return{key:t,label:n(),icon:i,check:o===t,onClick:()=>c({chartType:t})}})},{divider:!0},{key:"delete",label:(0,p.jsx)(eN.x6,{id:"cnGeoo"}),icon:e$.yLS,onClick:a,color:"red.500"}]},aM=e=>{let{node:t,editor:n,selected:i,updateAttributes:a,decorations:r,getPos:l}=e,{chartType:s,colorScheme:o,data:c,dimensions:d={ratio:.5},hideLabels:u,showInlineLabels:x,chartAttributes:f={},horizontalAlign:b}=t.attrs,y=(0,D.useMemo)(()=>{try{return c?il.A.parse(c):null}catch(e){return console.error("[DATALOSS] Error parsing serialized chart",e),console.log(c),null}},[c]),v=(0,ee.CU)(),C=(0,ee.GV)(ei.Cl),w=(0,eA.FX)(),A=(0,ee.GV)(ei.Ik),j=(0,eA.CJ)(n),k=(0,ee.GV)(ei.r9),S=C&&j&&A,{theme:I,cardColor:E}=(0,z.a)(r),{ref:M,isResizing:_,setIsResizing:N,resizeableSx:T}=(0,am.Y3)(n),P=(0,D.useCallback)(e=>{a({dimensions:{width:e.width,height:e.height}})},[a]),[H,F]=(0,D.useState)(ij.UG);aE(y),(0,D.useEffect)(()=>{_?F(0):setTimeout(()=>{F(ij.UG)},1e3*ij.UG)},[_]);let B=n.isThumbnail||!1,[O,V]=(0,D.useState)(),W=!B&&k===t.attrs.id,U=e=>{if(e)return void v.dispatch((0,ei.Jr)({chartId:t.attrs.id}));v.dispatch((0,ei.Jr)({chartId:null}))},G=(0,D.useMemo)(()=>{switch(s){case"pie":case"donut":return ao;case"line":return i6;default:return i0}},[s]),Z=(0,R.Ik)((0,R.VH)(I)),K=e=>{C&&A&&(V(e),U(!0))};(0,D.useEffect)(()=>{O&&(null==y?void 0:y.getCell(O.position))!==O&&V(void 0)},[O,W]);let Q=e=>{var t;let{data:n,width:i,height:a,textColor:r="var(--body-color)",showEditInPlaceholder:l=!1,onContextMenu:d=()=>{}}=e,g=n&&(null==(t=i4.K.nonEmpty(n))?void 0:t.data);return!g||!iC(g)||g.isEmpty()?(0,p.jsx)(az,{setEditing:l?U:void 0,onContextMenu:d}):(0,p.jsx)(G,{animationDuration:H,data:g,colorScheme:o||void 0,width:i,height:a,accentColor:Z,textColor:r,chartOptions:f,onDataDoubleClick:K,hideLabels:u,showInlineLabels:x,backgroundColor:E,onContextMenu:d,TooltipInner:e=>(0,p.jsx)(p.Fragment,{children:c.columns.map(t=>{var n;return(0,p.jsxs)(h.a,{as:"p",mb:1,children:[t.label&&(0,p.jsxs)(L.E,{as:"b",children:[t.label,": "]}),(0,p.jsx)(L.E,{as:"span",children:null==(n=g.getCell({row:e.position.row,column:t.id}))?void 0:n.textValue},t.id)]},t.id)})}),chartType:s,isThumbnail:B})},q=aR(d),J="width"in d?d.width:ah.St;w&&(J=Math.min(J,ah.St/2));let $=J*q,Y=(0,m.yp)(b),X=aD(e),{onOpenContextMenu:et,onCloseContextMenu:en,menuProps:ea}=(0,ej.$)({editor:n,getPos:l});return(0,au.l)()?(0,p.jsx)(g.u,{as:"div",...e,children:(0,p.jsxs)(eg.s,{w:"100%",dir:(0,m.fZ)(r,b),className:ap.S,sx:T,css:Y,direction:"column",onDoubleClick:()=>{S&&U(!0)},_focusWithin:{shadow:"outline"},children:[(0,p.jsxs)(h.a,{ref:M,className:"chart",borderRadius:"var(--box-border-radius)","data-content-reference":!0,"data-selection-ring":!0,"data-selection-background":!0,maxW:"100%",minW:"min(10em, 100%)",minH:"min(10em, 100%)",width:!function(e){return"width"in e&&"height"in e}(d)?"calc(100% * var(--media-scale))":a_(d.width),aspectRatio:!w&&q?"1/".concat(q):void 0,position:"relative","data-drag-handle":!0,"data-scale-preview":!0,children:[(0,p.jsx)(ax,{showResizeControls:S&&i,imageWrapperRef:M,isResizing:_,setIsResizing:N,updateResizeAttrs:P,refreshDeps:[t.attrs],disableCloning:!0,keepRatio:!1,children:y?Q({data:y,width:J,height:$,showEditInPlaceholder:!B&&C,onContextMenu:et}):(0,p.jsx)(az,{setEditing:B||!C?void 0:U})}),(0,p.jsx)(aI,{renderChart:Q,cardColor:E,data:y,isOpen:W,onClose:()=>U(!1),onChange:e=>{a({data:il.A.serialize(e)})},attributes:t.attrs,updateAttributes:a,accentColor:Z,selectedCell:O})]}),(0,p.jsx)(ef.tz,{menuItems:X,isOpen:ea.isOpen,position:ea.position,onClose:en,size:"small"})]})}):(0,p.jsx)(h.a,{w:J,h:$})},aR=e=>"ratio"in e?e.ratio:e.height/e.width,a_=e=>"calc(".concat(e," * var(--font-size) / 16)"),az=e=>{let{setEditing:t,onContextMenu:n}=e,i=(0,eV.rd)();return(0,p.jsxs)(n$.T,{spacing:3,justify:"center",contentEditable:!1,color:i?ag.N.DARK_COLOR:ag.N.LIGHT_COLOR,h:"100%",backgroundColor:i?ag.N.DARK_BG:ag.N.LIGHT_BG,borderRadius:"var(--box-border-radius)","data-testid":"chart-placeholder",onContextMenu:n,children:[(0,p.jsx)(E.g,{size:"2x",icon:ig.s67}),t&&(0,p.jsx)(ih.$,{size:"xs",fontFamily:"body",onClick:()=>t(!0),children:(0,p.jsx)(eN.x6,{id:"UHoZ5e"})})]})};var aN=n(70666);let aT=()=>(0,ir.Ak)(5),aP=new t3.hs("UniqueMediaId"),aH=nB.S.extend({name:"UniqueChartId"}).configure({attributeName:"id",types:["chart"],initialValue:aT,filterTransaction:nM.kz,pluginKey:aP}),aF=s.bP.create({name:"chart",group:"cardBlock layoutBlock",selectable:!0,draggable:!0,addNodeView:()=>(0,d.gu)(aM,{update:u.z0}),addAttributes:()=>({id:(0,q.e)(()=>(0,ir.Ak)(5)),chartType:{default:"bar"},chartAttributes:{...(0,J.tb)("chartAttributes"),default:{}},colorScheme:{isRequired:!1},dimensions:{...(0,J.tb)("dimensions"),default:{ratio:.56}},hideLabels:{isRequired:!1,default:!1},showInlineLabels:{isRequired:!1,default:!1},data:{...(0,J.tb)("data")}}),addCommands:()=>({insertChart:(e,t)=>n=>{let{dispatch:i,editor:a,commands:r}=n;if(!i)return!1;let{schema:l}=a,s=l.nodes.chart,o=aT(),c=s.createChecked({id:o,chartType:e,data:t&&e?(0,aN.$)(e):void 0});return r.insertContent(c.toJSON())},editSelectedChart:()=>e=>{let{state:t}=e,n=t.selection;if(!(n instanceof t3.nh)||!aB(n.node))return!1;let i=n.node;return(0,ee.KA)().dispatch((0,ei.Jr)({chartId:i.attrs.id})),!0}}),addExtensions:()=>[aH],parseHTML(){return[{tag:'div[data-type="'.concat(this.name,'"]')},{tag:"chart",getAttrs(e){try{if("string"==typeof e)return!1;let t=[...e.children].find(e=>"TABLE"===e.nodeName);if(!t)return null;let n=ip.parse(t);if(!n)return{};return{data:il.A.serialize(n)}}catch(e){return console.error("[caught]",e),!1}}}]},renderHTMLforAI(e){let{node:t,HTMLAttributes:n}=e,{"data-data":i,...a}=n,r=["chart",(0,s.KV)(this.options.HTMLAttributes,a)];return t.attrs.data&&r.push(ip.serialize(il.A.parse(t.attrs.data))),r},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,s.KV)({"data-type":this.name},this.options.HTMLAttributes,t)]}}),aB=e=>"chart"===e.type.name;var aO=n(32973);let aV=n(76931).Ay.extend({priority:eu.y.Code,inclusive:!1,addKeyboardShortcuts(){return{"Mod-Shift-C":()=>this.editor.commands.toggleCode()}}});var aW=n(16842),aU=n(14900),aG=n(45143),aZ=n(11403);let aK=e=>{let[t,n]=(0,D.useState)(new Date),i=(0,D.useRef)(!1);return(0,D.useEffect)(()=>{i.current&&n(new Date),i.current=!0;let e=setInterval(()=>{n(new Date)},6e4);return()=>{clearInterval(e)}},[e]),t},aQ=e=>{var t;let n=(0,aG.h5)({base:4,md:8})||8,{node:i,decorations:a}=e,{showTime:l,hiddenContributorIds:s}=i.attrs,o=(0,ee.GV)(ei.zB),c=(0,D.useMemo)(()=>(o||[]).filter(e=>!s.includes(e.user.id)),[o,s]),d=(0,aZ.En)(),u=(0,ee.GV)(nX.Jo),h=null==u?void 0:u.editedTime,x=aK(h).toISOString(),f=c.length-n,b=(0,m.fZ)(a),y=null!=(t=e.node.attrs.horizontalAlign)?t:"rtl"===b?"right":"left",v=(0,D.useMemo)(()=>({left:"rtl"===b?"row-reverse":"row",center:"column",right:"rtl"===b?"row":"row-reverse"})[y],[b,y]);return(0,p.jsx)(p.Fragment,{children:c.length>0&&(0,p.jsx)(g.u,{...e,as:"div",children:(0,p.jsxs)(eg.s,{dir:b,userSelect:"none",contentEditable:!1,justify:"flex-start",align:"center",direction:v,borderRadius:"var(--box-border-radius)","data-selection-ring":"padded","data-selection-background":!0,children:[(0,p.jsxs)(aW.Z,{sx:{".avatar-overflow-activator":{height:"1.6em",width:"1.6em",minH:"1.6em",minW:"1.6em",fontSize:"inherit",span:{fontSize:"0.68em"}}},children:[c.slice(0,n).map(e=>(0,p.jsx)(ez.Vc,{width:"1.6em",height:"1.6em",fontSize:"inherit",size:"sm",shadow:"base",sx:{"@media print":{shadow:"none"}},borderWidth:"1px",name:e.user.displayName,label:d&&e.user.displayName?eT.Ru._({id:"bxVoEp",values:{0:e.user.displayName,1:(0,aU.Gx)(e.lastEdited,x)}}):" ",src:e.user.profileImageUrl},e.user.id)),f>0&&(0,p.jsx)(ez.oQ,{tooltipLabel:eT.Ru._({id:"25VyZX"}),count:f,avatars:c.map(e=>({name:e.user.displayName||"",id:e.user.id,profileImageUrl:e.user.profileImageUrl||"",color:"white"})),disabled:!0})]}),(0,p.jsxs)(eg.s,{direction:"column",marginInline:"0.5em",lineHeight:"1.4",textAlign:y,children:[(0,p.jsx)(L.E,{className:"contributors-list",children:1===c.length?(0,p.jsx)(eN.x6,{id:"t490IT",values:{0:c[0].user.displayName}}):(0,p.jsx)(eN.x6,{id:"KNjuGh",values:{0:c.length}})}),!r.$.GAMMA_PUPPETEER_SERVICE&&h&&l&&(0,p.jsx)(L.E,{fontSize:"0.75em",children:d?(0,p.jsx)(eN.x6,{id:"gUWkFH",values:{0:(0,aU.Gx)(h,x)}}):" "})]})]})})})},aq=e=>{var t;let n=null!=(t=e.node.attrs.horizontalAlign)?t:"left",i=(0,D.useMemo)(()=>({left:"row",center:"column",right:"row-reverse"})[n],[n]);return(0,p.jsx)(n1.V,{children:(0,p.jsxs)(eg.s,{direction:i,alignItems:"center",gap:"1em",children:[(0,p.jsx)(n0,{borderRadius:"full",boxSize:"4em"}),(0,p.jsx)(n0,{h:"2em",w:"14em"})]})})},aJ=s.bP.create({name:"contributors",group:"block",atom:!0,selectable:!0,dynamic:!0,addAttributes:()=>({showTime:{default:!0},hiddenContributorIds:{default:[],...(0,J.tb)("hiddenContributorIds")}}),addCommands:()=>({toggleShowTime:()=>e=>{let{commands:t,state:n}=e,{selection:i}=n;if(!(i instanceof t3.nh))return!1;let{node:a}=i;return"contributors"===a.type.name&&(t.updateAttributes("contributors",{showTime:!a.attrs.showTime}),!0)},toggleOneContributorVisibility:e=>t=>{let{commands:n,state:i}=t,a=(0,ee.KA)().getState(),r=(0,ei.zB)(a);if(!r||1===r.length)return!1;let{selection:l}=i;if(!(l instanceof t3.nh))return!1;let{hiddenContributorIds:s}=l.node.attrs,o=[];if(s.includes(e))o=s.filter(t=>t!==e);else{if(s.length+1===r.length)return!1;o=[...s,e]}return n.updateAttributes("contributors",{hiddenContributorIds:o}),!0},toggleAllContributorsVisibility:()=>e=>{let{commands:t,state:n}=e,i=(0,ee.KA)().getState(),a=(0,ei.zB)(i);if(!a||1===a.length)return!1;let{selection:r}=n;if(!(r instanceof t3.nh))return!1;let{hiddenContributorIds:l}=r.node.attrs,s=[];if(l.length>0)s=[];else{let e=(0,ei.JV)(i);s=a.filter(t=>t.user.id!==(null==e?void 0:e.id)).map(e=>e.user.id)}return t.updateAttributes("contributors",{hiddenContributorIds:s}),!0}}),parseHTML:()=>[{tag:"div[class=contributors]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,s.KV)(t,{class:"contributors"})]},addNodeView(){return this.editor.isThumbnail?(0,d.gu)(aq,{update:u.z0}):(0,d.gu)(aQ,{update:u.z0})}});var a$=n(73971);let aY="125em",aX=e=>{let{svg:t,theme:n}=e;if(!t)return null;let i=(0,a$.k)(n);return(0,p.jsx)(h.a,{dangerouslySetInnerHTML:{__html:t},"data-testid":"diagram-svg",sx:{svg:{width:"100%",height:"auto",maxH:aY,...i}}})};var a0=n(28647),a1=n(74355),a2=n(68689);let a4=async e=>{let t=Array.from(e.getCurrentPageShapeIds()),n=await e.getSvg(t,{padding:8,scale:1});if(n)return console.debug("generated svg",n),n},a5=(e,t,n)=>{e&&t&&(Array.from(e.getCurrentPageShapeIds()).length>0?e.updateShapes(t):e.createShapes(t),n&&e.updateAssets(n))},a6=(e,t)=>{e.user.updateUserPreferences({isDarkMode:(0,R.Mw)(t)}),setTimeout(()=>{e.zoomToFit()})},a3=e=>{let{isOpen:t,isEditable:n,onClose:i,isDrawingEditorActive:a,setDrawingEditorActive:r,editor:l,...s}=e,{node:o,updateAttributes:c}=s,{assets:d,shapes:u}=o.attrs,h=(0,ee.GV)(ei.SJ),[g,m]=(0,D.useState)();(0,D.useEffect)(()=>{g&&a5(g,u,d)},[u,d,g,c]);let x=(0,D.useCallback)(e=>{m(e),window.tldrawEditor=e,a6(e,h)},[h]),f=(0,D.useCallback)(async()=>{if(!g)return;let e=await a4(g);e?c({svg:e.outerHTML}):c({svg:null})},[g,c]),b=(0,D.useCallback)(()=>{g&&c({shapes:g.getCurrentPageShapes(),assets:g.getAssets(),version:2})},[c,g]),y=(0,aZ.lW)(b,500),v=(0,D.useCallback)(()=>{n&&f(),r(!1),i()},[i,f,r,n]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(ez._s,{placement:"bottom",onClose:v,isOpen:t,trapFocus:!0,isFullHeight:!0,returnFocusOnClose:!1,children:[(0,p.jsx)(ez.QP,{}),(0,p.jsxs)(ez.zj,{dir:"ltr",borderTopRadius:"xl",h:"calc(var(--100vh) - 24px)",onAnimationComplete:e=>{"enter"==e&&r(!0)},transition:{enter:{duration:.4}},overflow:"hidden",children:[(0,p.jsx)(ez.ys,{p:0,h:"100%",overflow:"hidden","data-testid":"drawing-editor-body",children:a?(0,p.jsx)(a2.U,{onMount:x,onChange:n?y:void 0,orgId:l.gammaOrgId,theme:h}):(0,p.jsx)(eg.s,{align:"center",justify:"center",w:"100%",h:"100%",children:(0,p.jsx)(aj.y,{size:"xl"})})}),(0,p.jsx)(ez.s1,{zIndex:400,backgroundColor:"white","data-testid":"drawing-editor-close"})]})]})})};var a9=n(98968);let a7=e=>{let{editor:t,node:n,getPos:i}=e,{id:a,fullWidthBlock:r}=n.attrs,l=(0,D.useCallback)(()=>{t.commands.selectNodeAtPos(i()),t.chain().deleteSelectionAndSelectNear().run()},[t,i]),s=(0,D.useCallback)(()=>{t.commands.selectNodeAtPos(i()),(0,a1.CD)(a,!0)},[t,i,a]),o=(0,tJ.d)({editor:t,node:n,getPos:i});return{contextMenuItems:[{key:"diagram-options",title:(0,p.jsx)(eN.x6,{id:"i+ShMB"})},{divider:!0},...o,{divider:!0},{key:"edit-diagram",label:(0,p.jsx)(eN.x6,{id:"SsJ/l2"}),icon:e$.MT7,onClick:s},{divider:!0},{key:"add-comment",label:(0,p.jsx)(eN.x6,{id:"oFsfkI"}),icon:e$.DN2,onClick:()=>{t.commands.selectNodeAtPos(i()),(0,a9.wG)(t.state.selection)}},{divider:!0},{key:"align",label:(0,p.jsx)(eN.x6,{id:"9ms+e0"}),icon:e$.ecg,disabled:r,items:m.gj.map(e=>{let{name:n,key:i,icon:a,checkActive:l,apply:s}=e;return{key:i,check:null==l?void 0:l(t),icon:a,label:n(),onClick:()=>{s&&s(t),r&&t.commands.updateAttributes("diagram",{fullWidthBlock:!1})}}})},{divider:!0},{key:"delete",label:(0,p.jsx)(eN.x6,{id:"cnGeoo"}),icon:e$.yLS,onClick:l,color:"red.500"}]}},a8=e=>{let{node:t,updateAttributes:n,selected:i,editor:a,getPos:r,decorations:l}=e,{width:s,meta:o,id:c,horizontalAlign:d,svg:u,shapes:x}=t.attrs,f=(0,ee.GV)(ei.Cl),b=(0,ee.GV)(ei.Ik),y=(0,eA.CJ)(a),v=f&&y&&b,C=(0,ee.GV)(ei.Xu),w=!!C&&C===c,[A,j]=(0,D.useState)(!1),k=(0,ee.GV)(ei.SJ),S=(0,eV.rd)(),{ref:L,setIsResizing:I,resizeableSx:M}=(0,am.Y3)(a),{onOpenContextMenu:R,onCloseContextMenu:_,menuProps:z}=(0,ej.$)({editor:a,getPos:r}),{contextMenuItems:N}=a7({editor:a,node:t,getPos:r}),T=(0,D.useCallback)(()=>{(0,a1.CD)(c,!0)},[c]),P=(0,D.useCallback)(()=>{a.chain().setNodeSelection(r()).focus().run()},[a,r]),H=(0,D.useCallback)(()=>{(0,a1.CD)(null,!1)},[]),F=(0,D.useCallback)((e,i)=>{n({...t.attrs,fullWidthBlock:void 0===i?t.attrs.fullWidthBlock:i,...e})},[t.attrs,n]),B=s||(null==o?void 0:o.width),O=!u,V=x&&x.length>0,{isFullWidth:W}=(0,a0.D)(l),U=(0,m.yp)(W?"center":d);return(0,p.jsxs)(g.u,{...e,as:"div",children:[(0,p.jsxs)(eg.s,{dir:(0,m.fZ)(l,d),w:"100%",className:ap.S,css:{...U,".pptx-exporting-image":{".textbox":{visibility:"hidden"}}},sx:M,direction:"column",_focusWithin:{shadow:"outline"},onContextMenu:R,children:[(0,p.jsxs)(h.a,{ref:L,className:"diagram",borderRadius:"var(--box-border-radius)","data-content-reference":!0,"data-selection-ring":!0,"data-selection-background":!0,w:W?"calc(100% * var(--media-scale))":B?"calc(".concat(B," * var(--font-size) / 16)"):"100%",maxW:"100%",h:"auto",maxH:aY,position:"relative",minH:O?"6em":"auto","data-drag-handle":!0,children:[v&&i&&!W&&(0,p.jsx)(am.u4,{imageWrapperRef:L,setIsResizing:I,updateResizeAttrs:F,refreshDeps:[t.attrs]}),(0,p.jsx)(aX,{svg:u,theme:k}),v&&!w&&!O&&(0,p.jsx)(h.a,{cursor:"default",position:"absolute",inset:"0",zIndex:"1",onClick:P,onDoubleClick:T}),O&&(0,p.jsxs)(n$.T,{spacing:3,justify:"center",contentEditable:!1,color:S?ag.N.DARK_COLOR:ag.N.LIGHT_COLOR,h:"7em",backgroundColor:S?ag.N.DARK_BG:ag.N.LIGHT_BG,borderRadius:"var(--box-border-radius)","data-testid":"drawing-placeholder",onDoubleClick:f?T:void 0,children:[(0,p.jsx)(E.g,{size:"2x",icon:ig.qTS}),f&&(0,p.jsx)(ih.$,{size:"xs",onClick:T,fontFamily:"body",children:V?(0,p.jsx)(eN.x6,{id:"3IPx8n"}):(0,p.jsx)(eN.x6,{id:"trQ3Gx"})})]})]}),w&&(0,p.jsx)(a3,{...e,isOpen:w,isEditable:f,onClose:H,isDrawingEditorActive:A,setDrawingEditorActive:j})]}),(0,p.jsx)(ef.tz,{menuItems:N,isOpen:z.isOpen,position:z.position,onClose:_,size:"small"})]})},re=s.bP.create({name:"diagram",group:"block",atom:!0,selectable:!0,draggable:!0,addAttributes:()=>({id:(0,q.e)(rn),shapes:{...(0,J.tb)("shapes")},assets:{...(0,J.tb)("assets"),default:{}},meta:{...(0,J.tb)("meta"),default:{}},width:{},svg:{}}),parseHTML:()=>[{tag:"div[class=diagram]"},{tag:"diagram[bookmark]",getAttrs:eh.Ll}],renderHTMLforAI(e){let{node:t}=e;return["diagram",{bookmark:(0,eh.vL)(t)}]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,s.KV)(t,{class:"diagram"})]},addCommands(){let e=this.name,t=t=>{let{selection:n}=t;return n instanceof t3.nh&&n.node.type.name===e?n.node:void 0};return{editSelectedDiagramBlock:()=>e=>{let{state:n}=e,i=t(n);return i&&(0,ee.KA)().dispatch((0,ei.v5)({drawingId:i.attrs.id})),!0}}},addExtensions:()=>[ri],addNodeView:()=>(0,d.gu)(a8,{update:u.z0})}),rt=new t3.hs("UniqueMediaId"),rn=()=>(0,ir.Ak)(5),ri=nB.S.extend({name:"UniqueDiagramId"}).configure({attributeName:"id",types:["diagram"],initialValue:rn,filterTransaction:nM.kz,pluginKey:rt});var ra=n(36811);let rr=()=>(0,p.jsx)(d.VR,{as:"div",children:(0,p.jsx)(h.a,{contentEditable:!1,borderRadius:"var(--box-border-radius)","data-selection-ring":"padded","data-selection-background":!0,"data-drag-handle":!0,py:"0.25em",position:"relative",transform:"translateY(0.25em)",children:(0,p.jsx)(ay.c,{backgroundColor:"var(--body-color-muted)",height:"0.125em",opacity:1})})}),rl=/^(---|___|—-)/,rs=s.bP.create({name:"divider",group:"block cardNotesBlock",atom:!0,selectable:!0,draggable:!0,parseHTML:()=>[{tag:'hr[class="divider"]'}],renderHTML(e){let{HTMLAttributes:t}=e;return["hr",(0,s.KV)(t,{class:"divider"})]},addNodeView:()=>(0,d.gu)(rr),addInputRules(){return[(0,ra.wN)({find:rl,type:this.type})]}});var ro=n(42328),rc=n(70315),rd=n(74158),ru=n(49776),rp=n(3247),rh=n(90221),rg=n(55670),rm=n(88839),rx=n(81136);let rf=(0,D.memo)(e=>{let{theme:t,id:n}=e,i=(0,R.Mw)(t);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("filter",{id:n||"soft3d-small-inner-shadow",children:[(0,p.jsx)("feFlood",{floodColor:i?"rgba(0, 0, 0, 0.6)":"rgba(0, 0, 0, 0.15)",result:"flood1"}),(0,p.jsx)("feComposite",{operator:"out",in2:"SourceGraphic",in:"flood1",result:"composite1"}),(0,p.jsx)("feMorphology",{operator:"dilate",radius:.5,in:"composite1",result:"morphology1"}),(0,p.jsx)("feGaussianBlur",{stdDeviation:1.5,in:"morphology1",result:"blur1"}),(0,p.jsx)("feOffset",{dx:2,dy:2,in:"blur1",result:"offset1"}),(0,p.jsx)("feFlood",{floodColor:i?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.75)",result:"flood2"}),(0,p.jsx)("feComposite",{operator:"out",in2:"SourceGraphic",in:"flood2",result:"composite2"}),(0,p.jsx)("feMorphology",{operator:"dilate",radius:.5,in:"composite2",result:"morphology2"}),(0,p.jsx)("feGaussianBlur",{stdDeviation:1.5,in:"morphology2",result:"blur2"}),(0,p.jsx)("feOffset",{dx:-2,dy:-2,in:"blur2",result:"offset2"}),(0,p.jsxs)("feMerge",{children:[(0,p.jsx)("feMergeNode",{in:"offset1"}),(0,p.jsx)("feMergeNode",{in:"offset2"})]}),(0,p.jsx)("feComposite",{operator:"atop",in2:"SourceGraphic"})]})})});rf.displayName="Soft3DSmallOuterShadow";var rb=n(95714);let ry=(0,D.memo)(e=>{let{theme:t}=e,n=(0,rb.ZI)(t),i=(0,R.fQ)(t),a=(0,R.VH)(t);return(0,p.jsx)(h.a,{as:"svg",width:"0",height:"0",sx:n,children:(0,p.jsxs)("defs",{children:[(0,p.jsx)(rv,{theme:t}),(0,p.jsx)(rv,{theme:t,rtl:!0}),(0,p.jsx)(rC,{theme:t}),(0,p.jsx)(rC,{theme:t,rtl:!0}),(0,p.jsx)(rA,{color:(0,R.Ik)(a),id:"theme-accent-color-fill"}),(0,p.jsx)(rA,{color:(0,R.Ik)(i),id:"theme-body-color-fill"}),(0,p.jsx)(rj,{theme:t})]})})});ry.displayName="ThemeSVGDefs";let rv=(0,D.memo)(e=>{let{theme:t,rtl:n}=e,i=(0,R.VH)(t);return"linear-gradient"!==i.type?null:(0,p.jsx)(rw,{gradient:i,id:n?"theme-accent-gradient-linear-rtl":"theme-accent-gradient-linear",rtl:n})});rv.displayName="ThemeAccentGradientLinearDef";let rC=(0,D.memo)(e=>{let{theme:t,rtl:n}=e,i=(0,R.VH)(t),a=(0,rm.M)(t);if("linear-gradient"!==i.type)return null;let r=(0,R.Mw)(t),l=(0,R.Oq)(t),s="semi"===a.shapeFill?(0,rx.nz)(i,l,.5):i,o=(0,rx.Hh)(s,r?.25:.9);return o?(0,p.jsx)(rw,{gradient:o,id:n?"theme-accent-background-gradient-linear-rtl":"theme-accent-background-gradient-linear",rtl:n}):null});rC.displayName="ThemeAccentBackgroundGradientLinearDef";let rw=(0,D.memo)(e=>{let{gradient:t,id:n,rtl:i}=e,a=(i?180-t.angle:t.angle)*Math.PI/180,r=50+50*Math.cos(a+Math.PI),l=50+50*Math.sin(a+Math.PI),s=50+50*Math.cos(a),o=50+50*Math.sin(a);return(0,p.jsx)("linearGradient",{id:n,x1:"".concat(r,"%"),y1:"".concat(l,"%"),x2:"".concat(s,"%"),y2:"".concat(o,"%"),children:t.stops.map((e,t)=>{let{color:n,position:i}=e;return(0,p.jsx)("stop",{offset:"".concat(i,"%"),stopColor:n},t)})})});rw.displayName="LinearGradientDef";let rA=(0,D.memo)(e=>{let{color:t,id:n}=e;return t?(0,p.jsxs)("filter",{id:n,children:[(0,p.jsx)("feFlood",{floodColor:t,result:"flood"}),(0,p.jsx)("feComposite",{in:"flood",in2:"SourceAlpha",operator:"in"})]}):null});rA.displayName="ColorFillDef";let rj=(0,D.memo)(e=>{let{theme:t}=e,n=(0,rm.M)(t);return(0,p.jsx)(p.Fragment,{children:"soft3d"===n.shapeShadow&&(0,p.jsx)(rf,{theme:t,id:"theme-shape-shadow"})})});rj.displayName="ThemesV3SVGDefs";var rk=n(14753),rS=n(61766);let rL=e=>e.state.selection instanceof t3.nh&&(0,rS.J)(e.state.selection.node)?void e.chain().focus(e.state.selection.from).blur().run():e.commands.blur();var rI=n(29608),rE=n(61385),rD=n(21290),rM=n(71128),rR=n(83817),r_=n.n(rR);let rz=e=>(0,ee.GV)(t=>{if((0,ei.wC)(t)!==ea.w.SLIDE_VIEW)return null;let n=(0,ei.FI)(t);if(!n||!(null==n?void 0:n.cardId))return null;let[i]=(0,s.xe)(e.state.doc,e=>(0,tR.jg)(e)&&e.attrs.id===n.cardId);if(!i)return console.warn("[usePresentingCardBackground] Unexpectedly couldnt find presentingCard ".concat(n.cardId)),null;let a=(0,J.TK)(e.state.doc.resolve(i.pos+1),e=>(0,tR.jg)(e)&&e.attrs.background&&!e.attrs.background.inside).pop();return a?a.node.attrs.background:(console.warn("[usePresentingCardBackground] Unexpectedly couldnt find card at pos ".concat(i.pos)),null)},r_());var rN=n(84431),rT=n(29143);let rP=(0,iB.P)(h.a),rH=(e,t)=>{let n=!!(e&&t),i=!!(e&&!t),a=!!(!e&&t),r=(0,D.useRef)(n);return(0,D.useEffect)(()=>{r.current=n},[n,!!(!e&&!t)]),[i||a?r.current:n,n]},rF=e=>{let{editor:t,node:n,updateAttributes:i}=e,a=(0,rd.d4)(ei.wC),r=(0,ee.GV)(ei.nD),l=(0,rd.d4)(ei.cS),s=(0,rd.d4)(ei.$i),o=(0,ee.GV)(ei.SJ),c=a===ea.w.SLIDE_VIEW,u=rz(t),{background:g}=n.attrs,m=(0,eA.FX)(),x=(0,rk.t)(),[f,b]=rH(c,s);(0,D.useEffect)(()=>{!n.attrs.docId&&t.gammaDocId&&i({...n.attrs,docId:t.gammaDocId})},[n.attrs,t,i]);let y=(0,rg.S)(o,r),v=(0,R.Mw)(o),C=(0,tB.fS)(o,g),w=(0,tB.FD)(C,v,t.isThumbnail?el.p7:void 0),A=(0,tB.FD)(c&&u&&u.type!==ep.h.NONE?u:C,v,t.isThumbnail?el.p7:void 0);console.debug("%c[DocComponent] Doc is rerendering","background-color: chartreuse",{isPresentModeReady:b,isPresentModeReadyLagging:f,presentingCardId:s});let j=(0,rM.Tq)(),k={width:"100%",'[data-animate-value="doc"]':{display:f?"none":void 0},...j.src&&c?{"--logo-push-x":"".concat(j.width+2*j.paddingX,"px"),"--logo-push-y":"".concat(j.height+2*j.paddingY,"px")}:void 0},S=(0,D.useCallback)(e=>{let n=e.target;return(!n.closest(".".concat(rE.p$))||!!n.getAttribute("data-outside-card-body"))&&(rL(t),!0)},[t]);(0,D.useEffect)(()=>rp.WC.on("keydown","DOC_BLUR",e=>!!(0,rc.Ay)("Esc")(e)&&!!t.isFocused&&(t.commands.blur(),e.preventDefault(),!0)),[t]);let L=(0,eA.UT)("comment"),E=(0,ru.U)(!m),M=!m&&!c&&!E,_=(0,tv.u)("insertWidgetBottom")?rD.PX:rD.C9;return(0,p.jsxs)(d.VR,{as:"div","data-testid":"doc-node-root",style:{height:"100%"},children:[(0,p.jsx)(rh.m,{theme:o}),(0,p.jsx)(ry,{theme:o}),(0,p.jsx)(h.a,{onMouseDown:S,h:"100%",children:(0,p.jsxs)(eg.s,{className:"doc-content-wrapper",direction:"column",align:"center",pos:"relative",pb:m||c||!L?"0px":l?rD.bc:_,sx:y,onDragOver:er.JO,minH:rT.env.STORYBOOK?"auto":"calc(var(--100vh) - var(--editor-padding-top, 0px))",children:[(0,p.jsx)(rB,{...w}),M&&(0,p.jsx)(eg.s,{alignSelf:"start",pos:"absolute",inset:"0",h:"100%",children:(0,p.jsx)(rM.e5,{})}),(0,p.jsx)(ro.N,{children:(0,p.jsx)(rP,{className:"motion-present-mode-bg","data-doc-background-element-present-mode":!0,"data-export-master":!0,position:"fixed",zIndex:rN.$.presentBg,top:0,left:0,right:0,h:"100%",initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},visibility:b?"visible":"hidden",transition:rE.Dt,css:n2.D1?void 0:{scrollbarGutter:"stable",overflow:"scroll"},...A},"presenting-background-"+s)}),(0,p.jsx)(eg.s,{sx:k,justify:"center",className:(0,I.cx)("document-content",c?"is-present-mode":"is-doc-mode"),css:{"--viewport-scale-factor":"".concat(x)},pt:"var(--doc-padding-top)",children:(0,p.jsx)(d.$p,{style:{width:"100%"}})}),m&&(0,p.jsx)(rM.cT,{})]})})]})},rB=e=>{let t=(0,eA.FX)(),n=(0,rI.mG)()||t,i=(0,rI.mG)()?{style:{touchAction:"none",display:"contents"}}:{};return(0,p.jsx)(eg.s,{"data-doc-background-element":!0,position:"absolute",w:"var(--editor-width)",h:"100%",contentEditable:!1,userSelect:"none",clipPath:"inset(0)",top:0,left:0,...i,children:(0,p.jsx)(h.a,{"data-testid":"doc-background",width:"100%",height:"100%",position:"fixed",...n?{top:"0px"}:{},...e})})};var rO=n(92828);let rV=s.bP.create({name:"doc",topNode:!0,content:"document"}),rW=s.bP.create({name:"document",content:"card+",isolating:!0,defining:!0,selectable:!1,addAttributes:()=>({aiOptions:{default:rO.C.aiOptions,...(0,J.tb)("aiOptions")},docId:{},background:{default:rO.C.background,...(0,J.tb)("background")},docFlags:{default:rO.C.docFlags,...(0,J.tb)("docFlags")},format:{},customCode:{default:rO.C.customCode,...(0,J.tb)("customCode")},settings:{default:rO.C.settings,...(0,J.tb)("settings")},generateStatus:{default:rO.C.generateStatus},generateInfo:{default:rO.C.generateInfo,...(0,J.tb)("generateInfo")}}),addCommands:()=>({updateDocumentSettings:e=>t=>{let{commands:n}=t;return n.updateNestedAttributesAtPos(0,{settings:e})}}),addNodeView:()=>(0,d.gu)(rF,{update:u.z0,ignoreMutation:e=>{let{mutation:t}=e,n=t.target instanceof HTMLElement?t.target:t.target.parentElement,i="selection"!==t.type&&rU(n);return console.debug("[Document.ignoreMutation] isMutationOutsideDocContent:",i),!!i}}),parseHTML:()=>[{tag:"div[class=gamma-doc]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,s.KV)(t,{class:"gamma-doc"}),0]}}),rU=e=>{let t=null==e?void 0:e.parentElement;return!!t&&!t.closest(".document-content")};var rG=n(87930),rZ=n(47687),rK=n.n(rZ),rQ=n(39822),rq=n(46510),rJ=n(19297),r$=n(55424),rY=n(90278),rX=n(8376);class r0{destroy(){this.handlers.forEach(e=>{let{name:t,handler:n}=e;return this.editorView.dom.removeEventListener(t,n)})}update(e,t){null!=this.cursor&&t.doc!=e.state.doc&&(this.cursor.pos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){var t,n,i,a,r;(((null==e?void 0:e.pos)||null)!=(null==(t=this.cursor)?void 0:t.pos)||(null==e?void 0:e.type)!=(null==(n=this.cursor)?void 0:n.type)||(null==e?void 0:e.side)!=(null==(i=this.cursor)?void 0:i.side))&&(this.cursor=e,null==e?(null==(r=this.element)||null==(a=r.parentNode)||a.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){var e;let t,n;if(null==this.cursor||!this.editorView)return;let i=this.editorView.state.doc.resolve(this.cursor.pos),a,r=()=>"";if("gallery"==this.cursor.type&&(null==(e=this.cursor.node)?void 0:e.type.name)!=="gallery")a=this.cursor.rect,r=()=>eT.Ru._({id:"pl+vw2"});else if("blankRect"==this.cursor.type)a=this.cursor.rect,r=()=>"";else if("smartLayoutVariant"==this.cursor.type)a=this.cursor.rect,r=()=>eT.Ru._({id:"hErHGD"});else if("column"==this.cursor.type||"gallery"==this.cursor.type||"smartLayout"==this.cursor.type){let e=this.cursor.rect;if(!e)return;let t="right"==this.cursor.side||"bottom"==this.cursor.side,n=t?i.nodeAfter:i.nodeBefore,r=n&&((0,rJ.NJ)(n)||(0,r$.q)(n))?0:this.width;if("right"==this.cursor.side||"left"==this.cursor.side){let n=t?e.right+r:e.left-r;a={top:e.top,bottom:e.bottom,left:n-this.width/2,right:n+this.width/2}}else{let n=t?e.bottom+r:e.top-r;a={left:e.left,right:e.right,top:n-this.width/2,bottom:n+this.width/2}}}else if(!i.parent.inlineContent){let e=i.nodeBefore,t=i.nodeAfter;if(e||t){let n=this.editorView.nodeDOM(this.cursor.pos-(e?e.nodeSize:0));if(!n||!(n instanceof Element))return;let i=n.getBoundingClientRect(),r=e?i.bottom:i.top;e&&t&&(r=(r+this.editorView.nodeDOM(this.cursor.pos).getBoundingClientRect().top)/2),a={left:i.left,right:i.right,top:r-this.width/2,bottom:r+this.width/2}}}if(!a){let e=this.editorView.coordsAtPos(this.cursor.pos);a={left:e.left-this.width/2,right:e.left+this.width/2,top:e.top,bottom:e.bottom}}let l=this.editorView.dom.offsetParent;if(this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),l&&(l!=document.body||"static"!=getComputedStyle(l).position)){let e=l.getBoundingClientRect();t=e.left-l.scrollLeft,n=e.top-l.scrollTop}else t=-pageXOffset,n=-pageYOffset;this.element.style.left=a.left-t+"px",this.element.style.top=a.top-n+"px",this.element.style.width=a.right-a.left+"px",this.element.style.height=a.bottom-a.top+"px",this.element.dataset.type=this.cursor.type,this.element.innerHTML=r()}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){var t,n,i,a,r,l,s,o,c,d;if(!this.editorView.editable)return;let u=(0,rQ.nA)(this.editorView,e,null==(t=this.editorView.dragging)?void 0:t.slice);if(u){this.setCursor({...u,type:"blankRect"}),this.scheduleRemoval(5e3);return}let p=(0,rY.fc)(this.editorView,e,null==(n=this.editorView.dragging)?void 0:n.slice);if(p){this.setCursor({...p,type:"blankRect"}),this.scheduleRemoval(5e3);return}if((0,rq.Vk)(this.editorView,e,null==(i=this.editorView.dragging)?void 0:i.slice))return void this.scheduleRemoval(20);let h=(0,a9.tz)(this.editorView,e,null==(a=this.editorView.dragging)?void 0:a.slice,!this.editorView.dragging);if(h){this.setCursor({...h,type:"gallery"}),this.scheduleRemoval(5e3);return}let g=(0,rJ.ds)(this.editorView,e,null==(r=this.editorView.dragging)?void 0:r.slice);if(g){this.setCursor({...g,type:"column"}),this.scheduleRemoval(5e3);return}let m=(0,rQ.ZL)(this.editorView,e,null==(l=this.editorView.dragging)?void 0:l.slice);if(m){this.setCursor({...m,type:"blankRect"}),this.scheduleRemoval(5e3);return}let x=(0,rY.TS)(this.editorView,e,null==(s=this.editorView.dragging)?void 0:s.slice);if(x){this.setCursor({...x,type:"smartLayoutVariant"}),this.scheduleRemoval(5e3);return}let f=(0,rY.eL)(this.editorView,e,null==(o=this.editorView.dragging)?void 0:o.slice);if(f){this.setCursor({...f,type:"smartLayout"}),this.scheduleRemoval(5e3);return}let b=(0,n_.M7)(this.editorView,e,null==(c=this.editorView.dragging)?void 0:c.slice);if(b){this.setCursor({pos:b.pos,type:"default"}),this.scheduleRemoval(5e3);return}let y=(0,rX.M)(this.editorView,e,null==(d=this.editorView.dragging)?void 0:d.slice);null===y?this.setCursor(null):(this.setCursor({pos:y,type:"default"}),this.scheduleRemoval(5e3))}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}constructor(e,t){this.cursor=null,this.element=null,this.timeout=null,this.editorView=e,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>this[t](e);return e.dom.addEventListener(t,n),{name:t,handler:n}}),this.dragover=rK()(this.dragover,100,{trailing:!1}).bind(this)}}let r1=s.YY.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:null}),addProseMirrorPlugins(){return[function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new t3.k_({key:new t3.hs("dropCursor"),view:t=>new r0(t,e)})}(this.options)]}}).configure({color:"var(--chakra-ring-color)",width:3,class:"ProseMirror-dropcursor"});var r2=n(93766),r4=n(34806);let r5=e=>{let{svg:t,isDark:n,font:i}=e,a=(0,D.useMemo)(()=>(0,r4.k)(n),[n]),r=(0,D.useMemo)(()=>(0,r4.I)(i),[i]);return t?(0,p.jsx)(h.a,{dangerouslySetInnerHTML:{__html:t},"data-testid":"drawing-svg",sx:{svg:{width:"100%",height:"auto",text:r,...a}}}):null};var r6=n(11818),r3=n(81089);let r9=["tl-centered-g"],r7=async e=>{let t=await e.getSvg(e.shapes.map(e=>e.id),{padding:1});if(t)return r9.forEach(e=>{var n;null==(n=t.querySelector(".".concat(e)))||n.classList.remove(e)}),t.querySelectorAll(":not(mask)[id]").forEach(e=>e.removeAttribute("id")),t},r8=e=>{let{isOpen:t,isEditable:n,onClose:i,font:a,isDark:r,isDrawingEditorActive:l,setDrawingEditorActive:s,...o}=e,{node:c,updateAttributes:d}=o,{page:u,assets:h}=c.attrs,[g,m]=(0,D.useState)();(0,D.useEffect)(()=>{(0,a1.IN)(g,u,h)},[u,h,g,d]);let x=(0,D.useCallback)(e=>{m(e),window.tldrawEditor=e,(0,a1.Wp)(e,!0)},[]),f=(0,D.useCallback)(async()=>{if(!g)return;let e=await r7(g);if(!e)return;d({svg:e.outerHTML});let t=JSON.stringify({page:g.document.pages.page,assets:g.document.assets});console.debug("[DrawingEditor] Generated SVG",{svgSize:e.outerHTML.length,jsonSize:t.length,svgEl:e})},[g,d]),b=(0,D.useCallback)(()=>{g&&d({page:g.document.pages.page,assets:g.document.assets})},[d,g]),y=(0,aZ.lW)(b,500),v=(0,D.useCallback)(()=>{n&&f(),s(!1),i()},[i,f,s,n]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(ez._s,{placement:"bottom",onClose:v,isOpen:t,trapFocus:!0,isFullHeight:!0,returnFocusOnClose:!1,children:[(0,p.jsx)(ez.QP,{}),(0,p.jsxs)(ez.zj,{borderTopRadius:"xl",h:"calc(var(--100vh) - 24px)",onAnimationComplete:e=>{"enter"==e&&s(!0)},transition:{enter:{duration:.4}},children:[(0,p.jsx)(ez.ys,{p:0,h:"100%",overflow:"hidden","data-testid":"drawing-editor-body",children:l?(0,p.jsx)(r3.UG,{readOnly:!n,showPages:!1,onMount:x,onChangePage:n?y:void 0,autofocus:!1,isDark:r,font:a}):(0,p.jsx)(eg.s,{align:"center",justify:"center",w:"100%",h:"100%",children:(0,p.jsx)(aj.y,{size:"xl"})})}),(0,p.jsx)(ez.s1,{zIndex:2,backgroundColor:"white","data-testid":"drawing-editor-close"})]})]})})},le=(0,iB.P)(h.a),lt=e=>{let{node:t,updateAttributes:n,selected:i,editor:a,getPos:r,decorations:l}=e,{width:s,meta:o,id:c,horizontalAlign:d,svg:u,page:x}=t.attrs,f=(0,ee.GV)(ei.Cl),b=(0,ee.GV)(ei.Ik),y=(0,eA.CJ)(a),v=f&&y&&b,C=(0,ee.GV)(ei.Xu),w=!!C&&C===c,[A,j]=(0,D.useState)(!1),k=(0,ee.GV)(ei.SJ),{isDark:S}=(0,r6.mm)(k),L=(0,rb.ZI)(k)["--body-font"],{ref:I,setIsResizing:M,resizeableSx:R,onLayoutAnimationStart:_,onLayoutAnimationComplete:z}=(0,am.Y3)(a),N=(0,D.useCallback)(()=>{(0,a1.CD)(c,!0)},[c]),T=(0,D.useCallback)(()=>{a.chain().setNodeSelection(r()).focus().run()},[a,r]),P=(0,D.useCallback)(()=>{(0,a1.CD)(null,!1)},[]),H=(0,D.useCallback)((e,i)=>{n({...t.attrs,fullWidthBlock:void 0===i?t.attrs.fullWidthBlock:i,...e})},[t.attrs,n]),F=s||(null==o?void 0:o.width),B=!u,O=x&&Object.keys(x.shapes).length>0,{isFullWidth:V}=(0,a0.D)(l),W=(0,m.yp)(V?"center":d);return(0,p.jsx)(g.u,{...e,as:"div",children:(0,p.jsxs)(eg.s,{w:"100%",className:ap.S,css:W,sx:R,direction:"column",_focusWithin:{shadow:"outline"},children:[(0,p.jsxs)(le,{ref:I,className:"drawing",borderRadius:"var(--box-border-radius)","data-content-reference":!0,"data-selection-ring":!0,"data-selection-background":!0,w:V?"100%":F?"calc(".concat(F," * var(--font-size) / 16)"):"100%",maxW:"100%",h:"auto",position:"relative",layout:!0,layoutDependency:d,transition:{duration:.15},onLayoutAnimationStart:_,onLayoutAnimationComplete:z,minH:B?"6em":"auto","data-drag-handle":!0,children:[v&&i&&!V&&(0,p.jsx)(am.u4,{imageWrapperRef:I,setIsResizing:M,updateResizeAttrs:H,refreshDeps:[t.attrs]}),!A&&(0,p.jsx)(r5,{font:L,svg:u,isDark:S}),v&&!w&&!B&&(0,p.jsx)(h.a,{cursor:"default",position:"absolute",inset:"0",zIndex:"1",onClick:T,onDoubleClick:N}),B&&(0,p.jsxs)(n$.T,{spacing:3,justify:"center",contentEditable:!1,color:"gray.400",h:32,backgroundColor:"blackAlpha.50",borderRadius:"var(--box-border-radius)","data-testid":"drawing-placeholder",children:[(0,p.jsx)(E.g,{size:"2x",icon:e$.qTS}),f&&(0,p.jsx)(ih.$,{size:"xs",onClick:N,children:O?"Open diagram":"Add diagram"})]})]}),w&&(0,p.jsx)(r8,{...e,isOpen:w,isEditable:f,onClose:P,isDark:S,font:L,isDrawingEditorActive:A,setDrawingEditorActive:j})]})})},ln=new t3.hs("UniqueMediaId"),li=nB.S.extend({name:"UniqueDrawingId"}).configure({attributeName:"id",types:["drawing"],initialValue:a1.rZ,filterTransaction:nM.kz,pluginKey:ln}),la=s.bP.create({name:"drawing",group:"block",atom:!0,selectable:!0,draggable:!0,addAttributes:()=>({id:(0,q.e)(a1.rZ),page:{...(0,J.tb)("page")},assets:{...(0,J.tb)("assets"),default:{}},meta:{...(0,J.tb)("meta"),default:{}},fullWidthBlock:{default:!1},width:{},svg:{}}),parseHTML:()=>[{tag:"div[class=drawing]"},{tag:"tldraw",getAttrs:e=>{try{let t=new r2.mf,n=JSON.parse(e.innerHTML);return t.insertContent(n,{select:!1}),{page:t.document.pages[t.currentPageId],assets:t.assets}}catch(t){return console.error("(caught) Error parsing Tldraw paste",t,e.innerHTML),!1}}},{tag:"drawing[bookmark]",getAttrs:eh.Ll}],renderHTMLforAI(e){let{node:t}=e;return["drawing",{bookmark:(0,eh.vL)(t)}]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,s.KV)(t,{class:"drawing"})]},addCommands(){this.name;let e=e=>{let{selection:t}=e;return t instanceof t3.nh&&("drawing"===t.node.type.name||"diagram"===t.node.type.name)?t.node:void 0};return{editSelectedDrawingBlock:()=>t=>{let{state:n}=t,i=e(n);return i&&(0,ee.KA)().dispatch((0,ei.v5)({drawingId:i.attrs.id})),!0}}},addExtensions:()=>[li],addNodeView:()=>(0,d.gu)(lt,{update:u.z0})}),lr=s.YY.create({name:"dynamicNodes",extendNodeSchema(e){var t;return{dynamic:null!=(t=(0,s.gk)((0,s.iI)(e,"dynamic",e)))&&t}}}),ll=s.YY.create({name:"fixRequiredAttrs",onBeforeCreate(){Object.values(this.editor.schema.nodes).forEach(e=>{Object.values(e.attrs||{}).forEach(e=>{void 0===e.default&&(e.hasDefault=!1)})})}});var ls=n(12117),lo=n(91242),lc=n(87379),ld=n(43182),lu=n(89603),lp=n(13731),lh=n.n(lp);let lg=e=>{if("footnote"!==e.$anchor.doc.type.name&&!e.empty&&!(0,lu.uI)(e)&&(0,s.eE)(e)){let e=(0,lu.bk)();if(!e)return;let t=document.querySelector('[data-footnote-popover-id="'.concat(e,'"] .ProseMirror'));t&&t.contains(document.activeElement)||(0,lu.Wj)(null,!1)}},lm=(e,t,n,i)=>{if(!e.some(e=>e.docChanged))return;let{doc:a}=n,r=[],l=[];a.nodesBetween(0,n.doc.content.size,(e,t,n)=>{"footnote"===e.type.name&&r.push({from:t,to:t+e.nodeSize,node:e,parent:n}),e.marks.forEach(i=>{"footnoteLabel"===i.type.name&&l.push({from:t,to:t+e.nodeSize,mark:i,parent:n})})}),l.filter(e=>{let{mark:t,parent:n}=e;return!r.find(e=>{let{node:i,parent:a}=e;return i.attrs.noteId===t.attrs.noteId&&a===n})}).forEach(e=>{let{from:t,to:n,mark:a}=e;return i.removeMark(t,n,a)});let o=e=>(0,s.I2)("footnoteLabel",n.schema).create({noteId:e});l.filter(e=>{let{mark:t}=e;return!t.attrs.noteId}).forEach(e=>{let{mark:t,from:n,to:a}=e,s=r.find(e=>{let{node:t,from:n}=e,i=n>=a,r=!l.find(e=>{let{mark:n}=e;return n.attrs.noteId==t.attrs.noteId});return i&&r});s&&i.removeMark(n,a,t).addMark(n,a,o(s.node.attrs.noteId))}),Object.entries(lh()(r,e=>{let{node:t}=e;return t.attrs.noteId})).forEach(e=>{let[t,n]=e;if(1==n.length||!t)return;let a=l.filter(e=>{let{mark:n}=e;return n.attrs.noteId===t});n.slice(1).forEach((e,t)=>{let{from:n}=e,r=(0,lu.pN)();i.setNodeMarkup(n,void 0,{noteId:r});let l=a[t+1];l&&(i.removeMark(l.from,l.to,l.mark),i.addMark(l.from,l.to,o(r)))})})},lx=new t3.k_({key:new t3.hs("footnote"),appendTransaction:(e,t,n)=>{let{selection:i}=n;i.eq(t.selection)||lg(i);let a=n.tr;return((0,nR.z)(e,t,n,a),lm(e,t,n,a),a.docChanged)?(console.debug("[FootnotePlugin] Applied steps",a.steps),a):null}});var lf=n(94740),lb=n(66199),ly=n(12514),lv=n(18078),lC=n(88136),lw=n(25311),lA=n(61204),lj=n(78140),lk=n(36999),lS=n(16936),lL=n(41283),lI=n(85595),lE=n(15253),lD=n(95081),lM=n(49251),lR=n(36464),l_=n(6046),lz=n(89122);let lN=(e,t,n)=>{let i=(0,ee.GV)(ei.DH);(0,lz.j)({ref:n,enabled:!!(n&&i===t),handler(e){var t,n;(null==(t=e.target)?void 0:t.closest("[data-footnote-view]"))||(null==(n=e.target)?void 0:n.closest("[data-footnote-label]"))||a(!1)}});let a=(0,D.useCallback)(n=>{var a,r;let l=e.state.selection,o=(0,s.eE)(l)&&!l.empty,c=(null==(a=document.activeElement)?void 0:a.closest(".footnote-popover"))||!!(null==(r=document.activeElement)?void 0:r.closest("[data-in-editor-focus]")),d=void 0!==n?n:i!==t;c||(d&&!o?(0,lu.N3)(t,!0):!1===d&&(0,lu.N3)(t,!1))},[e.state.selection,i,t]);return{onClick:a}},lT=e=>{let{node:t,editor:n,innerEditor:i,selected:a}=e,{noteId:r}=t.attrs,l=(0,D.useRef)(null),s=(0,ee.GV)(ei.DH),o=(0,ee.GV)(ei.Cl),c=(0,n6.oR)(),{onClick:u}=lN(n,r,l);(0,D.useEffect)(()=>{i&&i.setEditable(o)},[o,i]);let g=!!s&&s===r,m=(0,D.useCallback)(()=>(0,lu.Wj)(r,!1),[r]);(0,D.useEffect)(()=>{if(!i)return;let e=()=>{setTimeout(()=>{(0,J.We)(i)||m()},20)};return i.on("blur",e),()=>{i.off("blur",e)}},[i,m]);let x=!(0,tD.NO)(n),f=(0,D.useCallback)(()=>{x&&u()},[x,u]);return(0,p.jsx)(d.VR,{as:"span","data-testid":"footnote-nodeview-wrapper",children:(0,p.jsxs)(lf.A,{isOpen:g,onClose:m,placement:"top",gutter:8,isLazy:!0,lazyBehavior:"unmount",autoFocus:!1,closeOnBlur:!1,closeOnEsc:!1,returnFocusOnClose:!1,children:[(0,p.jsx)(lb.W,{children:(0,p.jsx)(L.E,{as:"span",onClick:f,_after:{content:"counter(footnote)",counterIncrement:"footnote",position:"relative",bottom:"0.6em",fontSize:"0.8em",shadow:a&&x?"outline":void 0,borderRadius:"sm"},pl:"1px",className:"footnote",contentEditable:!1,"data-footnote-view":!0,cursor:x?"pointer":void 0})}),x&&(0,p.jsx)(ly.Z,{children:(0,p.jsxs)(lv.h,{zIndex:"popover",shadow:"md",borderRadius:"md",border:"1px solid",borderColor:"gray.200",w:"500px",maxW:"100vw","data-footnote-popover-test-id":r,p:0,ref:l,children:[(0,p.jsx)(lC.R,{}),(0,p.jsx)(lw.e,{position:"relative",zIndex:"1",p:0,className:"footnote-popover","data-footnote-popover-id":r,children:c?(0,p.jsx)(lF,{...e,onClose:m}):(0,p.jsx)(lH,{...e,editable:o,onClose:m})}),(0,p.jsx)(h.a,{position:"absolute",top:"-".concat(8,"px"),bottom:"-".concat(8,"px"),left:0,right:0,zIndex:"0"})]})})]})})},lP=ex()({},lD.q,{".ProseMirror":{px:8,py:4,overflow:"hidden auto",maxH:"300px",maxW:"100%",borderRadius:"md"}}),lH=e=>{let{editor:t,innerEditor:n,mountEditor:i,destroyEditor:a,node:r,editable:l,getPos:o,onClose:c}=e,{noteId:d}=r.attrs,u=(0,D.useCallback)(()=>t.commands.convertNoteToCard(d),[t,d]),g=(0,D.useCallback)(()=>{t.chain().focus().setNodeSelection(o()).deleteSelection().run()},[t,o]);(0,D.useEffect)(()=>{if(i&&a)return i(),()=>{a()}},[i,a]);let m=(0,ee.GV)(ei.SJ),x=(0,rb.ZI)(m,"#FFFFFF");if(!n)return null;let f=(0,s.xe)(t.state.doc,e=>e.marks.some(e=>"footnoteLabel"===e.type.name&&e.attrs.noteId===d)).length>0;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(h.a,{className:rE._P,sx:lP,position:"relative",_focusWithin:{shadow:l?"outline":void 0},borderRadius:"md",css:x,children:[(0,p.jsx)(l_.$,{editor:n,className:"highlight-mask"}),(0,p.jsx)(lM.G,{editor:n}),(0,p.jsxs)(lA.e,{size:"sm",colorScheme:"gray",variant:"ghost",position:"absolute",right:4,top:2,onMouseDown:er.Fw,spacing:0,children:[l&&(0,p.jsxs)(lj.W,{autoSelect:!1,isLazy:!0,children:[(0,p.jsx)(lk.I,{as:lS.K,icon:(0,p.jsx)(E.g,{icon:e$.Dwc}),minW:6,h:6,isRound:!0,backgroundColor:"white"}),(0,p.jsx)(ly.Z,{children:(0,p.jsxs)(lL.c,{"data-in-editor-focus":!0,zIndex:"dropdown",children:[f&&(0,p.jsx)(lI.D,{icon:(0,p.jsxs)("span",{className:"fa-layers fa-fw",children:[(0,p.jsx)(E.g,{icon:e_.vti,fixedWidth:!0}),(0,p.jsx)(E.g,{icon:e_.dmS,inverse:!0,transform:"shrink-8"})]}),onClick:u,children:(0,p.jsx)(eN.x6,{id:"p/s15o"})}),(0,p.jsx)(lI.D,{icon:(0,p.jsx)(E.g,{icon:e$.yLS,fixedWidth:!0}),color:"red.500",onClick:g,children:(0,p.jsx)(eN.x6,{id:"sHHbXH"})})]})})]}),(0,p.jsx)(lS.K,{"aria-label":eT.Ru._({id:"j+JKcM"}),icon:(0,p.jsx)(E.g,{icon:e$.GRI}),minW:6,h:6,isRound:!0,onClick:c,backgroundColor:"white"})]})]}),(0,p.jsx)(lR.Ht,{editor:n})]})},lF=e=>{let{mountEditor:t,destroyEditor:n,onClose:i}=e,a=(0,D.useMemo)(()=>{if(t)return t()},[t]);(0,D.useEffect)(()=>{if(n)return()=>n()},[n]);let r=(0,ee.GV)(ei.SJ),l=(0,rb.ZI)(r,"#FFFFFF");return a?(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(h.a,{className:rE._P,sx:lP,position:"relative",borderRadius:"md",css:l,children:[(0,p.jsx)(lE.N,{editor:a}),(0,p.jsx)(lA.e,{size:"sm",colorScheme:"gray",variant:"ghost",position:"absolute",right:4,top:2,onMouseDown:er.Fw,spacing:0,children:(0,p.jsx)(lS.K,{"aria-label":eT.Ru._({id:"j+JKcM"}),icon:(0,p.jsx)(E.g,{icon:e$.GRI}),minW:6,h:6,isRound:!0,onClick:i,backgroundColor:"white"})})]})}):null};var lB=n(65674);let lO=s.CU.create({name:"footnoteLabel",inclusive:!1,excludes:"link underline",priority:eu.y.FootnoteLabel,parseHTML:()=>[{tag:"span[class=footnote-label][bookmark]",getAttrs:eh.Ll},{tag:"span[class=footnote-label]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["span",(0,s.KV)(t,{class:"footnote-label"}),0]},renderHTMLforAI(e){let{mark:t}=e;return["span",{class:"footnote-label",bookmark:(0,eh.vL)(t)},0]},addAttributes:()=>({noteId:{rendered:!1}}),addProseMirrorPlugins(){return[(0,lB.f)(this,lV)]}}),lV=e=>{let{node:t,editor:n,children:i}=e,{noteId:a}=t.attrs,r=(0,n6.oR)(),{onClick:l}=lN(n,a),s=!(0,tD.NO)(n),o=(0,D.useCallback)(()=>{s&&l()},[s,l]);return(0,p.jsx)(d.VR,{as:"span",className:"footnote-label-view",children:(0,p.jsx)(L.E,{as:"span",className:"footnote-label",onClick:o,"data-footnote-label":!0,cursor:s?"pointer":void 0,children:r?i:(0,p.jsx)(d.$p,{as:"span"})})})},lW=/(?:^|\s)((?:\^)((?:[^^]+))(?:\^))$/,lU=s.bP.create({name:"footnote",content:"(block | footnoteBlock)+",group:"inline",atom:!0,inline:!0,priority:eu.y.Footnote,parseHTML:()=>[{tag:"span[class=footnote]",getContent:(e,t)=>tx.FK.fromJSON(t,JSON.parse(e.getAttribute("data-content")||"{}"))},{tag:"div[class=imported-footnote]"},{tag:"footnote[bookmark]",getAttrs:eh.Ll,getContent:eh.cn}],renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["span",(0,s.KV)(n,{class:"footnote","data-content":JSON.stringify(t.content.toJSON())})]},renderHTMLforAI(e){let{node:t}=e;return["footnote",{bookmark:(0,eh.vL)(t)}]},addAttributes(){return{noteId:{parseHTML:e=>{let t=(0,eh.Ll)(this.storage)(e);return t&&t.noteId?t.nodeId:(0,lu.pN)()},default:void 0}}},addNodeView:()=>nk(lT,{nodeName:"footnote",preventNodeOrExtensionTypes:["doc","document","card"]}),addInputRules(){var e;return[(e={find:lW,nodeType:this.type,markType:this.editor.schema.marks.footnoteLabel},new s.fV({find:e.find,handler:t=>{let{state:n,range:i,match:a}=t,{tr:r}=n,l=a[a.length-1],o=a[0],c=i.to;if(l){let t=o.search(/\S/),a=i.from+o.indexOf(l),d=a+l.length;if((0,s.hO)(i.from,i.to,n.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.markType&&n!==t.mark.type)).filter(e=>e.to>a).length)return;d<i.to&&r.delete(d,i.to),a>i.from&&r.delete(i.from+t,a),c=i.from+t+l.length;let u=(0,lu.pN)();(0,lu.Wj)(u,!0);let p=e.nodeType.createAndFill({noteId:u},tx.FK.empty);r.insert(c,p),r.addMark(i.from+t,c,e.markType.create({noteId:u})),r.removeStoredMark(e.markType)}}}))]},addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e;if(!(0,lu.uI)(t.state.selection))return!1;let n=t.state.selection.node.attrs.noteId;return(0,lu.Wj)(n,!0),!0},Escape:()=>{let e=(0,lu.bk)();return!!e&&((0,lu.Wj)(e,!1),!0)},"Mod-Alt-f":e=>{let{editor:t}=e;return t.commands.toggleFootnote()}}),addProseMirrorPlugins:()=>[lx],addCommands:()=>({convertNoteToCard:e=>t=>{let{chain:n,state:i}=t,{doc:a}=i,r=(0,s.xe)(a,t=>"footnote"===t.type.name&&t.attrs.noteId===e);if(1!==r.length)throw Error("Found the wrong number of footnotes nodes: ".concat(r));let{node:l,pos:o}=r[0],c=(0,s.ve)(a.resolve(o-1),i.schema.marks.footnoteLabel,{noteId:l.attrs.noteId});if(!c)return console.error("Couldnt find the corresponding footnote mark",{node:l,pos:o}),!1;let d=a.textBetween(c.from,c.to),u={type:"card",attrs:{id:ld.Yv.generate()},content:[{type:"heading",attrs:{level:1},content:[{type:"text",text:d}]},...l.content.toJSON()]},p=new URL(window.location.href);p.hash="card-".concat(u.attrs.id),(0,U.wE)(u.attrs.id,!1);let h=a.content.size-1;return n().setTextSelection(c).unsetMark("footnoteLabel").setLink({href:p.toString()}).insertContentAt(h,u).command(e=>{let{tr:t}=e,n=(0,lo.s)(t.doc.resolve(h));return n&&t.setSelection(n),!0}).deleteRange({from:o,to:o+l.nodeSize}).focusDelayed().run()},toggleFootnote:()=>e=>{let{chain:t,state:n,editor:i}=e;if(i.isActive("footnoteLabel"))return t().toggleMark("footnoteLabel").focus().run();let a=(0,lu.pN)();return(0,lu.Wj)(a,!0),(0,lc.b)().push(()=>{var e,t;null==(e=(t=i.commands).forceHideBubbleMenu)||e.call(t,!0),lG(a)},"toggleFootnote"),t().setMark("footnoteLabel",{noteId:a}).insertContentAt(n.selection.to,{type:"footnote",attrs:{noteId:a},content:[{type:"paragraph"}]}).run()}})}),lG=e=>{let t=document.querySelector('[data-footnote-popover-id="'.concat(e,'"] .ProseMirror'));if(!t)return;t.focus();let n=window.getSelection();if(!n)return;let i=document.createRange();i.setStart(t,0),i.setEnd(t,0),n.removeAllRanges(),n.addRange(i)};var lZ=n(24392),lK=n(70815),lQ=n(91892);let lq=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,lJ=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,l$=lQ.Ay.extend({addInputRules(){return[(0,s.OX)({find:lq,type:this.type}),(0,s.OX)({find:lJ,type:this.type})]}});var lY=n(43028),lX=n(71029),l0=n(23513),l1=n(67864),l2=n(1636),l4=n(61679),l5=n(41427),l6=n(21982),l3=n(55847);let l9=e=>{var t,n,i;let{variant:a,editor:r,node:l,getPos:o,deco:c,options:d}=e,u=l.attrs,{id:h}=u,{editImage:g,startRemoveBg:m,isRemovingBg:x,changeFocalPoint:f}=(0,tQ.c)({editor:r,backgroundRemovalId:h,getPos:o}),b=null;try{b=r.state.doc.resolve(o())}catch(e){b=null}let y=b?(0,s.eL)(b,r$.M):null,{imageType:v,imageSlot:C}=a,w=(0,tG.l)(null!=(n=u.image)?n:void 0)&&C&&"image"===v,{toggleBuddyChatPanel:A,isBuddyChatPanelOpen:j}=(0,tZ.n)(),{addColumnBefore:k,addColumnAfter:I,canChangeFocusPointAndRemoveBackground:M,hasImage:R,addDirection:_,parentVariant:z,cellOptions:N,handleDelete:T,selectParent:P,duplicateNode:H,updateAttributes:F}=(0,tQ.m)({editor:r,node:l,parentNode:null==y?void 0:y.node}),B=(0,D.useMemo)(()=>R?[{key:"edit-image",label:"icon"===v?(0,p.jsx)(eN.x6,{id:"JE/4q/"}):(0,p.jsx)(eN.x6,{id:"9IrgTy"}),icon:e$.MT7,onClick:g},...w?[{key:"ask-ai",label:(0,p.jsx)(eN.x6,{id:"vKZEFh"}),icon:e_.p7g,onClick:()=>{j||A(),setTimeout(()=>{tU.W.emit("prefillMessage",{message:""})},200)}}]:[],...M?[{key:"remove-background",disabled:x,label:x?(0,p.jsx)(eN.x6,{id:"RdqLb7"}):(0,p.jsx)(eN.x6,{id:"ylbfBl"}),icon:e$.sAw,onClick:m},{key:"change-focus-point",label:(0,p.jsx)(eN.x6,{id:"BmxaoW"}),icon:e$.zTK,onClick:()=>f(h)}]:[],{divider:!0}]:[],[R,g,m,M,x,f,h]),O=(0,D.useMemo)(()=>(null==z?void 0:z.cellOptions.length)?null==z?void 0:z.cellOptions.map(e=>{var t,n;if(e.checkEnabled&&!e.checkEnabled({options:d,attrs:u}))return null;let i=null!=(n=N[e.key])?n:null==(t=e.defaultValue)?void 0:t.call(e,{ctx:"menu"});return e.ControlMenu?e.ControlMenu(i,t=>{let n=o();"number"==typeof n&&F(n,{options:{...N,[e.key]:t}})},e):null}).filter(e=>null!==e):[],[N,o,d,null==z?void 0:z.cellOptions,F,u]),V=(0,tJ.d)({editor:r,getPos:o,node:l,includeCut:!1,imageSrc:null==(t=u.image)?void 0:t.src}),W=null!=(i=c.index)?i:0;return{contextMenuItems:[{key:"title",title:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(L.E,{children:(0,p.jsx)(eN.x6,{id:"wIRP9h",values:{0:a.name()}})}),(0,p.jsxs)(S.z,{gap:1,children:[(0,p.jsx)(E.g,{icon:e$.qUw}),(0,p.jsx)(L.E,{children:(0,p.jsx)(eN.x6,{id:"y/5CE8",values:{0:W+1}})})]})]})},{divider:!0},...V,{divider:!0},...B,{key:"add-item-before",label:(0,p.jsx)(eN.x6,{id:"w7mkyz"}),icon:(0,p.jsx)(E.g,{icon:e$.UiS,rotation:"bottom"===_?void 0:270}),onClick:()=>k(o())},{key:"add-item-after",label:(0,p.jsx)(eN.x6,{id:"1e37Dl"}),icon:(0,p.jsx)(E.g,{icon:e$.UiS,rotation:"bottom"===_?180:90}),onClick:()=>I(o()+l.nodeSize)},{key:"duplicate",label:(0,p.jsx)(eN.x6,{id:"euc6Ns"}),icon:e$.jPR,onClick:()=>H(o()+l.nodeSize)},{divider:!0},...O.length?[...O,{key:"divider",divider:!0}]:[],{key:"edit-layout",label:(0,p.jsx)(eN.x6,{id:"UUpX+c"}),icon:e$.Hmw,onClick:()=>P(o())},{divider:!0},{key:"delete",label:(0,p.jsx)(eN.x6,{id:"cnGeoo"}),icon:e$.yLS,onClick:T,color:"red.500"}]}};var l7=n(77071);let l8=e=>{var t,n;let{node:i,decorations:a,editor:r,getPos:l}=e,s=r.state.selection,o=s.node&&!!(0,r$.M)(s.node),{options:c,...u}=i.attrs,x=(0,l3.fw)(a),f=(0,l7.BJ)(x.smartLayoutAttrs.variantKey),{Cell:b}=f,y=(0,ee.GV)(ei.SJ),v=(0,rY.aG)(x.smartLayoutAttrs,x.direction),{firstChildSize:C}=(0,T.P)(a),w=x.index===x.numCells-1,A=(0,ee.GV)(ei.nD),j=(0,eE.DM)(a),k="number"==typeof x.emphasizedIndex&&x.emphasizedIndex!==x.index,S=(0,D.useCallback)(()=>{let e=l();if("number"!=typeof e)return;let t=r.state.doc.nodeAt(e);t&&r.commands.insertSmartLayoutCell(e+t.nodeSize)},[r,l]),I=f.addDirection?f.addDirection(v):"right",[M,R]=(0,l5.yz)(x.direction),_=(0,D.useCallback)(()=>{A&&r.commands.selectNodeAtPos(l())},[r,l,A]),z=u.image,P=(0,D.useCallback)(e=>{let t=l();"number"==typeof t&&r.commands.updateNestedAttributesAtPos(t,{image:ex()({},z,e,{meta:{has_transparency:!0}})})},[r,l,z]),{bgRemovalInProgress:H}=(0,ew._)({editor:r,id:u.id,src:null==z?void 0:z.src,updateAttributes:P}),{onOpenContextMenu:F,onCloseContextMenu:B,menuProps:O}=(0,ej.$)({editor:r,getPos:l}),{contextMenuItems:V}=l9({variant:f,editor:r,node:i,getPos:l,deco:x,options:c}),W=(0,D.useMemo)(()=>({onClick:e=>{e.target===e.currentTarget&&_()},cursor:A?"pointer":"default"}),[_,A]);return(0,p.jsxs)(g.u,{...e,children:[(0,p.jsx)(h.a,{display:"contents",position:"relative","data-spotlight-parent":!0,className:k?"smart-layout-cell-not-emphasized":"",onContextMenu:o?void 0:F,style:{...(0,m.AS)(v.horizontalAlign||(null==(t=f.baseHorizontalAlign)?void 0:t.call(f,{dir:x.direction})),x.direction)},children:(0,p.jsxs)(b,{cellOptions:c,layoutOptions:v,theme:y,...x,...u,...e,firstChildSize:C,isFocused:j,selectCell:_,variant:f,selectCellForElementProps:W,dragHandle:(0,p.jsx)(N.A,{...e,handlePlacement:null!=(n=f.dragHandlePlacement)?n:"top","data-testid":"smart-layout-cell-drag-handle",label:(0,p.jsx)(eg.s,{direction:"column",align:"center",children:(0,p.jsx)(eN.x6,{id:"YkfVHA",components:{0:(0,p.jsx)(L.E,{color:"gray.500"})}})})}),children:[(0,p.jsx)(d.$p,{style:{maxWidth:"100%",wordBreak:"break-word"}}),A&&w&&(0,p.jsx)(eg.s,{position:"absolute",..."bottom"===I?{bottom:-3,[R]:0,width:"100%",height:6,justify:"center"}:{[R]:-3,bottom:0,height:"100%",width:6,align:"center"},opacity:"0",transitionProperty:"opacity",transitionDuration:"normal",zIndex:"1",className:"add-button",children:(0,p.jsx)(ez.Tz,{label:(0,p.jsx)(eN.x6,{id:"NQ8llq"}),placement:"top",children:(0,p.jsx)(lS.K,{icon:(0,p.jsx)(E.g,{icon:e$.QLR}),"aria-label":eT.Ru._({id:"NQ8llq"}),position:"absolute",size:"xs",variant:"plain",isRound:!0,onClick:S,onMouseDown:er.Fw})})}),H&&A&&(0,p.jsx)(l6.Td,{removeBackground:H})]})}),(0,p.jsx)(ef.tz,{isOpen:O.isOpen,onClose:B,menuItems:V,position:O.position,size:"small"})]})},se=s.bP.create({name:"smartLayoutCell",content:"(block | smartLayoutBlock)+",isolating:!0,selectable:!1,containerHandle:!0,imageKeyPath:"image",accessoryImageKey:"image",addAttributes:()=>({id:(0,q.e)($.z),options:{default:{},...(0,J.tb)("options")},width:{default:null},image:{default:null,...(0,J.tb)("image")},label:{default:null,parseHTML:e=>e.getAttribute("label")||e.getAttribute("number")}}),parseHTML:()=>[{tag:"div[class=layout-item]"},{tag:"div",context:"smartLayout/",getAttrs:e=>st(e)},{tag:"smart-layout-item",getAttrs:e=>st(e)}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,s.KV)(t,{class:"layout-item"}),0]},renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e,{image:i,options:a,...r}=t.attrs,l={};Object.keys(a).forEach(e=>{l[e]="string"==typeof a[e]?a[e]:JSON.stringify(a[e])});let s={...r,...l};if(i){let e=(0,l4.D)(i.source)?"icon":"img";return n?["smart-layout-item",{...s,id:void 0},[e,{src:i.src,alt:(0,ed.ve)(i)}],["div",0]]:["smart-layout-item",s,[e,{bookmark:(0,eh.vL)({attrs:i}),alt:(0,ed.ve)(i)}],["div",0]]}return["smart-layout-item",s,0]},addNodeView:()=>(0,d.gu)(l8,{update:u.z0})}),st=e=>{let t,n=e.getAttribute("label")||e.getAttribute("number"),i=e.parentElement;t=(null==i?void 0:i.tagName.toLowerCase())==="smart-layout"?i.getAttribute("variant"):(null==i?void 0:i.tagName.toLowerCase())||(null==i?void 0:i.getAttribute("variant"));let a=(0,l7.BJ)(null!=t?t:void 0),r=((null==a?void 0:a.options.map(e=>e.key))||[]).reduce((t,n)=>{let i=e.getAttribute(n);if(i)try{t[n]=JSON.parse(i)}catch(e){t[n]=i}return t},{});return{image:sn(e,a),label:n,options:r}},sn=(e,t)=>{var n;if(!t.imageSlot)return;let i=null;if("image"===t.imageType&&(null==(n=e.firstElementChild)?void 0:n.tagName.toLowerCase())==="img"?i=e.firstElementChild:"icon"===t.imageType&&(i=e.querySelector(":scope >icon")),!i)return;let a=null;try{let e=JSON.parse(i.getAttribute(K.A)||"null");e&&(a=e)}catch(e){console.warn("Failed to parse ai-parsed-attrs:",e)}if(i.getAttribute("bookmark")){let e=(0,eh.Ll)(i);e&&(a=e)}let r=i.getAttribute("src");if(r&&(a={src:r,source:"image.custom"}),a)return i.remove(),a};var si=n(92938),sa=n(46617);let sr=e=>{let{doc:t}=e,n=[];return t.descendants((e,t)=>{if(e.type.name!==sa.BM)return;n.push(t9.NZ.node(t,t+e.nodeSize,{},{isLayoutDecoration:!0}));let i=e.attrs.colWidths,a=e.attrs.backgroundColor;return e.forEach((e,r,l)=>{let s=t+1+r,o={isLayoutCellDecoration:!0,colWidth:i[l],colIndex:l,layoutBackgroundColor:a};n.push(t9.NZ.node(s,s+e.nodeSize,{},o))}),!1}),t9.zF.create(t,n)},sl=e=>{let t=e.find(e=>e.spec.isLayoutCellDecoration);return t?t.spec:(console.error("[LayoutCell] Decoration not found. This should never happen!",e),{isLayoutCellDecoration:!0,colWidth:0,colIndex:0,layoutBackgroundColor:null})},ss=(e,t)=>{let n=(0,ee.GV)(ei.SJ),i=null!=t?t:e,a=i&&(0,rb.ZI)(n,i),r=(0,D.useMemo)(()=>{if(i)return{margin:"0 0.5em",paddingInlineStart:"1em",paddingInlineEnd:"1em"}},[i]);return{backgroundColor:i,themeVars:a,marginStyles:r}},so=e=>{let{node:t,decorations:n}=e,{verticalAlign:i,backgroundColor:a}=t.attrs,{layoutBackgroundColor:r}=sl(n),{backgroundColor:l,themeVars:s,marginStyles:o}=ss(r,a);return(0,p.jsxs)(d.VR,{className:"grid-cell",style:{position:"relative",justifyContent:i,...s,...o,...l&&{backgroundColor:"var(--card-background-color)",borderRadius:"var(--card-border-radius)"}},"data-selection-ring":!0,children:[(0,p.jsx)(N.A,{handlePlacement:"top",...e,"data-testid":"column-drag-handle",label:(0,p.jsx)(eg.s,{direction:"column",align:"center",children:(0,p.jsx)(eN.x6,{id:"zWdF4l",components:{0:(0,p.jsx)(L.E,{color:"gray.500"})}})})}),(0,p.jsx)(d.$p,{})]})},sc=s.bP.create({name:"gridCell",content:"(block | layoutBlock)+",definingAsContext:!0,isolating:!0,selectable:!1,containerHandle:!0,parseHTML:()=>[{tag:"div[class=column]"},{tag:"div",context:"gridLayout/"}],addAttributes:()=>({verticalAlign:null,backgroundColor:{default:null,parseHTML:e=>e.getAttribute("data-background-color")||null,renderHTML:e=>{let t=e.backgroundColor;return t?{"data-background-color":t}:{}}}}),renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,s.KV)(t,{class:"column"}),0]},addNodeView:()=>(0,d.gu)(so,{update:u.z0})});var sd=n(64056),su=n(53138),sp=n(36145);class sh{constructor(e=null){this.dragging=e}}let sg=new t3.hs("layoutPlugin"),sm=e=>new t3.k_({key:sg,state:{init:()=>new sh,apply:(e,t)=>t},appendTransaction:(e,t,n)=>{if(!e.some(e=>e.docChanged))return null;let i=e.find(e=>e.selectionSet),a=n.tr;if(n.doc.descendants((e,t)=>{if("gridLayout"===e.type.name&&1==e.childCount){let n=a.mapping.map(t);a.replaceWith(n,a.mapping.map(t+e.nodeSize),e.child(0).content).setMeta("annotationEvent",{type:"unwrap-node",pos:n})}}),!a.docChanged)return null;if(i){let e=i.selection.$from.depth-a.selection.$from.depth,t=(0,l0.n)(a.doc.resolve(i.selection.from-e));t&&a.setSelection(t)}return a},props:{decorations:e=>sr(e),handleDOMEvents:{drop(t,n){var i,a,r,l,s;let o=null==(i=t.dragging)?void 0:i.annotations;if(!sg.getState(t.state))return!1;let c=null==(a=t.dragging)?void 0:a.slice,d=null,u=null,p=(0,sp.p$)(n).filter(sp.KS);try{u=(0,rq.Vk)(t,n,c),d=(0,rJ.ds)(t,n,c)}catch(e){return!1}try{let{selection:i}=t.state,a=!i.empty&&0===p.length,h=null==c?void 0:c.content.toJSON(),g=[];if(p.length>0&&(h=(g=(0,su.kT)(e,p)).map(e=>e.content)),!h)return!1;if((null==(r=h[0])?void 0:r.type)==="image"&&(null==(l=h[0].attrs)?void 0:l.resize)&&(u||d)&&(h[0].attrs.resize={}),(null==d?void 0:d.node.type.name)==="gridCell"){let{node:t,pos:i,side:r}=d,l="left"===r?i:i+t.nodeSize,c=(null==(s=h[0])?void 0:s.type)==="gridCell",u=null==o?void 0:o.origNodePos,p=u&&c?(0,rJ.rP)(u,l,e):void 0,m=c?h:{type:"gridCell",content:h},x=e.chain().insertContentAt({from:l,to:l},m,{updateSelection:!1});return p&&x.updateNestedAttributesAtPos(p.parentPos,{colWidths:p.colWidths}),x.command(e=>{let{tr:t}=e;return a&&t.deleteSelection(),o&&t.setMeta("annotationEvent",{type:"drop",dragging:o,droppedBlockPos:l+ +!c}),!0}).focusMapped(l,1).run(),g.length>0&&g.forEach(e=>{e.upload()}),n.preventDefault(),!0}if(!u&&!d)return;let{node:m,pos:x,side:f}=u||d;if(x>i.from&&x<i.to)return n.preventDefault(),!0;let b=(0,sd.eq)({view:t,from:x,to:x+m.nodeSize,node:m}),{contentToInsert:y,focusOffset:v}=u?{contentToInsert:(0,sd.Sm)({horizontalAlign:b,eventTarget:n.target,node:m,newContent:h,editor:e}),focusOffset:(0,sd.Cn)({eventTarget:n.target,horizontalAlign:b,nodeSize:m.nodeSize,editor:e})}:{contentToInsert:(0,rq.wC)({side:f,pasteContent:h,node:m}),focusOffset:(0,rq.M5)({side:f,node:m})};e.chain().insertContentAt({from:x,to:x+m.nodeSize},y,{updateSelection:!1}).command(n=>{let{tr:i}=n;if(a){let e=t.state.selection,n=i.mapping.map(e.from),a=i.mapping.map(e.to);i.delete(n,a)}if(o){let n="left"===f&&c?c.size:m.nodeSize,a=(0,l1.U5)({side:f,view:t,tr:i,dragging:o,dropPos:x,dropNode:m,leftContentSize:n});requestAnimationFrame(()=>{var t,n;null==(t=(n=e.commands).moveAnnotations)||t.call(n,a)})}return!0}).focusMapped(x,v).run(),g.length>0&&g.forEach(e=>{e.upload()})}catch(e){console.error("(caught) [LayoutPlugin] handleDrop error:",e)}return n.preventDefault(),!0}}}}),sx=new t3.hs("layoutResizing");class sf{getActiveHandleAbs(e){return this.activeHandle?(0,t7.d_)(e,this.activeHandle):null}reset(){return this.activeHandle=null,this.dragging=null,this}setHandle(e,t){return null===t.setHandle?this.activeHandle=null:this.activeHandle=(0,t7.JO)(e,t.setHandle),this}setDragging(e){return this.dragging=e.setDragging,this}apply(e,t){let n=e.getMeta(sx);return n&&"setHandle"in n?this.setHandle(t,n):n&&"setDragging"in n?this.setDragging(n):n&&"reset"in n?this.reset():this}constructor(e=null,t=null){this.activeHandle=e,this.dragging=t}}let sb=e=>sx.getState(e.state),sy=(e,t)=>{e.dispatch(e.state.tr.setMeta(sx,{setHandle:t}))},sv=(e,t)=>{e.dispatch(e.state.tr.setMeta(sx,{setDragging:t}))},sC=e=>{e.dispatch(e.state.tr.setMeta(sx,{reset:!0}))},sw=(e,t)=>{if(!e.editable||!t.target||t.target.closest(".column-resize-handle"))return;let n=sb(e);if(n.dragging)return;let i=function(e,t){var n;let i=e.posAtCoords({left:t.clientX,top:t.clientY});if(!i||-1===i.inside)return null;let a=e.domAtPos(i.inside);if(!a)return null;let r=a.node.childNodes[a.offset];if(!r)return null;let l=e.state.doc.resolve(i.inside);if((null==(n=l.nodeAfter)?void 0:n.type.name)!=="gridCell")return null;let s=(0,eS.ix)(),{left:o,right:c}=r.getBoundingClientRect(),d=c-t.clientX,u=t.clientX-o;if(s?d<=5:u<=5){let t=e.state.doc.resolve(l.before(l.depth)),n=sA((0,rJ.Ob)(t),e=>e.pos===l.pos);return(null==n?void 0:n.pos)||null}return(s?u<=5:d<=5)?l.pos:null}(e,t);i!==n.getActiveHandleAbs(e.state)&&sy(e,i)},sA=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n])){if(0===n)return null;return e[n-1]||null}return null},sj=(e,t)=>{let n=e.domAtPos(t);return n.node.childNodes[n.offset].offsetWidth},sk=(e,t)=>{let{node:n,offset:i}=e.domAtPos(t.start()),a=n.childNodes[i];do if(a&&a.classList&&a.classList.contains("node-gridLayout"))break;while(a=a.parentNode);return a};var sS=n(83743);let sL=e=>{let{getPos:t,updateAttributes:n,editor:i,node:a}=e,r=t();(0,D.useEffect)(()=>{if("number"!=typeof r)return;let e=i.state.doc.resolve(r),t=(0,rJ.Ob)(e);t.length!==a.attrs.colWidths.length&&setTimeout(()=>{n({colWidths:(0,ni.I)(t.length)})},0)},[a,r,n,i])},sI=e=>{let{node:t,editor:n,getPos:i}=e,a=t.content.childCount,r=(0,ee.GV)(ei.Cl),l=(0,eA.FX)();sL(e);let s=a%2==0,o=Math.min((0,aG.h5)({base:1,sm:s?2:1,md:s?2:3,lg:4})||4,a),c=(0,D.useCallback)(()=>{let e=i();"number"==typeof e&&n.commands.addLayoutCell(e)},[n,i]),u=a<sa.ZS&&r,h=l?"100%":(t.attrs.colWidths||[]).map(e=>"".concat(e,"%")).join(" ");return(0,p.jsx)(g.u,{...e,children:(0,p.jsxs)(sS.r,{className:(0,I.cx)("grid-col-controls",r&&"is-editable"),columns:o,gap:"var(--grid-border)",position:"relative",gridTemplateColumns:h,"data-selection-ring":!0,children:[(0,p.jsx)(d.$p,{className:"layout-content"}),(0,p.jsx)(N.A,{...e,handlePlacement:"outside",label:eT.Ru._({id:"Szg6OU"}),"data-testid":"layout-drag-handle"}),(0,p.jsx)(eg.s,{position:"absolute",top:"0",h:"100%",align:"center",w:6,insetInlineEnd:-3,className:"add-column",opacity:"0",transitionProperty:"opacity",transitionDuration:"normal",children:u&&(0,p.jsx)(ez.Tz,{label:(0,p.jsx)(eN.x6,{id:"AgvHni"}),placement:"top",children:(0,p.jsx)(lS.K,{icon:(0,p.jsx)(E.g,{icon:e$.QLR}),"aria-label":eT.Ru._({id:"AgvHni"}),position:"absolute",size:"xs",variant:"plain",isRound:!0,zIndex:"1",onClick:c})})})]})})},sE=s.bP.create({name:sa.BM,content:"gridCell{1, ".concat(sa.ZS,"}"),group:"cardBlock",defining:!1,isolating:!0,selectable:!1,priority:eu.y.Layout,containerHandle:!0,parseHTML:()=>[{tag:"div[class=columns]"},{tag:"columns"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,s.KV)(t,{class:"columns"}),0]},renderHTMLforAI(e){let{node:t}=e;return["columns",{colWidths:JSON.stringify(t.attrs.colWidths)},0]},addAttributes(){let e="colWidths";return{colWidths:{default:[],parseHTML:e=>{let t=0;e.childNodes.forEach(e=>{"DIV"===e.nodeName&&t++});try{var n;let i=null!=(n=e.getAttribute("colWidths"))?n:e.getAttribute("data-colWidths");if(i){let e=JSON.parse(i);if(Array.isArray(e)&&e.length===t&&e.every(e=>"number"==typeof e))return(0,ni.fF)(e,10,100),e}}catch(e){console.error("Error parsing AI generated colWidths",e)}return(0,ni.I)(t)},renderHTML:t=>{let n=t[e];return n?{["data-".concat(e)]:JSON.stringify(n)}:{}}},fullWidthBlock:{default:!1},backgroundColor:{default:null,parseHTML:e=>e.getAttribute("data-background-color")||null,renderHTML:e=>{let t=e.backgroundColor;return t?{"data-background-color":t}:{}}}}},addNodeView:()=>(0,d.gu)(sI,{update:u.R$,ignoreMutation:lX.I}),addProseMirrorPlugins(){return[sm(this.editor),new t3.k_({key:sx,state:{init:()=>new sf,apply:(e,t,n,i)=>t.apply(e,i)},props:{attributes:e=>null!==sx.getState(e).getActiveHandleAbs(e)?{class:"resize-cursor"}:{class:""},handleDOMEvents:{mousemove:(e,t)=>!!tv.of.get("layoutResizing")&&(sw(e,t),!1),mouseleave(e){if(!tv.of.get("layoutResizing"))return!1;let t=sb(e);return null===t.getActiveHandleAbs(e.state)||t.dragging||sy(e,null),!1},mousedown:(e,t)=>!!tv.of.get("layoutResizing")&&(!function(e,t){if(!e.editable)return;let n=sb(e),i=n.getActiveHandleAbs(e.state);if(null===i||n.dragging)return;let a=e.state.doc.resolve(i),r=[...a.node().attrs.colWidths],l=(0,rJ.xK)(a),s=sj(e,i),o=sk(e,a),c=o.offsetWidth;sv(e,{startX:t.clientX,startWidth:s,colWidths:r,tableWidth:c,colIndex:l});let d=null;function u(t){window.removeEventListener("mouseup",u),window.removeEventListener("mousemove",p);let n=sb(e);if(n.dragging){if(null===d)return void sv(e,null);if(n.dragging)try{let t=n.getActiveHandleAbs(e.state);(function(e,t,n){let i=e.state.doc.resolve(t).before(),a=e.state.tr.setNodeMarkup(i,void 0,{colWidths:[...n]}).setMeta("annotationEvent",{type:"update-node-attrs",pos:i});e.dispatch(a),function(e,t){let n=e.state.doc.resolve(t),i=sk(e,n).querySelector(".grid-col-controls");i&&(i.style.gridTemplateColumns="")}(e,t)})(e,t,d),sv(e,null)}catch(t){sC(e)}d=null}}function p(t){if(!t.which)return u(t);let n=sb(e),i=n.getActiveHandleAbs(e.state);if(!n.dragging||null===i)return;let{colIndex:a,colWidths:r}=n.dragging,l=function(e,t){let{tableWidth:n}=e,i=t.clientX-e.startX,a=(0,eS.ix)()?-i:i;return nn()(100*a/n,0)}(n.dragging,t);(function(e,t){let n=e.querySelector(".grid-col-controls");n&&(n.style.gridTemplateColumns=t.map(e=>"".concat(e,"%")).join(" "))})(o,d=(0,ni.H0)(r,a,l,15)),(0,na.i$)(o)}window.addEventListener("mouseup",u),window.addEventListener("mousemove",p),t.preventDefault()}(e,t),!1)},decorations(e){let t=sx.getState(e).getActiveHandleAbs(e);if(null!==t){let n=[];try{let i=document.createElement("div");return i.className="column-resize-handle",n.push(t9.NZ.widget(t+1,i)),t9.zF.create(e.doc,n)}catch(e){return console.error("(caught) layoutResizing error: ".concat(e.message)),t9.zF.empty}}},nodeViews:{}}})]},addCommands(){var e=this;return{useLayoutPreset:(e,t)=>n=>{let{dispatch:i,tr:a,commands:r,view:l}=n;if(!i)return!0;let o=(0,rJ.DF)(a.doc.resolve(e));if(!o)return!0;let c=(0,rJ.Ob)(o),d=t.length-c.length,u=[];for(;0!==d;){if(d<0){let t=(0,rJ.nX)(a.doc.resolve(e),-1),n=t.nodeAfter;a.deleteRange(t.pos,t.pos+n.nodeSize),u=[...1===n.childCount&&(0,s.Op)(n.firstChild)?[]:n.content.toJSON(),...u],d++;continue}if(d>0){r.addLayoutCell(o.pos,!1),d--;continue}}a.setNodeAttribute(e,"colWidths",t);let p=(0,rJ.nX)(a.doc.resolve(o.pos),-1);if(!p||!p.nodeAfter)return!0;let h=p.pos+p.nodeAfter.nodeSize-1;if(r.insertContentAt(h,u,{updateSelection:!1}),a.selection.from>h||a.selection.to>h){let e=a.doc.resolve(p.pos+1).end(),t=(0,l0.n)(a.doc.resolve(e),-1);t&&a.setSelection(t)}let g=sk(l,o);return g&&(0,na.i$)(g),!0},insertLayout:e=>t=>{let{dispatch:n,commands:i}=t;if(!n)return!0;let a=Array.from(Array(e),e=>sD);return i.insertContentAndSelect({type:"gridLayout",attrs:{colWidths:(0,ni.I)(e)},content:a})},addLayoutCell:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return n=>{let{chain:i,state:a}=n,r=a.doc.nodeAt(e);if(!r||r.type.name!==sE.name)return!1;let l=e+r.nodeSize-1,{colWidths:s}=r.attrs,o=s.length,c=nn()(100/(o+1),2),d=(0,ni.KJ)(s,o,c,15),u=i().insertContentAt(l,sD,{updateSelection:!1});return t&&u.selectInsertedNode(),u.command(t=>{let{tr:n}=t;return n.setNodeAttribute(e,"colWidths",d),!0}).run(),!0}},handleLayoutDelete:function(t){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return i=>{let{tr:a,dispatch:r,state:l}=i;if(!r)return!0;let o=(0,s.KP)(e=>e.type.name===sc.name)(l.selection),c=(0,s.KP)(e=>e.type.name===sE.name)(l.selection);if(!o||!c)return!1;if(!n||(0,J.mf)(o.node)){if(2==c.node.childCount){let t=o.node===c.node.child(0),n=t?c.node.child(1):c.node.child(0),i=t?c.start+c.node.child(0).nodeSize+1:c.start+1,r=i+n.content.size;a.replaceWith(c.pos,c.pos+c.node.nodeSize,n.content);let l=(0,l0.n)(a.doc.resolve(c.pos+(t?0:n.content.size)),t?1:-1);l&&a.setSelection(l);let s=(0,l1.es)({insertPos:c.pos,contentPos:i,contentEnd:r,editor:e.editor});requestAnimationFrame(()=>{var t,n;null==(t=(n=e.editor.commands).moveAnnotations)||t.call(n,s)})}else{let e=a.doc.resolve(o.pos);(0,si.K)(a,e,t),a.setNodeAttribute(c.pos,"colWidths",(0,ni.XC)(c.node.attrs.colWidths,[(0,rJ.xK)(e)]))}return!0}let{parent:d}=l.selection.$from;return!!(l.selection.empty&&d.isTextblock&&(0,s.Op)(d))&&d==o.node.firstChild&&!t&&(a.deleteRange(l.selection.$from.before(),l.selection.$from.after()),!0)}},goToNextLayoutCell:e=>t=>{let{tr:n,state:i}=t,a=(0,s.KP)(e=>e.type.name===sc.name||e.type.name===se.name)(i.selection),r=(0,s.KP)(e=>e.type.name===sE.name||e.type.name===l2.o.name)(i.selection);if(!a||!r)return!1;let l=i.doc.resolve(a.pos),o=e?l.index()+1:l.index()-1;if(o<0||o>=l.parent.childCount)return!1;let c=l.posAtIndex(o);return n.setSelection(t3.LN.near(i.doc.resolve(c))),!0}}},addKeyboardShortcuts:()=>({Tab:e=>{let{editor:t}=e;return!tv.of.get("arrowAutocomplete")&&t.commands.goToNextLayoutCell(!0)},"Shift-Tab":e=>{let{editor:t}=e;return!tv.of.get("arrowAutocomplete")&&t.commands.goToNextLayoutCell(!1)}})}),sD={type:"gridCell",content:[{type:"paragraph"}]};var sM=n(9893),sR=n(35623),s_=n(43944),sz=n(80045),sN=n(91656),sT=n(61491),sP=n(82927);let sH=e=>{let{decorations:t,node:n,updateAttributes:i}=e,a=(0,ee.GV)(nX.Jo),r=(0,sP.Iy)("edit",a),{checked:l,fontSize:s,placeholder:o}=n.attrs;return(0,p.jsx)(g.u,{dir:(0,m.fZ)(t),...e,children:(0,p.jsxs)(L.E,{as:"li",color:l?"var(--body-color-muted)":void 0,textDecoration:l?"line-through":void 0,transition:"color 250ms ease-out",position:"relative",className:"todo","data-font-size":s,children:[(0,p.jsx)(sT.S,{contentEditable:!1,suppressContentEditableWarning:!0,isChecked:l,onChange:e=>{r&&i({checked:e.target.checked})},position:"absolute"}),(0,p.jsx)(d.$p,{as:"span",className:"todo-content","data-placeholder":o})]})})},sF=/^\s*\[[ ]?\]\s$/,sB=/^\s*\[x\]\s$/,sO=s.bP.create({name:sN.e.Todo,addOptions:()=>({HTMLAttributes:{}}),content:"inline*",defining:!0,group:"block cardNotesBlock",selectable:!1,allowFontSizes:"body",addAttributes:()=>({indent:{default:0},checked:{default:!1},fontSize:ls.mD}),addNodeView:()=>(0,d.gu)(sH,{as:"ul",update:u.z0,updateWrapperEl:(e,t)=>{e.setAttribute("indent",t.node.attrs.indent)}}),addInputRules(){return[(0,s_.aW)({find:sF,type:this.type,getAttributes:{checked:!1}},this.editor.state.schema),(0,s_.aW)({find:sB,type:this.type,getAttributes:{checked:!0}},this.editor.state.schema)]},addKeyboardShortcuts:()=>({"Mod-,":e=>{let{editor:t}=e;return t.commands.setListItems({variant:sN.e.Todo})},"Mod-Shift-9":e=>{let{editor:t}=e;return t.commands.setListItems({variant:sN.e.Todo})}}),parseHTML(){return[{tag:'li[variant="'.concat(this.name,'"]')}]},renderHTML(e){let{HTMLAttributes:t}=e;return["li",(0,s.KV)(this.options.HTMLAttributes,t,{variant:this.name}),0]}});var sV=n(87996),sW=n(62964),sU=n(50861),sG=n(23746);let sZ=(0,D.forwardRef)((e,t)=>{let{dimensions:n,enforceMinDimensions:i,isThumbnail:a,isLoading:r,children:l,...s}=e,o=(0,tv.u)("enableVirtualization"),c=(0,eV.rd)();if(!o)return(0,p.jsx)(p.Fragment,{children:l});let d=n?{width:"".concat(n.width,"px"),height:"".concat(n.height,"px")}:{};return(!0===r||i)&&(d.minHeight=d.height),void 0!==r&&(d.height=void 0,d.width=void 0),(0,p.jsxs)(eg.s,{backgroundColor:!1===r?"transparent":c?"whiteAlpha.200":"blackAlpha.200",ref:t,position:!1!==r?"relative":"static",transition:"background-color .2s",...d,...s,children:[l,!1!==r&&(0,p.jsx)(aj.y,{position:"absolute",top:"50%",insetStart:"50%",colorScheme:"gray",size:a?"xs":"md"})]})});sZ.displayName="VirtualizedPlaceholder";var sK=n(58240);let sQ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,ee.GV)(ei.OG),n=(0,ee.GV)(ei.$i),i=!1!==e.memoGroup&&(t?"".concat(e.memoGroup?"".concat(e.memoGroup,":"):"","presenting:").concat(n):void 0);return(0,sK.v)({...e,memoGroup:i})};var sq=n(89263);let sJ=e=>{let{attrs:t,inGallery:n,shouldDisableClick:i}=e,a=(0,sU.lQ)(t),r=t.displayStyle,l=(0,n6.oR)(),s=(0,sU.eb)(t,"preview"===r&&!n),{handleOpenLinkWithInterstitial:o,handleOpenNativeLinkWithInterstitial:c,linkUrlSafe:d}=(0,sq.E)(a),u="newTab"===s&&!i;return(0,D.useMemo)(()=>u?{url:l?a:d,handleOpenLinkWithInterstitial:o,handleOpenNativeLinkWithInterstitial:c}:void 0,[o,c,d,a,u,l])};var s$=n(71093),sY=n(36062),sX=n(73737);let s0=e=>{let{enterZoom:t,zoomBoxProps:n,url:i,handleOpenLink:a,handleOpenInNewTab:r}=e,l=(0,ee.GV)(ei.nD);return n2.D1?null:!l&&a&&i?(0,p.jsx)(sY.Q,{inset:0,w:"100%",h:"100%",position:"absolute",zIndex:1,cursor:"pointer",children:(0,p.jsx)(sY.r,{onClick:a,href:i,target:"_blank",rel:"noopener"})}):(0,p.jsx)(sX.K,{enterZoom:t,doubleClickNonZoomHandler:l?r:void 0,...n})};var s1=n(24302),s2=n(92739);let s4={allowPopups:!1,noSandbox:!1,preventScroll:void 0},s5=e=>{let{initialUrl:t,frameRef:n,iframeOptions:i,backgroundColor:a="white",onLoad:r,...l}=e,{allowPopups:s,preventScroll:o,noSandbox:c}=i||s4;return(0,p.jsx)(eg.s,{w:"100%",h:"100%",direction:"column",background:a,...l,children:(0,p.jsx)("iframe",{ref:n,src:t,frameBorder:"0",width:"100%",height:"100%",allow:"encrypted-media; camera; microphone",allowFullScreen:!0,title:"Embedded app",sandbox:c?void 0:"allow-forms allow-scripts allow-same-origin allow-modals allow-pointer-lock ".concat(s?"allow-popups":""),scrolling:o?"no":void 0,style:{flex:1},onLoad:()=>{null==r||r()}})})},s6=(()=>{let e=e=>e.replace(/^https?:/,""),t=null,n=new Map,i={capture:!0,passive:!0},a=a=>{let r=e(a);n.delete(r),0===n.size&&t&&(window.removeEventListener("message",t,i),t=null)};return(r,l)=>{if(n.set(e(r),l),t)return()=>a(r);let s=Math.floor(519*Math.random());return t=t=>{if("https://if-cdn.com"===t.origin)try{let i=JSON.parse(t.data);if(!("context"in i))return;i.messageId=Math.floor(519*Math.random()),i.listenerId=s;let a=e(i.context);if(n.has(a))return void n.get(a)(i)}catch(e){console.error(e)}},window.addEventListener("message",t,i),()=>a(r)}})();function s3(e){return!!e&&"if-cdn.com"===new URL(e).host}let s9=e=>{let[t,n]=(0,D.useState)(null),i="function"==typeof e,a={resizeSettled:!1,loadFired:!1,preloadStart:Number.NEGATIVE_INFINITY,loadStart:Number.NEGATIVE_INFINITY,triggered:!1},r=(0,D.useRef)({...a}),l=(0,D.useRef)(e),s=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{preloadStart:t,loadStart:n,resizeSettled:i,loadFired:a,triggered:s}=r.current,o=performance.now()-t,c=performance.now()-n;if(!s&&(e||i&&a)){var d;console.debug("[embed] firing onLoad ".concat(c,"ms after frame load"),{preloadDelta:o,loadDelta:c}),r.current.triggered=!0,null==(d=l.current)||d.call(l);return}};return(0,D.useEffect)(()=>{l.current=e},[e]),(0,D.useEffect)(()=>{if(!i||!s3(t))return()=>{r.current={...a}};r.current.preloadStart=performance.now();let e=null,n=s6(t,e=>{e&&"object"==typeof e&&"height"in e&&l.push(e.height),o(l.length?200:1e3)}),l=[],o=t=>{e&&(clearTimeout(e),e=null),r.current.resizeSettled||(e=setTimeout(()=>{e=null,r.current.resizeSettled=!0,n(),s()},t))};return o(1e3),()=>{e&&(clearTimeout(e),e=null),n(),r.current={...a}}},[t,i]),{handlePreload:e=>(n(e),()=>{r.current.loadStart=performance.now(),r.current.loadFired=!0,s(!s3(e))})}},s7=e=>{let{html:t,onLoad:n,...i}=e,{handlePreload:a}=s9(n),r=(0,D.useRef)({frame:null,listener:null});return(0,p.jsx)(h.a,{position:"relative",role:"group",className:"html-embed-viewer","data-selection-ring":"inside","data-selection-background":!0,borderRadius:"var(--box-border-radius)",contentEditable:!1,dangerouslySetInnerHTML:{__html:t},ref:e=>{if(!e){r.current.frame&&r.current.listener&&r.current.frame.removeEventListener("load",r.current.listener),r.current={frame:null,listener:null};return}let t=null==e?void 0:e.getElementsByTagName("iframe");if((null==t?void 0:t.length)!==1){null==n||n();return}let i=t.item(0),l=i.src;if(i===r.current.frame)return;r.current.frame&&r.current.listener&&r.current.frame.removeEventListener("load",r.current.listener);let s=a(l);r.current={frame:i,listener:s},i.addEventListener("load",s)},...i})};var s8=n(38036);let oe=e=>{let{frameRef:t,node:n,isStealth:i=!1,isDark:a}=e,r=(0,sU.lQ)(n.attrs),{handleOpenLinkWithInterstitial:l}=(0,sq.E)(r);return(0,p.jsxs)(eg.s,{direction:"row",background:a?"gray.700":"gray.50",align:"center",borderBottom:"1px solid",borderColor:a?"gray.600":"gray.200",w:"100%",p:1,zIndex:2,position:i?"absolute":"relative",transitionProperty:"common",transitionDuration:"normal",opacity:+!i,_hover:{opacity:1},fontFamily:"body",children:[(0,p.jsx)(s8.p,{size:"xs",value:r,border:"0",noOfLines:1,color:a?"gray.200":"gray.600",pointerEvents:"none",readOnly:!0}),(0,p.jsxs)(lA.e,{size:"xs",spacing:1,variant:"ghost",colorScheme:"gray",ml:2,children:[(0,p.jsx)(ez.Tz,{label:(0,p.jsx)(eN.x6,{id:"HpK/8d"}),placement:"top",children:(0,p.jsx)(lS.K,{isRound:!0,"aria-label":eT.Ru._({id:"HpK/8d"}),icon:(0,p.jsx)(E.g,{icon:e$.yek}),onClick:()=>{if(!t.current)return;let e=t.current.src;t.current.src="about:blank",setTimeout(()=>{t.current&&(t.current.src=e)},50)}})}),(0,p.jsx)(ez.Tz,{label:(0,p.jsx)(eN.x6,{id:"Alx2/L"}),placement:"top",children:(0,p.jsx)(lS.K,{isRound:!0,"aria-label":eT.Ru._({id:"Alx2/L"}),icon:(0,p.jsx)(E.g,{icon:e$.vMs}),onClick:l})})]})]})};var ot=n(23103);let on=e=>{let{isZoomed:t,useStealthNav:n,onLoad:i,opacity:a,...r}=e,{node:l}=r,s=(0,D.useRef)(null),{colorMode:o}=(0,s1.G6)(),c="dark"===o,d=(0,eA.FX)(),{url:u,proxy:h,source:g,embed:m}=l.attrs,x=(0,ot.B)(g),f=x.rewriteEmbedUrl&&u?x.rewriteEmbedUrl(u):u,b=h?(0,ot.l)(f):f||"about:blank",{isUntrusted:y}=(0,s2.i)(b);return x.preferHtml&&(null==m?void 0:m.html)?(0,p.jsx)(s7,{html:m.html,w:t?"100%":void 0,onClick:t?er.dG:void 0,onLoad:i,opacity:a,...x.minWidth?{minW:"min(".concat(x.minWidth,", 100vw, 100%)"),left:"50%",transform:"translateX(-50%)"}:void 0}):y?(0,p.jsx)(eg.s,{h:"100%",w:"100%",align:"center",justify:"center",children:"unknown embed"}):(0,p.jsxs)(eg.s,{direction:"column",h:"100%",w:"100%",maxW:"var(--media-maxW)",maxH:"var(--media-maxH)",borderRadius:t?"lg":"var(--box-border-radius)",border:"1px solid",borderColor:c?"gray.600":"gray.200",overflow:"hidden",position:"relative","data-content-reference":!0,"data-selection-ring":"inside","data-selection-background":!0,className:(0,I.cx)("embed-viewer"),onClick:t?er.dG:void 0,children:[(0,p.jsx)(oe,{...r,frameRef:s,isDark:c,isStealth:n}),!t&&(0,p.jsx)(s$.zA,{...r,frameRef:s}),(0,p.jsx)(s5,{initialUrl:b,frameRef:s,iframeOptions:x.iframeOptions,onLoad:i,css:{aspectRatio:d?"1 / 1.618":"1.618 / 1"},flex:"1"})]})};var oi=n(42276);let oa=(0,iB.P)(h.a),or=(0,iB.P)(eg.s),ol=e=>{let{node:t,editor:n,decorations:i}=e,a=t.attrs,{source:l,embed:s,displayStyle:o,id:c,sourceUrl:d}=a,u=(0,ot.B)(l),{isZoomed:m,enterZoom:x,exitZoom:f}=(0,s$.RL)(c),b="inline"===o&&u.preferHtml&&(null==s?void 0:s.html),y=(0,a9.NZ)(e),v=(0,eA.FX)(),C=(0,ee.GV)(ei.nD),w=(0,eE.DM)(i)||!n.view.hasFocus(),A=(0,tv.u)("virtualizeEmbeds"),[j,k]=(0,D.useState)(!1),S=!r.$.GAMMA_PUPPETEER_SERVICE&&(b||"inline"===o)&&!y&&!(v&&u.forcePreviewOnMobile),{handleOpenLinkWithInterstitial:L,handleOpenNativeLinkWithInterstitial:E,url:M}=sJ({attrs:a,inGallery:y,shouldDisableClick:!!(u.inlineInteractive&&S)})||{},R=!y&&!n.isThumbnail,{inViewport:_,ref:z,dimensions:N}=sQ();return A&&S&&!n.isThumbnail&&"embed.gdrive"!==u.key&&!1===_?(!0===j&&k(!1),(0,p.jsx)(g.u,{...e,as:"div",children:(0,p.jsx)(sZ,{ref:z,dimensions:N})})):(0,p.jsxs)(g.u,{...e,children:[(0,p.jsxs)(oa,{h:"100%",w:"calc(100% * var(--media-scale))",className:(0,I.cx)("embed-preview",!b&&!(u.inlineInteractive&&S)&&sG.Gx),"data-export-as-image":!0,"data-export-link":d,position:"relative",overflow:b&&u.minWidth?"visible":"hidden","data-drag-handle":!0,ref:z,children:[S&&n.isThumbnail?(0,p.jsx)(oi.a6,{...e}):y?(0,p.jsx)(oi.x6,{...e}):S?(0,p.jsx)(sZ,{isLoading:!j,dimensions:N,enforceMinDimensions:"embed.twitter"===u.key,flexDir:"column",children:(0,p.jsx)(on,{...e,opacity:+!!j,onLoad:()=>{k(!0)},useStealthNav:!0})}):(0,p.jsx)(oi.Ch,{...e}),u.inlineInteractive&&!v&&S?(0,p.jsx)(h.a,{position:"absolute",inset:0,zIndex:1,pointerEvents:C&&!w&&"inline"===o?"auto":"none",cursor:"default"}):u.inlineInteractive&&v&&S?(0,p.jsx)(p.Fragment,{}):(0,p.jsx)(s0,{enterZoom:x,handleOpenLink:E,handleOpenInNewTab:L,url:M})]}),R&&(0,p.jsx)(s$.Gx,{isZoomed:m,exitZoom:f,editor:n,children:(0,p.jsx)(or,{h:"100%",w:"100%",direction:"column",justify:"center",align:"center",children:(0,p.jsx)(on,{...e,onLoad:()=>{k(!0)},isZoomed:!0})})})]})},os=s.bP.create({name:"embed",group:"block media",atom:!0,draggable:!0,selectable:!0,expandable:!0,addNodeView:()=>(0,d.gu)(ol,{update:u.z0}),addAttributes:()=>({id:(0,q.e)($.z),url:{},source:{default:sV.Jp.key},thumbnail:{...(0,J.tb)("thumbnail")},embed:{...(0,J.tb)("embed")},meta:{...(0,J.tb)("meta")},proxy:{},sourceUrl:{},displayStyle:{default:"preview"},fullWidthBlock:{default:!1},clickBehavior:{default:null}}),parseHTML:()=>[{tag:"div[class=embed]"},{tag:"iframe[bookmark]",getAttrs:eh.Ll}],renderHTML(e){let{HTMLAttributes:t,node:n}=e;return["div",(0,s.KV)(t,{class:"embed"}),["a",{href:(0,sU.lQ)(n),target:"_blank"},(0,sU.JY)(n)]]},renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e;return n?["iframe",{src:t.attrs.url}]:["iframe",{bookmark:(0,eh.vL)(t)}]},addCommands:()=>({replaceEmbedsById:(e,t)=>n=>{let{editor:i,chain:a}=n,r=(0,s.xe)(i.state.doc,t=>"embed"===t.type.name&&t.attrs.id===e),l=a();return r.forEach(e=>{let{pos:n,node:i}=e;l.insertContentAt({from:n,to:n+i.nodeSize},t,{updateSelection:!1})}),l.run(),!0},updateEmbedsById:(e,t)=>n=>{let{editor:i,chain:a}=n,r=(0,s.xe)(i.state.doc,t=>("embed"===t.type.name||"video"===t.type.name)&&t.attrs.id===e),l=a();return r.forEach(e=>{let{pos:n}=e;l.updateAttributesAtPos(n,{thumbnail:t.thumbnail})}),l.run(),!0},insertEmbedAndFetchMetadata:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i=>{let{commands:a,editor:r}=i,l=(0,$.z)();a.insertContent({type:"embed",attrs:{id:l,url:e,sourceUrl:e,displayStyle:null!=t?t:"preview",meta:{title:"Loading..."}}},{updateSelection:!1});let s=!1;return(0,sW.Yq)(e,e=>{if(s)return void r.commands.updateEmbedsById(l,e);let n=tP.Fn[e.source];r.commands.replaceEmbedsById(l,{type:(null==n?void 0:n.nodeName)||"embed",attrs:{...e,id:l,displayStyle:null!=t?t:"video"===n.nodeName?"inline":"preview"}}),s=!0}).catch(t=>{console.warn("(caught) insertEmbedAndFetchMetadata error fetching url",t,e),n&&r.commands.replaceEmbedsById(l,e)}),!0}}})});var oo=n(45176);let oc="gallery-prevent-flex";class od{constructor(e=null){this.dragging=e}}let ou=new t3.hs("galleryPlugin"),op=e=>new t3.k_({key:ou,state:{init:()=>new od,apply:(e,t)=>t},props:{handleDOMEvents:{drop(e){var t;let n=null==(t=e.dragging)?void 0:t.annotations,i=ou.getState(e.state);if(!i)return!1;i.dragging=n}},decorations:e=>{let{doc:t}=e,n=[];return t.descendants((e,t,i)=>{if((0,a9.Pb)(e))n.push(t9.NZ.node(t,t+e.nodeSize,{class:"gallery-layout-".concat(e.attrs.layout)},{children:e.content}));else if((0,a9.Pb)(i)){var a;let r="image"===e.type.name&&(null==(a=e.attrs.resize)?void 0:a.clipType)==="circle";n.push(t9.NZ.node(t,t+e.nodeSize,{class:r?oc:""},{inGallery:!0,layout:i.attrs.layout,dimensions:i.attrs.dimensions,thumbHeight:i.attrs.thumbHeight,thumbSpacing:i.attrs.thumbSpacing}))}}),t9.zF.create(t,n)},handlePaste:(e,t,n)=>{let{selection:i,schema:a}=e.state;if(!(i instanceof t3.nh&&(0,a9.Pb)(i.node)))return!1;if((0,a9.jG)(a,n,t)){let t=e.state.tr.setSelection(t3.U3.create(e.state.doc,i.to-1));e.dispatch(t)}return!1},handleDrop:(t,n,i)=>{let a,r=ou.getState(t.state),l=null==r?void 0:r.dragging;r&&(r.dragging=null);try{if(!(a=(0,a9.tz)(t,n,i,!1)))return!1}catch(e){return console.error("(caught) [GalleryPlugin] handleDrop checkGalleryDropTarget error:",e),!1}try{let{selection:n}=t.state,r=i.content.toJSON(),{pos:s,side:o,node:c}=a,d=!n.empty,u=r.some(e=>{var t;return"image"===e.type&&!(null==(t=e.attrs)?void 0:t.src)}),p=d&&!u;if(c&&(0,a9.Pb)(c)){let t="left"===o?s:s+1;e.chain().insertContentAt({from:t,to:t},r,{updateSelection:!1}).command(n=>{let{tr:i}=n;if(p&&i.deleteSelection(),l){let n=e.state.tr;n.deleteSelection(),i.setMeta("annotationEvent",{type:"drop",dragging:l,droppedBlockPos:n.mapping.map(t)})}return!0}).focusMapped(t).run()}else if(c&&(0,sU.Bv)(c)){let n="left"===o?[...r,c.toJSON()]:[c.toJSON(),...r];e.chain().insertContentAt({from:s,to:s+c.nodeSize},{type:"gallery",content:n},{updateSelection:!1}).command(n=>{let{tr:i}=n;if(p&&i.deleteSelection(),l){let n=(0,l1.Q4)({side:o,view:t,tr:i,dragging:l,dropPos:s,dropNode:c});requestAnimationFrame(()=>{var t,i;null==(t=(i=e.commands).moveAnnotations)||t.call(i,n)})}return!0}).run()}}catch(e){console.error("(caught) [GalleryPlugin] handleDrop error:",e)}return!0}}});var oh=n(76694),og=n(84979),om=n(38636);let ox=e=>e&&sV.Dc[e]?sV.Dc[e]:sV.GQ,of=16/9,ob=e=>{let{isZoomed:t,onLoad:n,opacity:i,position:a="relative",...r}=e,{node:l}=r,{embed:s,source:o,sourceUrl:c}=l.attrs,d=ox(o),u=(0,D.useRef)(null),g=d.preferHtml&&(null==s?void 0:s.html),m=(null==s?void 0:s.height)&&!(null==s?void 0:s.width),x=(null==s?void 0:s.height)&&(null==s?void 0:s.width)?s.width/s.height:(null==s?void 0:s.aspectRatio)||of,f=t?{width:"min(var(--media-maxW), calc(var(--media-maxH) * ".concat(x,"))"),height:"video.tiktok"===o?void 0:m?s.height:"min(var(--media-maxH), calc(var(--media-maxW) / ".concat(x,"))"),alignContent:"center"}:g?{width:"100%"}:m?{height:s.height}:{height:0,pb:"".concat(100/x,"%")},b=(null==s?void 0:s.url)||l.attrs.embedUrl||c,y=d&&d.rewriteEmbedUrl&&b?d.rewriteEmbedUrl(b):b;return(0,p.jsxs)(h.a,{position:a,opacity:i,"data-content-reference":!0,"data-drag-handle":!0,...f,onClick:t?er.dG:void 0,transition:"opacity .2s",children:[!t&&(0,p.jsx)(s$.zA,{...r,frameRef:u}),g?(0,p.jsx)(s7,{html:s.html,w:t?"100%":void 0,onClick:t?er.dG:void 0,onLoad:n,...d.minWidth?{minW:"min(".concat(d.minWidth,", 100vw, 100%)"),left:"50%",transform:"translateX(-50%)"}:void 0,maxW:d.maxWidth}):(0,p.jsx)(s5,{initialUrl:y,backgroundColor:"none",borderRadius:"var(--box-border-radius)",overflow:"hidden","data-content-reference":!0,"data-selection-ring":"inside","data-selection-background":!0,className:(0,I.cx)("video-player"),onLoad:n,iframeOptions:{preventScroll:!0,...d.iframeOptions},position:"absolute",inset:0,frameRef:u})]})},oy=e=>{let{node:t,editor:n}=e,i=t.attrs,{source:a,embed:l,displayStyle:s,id:o,sourceUrl:c}=i,{isZoomed:d,enterZoom:u,exitZoom:m}=(0,s$.RL)(o),x=(0,a9.NZ)(e),f=(0,ot.B)(a),b=(0,tv.u)("virtualizeEmbeds"),[y,v]=(0,D.useState)(!1),C=!r.$.GAMMA_PUPPETEER_SERVICE&&"inline"===s,w="inline"===s&&f.preferHtml&&(null==l?void 0:l.html),A=!x&&!n.isThumbnail,{handleOpenLinkWithInterstitial:j,handleOpenNativeLinkWithInterstitial:k,url:S}=sJ({attrs:i,inGallery:x,shouldDisableClick:C&&!x})||{},{inViewport:L,ref:E,dimensions:M}=sQ();return b&&C&&!1===L&&!n.isThumbnail?(!0===y&&v(!1),(0,p.jsx)(g.u,{...e,as:"div",children:(0,p.jsx)(sZ,{ref:E,dimensions:M})})):(0,p.jsxs)(g.u,{...e,as:"div",children:[(0,p.jsx)(h.a,{h:"100%",w:"calc(100% * var(--media-scale))",className:(0,I.cx)("embed-preview",!C&&sG.Gx),"data-export-as-image":!0,"data-export-link":c,position:"relative",overflow:w&&f.minWidth?"visible":"hidden",ref:E,children:n.isThumbnail?(0,p.jsx)(oi.a6,{...e}):x?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s0,{enterZoom:u,url:S,handleOpenLink:k,handleOpenInNewTab:j}),(0,p.jsx)(oi.x6,{...e})]}):C?(0,p.jsx)(sZ,{isLoading:!y,dimensions:M,children:(0,p.jsx)(ob,{opacity:+!!y,position:"static",onLoad:()=>{v(!0)},...e})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s0,{enterZoom:u,url:S,handleOpenLink:k,handleOpenInNewTab:j}),(0,p.jsx)(oi.Ch,{...e})]})}),A&&(0,p.jsx)(s$.Gx,{isZoomed:d,exitZoom:m,editor:n,children:(0,p.jsx)(eg.s,{width:"var(--media-maxW)",height:"var(--media-maxH)",direction:"column",align:"center",justify:"center",children:(0,p.jsx)(ob,{onLoad:()=>{v(!0)},...e,isZoomed:!0})})})]})},ov=s.bP.create({name:"video",group:"block media",atom:!0,draggable:!0,selectable:!0,expandable:!0,addNodeView:()=>(0,d.gu)(oy,{update:u.z0}),addAttributes:()=>({id:(0,q.e)($.z),embedUrl:{},source:{},thumbnail:{...(0,J.tb)("thumbnail")},embed:{...(0,J.tb)("embed")},meta:{...(0,J.tb)("meta")},sourceUrl:{},displayStyle:{default:"inline"},fullWidthBlock:{default:!1},clickBehavior:{default:null}}),parseHTML:()=>[{tag:"div[class=video]"},{tag:"video[bookmark]",getAttrs:eh.Ll}],addStorage:()=>({bookmarks:{}}),renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e;return n?["video",{src:(0,sU.lQ)(t)}]:["video",{bookmark:(0,eh.vL)(t)}]},renderHTML(e){let{HTMLAttributes:t,node:n}=e;return["div",(0,s.KV)(t,{class:"video"}),["a",{href:(0,sU.lQ)(n),target:"_blank"},(0,sU.JY)(n)]]}});var oC=n(80215);let ow=e=>{let{editor:t,node:n,getPos:i}=e,a=(0,D.useCallback)(()=>{t.commands.selectNodeAtPos(i()),t.chain().deleteSelectionAndSelectNear().run()},[t,i]),r=(0,oC.N_)(),l=n.attrs.layout;return{contextMenuItems:[...(0,tJ.d)({editor:t,node:n,getPos:i}),{divider:!0},{key:"add-comment",label:(0,p.jsx)(eN.x6,{id:"oFsfkI"}),icon:e$.DN2,onClick:()=>{t.commands.selectNodeAtPos(i()),(0,a9.wG)(t.state.selection)}},{divider:!0},{key:"layout",label:(0,p.jsx)(eN.x6,{id:"vR68Ol"}),icon:e$.Qyz,items:Object.entries(r).map(e=>{let[a,r]=e;return{key:a,label:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(L.E,{children:r.title}),(0,p.jsx)(L.E,{fontSize:"xxs",color:"gray.500",children:r.description})]}),icon:a===l?e$.e68:void 0,onClick:()=>{t.commands.selectNodeAtPos(i()),(0,oC.mF)(a,n.attrs,t,t.state.selection)}}})},{key:"add-image",label:(0,p.jsx)(eN.x6,{id:"pVb3uA"}),icon:e$.HuL,onClick:()=>{t.commands.selectNodeAtPos(i()),(0,a9.hk)(i,t)}},{divider:!0},{key:"delete",label:(0,p.jsx)(eN.x6,{id:"cnGeoo"}),icon:e$.yLS,onClick:a,color:"red.500"}]}},oA=(0,iB.P)(eg.s),oj=e=>{let{node:t,editor:n,getPos:i}=e,a=t.attrs,r=(0,eA.FX)(),l=(0,a9.yg)(e),s=0===l.length,o=(0,eV.rd)(),c=s?oo.Aj:r?oo.XJ:a.thumbHeight||oo.Aj,u=a.layout,h="grid"===u?a.dimensions||"square":void 0,x=(0,m.lI)(a.horizontalAlign||"center"),{isZoomed:f,isZoomComplete:b,exitZoom:y,zoomedId:v,setZoomedId:C}=(0,s$.$B)(l.map(e=>e.attrs.id)),w=(0,ee.GV)(ei.nD),A=(0,D.useRef)(null),j=(0,oh.z)(A,e=>(0,a9.HI)(n.view,e)),{onOpenContextMenu:k,onCloseContextMenu:S,menuProps:I}=(0,ej.$)({editor:n,getPos:i}),{contextMenuItems:M}=ow({editor:n,node:t,getPos:i}),R=(0,D.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),(0,a9.hk)(i,n)},[i,n]),_=(0,D.useCallback)(e=>{var t;n.isEditable&&(null==(t=e.target.closest(".gallery, .block"))?void 0:t.classList.contains("gallery"))&&n.commands.selectNodeAtPos(i())},[n,i]),z=(0,D.useMemo)(()=>"grid"===u?{overflow:"hidden",aspectRatio:"square"===h?"1":"landscape"===h?"4/3":"3/4"}:"logo"===u?{height:void 0}:{h:"".concat(c,"em"),flex:a.stretchFill||null===a.stretchFill?"1 1 auto":void 0},[u,h,c,a.stretchFill]),T=(0,D.useMemo)(()=>"grid"===u?{justifyContent:"center",display:"grid",gridTemplateColumns:1===l.length?"repeat(auto-fit, ".concat(a.thumbHeight,"em)"):l.length<6?a.thumbHeight>=oo.Vj/(1+.1*l.length)?"repeat(auto-fit, minmax(".concat(a.thumbHeight,"em, 1fr))"):"repeat(auto-fit, ".concat(a.thumbHeight,"em)"):"repeat(auto-fit, minmax(".concat(a.thumbHeight,"em, 1fr))"),gap:a.thumbHeight>=oo.Vj/2?"".concat(oo.I0,"em"):a.thumbHeight<=oo.Vj/3?"".concat(oo.I0/1.25,"em"):"".concat(oo.I0/1.5,"em")}:{gap:a.thumbHeight<=oo.Aj/3?"".concat(oo.I0/2,"em"):a.thumbHeight<=oo.Aj/2?"".concat(oo.I0/1.5,"em"):"".concat(oo.I0,"em"),display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",placeContent:x,w:l.length>=3&&(null===a.stretchFill||a.stretchFill)?"100%":void 0},[u,a.thumbHeight,a.stretchFill,x,l.length]);return(0,p.jsxs)(g.u,{...e,children:[(0,p.jsxs)(eg.s,{onContextMenu:w?k:void 0,className:"gallery",cursor:"default",onClick:_,ref:A,align:x,direction:"column",position:"relative","data-selection-ring":!0,"data-selection-background":!0,...s?j:{},css:{"--media-maxH":"flex"===u?"".concat(c,"em"):void 0,"--media-maxW":"100%"},w:"100%",sx:{".gallery-content":{w:"100%",display:"flex"===u?"contents":void 0},"[data-node-view-content-inner=gallery]":{...T,".block":{...z,["&.".concat(oc)]:{flex:"0 0 auto"},my:0,transitionProperty:"filter",transitionDuration:"normal",_hover:{[":not(.block-mediaPlaceholder) > :not(.".concat(og.T,")")]:{filter:"brightness(0.9)"}},"[data-node-view-wrapper]":{h:"100%"}},".block-mediaPlaceholder":{overflow:"visible"}},".block-gallery.is-focused & .placeholder":{bg:o?ag.N.DARK_GALLERY_BG:ag.N.LIGHT_GALLERY_BG},".placeholder":{minW:"flex"===u?"12em":"logo"===u?"6em":void 0,h:"logo"===u?(0,a9.w5)(a.thumbHeight,a.thumbSpacing):void 0}},children:[s?(0,p.jsxs)(n$.T,{spacing:3,h:"".concat(c,"em"),justify:"center",contentEditable:!1,color:o?ag.N.DARK_COLOR:ag.N.LIGHT_COLOR,className:"gallery-placeholder","data-testid":"gallery-placeholder",userSelect:"none",children:[(0,p.jsx)(E.g,{size:"2x",icon:ig.yvG}),w?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ih.$,{size:"xs",onClick:R,onMouseDown:er.Fw,children:"Add images"}),(0,p.jsx)(L.E,{color:o?ag.N.DARK_ICON_COLOR:ag.N.LIGHT_ICON_COLOR,fontSize:"sm",textAlign:"center",children:(0,p.jsx)(eN.x6,{id:"oyPIji"})})]}):null]}):(0,p.jsx)(d.$p,{className:"gallery-content"}),w&&!s&&(0,p.jsx)(eg.s,{position:"absolute",bottom:"0",h:"grid"===u||"logo"===u?"100%":"".concat(c,"em"),align:"center",w:6,insetEnd:-3,className:"add-image",opacity:"0",transitionProperty:"opacity",zIndex:"tooltip",transitionDuration:"normal",children:(0,p.jsx)(ez.Tz,{label:(0,p.jsx)(eN.x6,{id:"P5MuiB"}),placement:"top",children:(0,p.jsx)(lS.K,{icon:(0,p.jsx)(E.g,{icon:e$.QLR}),"aria-label":eT.Ru._({id:"P5MuiB"}),position:"absolute",size:"xs",variant:"plain",isRound:!0,onClick:R})})}),(0,p.jsx)(N.A,{...e,handlePlacement:"outside",label:eT.Ru._({id:"wnA/4R"})}),(0,p.jsx)(ef.tz,{menuItems:M,isOpen:I.isOpen,position:I.position,onClose:S,size:"small"})]}),(0,p.jsx)(s$._M,{isZoomed:f,isZoomComplete:b,exitZoom:y,zoomedId:v,setZoomedId:C,editor:n,children:l.filter(e=>e.attrs.id).map(e=>{let{id:t}=e.attrs,i=e.type.name;return{id:t,thumbnail:"image"===i?(0,p.jsx)(om.F,{imageAttrs:e.attrs,objectFit:"cover",isThumbnail:!0}):(0,p.jsx)(oi.x6,{node:e}),full:(0,p.jsx)(eg.s,{justify:"center",align:"center",h:"100%",w:"100%",children:"image"===i?(0,p.jsx)(om.F,{isZoomed:!0,imageAttrs:e.attrs}):"video"===i?(0,p.jsx)(oA,{width:"var(--media-maxW)",height:"var(--media-maxH)",direction:"column",align:"center",justify:"center",children:(0,p.jsx)(ob,{isZoomed:!0,node:e,decorations:[],editor:n})}):(0,p.jsx)(oA,{h:"100%",w:"100%",direction:"column",justify:"center",align:"center",children:(0,p.jsx)(on,{isZoomed:!0,node:e,decorations:[],editor:n})})})}})})]})},ok=s.bP.create({name:"gallery",group:"cardBlock layoutBlock",content:"media*",isolating:!0,draggable:!0,selectable:!0,priority:eu.y.Gallery,containerHandle:!0,expandable:!0,addNodeView:()=>(0,d.gu)(oj,{update:u.z0,ignoreMutation:lX.I}),addAttributes:()=>({thumbHeight:{default:oo.Aj},fullWidthBlock:{default:!1},layout:{default:"flex"},stretchFill:{},dimensions:{default:"square"},thumbSpacing:{default:oo.mj}}),addProseMirrorPlugins(){return[op(this.editor)]},parseHTML:()=>[{tag:"div[class=gallery]"},{tag:"gallery"}],renderHTMLforAI(e){let{node:t}=e;return["gallery",{thumbHeight:t.attrs.thumbHeight},0]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,s.KV)(t,{class:"gallery"}),0]}});var oS=n(12354),oL=n(61250);let oI=s.YY.create({name:"media",addExtensions:()=>[$.p],addCommands:()=>({handleSpaceToZoom:()=>e=>{let{state:t}=e;if(t.selection instanceof t3.nh&&(0,sU.Bv)(t.selection.node)){let e=(0,ee.KA)(),{id:n}=t.selection.node.attrs;return!!(n&&(0,oL.iZ)(n)(e.getState()))||(e.dispatch((0,ei.a)({nodeId:t.selection.node.attrs.id})),!0)}return!1}})});var oE=n(89124),oD=n(22004),oM=n(12364),oR=n.n(oM);let o_=["paragraph","heading","title","bullet","numbered","todo","toggleSummary"],oz=s.YY.create({name:"placeholderText",addGlobalAttributes:()=>[{types:o_,attributes:{placeholder:{default:null,keepOnSplit:!1,rendered:!1}}}],addCommands:()=>({removeFilledPlaceholders:()=>e=>{let{tr:t,dispatch:n}=e;return!n||(t.doc.descendants((e,n)=>{e.attrs.placeholder&&e.textContent&&(console.debug("Removing placeholder",e.attrs.placeholder,"at",n,"with content",e.textContent),t.setNodeAttribute(n,"placeholder",null))}),!0)}}),onUpdate(){oN(this.editor)}}),oN=oR()(e=>{e.isEditable&&e.commands.removeFilledPlaceholders()},100,{maxWait:1e3});var oT=n(7631),oP=n(13357),oH=n(54958);let oF=new t3.hs("smartDiagram"),oB=e=>{let t=e.find(e=>e.spec.isSmartDiagramDecoration);return t?t.spec:{isSmartDiagramDecoration:!0,selectedKeyPath:void 0,isSelected:!1,layoutContainerSize:1}},oO=()=>new t3.k_({key:oF,props:{decorations(e){let{doc:t,selection:n}=e,i=[];return t.descendants((t,a)=>{if("smartDiagram"!==t.type.name)return;let r=(0,l3.JD)(e.doc.resolve(a)),{isSelected:l,selectedKeyPath:s}=oV(n,t);i.push(t9.NZ.node(a,a+t.nodeSize,{},{isSmartDiagramDecoration:!0,isSelected:l,selectedKeyPath:s,layoutContainerSize:r}))}),t9.zF.create(t,i)}}}),oV=(e,t)=>e instanceof t3.nh&&e.node===t?{isSelected:!0}:e instanceof oH.n&&e.node===t?{isSelected:!0,selectedKeyPath:e.keyPath}:{isSelected:!1,selectedKeyPath:void 0};var oW=n(47512);class oU extends D.Component{static getDerivedStateFromError(e){return{hasError:!0,errMessage:e.message}}componentDidCatch(e,t){console.error("BlockErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?(0,p.jsx)(h.a,{fontFamily:"monospace",p:"1em",bg:"red.500",color:"white",borderRadius:"var(--box-border-radius)",fontSize:"1em",children:"Error rendering block: "+this.state.errMessage}):this.props.children}constructor(e){super(e),this.state={hasError:!1,errMessage:""}}}let oG=e=>{let{node:t,decorations:n}=e,{templateKey:i,aiGenerateStatus:a,data:r}=t.attrs;if(!(0,aZ.En)())return null;if("queued"===a||!i)return(0,p.jsx)(g.u,{...e,children:(0,p.jsx)(es.Pf,{isLoading:!0,loadingProvider:"aiGenerated",borderRadius:"var(--box-border-radius)",h:"10em"})});let l=i?(0,oW.FV)(i):void 0;return l&&("error"!==a||r)?(0,p.jsx)(g.u,{...e,children:(0,p.jsx)(oU,{errorMessage:"Unable to render smart diagram",children:(0,p.jsx)(oZ,{...e,template:l})})}):(0,p.jsx)(g.u,{...e,children:(0,p.jsx)(es.Pf,{hasUploadError:!0,borderRadius:"var(--box-border-radius)",h:"10em"})})},oZ=e=>{let{node:t,editor:n,decorations:i,updateAttributes:a,getPos:r,template:l}=e,s=t.attrs,{data:o,horizontalAlign:c,showIcons:d}=s,u=l.Component,{bodyColor:h}=(0,z.a)(i),g=(0,ee.GV)(ei.nD),x=(0,ee.GV)(ei.SJ),{isSelected:f,selectedKeyPath:b,layoutContainerSize:y}=oB(i),v=n.isFocused,C=(0,D.useCallback)(e=>{let t=r();try{var i;let a=null==(i=n.state.doc.nodeAt(t))?void 0:i.attrs,r=null==a?void 0:a.data;if(!r)return;let l=JSON.parse(JSON.stringify(r)),s=e(l);if(JSON.stringify(s)===JSON.stringify(r))return;let o=n.state.tr;o.setNodeAttribute(t,"data",s).setSelection(t3.LN.fromJSON(o.doc,n.state.selection.toJSON())),n.view.dispatch(o)}catch(e){console.error("Error updating smart diagram data",e)}},[r,n]),w=(0,D.useCallback)(e=>{let t=null==e?void 0:e.target;if(null==t||!t.closest("[data-in-editor-focus]"))try{n.commands.selectNodeAtPos(r())}catch(e){console.error("Error selecting node",e)}},[r,n]),A=(0,D.useCallback)(e=>{a({...t.attrs,...e}),w()},[t.attrs,a,w]),j=(0,D.useCallback)(e=>{let t=r(),i=n.state.doc.resolve(t),a=new oH.n(i,e);n.view.dispatch(n.state.tr.setSelection(a))},[r,n]),k=(0,m.fZ)(i,c),S=(0,m.Up)(i);return(0,p.jsx)(u,{data:o,theme:x,updateData:C,updateResizeAttrs:A,selectItem:j,selectNode:w,editor:n,isNodeSelected:!!(f&&!b&&v),selectedKeyPath:null!=b?b:null,alignDirection:k,svgDirection:S,isEditable:g,attrs:s,layoutContainerSize:y,showIcons:d,bodyColor:h})},oK=s.bP.create({name:"smartDiagram",group:"block",isolating:!0,defining:!0,atom:!0,selectable:!0,addAttributes:()=>({id:(0,q.e)($.z),templateKey:{default:null},data:{default:{},...(0,J.tb)("data")},width:{default:null},showIcons:{default:!0},aiGenerateParams:{default:null,...(0,J.tb)("aiGenerateParams")},aiGenerateStatus:{default:null}}),renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,s.KV)(t,{class:"smart-diagram"})]},renderHTMLforAI(e){let{node:t,HTMLAttributes:n}=e;return["smart-diagram",{...n,"data-data":void 0},JSON.stringify(t.attrs.data,null,2)]},parseHTML:()=>[{tag:"div[class=smart-diagram]"},{tag:"smart-diagram[".concat(K.A,"]"),getAttrs:Q.K},{tag:"smart-diagram",getAttrs:e=>{let t=e.textContent;if(!t)return!1;try{return{data:JSON.parse(t)}}catch(e){return!1}}}],addNodeView:()=>(0,d.gu)(oG,{update:u.z0}),addProseMirrorPlugins:()=>[oO()],addCommands(){return{insertSmartDiagram:e=>{let{attrs:t,selectedText:n,allowGeneration:i=!0}=e;return e=>{let{chain:a,state:r}=e,{selection:l}=r,o=(0,s.KP)(e=>"smartLayout"===e.type.name)(l),c=(0,s.eL)(r.doc.resolve(l.from),e=>"gridLayout"===e.type.name),d=l.from,u=o||c;u&&(d=u.pos+u.node.nodeSize);let p=i?(0,oP.YR)(this.editor,n):{};return a().insertContentAt(d,{type:this.name,attrs:{...t,templateKey:t.templateKey,id:(0,$.z)(),...p}}).selectInsertedNode().command(e=>{let{tr:t,state:n}=e;if(i){let e=t.selection.from;return(0,oP.BX)(this.editor,n,e)}return!0}).run()}},updateSmartDiagramData:(e,t,n)=>i=>{let{chain:a}=i;return a().updateAttributeKeyPathAtPos(e,"data."+t,n).run()}}}});var oQ=n(95663),oq=n(35616),oJ=n(61964);let o$=s.YY.create({name:"TableCommands",addCommands:()=>({selectColumn:e=>t=>{let{tr:n,dispatch:i}=t;if(!i)return!0;let{doc:a}=n,r=a.resolve(e),l=oJ.rn.colSelection(r);return n.setSelection(l),!0},selectRow:e=>t=>{let{tr:n,dispatch:i}=t;if(!i)return!0;let{doc:a}=n,r=a.resolve(e),l=oJ.rn.rowSelection(r);return n.setSelection(l),!0},selectTable:e=>t=>{let{tr:n,dispatch:i}=t;if(!i)return!0;let{doc:a}=n,r=a.resolve(e),l=oJ.rn.colSelection(r),s=oJ.rn.rowSelection(l.$anchorCell,l.$headCell);return n.setSelection(s),!0}})}),oY=s.bP.create({name:"tableCell",addOptions:()=>({HTMLAttributes:{}}),content:"(block | tableBlock)+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1}}),tableRole:"cell",isolating:!0,selectable:!1,parseHTML:()=>[{tag:"td"},{tag:"th"}],renderHTML(e){let{HTMLAttributes:t}=e;return["td",(0,s.KV)(this.options.HTMLAttributes,t),0]}}),oX=e=>(0,p.jsxs)(d.VR,{className:"table-row-wrapper",style:{display:"contents"},children:[(0,p.jsx)("th",{style:{position:"relative",padding:0},children:(0,p.jsx)(o0,{...e})}),(0,p.jsx)(d.$p,{as:"div",className:"table-row-content",style:{display:"contents"}})]}),o0=(0,D.memo)(e=>{let{...t}=e,{getPos:n,editor:i}=t;return(0,p.jsx)(eg.s,{height:"100%",align:"center",contentEditable:!1,suppressContentEditableWarning:!0,children:(0,p.jsx)(N.A,{...t,handlePlacement:"custom",label:eT.Ru._({id:"9c44h0"}),onClick:()=>{let e=n();"number"==typeof e&&i.chain().focus().selectRow(e+1).run()},insetInlineStart:"-0.5em",top:"1em",zIndex:"3","data-testid":"table-row-control"})})});o0.displayName="RowControl";let o1=s.bP.create({name:"tableRow",addOptions:()=>({HTMLAttributes:{}}),selectable:!1,content:"tableCell+",tableRole:"row",containerHandle:!0,addNodeView:()=>(0,d.gu)(oX,{update:u.z0,as:"tr"}),parseHTML:()=>[{tag:"tr"}],renderHTML(e){let{HTMLAttributes:t}=e;return["tr",(0,s.KV)(this.options.HTMLAttributes,t),0]}});var o2=n(97984),o4=n(82059),o5=n(80274),o6=n(53891);let o3=()=>new t3.k_({key:new t3.hs("TogglePlugin"),props:{handlePaste(e,t,n){let{selection:i,tr:a}=e.state,r=(0,s.KP)(o6.Rv)(i);if(!r)return!1;let l=null,o=null,c=[];if(n.content.descendants(e=>{e.isTextblock&&(l?c.push(e):(l=e.content,o=(0,o5.NA)(e)||null))}),!l)return;o&&a.setNodeAttribute(r.pos,"fontSize",o),a.replaceSelection(tx.Ji.maxOpen(l));let d=a.mapping.map(r.pos+r.node.nodeSize);a.replaceRange(d,d,tx.Ji.maxOpen(tx.FK.fromArray(c)));let u=(0,l0.i)(a,-1);return u&&a.setSelection(u),e.dispatch(a),!0},decorations(e){let{doc:t}=e,n=[];return t.descendants((e,t,i)=>{if(!i||!(0,o6.Rv)(e))return;let a=(0,J.F2)(i.content).slice(1).every(e=>(0,J.Op)(e)),r=t9.NZ.node(t,t+e.nodeSize,{},{isToggleDecoration:!0,toggleId:i.attrs.id,isEmpty:a});n.push(r)}),t9.zF.create(t,n)}}}),o9=e=>{var t;return(null==(t=e.find(e=>e.spec.isToggleDecoration))?void 0:t.spec)||{}},o7="1.5em",o8=e=>{let{node:t,decorations:n}=e,{level:i,fontSize:a,placeholder:r,horizontalAlign:l}=t.attrs,{toggleId:s="",isEmpty:o}=o9(n),c=(0,m.yp)(l),u=(0,m.fZ)(n),[h]=(0,l5.yz)(u),x=(0,ee.GV)(ei.nD),f=(0,ee.GV)(ei.jO),b=(0,ee.GV)((0,ei.q)(s))||f,y=(0,D.useCallback)(()=>{(0,o6.bG)(s,!b)},[s,b]);return(0,p.jsx)(g.u,{...e,hideComments:!b,children:(0,p.jsxs)(L.E,{as:"div",dir:u,display:"flex",flexDirection:"column",position:"relative",onClick:x?void 0:y,cursor:x?void 0:"pointer",style:{display:"flex",flexDirection:"column",...(0,m.yp)(l)},children:[(0,p.jsx)(ih.$,{[h]:"calc(0.125em - ".concat(o7,")"),position:"absolute",variant:"ghost",colorScheme:"gray",color:o?"var(--body-color-muted)":"var(--body-color)",onClick:x?y:void 0,contentEditable:!1,onMouseDown:er.Fw,fontSize:"1em",lineHeight:"inherit",height:"100%",px:2,marginStart:-2,minW:"unset","data-testid":"toggle-button",children:(0,p.jsx)(L.E,{transform:"rotate(".concat(b?90:180*("rtl"===u),"deg)"),transformOrigin:"center",transitionProperty:"transform",transitionDuration:"normal",fontSize:"0.75em",children:(0,p.jsx)(E.g,{icon:e_.ijD})})}),(0,p.jsx)(d.$p,{dir:u,level:i,"data-placeholder":r||eT.Ru._({id:"JFciKP"}),"data-font-size":a,className:(0,I.cx)((0,o5.Ii)(a)&&M.U6),style:{minWidth:"min(100%, 10em)",textAlign:c.textAlign,...(0,m.O8)(l)}})]})})},ce=s.bP.create({name:"toggleSummary",content:"inline*",selectable:!1,marks:"bold italic underline code footnoteLabel strike textColor highlight",allowFontSizes:"heading body",addAttributes:()=>({fontSize:ls.mD}),addNodeView:()=>(0,d.gu)(o8,{update:u.z0}),renderHTML(e){let{HTMLAttributes:t}=e;return["summary",t,0]},parseHTML:()=>[{tag:"summary"}]}),ct=e=>{let{decorations:t,node:n}=e,i=(0,m.fZ)(t),[a]=(0,l5.yz)(i),r=(0,ee.GV)(ei.jO),l=(0,ee.GV)((0,ei.q)(n.attrs.id))||r;return(0,p.jsx)(g.u,{...e,hideComments:l,readOnly:!l,children:(0,p.jsxs)(h.a,{dir:i,ps:o7,position:"relative","data-open":!!l,className:"toggle",borderRadius:"var(--box-border-radius)","data-selection-ring":"padded",children:[(0,p.jsx)(d.$p,{}),l&&(0,p.jsx)(h.a,{position:"absolute",[a]:"0.375em",bottom:"0.25em",top:"2.5em",borderStart:"1px solid",borderColor:"var(--neutral-border-color)"})]})})};var cn=n(55860);let ci=/^\s*([+])\s$/,ca=s.bP.create({name:"toggle",group:"layoutBlock calloutBlock cardBlock smartLayoutBlock tableBlock",content:"toggleSummary (block | layoutBlock)+",selectable:!1,isolating:!0,priority:eu.y.Toggle,expandable:!0,addNodeView:()=>(0,d.gu)(ct,{update:u.z0}),addProseMirrorPlugins:()=>[o3()],addAttributes:()=>({id:(0,q.e)(cn.n)}),addInputRules(){var e;return[(e={find:ci,innerType:this.editor.schema.nodes.toggleSummary,outerType:this.type,getInnerAttributes:e=>({fontSize:(0,o5.NA)(e)}),getOuterAttributes:()=>{let e=(0,cn.n)();return(0,o6.bG)(e,!0),{id:e}}},new s.fV({find:e.find,handler:t=>{let{state:n,range:i,match:a}=t,r=n.doc.resolve(i.from);if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),e.outerType))return;let l=(0,s.gk)(e.getOuterAttributes,void 0,r.parent)||{},o=(0,s.gk)(e.getInnerAttributes,void 0,r.parent)||{},c=n.tr.delete(i.from,i.to),d=c.doc.resolve(i.from),u=d.parent,p=e.outerType.createAndFill(l,[e.innerType.create(o,u.content)]);c.replaceWith(d.before(),d.after(),p);let h=(0,l0.n)(c.doc.resolve(i.from));h&&c.setSelection(h)}}))]},addCommands(){var e=this;return{unwrapToggle:()=>e=>{let{state:t,editor:n,tr:i}=e;if(!n.isActive("toggleSummary"))return!1;let{selection:a,schema:r}=t,l=(0,s.KP)(o6.p8)(a);if(!l||l.start+1!==a.from||!a.empty)return!1;let o=(0,J.F2)(l.node.content),c=o[0],{type:d,level:u}=(0,o5.o)(c.attrs.fontSize),p=["heading"===d?r.nodes.heading.create({level:u},c.content):r.nodes.paragraph.create({fontSize:c.attrs.fontSize},c.content)].concat(o.slice(1));i.replaceWith(l.pos,l.pos+l.node.nodeSize,tx.FK.from(p)).setMeta("annotationEvent",{type:"unwrap-node",pos:l.pos});let h=i.doc.resolve(l.pos),g=(0,lo.s)(h);return g&&i.setSelection(g),!0},joinBackwardInToggle:()=>e=>{let{state:t,editor:n,chain:i}=e;if(n.isActive("toggleSummary"))return!1;let{selection:a}=t,r=(0,s.KP)(o6.p8)(a);if(!r)return!1;let l=(0,J.F2)(r.node.content).slice(1);return!!a.empty&&0===a.$from.parentOffset&&1===l.length&&(i().command(e=>{let{tr:t}=e,i=t.doc.resolve(r.pos+1).end();return t.insert(i,n.schema.nodes.paragraph.create()),!0}).joinBackward(),!0)},wrapWithToggle:function(t){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return i=>{let a,{state:r,tr:l}=i,{doc:s,selection:o,schema:c}=r,d=o.$from.blockRange(o.$to);if(!d)return!1;let u=[];s.nodesBetween(o.from,o.to,(e,t,n)=>{if(n===d.parent)return u.push(e),!1});let p=[];if(!t&&u[0].isTextblock&&u[0].textContent.length<100){let e=(0,o5.NA)(u[0]);a=c.nodes.toggleSummary.create({fontSize:e},u[0].content),p=u.slice(1)}else{let e=t?c.text(t):null;a=c.nodes.toggleSummary.create(null,e),p=u}let h=(0,cn.n)();n&&(0,o6.bG)(h,!0);let g=e.editor.schema.nodes.toggle.createAndFill({id:h},tx.FK.fromArray([a,...p]));if(!g)return!1;let{start:m,end:x}=d;l.replaceRangeWith(m,x,g).setMeta("annotationEvent",{type:"wrap-nodes",start:m,end:x,level:1});let f=(0,lo.t)(l);if(!f)return!1;let b=(0,lo.s)(f,-1);return b&&l.setSelection(b),!0}},enterInToggle:()=>e=>{let{editor:t,state:n,chain:i}=e;if(!t.isActive("toggle"))return!1;let a=(0,s.KP)(o6.p8)(n.selection);if(!a||(0,o6.vb)(a.node.attrs.id))return!1;let{selection:r}=t.state,{$from:l}=r;if(l.parentOffset===l.parent.nodeSize-2){let e=a.pos+a.node.nodeSize;return i().insertContentAt(e,{type:"paragraph"}).selectInsertedNode().run(),!0}return(0,o6.bG)(a.node.attrs.id,!0),!0}}},addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e;return t.commands.enterInToggle()},Backspace:e=>{let{editor:t}=e;return t.commands.first(e=>{let{commands:t}=e;return[()=>t.unwrapToggle(),()=>t.joinBackwardInToggle()]})}}),addExtensions:()=>[cn.D,ce],renderHTML(e){let{HTMLAttributes:t}=e;return["details",t,0]},parseHTML:()=>[{tag:"details"}]}),cr=n(99696).A.extend({parseHTML:()=>[{tag:"u"},{style:"text-decoration=underline"},{style:"text-decoration-line=underline"}]});var cl=n(95017);let cs=function(){let{isInnerEditor:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[rV,rW,rG.T,W.Zp,Z.QJ.configure({enabled:!r.$.GAMMA_PUPPETEER_SERVICE}),U.iM,G.N,nm,t5,ec,nG,nF,cl.n,a.E,lZ.B,sM.N.configure({openOnClick:!1}),aV,rS.z,C,l$,cr,oQ.n,s_.B8,sR.D,sz.R,sO,o4.h,lK.DZ,oD.f,f,V,aO.N,m.wq,o2.f,w.$,k,o2.r,ls.Z4,oz,oq.X.extend({resizable:!0,allowTableNodeSelection:!0}),o1,oY,o$,aF,oI,es.Ud,oS._V,ov,os,la,re,ok,oE.M9,oE.BF,oE.lw,ny.Hf,rs,sE,sc,l2.o,se,oK,lU,lO,aJ,ia,ca,lr,eI.h,l.a,ll,tj.B,r1,i.v,oT.a,lY.A_.configure({addSelectionKeyMaps:!e}),lY.Q4]}},82960:(e,t,n)=>{"use strict";n.d(t,{x:()=>o});var i=n(88586),a=n(58809),r=n(15342),l=n(82927),s=n(22529);let o=e=>{var t,n;let o=(0,l.gx)(),c=(0,r.GV)(a.Jo),d=null==c||null==(t=c.organization)?void 0:t.id,u=null==(n=(0,l.P9)(d))?void 0:n.id,p=(0,r.GV)((0,s.A1)(null!=d?d:""));return e!==i.rWX.Dashboard&&p?u:o}},83049:(e,t,n)=>{"use strict";n.d(t,{q:()=>h});var i=n(6029),a=n(26420),r=n(55729),l=n(94920),s=n(15342),o=n(12596),c=n(77387),d=n(43634);let u=r.memo(e=>{let{initialContent:t,onCreate:n,theme:a}=e,[l,u]=(0,r.useState)(!1),p=(0,s.GV)(d.SJ);return((0,r.useEffect)(()=>{requestAnimationFrame(()=>{u(!0)})},[]),l)?(0,i.jsx)(c.S,{theme:a||p,content:t,isThumbnail:!0,portalComponent:o.m,onCreate:n}):null});function p(e){let{initialContent:t,children:n,onCreate:r,theme:s}=e,{setEditor:o}=(0,l.U)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.a,{position:"absolute",left:"-9999px",top:"-9999px",children:(0,i.jsx)(u,{initialContent:t,theme:s,onCreate:e=>{let{editor:t}=e;o(t),null==r||r(t)}})}),n]})}function h(e){let{initialContent:t,children:n,onCreate:a,theme:r}=e;return(0,i.jsx)(l.h,{children:(0,i.jsx)(p,{initialContent:t,theme:r,onCreate:a,children:n})})}u.displayName="PreviewCardGroupEditor"},83106:(e,t,n)=>{"use strict";let i;n.d(t,{W:()=>a});let a=(0,n(69930).A)(i)},83143:(e,t,n)=>{"use strict";n.d(t,{Kr:()=>d,LQ:()=>o,bT:()=>s,gG:()=>p,lE:()=>c,qp:()=>u});var i=n(83817),a=n.n(i),r=n(91938),l=n(84979);let s=e=>{let{resize:t}=e.attrs,{height:n,width:i}=t;return!a()({resize:t},{resize:l.P})&&null!==n&&null!==i},o=e=>{e.chain().resetImageClip().resetImageScale().command(e=>{var t;let{commands:n}=e;return!!(null==(t=n.refreshBubbleMenu)?void 0:t.call(n))}).run()},c=async e=>{try{let t=e.split("/").pop();if(!t)throw Error("No filename found");let n=await fetch("".concat(r.$.API_HOST||"","/media/images/download"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":r.$.SHARE_TOKEN||""},body:JSON.stringify({url:e,filename:t})});if(!n.ok)throw Error("Download failed");let i=await n.blob(),a=window.URL.createObjectURL(i),l=document.createElement("a");l.href=a,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(a)}catch(e){console.error("Error downloading image:",e)}},d=e=>{var t;let n=e.parent;if(!(null==n?void 0:n.attrs))return"square";if("smartLayoutCell"===e.type&&"imagesText"===n.attrs.variantKey)return"landscape";if("cardAccentLayoutItem"===e.type){let e=n.attrs.layout;if("left"===e||"right"===e)return"portrait";if("top"===e)return"landscape"}return"gridCell"===n.type&&(null==(t=n.content)?void 0:t.length)===1?"square":"landscape"},u=async e=>{try{let t=await fetch("".concat(r.$.API_HOST||"","/media/images/download"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":r.$.SHARE_TOKEN||""},body:JSON.stringify({url:e,convertToPng:!0})});if(!t.ok)throw Error("Failed to fetch image for clipboard");let n=await t.blob();if(navigator.clipboard&&navigator.clipboard.write){let e=new ClipboardItem({[n.type]:n});await navigator.clipboard.write([e]),console.log("Image copied with Clipboard API successfully")}}catch(e){console.error("Error copying image to clipboard:",e)}},p=e=>e.replace(/<(?!xlink:)([a-zA-Z0-9_-]+):/g,"<").replace(/<\/(?!xlink:)([a-zA-Z0-9_-]+):/g,"</").replace(/\s*xmlns:(?!xlink)[a-zA-Z0-9_-]+\s*=\s*(["'])[^"']*\1/g,"").replace(/(<svg[^>]*)\s+xmlns\s*=\s*(["'])[^"']*\2/g,"$1").replace(/<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')},83605:(e,t,n)=>{"use strict";n.d(t,{Lm:()=>R,Rj:()=>z,dE:()=>_,wJ:()=>T});var i=n(37243),a=n(81904),r=n.n(a),l=n(72772),s=n.n(l),o=n(94289),c=n(28630),d=n(20775),u=n(62452),p=n(1057),h=n(82957),g=n(19842),m=n(59824),x=n(43182),f=n(98807),b=n(98308),y=n(83143),v=n(45574),C=n(98874),w=n(62171),A=n(52762),j=n(82927),k=n(30892),S=n(85448),L=n(58618),I=n(82592),E=n(45611);let D=["gridLayout","gallery","chart","table","smartDiagram"],M=["imagesText","pyramid","funnel","staircase","circleStats","barStats","semiCircle","circle","cycle","flower","ring"],R=async(e,t)=>{var n,a,r;let l,{cardIndex:o,imageOptions:c,docFormatKey:d,theme:u,loadImages:p}=t,m=null==(a=t.removeImagesFromLayouts)||a,f=await (0,E.e)(e,{imageOptions:c,removeImagesFromLayouts:m,loadImages:!1}),b=(0,i.getSchema)((0,h.C)()),y=new DOMParser().parseFromString(f,"text/html"),{content:v}=await W(y,b),C=1===v.length&&"card"===v[0].type?(null==(n=v[0])?void 0:n.content)||[]:v,w=C.some(e=>"cardLayoutItem"===e.type),A=C.find(e=>"cardAccentLayoutItem"===e.type);if(w)(l=v[0]).attrs.layout&&!A&&(l.attrs.layout="blank"),l.attrs.id||(l.attrs.id=x.Yv.generate());else{let e=null==(r=y.firstElementChild)?void 0:r.getAttribute("image-layout"),n=e&&g.bI.includes(e)?e:void 0,i=y.textContent?s()(y.textContent).length:void 0;l=P(C,{...t,cardIndex:o,docFormatKey:d,theme:u,cardLayout:n,wordCount:i,usePlaceholderImages:(null==c?void 0:c.provider)==="placeholder",onlyUseProvidedImages:(null==c?void 0:c.provider)==="none",textOnlyLayouts:t.preserveLayouts})}return c&&"aiGenerated"===c.provider&&N(l,b),p&&await (0,I.gC)({card:l,schema:b,context:{docId:"unknown",workspaceId:(0,j.gx)(),...t.context},theme:u}),T(l),l},_=e=>{let t=z(e)[0];return T(t),t},z=e=>{let t=(0,i.getSchema)((0,h.C)()),{content:n}=W(new DOMParser().parseFromString(e,"text/html"),t);return n},N=(e,t)=>{(0,S.LS)(e,e=>{if("text"===e.type)return;let n=o.bP.fromJSON(t,{type:e.type,attrs:e.attrs}),i=(0,v.um)(n);if(!i||!i.loadImageParams)return;let{options:a}=i.loadImageParams;if(!a)return;let r=(0,c.pH)("model"in a?a.model:void 0),l=(0,y.Kr)(e),s=r.includes(l)?l:d.X,u={...i.loadImageParams,options:{...i.loadImageParams.options,aspectRatio:s}};e.attrs=(0,v.wH)(n,{loadImageParams:u})})},T=e=>{var t,n,i,a,r;let l=e.content.find(e=>"cardAccentLayoutItem"===e.type);if(!l)return;let s=l.attrs.background;if(!s||(0,w.gK)(null==(t=e.attrs.container)?void 0:t.background))return;let o=null==s||null==(i=s.image)||null==(n=i.meta)?void 0:n.average_color,c=o&&(0,k.$p)(o);"behind"===e.attrs.layout&&(c||.5>(0,L.d)(e.attrs.id))&&(null!=(a=e.attrs).container||(a.container={}),e.attrs.container.background={type:A.h.COLOR,color:{hex:"#000000"}});let d=e.content.find(e=>"cardLayoutItem"===e.type);if(!d)return;let u=(d.content||[]).filter(e=>"paragraph"!==e.type||e.content);try{s.mask={effect:0===u.length?"none":"faded"}}catch(e){console.error("[caught] [fixBehindBackgroundMask]",e,"with accentBackground:",s)}},P=(e,t)=>{var n,i;let a,{cardIndex:l,docFormatKey:s,theme:o,cardLayout:c,cardDimensions:d,usePlaceholderImages:u,onlyUseProvidedImages:h}=t,g=x.Yv.generate(),f=e.filter(e=>{var t,n;return"image"===e.type&&((null==(t=e.attrs)?void 0:t.src)||(null==(n=e.attrs)?void 0:n.loadImageStatus)==="queued")||"mediaPlaceholder"===e.type})||[],b=h&&0===f.length,y=t.textOnlyLayouts||b||t.wordCount&&t.wordCount>("social"===s?50:120)||e.some(t=>{var n;return D.includes(t.type)||"smartLayout"===t.type&&(null==(n=t.attrs)?void 0:n.variantKey)&&M.includes(t.attrs.variantKey)||"smartLayout"===t.type&&t.content&&t.content.length>4||e.length>6}),v=f[0];u?a={type:A.h.NONE}:v&&"blank"!==c?a={type:A.h.IMAGE,image:v.attrs,source:v.attrs.source}:o&&(a=(0,p.gN)(o,g)),e=e.flatMap(e=>V(e,g));let C={};"deck"===s?C=F({cardIndex:l,cardId:g,preventSideCardLayouts:y,cardLayout:c}):"document"===s?C=O({cardIndex:l,cardId:g,preventSideCardLayouts:y,cardLayout:c}):"webpage"===s?C=H({cardIndex:l,cardId:g,accentBackground:a,preventSideCardLayouts:y,cardLayout:c,theme:o}):"social"===s&&(C=B({cardIndex:l,cardId:g,preventSideCardLayouts:y,cardLayout:c}));let w={container:{},layout:c||"blank",id:g,...C},j="blank"!==w.layout&&a?{type:"cardAccentLayoutItem",attrs:{itemId:"accent",background:a,fitType:"fill"}}:null;if(j||(w.layout="blank"),"left"===w.layout||"right"===w.layout||"social"===s){let t=!1;e.forEach(e=>{if("smartLayout"===e.type&&e.attrs){let n=e.attrs;t=!0,n.options.orientation="vertical",n.options.twoSided=!1}}),t&&(null==j||null==(i=j.attrs.background)?void 0:i.source)==="accent.theme"&&(w.layoutTemplateColumns="left"===w.layout?"25% 75%":"75% 25%")}if("top"===w.layout&&d&&!y){let{aspectRatio:e}=m.xs[d];e&&e<1&&(w.layoutTemplateRows="var(--top-accent-height-lg) auto")}let k={type:"cardLayoutItem",attrs:{itemId:"body"},content:e};return!v||"blank"===w.layout&&(null==(n=v.attrs)?void 0:n.src)||r()(e,v),{type:"card",attrs:w,content:j?[j,k]:[k]}},H=e=>{let{cardIndex:t,cardId:n,accentBackground:i,preventSideCardLayouts:a,theme:r,cardLayout:l}=e,s={},o=r?(0,u.CD)(r):[];if(l)s.layout=l;else if(0===t)s.layout=(0,L.s)(["behind","right"],n);else if(.8>(0,L.d)(n)){if(s.layout=a?"blank":(0,L.s)(["left","right","behind","blank","blank"],n),a&&"blank"===s.layout&&o.length&&.25>(0,L.d)(n)){let e=(0,u.Ik)((0,L.s)(o,n));s.container={background:{type:A.h.COLOR,color:{hex:e}}}}}else if(o.length){let e=(0,u.Ik)((0,L.s)(o,n));s.cardSize="contained",s.background=(0,L.s)([i,{type:A.h.COLOR,color:{hex:e}}],n),s.layout="blank"}return s},F=e=>{let{cardIndex:t,cardId:n,preventSideCardLayouts:i,cardLayout:a}=e,r={};return a?r.layout=a:0!==t||i?i?r.layout="blank":r.layout=(0,L.s)(["left","left","right","right","top"],n):r.layout=(0,L.s)(["left","right"],n),r},B=e=>{let{cardId:t,preventSideCardLayouts:n,cardLayout:i}=e,a={};return i?a.layout=i:n?a.layout=(0,L.s)(["behind","blank"],t):a.layout="top",a},O=e=>{let{cardIndex:t,preventSideCardLayouts:n,cardId:i,cardLayout:a}=e,r={};return a?r.layout=a:0===t?(r.cardSize="full",r.layout="behind"):n?r.layout="blank":r.layout=(0,L.s)(["blank","blank","blank","right","left"],i),r},V=(e,t)=>{var n;if("smartLayout"!==e.type||!e.attrs||!e.content)return e;let i=e.attrs.variantKey;return("bigBullets"===i||"smallBullets"===i)&&1===e.content.length&&(null==(n=e.content[0].content)?void 0:n.some(e=>"bullet"===e.type))?e.content[0].content:(("iconsText"===i||"imagesText"===i||"circleStats"===i)&&(e.attrs.options.imagePosition=(0,L.s)(["top","left"],t),"left"===e.attrs.options.imagePosition&&e.content.length%2!=0&&(e.attrs.options.cellSize=C.BT)),"staircase"===i&&(e.attrs.horizontalAlign=(0,L.s)(["center",void 0],t)),e.content.length>4&&(e.attrs.options.orientation="vertical"),e)},W=(e,t)=>{(0,b.h)(e);let n=o.S4.fromSchema(t).parseSlice(e.body);return{content:(0,f.ne)(n,t,void 0).content.toJSON()}}},83650:(e,t,n)=>{"use strict";n.d(t,{v:()=>g});var i=n(6029),a=n(36999),r=n(49611),l=n(26385),s=n(26420),o=n(48810),c=n(99492),d=n(48621),u=n(19564),p=n(33612),h=n.n(p);let g=e=>{let{color:t,isDefaultColor:n,isMixed:p=!1,...g}=e;return(0,i.jsx)(a.I,{as:r.$,variant:"plain",size:"sm",boxShadow:"none",minW:"fit-content",textAlign:"left",rightIcon:(0,i.jsx)(d.g,{fixedWidth:!0,icon:c.Jt$,transform:"shrink-6"}),...g,children:(0,i.jsxs)(l.B,{direction:"row",spacing:2,align:"center",children:[(0,i.jsx)(s.a,{as:"span",alignSelf:"center",boxSize:5,borderRadius:"md",border:"2px solid",borderColor:"gray.300",bgColor:t}),(0,i.jsx)(o.E,{fontFamily:n||p?void 0:"mono",textTransform:n||p?void 0:"uppercase",fontSize:"sm",children:p?(0,i.jsx)(u.x6,{id:"+UN6+J"}):n?(0,i.jsx)(u.x6,{id:"ovBPCi"}):h()(t).toHexString()})]})})}},84033:(e,t,n)=>{"use strict";n.d(t,{j:()=>l});var i=n(15342),a=n(43634),r=n(95197);let l=e=>{let t=(0,i.GV)(a.uF),n=null==e?void 0:e.id,l=!!(n&&t[0]===n),s=t[t.length-1]===n,{cardMarginSettings:o}=(0,i.GV)(a.Uu),{hideFromFirst:c,hideFromLast:d}=o,u=l&&c,p=s&&d,h=!!(null==e?void 0:e.cardMarginSettings.isHidden);return{isFirstCardAndHidden:u,isLastCardAndHidden:p,isHiddenByCardSettings:h,areElementsCurrentlyHiddenBySettings:!(0,r.Nk)(o)&&(u||p||h)}}},84130:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});let i=new(n(83747)).b},84169:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KNOWN_BAD_HOSTNAMES=t.KNOWN_GOOD_HOSTNAMES=t.KNOWN_GOOD_TLDS=t.TRUSTED_WORKSPACE_IDS=t.GAMMA_WORKSPACE_ID_PRODUCTION=t.GAMMA_WORKSPACE_ID_STAGING=t.isTrustedTLD=t.removeWWWPrefix=void 0,t.removeWWWPrefix=e=>e.replace(/^www\./,""),t.isTrustedTLD=e=>t.KNOWN_GOOD_TLDS.some(t=>e===t||e.endsWith(".".concat(t))),t.GAMMA_WORKSPACE_ID_STAGING="QWjS6fBfpt",t.GAMMA_WORKSPACE_ID_PRODUCTION="zc87vhr30n8uf3n",t.TRUSTED_WORKSPACE_IDS=["acme",t.GAMMA_WORKSPACE_ID_STAGING,t.GAMMA_WORKSPACE_ID_PRODUCTION],t.KNOWN_GOOD_TLDS=["gamma.app","gamma.site","gammastaging.site","wikipedia.org"],t.KNOWN_GOOD_HOSTNAMES=["gamma.app","gamma.site","cdn.gamma.app","staging.gamma.app","cdn-staging.gamma.app","careers.gamma.app","design.gamma.site","orzo.gamma.site","www.markdownguide.org","www.youtube.com","www.linkedin.com","www.instagram.com","twitter.com","x.com","www.tiktok.com","help.gamma.app","gamma.new","join.slack.com","www.google.com","www.facebook.com","groups.google.com","en.wikipedia.org","replit.com","www.bea.gov","doi.org","es.wikipedia.org","app.stotles.com","docs.google.com","www.figma.com","www.ncbi.nlm.nih.gov","github.com","youtu.be","tr.wikipedia.org","uk.wikipedia.org","ru.wikipedia.org","ro.wikipedia.org","pt.wikipedia.org","example.com","zh.wikipedia.org","www.sciencedirect.com","fr.wikipedia.org","colab.research.google.com","player.fm","m.facebook.com","www.britannica.com","www.amazon.com","www.podcasts.com","ko.wikipedia.org","www.example.com","vi.wikipedia.org","www.notion.so","chat.openai.com","calendly.com","www.bing.com","pubmed.ncbi.nlm.nih.gov","open.spotify.com","de.wikipedia.org","id.wikipedia.org","www.researchgate.net","techcrunch.com","www.cnn.com","pl.wikipedia.org","api.whatsapp.com","youtube.com","hbr.org","podcasters.spotify.com","ar.wikipedia.org","th.wikipedia.org","dictionary.cambridge.org","www.kaggle.com","es.surveymonkey.com","www.canva.com","www.forbes.com","lookerstudio.google.com","unsplash.com","www.cdc.gov","az.wikipedia.org","it.wikipedia.org","www.investopedia.com","www.pinterest.com","music.amazon.com","kk.wikipedia.org","scholar.google.com","www.nature.com","www.producthunt.com","creativecommons.org","www.masterclass.com","fa.wikipedia.org","www.bbc.com","www.nytimes.com","en.m.wikipedia.org","sr.wikipedia.org","uz.wikipedia.org","ieeexplore.ieee.org","play.google.com","es.m.wikipedia.org","cloud.google.com","www.imdb.com","www.mckinsey.com","aws.amazon.com","www.microsoft.com","chrome.google.com","www.businessinsider.com","bing.com","www.porsche.com","www.apple.com"].map(t.removeWWWPrefix),t.KNOWN_BAD_HOSTNAMES=["trixmovie.com","luna-3d.com","luna-3d.com:443","kiladkoerm.com","movie.geoflix.me","wtach.club","movstream.fun","novelastv.me","xzc.one","srv1.iyxwfree.my.id","followme.tribe.so","xzc.icu","marcolinks.click","multilibb.cc","exl-trk.com","uk.ebookarea.xyz","wemovietv.com","123moviesdb.com","www.realpdfdumps.com","pede.4tv.live","voxmovie.com","stream.evmovies.com","dmovie.fun","pdfhost.io","megavids.online","www.pdfdumpspro.com","gomovie.stream","dmovie.fun:443","go123.stream","ca.ebookarea.xyz","movie4you.online","www.123movieslink.com","moviedaily.site","maxstream.site","ftmovies.xyz","moviescreen.biz","moviesfox.site","morthenfile.web.app"].map(t.removeWWWPrefix)},84343:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(6029),a=n(26420),r=n(40452),l=n(16936),s=n(55597),o=n(48621),c=n(47412),d=n(19564),u=n(77650),p=n(55729),h=n(87996),g=n(91792),m=n(89703),x=n(80180),f=n(61651),b=n(62695);let y=e=>{let{onSelectImage:t,isAccentImageDrawer:n=!1,openEditBackgroundDrawer:l,...o}=e,{setMediaDrawerSourceKeyAction:c,setBackgroundDrawerSourceKeyAction:p}=(0,b.B)(),g=[{id:"image.custom",label:(0,i.jsx)(d.x6,{id:"6MxxvO"}),ariaLabel:u.Ru._({id:"6MxxvO"}),icon:s.MNJ,onClick:()=>{null==t||t(),c(h.mx.key,!0),setTimeout(()=>(0,m.G)(!1),0)}},{id:"image.web",label:(0,i.jsx)(d.x6,{id:"Of4gkp"}),ariaLabel:u.Ru._({id:"Of4gkp"}),icon:s.$UM,onClick:()=>{null==t||t(),c(h.Rn.key,!0),setTimeout(()=>(0,m.G)(!1),0)}},{id:"image.ai-generated",label:(0,i.jsx)(d.x6,{id:"UQ4o1/"}),ariaLabel:u.Ru._({id:"UQ4o1/"}),icon:s._$C,onClick:()=>{null==t||t(),c(h.Up.key,!0),setTimeout(()=>(0,m.G)(!1),0)}}],f=[{id:"image.custom",label:(0,i.jsx)(d.x6,{id:"pDdFxL"}),ariaLabel:u.Ru._({id:"6MxxvO"}),icon:s.MNJ,onClick:()=>{null==t||t(),p(h.mx.key),setTimeout(()=>null==l?void 0:l(!1),0)}},{id:"image.web",label:(0,i.jsx)(d.x6,{id:"eFaih9"}),ariaLabel:u.Ru._({id:"Of4gkp"}),icon:s.$UM,onClick:()=>{null==t||t(),p(h.Rn.key),setTimeout(()=>null==l?void 0:l(!1),0)}},{id:"image.ai-generated",label:(0,i.jsx)(d.x6,{id:"UQ4o1/"}),ariaLabel:u.Ru._({id:"UQ4o1/"}),icon:s._$C,onClick:()=>{null==t||t(),p(h.Up.key),setTimeout(()=>null==l?void 0:l(!1),0)}}];return(0,i.jsx)(a.a,{pos:"relative",zIndex:100,...o,children:(0,i.jsx)(r.s,{marginBottom:"-8px",onClick:x.dG,children:(n?f:g).map((e,t)=>(0,i.jsx)(v,{...e},t))})})},v=(0,p.memo)(e=>{let{label:t,ariaLabel:n,icon:a,id:r,onClick:s}=e,d=(0,g.rd)();return(0,i.jsx)(c.Tz,{label:t,placement:"top",closeOnClick:!0,children:(0,i.jsx)(l.K,{icon:(0,i.jsx)(o.g,{icon:a,size:"1x"}),"aria-label":n,"data-testid":"quick-action","data-test-media-source":r,variant:"ghost",rounded:"md",onMouseDown:s,width:"32px",height:"32px",color:d?f.N.DARK_ICON_COLOR:f.N.LIGHT_ICON_COLOR,display:"flex",alignItems:"center",justifyContent:"center",p:1,cursor:"pointer",_hover:"image.ai-generated"===r?d?{color:f.N.DARK_AI_BTN_HOVER_COLOR,bg:f.N.DARK_AI_BTN_HOVER_BG}:{color:f.N.LIGHT_AI_BTN_HOVER_COLOR,bg:f.N.LIGHT_AI_BTN_HOVER_BG}:d?{color:f.N.DARK_BTN_HOVER_COLOR,bg:f.N.DARK_BTN_HOVER_BG}:{color:f.N.LIGHT_BTN_HOVER_COLOR,bg:f.N.LIGHT_BTN_HOVER_BG},animation:"fadeIn",transition:"color 0.2s, background-color 0.2s"})})});v.displayName="QuickActionButton"},84431:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});let i={presentBg:1,customerLogo:4,cardButtons:11,siteNav:21,filmstrip:21,toolbar:22,nestedCardBody:2,nestedCardBodyWithComment:3,cardDivider:1,resizeableWrapper:11,commentsStack:21,commentsStackOpen:1501,commentsPopup:1100,insertWidget:1100,panel:"calc(var(--chakra-zIndices-modal) + 1)",bottomRightControls:"calc(var(--chakra-zIndices-modal) + 2)",onboardingChecklist:"calc(var(--chakra-zIndices-modal) + 2)"}},84655:(e,t,n)=>{"use strict";n.d(t,{c:()=>u});var i=n(6029),a=n(61204),r=n(16936),l=n(99492),s=n(48621),o=n(47412),c=n(77650);let d=[{key:"start",name:()=>c.Ru._({id:"Xl2IZ9"}),icon:l.jot,description:()=>c.Ru._({id:"N0rIpR"})},{key:"center",name:()=>c.Ru._({id:"7FOGnf"}),icon:l.nr0,description:()=>c.Ru._({id:"3JV7Yt"})},{key:"end",name:()=>c.Ru._({id:"H0UcZG"}),icon:l.yHR,description:()=>c.Ru._({id:"LcSMtc"})}],u=e=>{let{defaultAlignment:t,alignment:n,setAlignment:l}=e;return(0,i.jsx)(a.e,{isAttached:!0,size:"sm",display:"flex",children:d.map(e=>{let a=n||e.key!==t?e.key===n?"trueblue.100":void 0:"trueblue.50";return(0,i.jsx)(o.Tz,{label:(0,i.jsx)(o.c8,{label:e.name(),description:e.description()}),placement:"top",children:(0,i.jsx)(r.K,{"aria-label":e.name(),px:"2.5",boxShadow:"none",icon:(0,i.jsx)(s.g,{icon:e.icon}),variant:"plain",bg:a,onClick:()=>{l(e.key)}})},e.key)})})}},84672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v,p:()=>C});var i=n(6029),a=n(24302),r=n(26385),l=n(40452),s=n(33787),o=n(26420),c=n(74676),d=n(48810),u=n(99492),p=n(55597),h=n(48621),g=n(47412),m=n(19564),x=n(77650),f=n(50507),b=n(9455),y=n(85684);let v=e=>{let{item:t}=e,{name:n,image:u,icon:p,key:g,previewImage:m,shortcut:x,badge:y}=t,v=(0,f.iT)(),{colorMode:C}=(0,a.G6)(),w={iconColor:(0,a.dU)("trueblue.600","trueblue.100"),bgColor:(0,a.dU)("white","elevation.3"),textColor:(0,a.dU)("gray.700","gray.50"),borderColor:(0,a.dU)("gray.200","gray.600"),invertFilter:(0,a.dU)("invert(0)","invert(.7) brightness(1.4) hue-rotate(180deg)"),iconBgColor:(0,a.dU)("white","gray.700"),gripDotsColor:(0,a.dU)("gray.500","gray.500")};return(0,i.jsxs)(r.B,{h:"100%",bg:w.bgColor,p:2.5,pt:2,spacing:1.5,alignItems:"center",shadow:"sm",borderRadius:"xl",border:"1px",borderColor:w.borderColor,role:"group",children:[(0,i.jsx)(l.s,{justifyContent:"center",alignItems:"center",minH:"7",w:"100%",children:"cardTemplate"===t.type&&v[g]?(0,i.jsx)(b.LK,{templateContent:v[g].jsonContent,isDark:"dark"===C}):m?(0,i.jsx)(l.s,{bg:w.iconBgColor,borderRadius:"md",children:(0,i.jsx)(s._,{filter:w.invertFilter,src:m.src,w:"100%",maxW:"100%",alt:n(),pointerEvents:"none"})}):u?(0,i.jsx)(s._,{src:u.src,borderRadius:"sm",h:"1.5em",w:"1.5em",objectFit:"contain",pointerEvents:"none"}):(0,i.jsx)(o.a,{color:w.iconColor,fontSize:"xl",children:p&&(0,i.jsx)(h.g,{icon:p})})}),y&&(0,i.jsx)(c.E,{position:"absolute",top:"1",insetEnd:"2",colorScheme:"green",children:y()}),(0,i.jsxs)(r.B,{spacing:0,whiteSpace:"break-spaces",flex:"1",textAlign:"center",children:[(0,i.jsx)(d.E,{color:w.textColor,fontWeight:"600",fontSize:"xs",lineHeight:1.2,noOfLines:2,children:n()}),x&&(0,i.jsx)(d.E,{fontSize:"xs",color:"gray.500",fontWeight:"500",children:x})]})]})},C=e=>{let{item:t,onDragStart:n,onDragEnd:l,onClick:s}=e,{isDragging:c,isMouseDown:f,handleDragStart:b,handleDragEnd:C,handleClick:w,onMouseDown:A,onMouseUp:j}=(0,y.c)(n,l,s),{key:k,description:S}=t,L={gripDotsBg:(0,a.dU)("white","gray.800"),gripDotsColor:(0,a.dU)("gray.500","gray.500")};return(0,i.jsx)(g.Tz,{closeOnMouseDown:!0,closeOnClick:!0,isOpen:!c&&void 0,label:(0,i.jsxs)(o.a,{as:"span",display:"inline",children:[(0,i.jsx)(h.g,{icon:u.bFI})," ",(0,i.jsx)(d.E,{display:"inline",children:(0,i.jsx)(m.x6,{id:"Dd9uag"})}),S&&(0,i.jsx)(d.E,{textAlign:"start",color:"gray.300",maxW:"170px",children:S()})]}),"aria-label":x.Ru._({id:"Dd9uag"}),placement:"top",children:(0,i.jsxs)(r.B,{"data-testid":"".concat(k,"-insert-button"),draggable:!0,onDragStart:b,onDragEnd:C,onClick:w,onMouseDown:A,onMouseUp:j,onMouseLeave:j,cursor:"grab",_hover:{transform:"scale(1.05) rotate(-0.25deg)",shadow:"lg"},transitionProperty:"common",transitionDuration:"normal",transform:"rotate(".concat(f&&!c?-1:0,"deg) translate(0, 0);"),role:"group",borderRadius:"xl",children:[(0,i.jsx)(v,{item:t}),(0,i.jsx)(o.a,{opacity:0,_groupHover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal",position:"absolute",top:"1.5",insetStart:"1.5",bg:L.gripDotsBg,color:L.gripDotsColor,borderRadius:"sm",fontSize:"sm",children:(0,i.jsx)(h.g,{icon:p.IMq,fixedWidth:!0})})]})})}},84714:(e,t,n)=>{"use strict";n.d(t,{g:()=>x,j:()=>m});var i=n(6029),a=n(40452),r=n(26420),l=n(99492),s=n(55597),o=n(48621),c=n(19564),d=n(90184),u=n(68301),p=n(27246),h=n(49249),g=n(74471);let m=e=>{let{onClick:t=()=>{},...n}=e;return(0,u.u)("disableRemoveBackground")?null:(0,i.jsx)(g.I,{label:(0,i.jsxs)(a.s,{alignItems:"center",justifyContent:"center",children:[(0,i.jsx)(c.x6,{id:"ylbfBl"}),(0,i.jsx)(d.G,{type:"removeBackground",ms:2,color:"gray.400"})]}),onClick:t,...n,children:(0,i.jsxs)(r.a,{as:"span",className:"fa-layers fa-fw",children:[(0,i.jsx)(o.g,{icon:l.sAw,size:"lg"}),(0,i.jsx)(o.g,{icon:s.X46,size:"xs",transform:"shrink-5"})]})})},x=e=>{let{editor:t,decorations:n}=e,a=(0,p.Bn)(n),{startRemoveBg:r,isRemoveBgLoading:l}=(0,h.D)({editor:t,id:null==a?void 0:a.cardId});return(0,i.jsx)(m,{onClick:r,disabled:l})}},84886:(e,t,n)=>{"use strict";n.d(t,{u:()=>eG});var i=n(6029),a=n(26420),r=n(21938),l=n(47412),s=n(58495),o=n(55729),c=n(36802),d=n(82328),u=n(68301),p=n(15342),h=n(63902),g=n(43607),m=n(41896),x=n(43634),f=n(30892),b=n(29608),y=n(11403),v=n(50764);let C=e=>{let{editor:t,decorations:n}=e,i=n.filter(e=>!!e.spec.isMobileAnnotation),[a,r]=(0,o.useState)(null),l=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(0===i.length){null!==l.current&&(document.removeEventListener("touchstart",l.current),l.current=null,r(null));return}l.current||(r({left:i[0].spec.offsetX,top:i[0].spec.offsetY}),l.current=e=>{e.target.closest(".mobile-add-comment-widget")||t.commands.setMobileAddBlockComment(null)},document.addEventListener("touchstart",l.current))},[t,i]),a};var w=n(46898),A=n(74158),j=n(17928),k=n(92397),S=n(82927),L=n(72926),I=n(58959),E=n(55597),D=n(40452),M=n(26385),R=n(17496),_=n(99492),z=n(19564),N=n(42328),T=n(5061),P=n(80180),H=n(49611),F=n(74676),B=n(48621);let O=(0,o.memo)(e=>{let{isMobile:t,icon:n,badgeCount:a,tooltip:r,children:s,...o}=e;t&&delete o._hover;let c=(0,i.jsx)(I.z,{className:"block-comment-button-wrapper",children:(0,i.jsxs)(H.$,{variant:"custom",borderRadius:"full",size:"sm",bgGradient:"none",color:"yellow.600",boxSize:t?10:8,border:t?"":"1px solid white",transitionProperty:"common",transitionDuration:"normal",_hover:t?{}:{bgGradient:"linear(to-b, yellow.300, yellow.400)",color:"yellow.700"},...o,children:[n&&(0,i.jsx)(B.g,{size:t?"lg":"sm",icon:n}),s&&s,void 0!==a&&(0,i.jsx)(F.E,{colorScheme:"yellow",borderRadius:"full",pos:"absolute",bottom:-1,right:-1,shadow:"base","data-testid":"badge-count",children:a})]})});return r?(0,i.jsx)(l.Tz,{placement:"left",label:r,children:c}):c});O.displayName="GenericBlockCommentButton";var V=n(89122),W=n(831),U=n.n(W),G=n(59320),Z=n(65978),K=n(68143);let Q=e=>{let{comments:t,reactions:n,draftComment:i}=e;if(i&&i.text.trim().length>0)return"draft";if(0===t.length)return 0===n.length?"fresh":"reactions-only";if(1===t.length)return"single-thread";if(t.length>1)return"multiple-threads";throw Error("Invalid button state")},q=e=>{let{comments:t,reactions:n}=e,i={};return t.forEach(e=>{i[e.id]=[e.user],e.replies.forEach(t=>{i[e.id].push(t.user)})}),Object.entries(i).forEach(e=>{let[t,n]=e;i[t]=U()(n,"id")}),i},J=e=>{let{reactions:t}=e,n={};return t.forEach(e=>{n[e.emoji]=U()(e.reactions.flatMap(e=>e.users),"id")}),n},$=e=>{let{comments:t,reactions:n,draftComment:i}=e,a=Q({comments:t,reactions:n,draftComment:i});return{state:a,allCount:t.reduce((e,t)=>{var n;return e+((null==(n=t.replies)?void 0:n.length)||0)},0)+n.reduce((e,t)=>e+t.count,0)+t.length,overflowReactionCount:Math.max(0,n.length-7)}},Y=e=>{let{comments:t,reactions:n}=e,i=n.flatMap(e=>e.reactions.map(e=>e.users)).flat(),a=t.map(e=>e.user).concat(t.map(e=>e.replies.map(e=>e.user)).flat()).filter(Boolean),r=q({comments:t,reactions:n}),l=U()([...a,...i],"id"),s=[],o=J({reactions:n});return t.forEach(e=>{s.push(r[e.id])}),{allAvatars:l,reactionAvatars:o,commentAvatars:s}},X=e=>{let{popup:t,isMobile:n,isHovered:i,comments:a,reactions:r,draftComment:l,enableReactions:s}=e,{state:c}=$({comments:a,reactions:r,draftComment:l}),d=n||s&&i||!s&&i&&"fresh"!==c||null!==t;return(0,o.useEffect)(()=>{n||(d?document.body.classList.add("is-taking-action"):document.body.classList.remove("is-taking-action"))},[d,n]),{isExpanded:d}},ee=e=>{let{isOpen:t,popupRef:n,onClose:i}=e;(0,V.j)({ref:n,handler:e=>{var n,a,r,l,s,o,c;(0,b.mG)()&&!(null==e||null==(n=e.target)?void 0:n.closest(".".concat(Z.V," [data-controls-toggle-button]")))||!t||(null==e||null==(a=e.target)?void 0:a.closest("[data-controls-toggle-button]"))||(null==e||null==(r=e.target)?void 0:r.closest('[data-target-name="emoji-list"]'))||(null==e||null==(l=e.target)?void 0:l.closest('[data-target-name="mention-list"]'))||(null==e||null==(s=e.target)?void 0:s.closest('[data-target-name="reaction-emoji-picker"]'))||(null==e||null==(o=e.target)?void 0:o.closest(".chakra-menu__menu-list"))||(null==e||null==(c=e.target)?void 0:c.closest('[data-target-name="doc-mention-popup"]'))||i()}})},et=e=>{let{editor:t,getPos:n}=e,i=t.view.nodeDOM(n()),[a,r]=(0,o.useState)(null);return((0,o.useLayoutEffect)(()=>{r((null==i?void 0:i.offsetHeight)||100)},[]),null===a)?null:Math.min(a,G.Ey)};var en=n(48810),ei=n(3276),ea=n(18833),er=n(43787);let el=(0,ea.P)(a.a),es=(0,o.memo)(e=>{let{emojis:t,rtlEnabled:n}=e;return(0,i.jsx)(i.Fragment,{children:null==t?void 0:t.map((e,a)=>0===a?(0,i.jsx)(el,{initial:{x:n?"-6px":"6px",y:"5px"},textShadow:(null==t?void 0:t.length)>1?"0px 1px 3px rgba(0,0,0,.4)":"none",fontSize:"20px",position:"absolute",zIndex:1,children:(0,i.jsx)("em-emoji",{size:0,native:!0,id:e})},a):1===a?(0,i.jsx)(el,{zIndex:0,initial:{x:n?"-10px":"10px",y:"6px",scale:.7},animate:{scale:.7,rotate:"10deg",x:n?"-18px":"18px",y:"-3px"},position:"absolute",children:(0,i.jsx)("em-emoji",{size:0,native:!0,id:e})},a):2===a?(0,i.jsx)(el,{zIndex:0,initial:{x:n?"-10px":"10px",y:"6px",scale:.7},animate:{scale:.7,rotate:"-10deg",x:n?"3px":"-3px",y:"16px"},position:"absolute",children:(0,i.jsx)("em-emoji",{size:0,native:!0,id:e})},a):3===a?(0,i.jsx)(el,{zIndex:0,initial:{x:n?"-10px":"10px",y:"6px",scale:.7},animate:{scale:.7,rotate:"-10deg",x:n?"3px":"-3px",y:"-3px"},position:"absolute",children:(0,i.jsx)("em-emoji",{size:0,native:!0,id:e})},a):null)})});es.displayName="EmojiCluster";let eo=(0,ea.P)(a.a),ec=(0,o.memo)(e=>{let{emoji:t,emojiCluster:n,isMobile:r,user:s,canReact:c,reaction:d,badgeCount:u,onClick:p,...h}=e,g=(0,T.fW)(),m=(0,K.BW)(d),x=!!m.find(e=>e.id===(null==s?void 0:s.id)),f=(0,er.gj)({users:m,selfUserId:(null==s?void 0:s.id)||""}),b=(0,i.jsxs)(a.a,{alignContent:"center",children:[(0,i.jsx)(z.x6,{id:"mRnNF/",values:{usersLabel:f,emoji:t},components:{0:(0,i.jsx)(en.E,{as:"span",color:"gray.300"})}}),c&&(0,i.jsx)(en.E,{display:"block",color:"gray.500",children:x?(0,i.jsx)(z.x6,{id:"fb/FjL"}):(0,i.jsx)(z.x6,{id:"AG3H1y"})})]}),y=(0,i.jsx)(I.z,{className:"block-comment-button-wrapper",children:(0,i.jsxs)(H.$,{variant:"ghost",borderRadius:"full",size:"sm",boxSize:r?10:8,transitionProperty:"common",transitionDuration:"normal",...x?{bg:"gray.50",borderColor:r?"blackAlpha.200":"gray.200"}:{},...h,onClick:e=>{c&&p&&p(e)},pos:"relative",children:[(0,i.jsx)(o.Suspense,{fallback:(0,i.jsx)(ei.y,{size:"sm"}),children:(0,i.jsxs)(en.E,{pos:"absolute",inset:0,as:"span",sx:{".emoji-mart-emoji":{fontSize:"1em",span:{cursor:"inherit",fontSize:"1em !important"},":hover::before":r?{}:{backgroundColor:"transparent"}}},fontSize:r?"1.5em":"1.25em",children:[!n&&(0,i.jsx)(eo,{initial:{x:g?"-6px":"6px",y:"5px"},fontSize:"20px",position:"absolute",zIndex:1,children:(0,i.jsx)("em-emoji",{size:0,native:!0,id:t})}),(0,i.jsx)(N.N,{children:(0,i.jsx)(es,{emojis:n,rtlEnabled:g})})]})}),void 0!==u&&(0,i.jsx)(F.E,{colorScheme:"yellow",borderRadius:"full",pos:"absolute",bottom:-1,insetEnd:-1,shadow:"base",zIndex:1,children:u})]})});return b?(0,i.jsx)(l.Tz,{placement:"left",label:b,children:y}):y});ec.displayName="ReactionButton";let ed={bg:"yellow.600",color:"yellow.100",_hover:{bg:"yellow.600",color:"yellow.100"}},eu={bg:"yellow.100",color:"yellow.800"},ep="linear(to-b, yellow.200, yellow.300)",eh=e=>{e.stopPropagation()},eg=(0,o.memo)(e=>{let{user:t,userCanComment:n,isExpanded:r,isMobile:l,comments:s,reactions:o,draftComment:c,onClickThread:d,onClickAddComment:u,onClickAddReaction:p,onClickReactionsOverflow:h,onClickExistingReaction:g,onClosePopup:m,hideAddCommentButton:x=!1,viewingCommentId:f,enableReactions:b,blockAllowsCommenting:y,...v}=e,C=(0,T.fW)(),{state:w,allCount:A,overflowReactionCount:j}=$({comments:s,reactions:o,draftComment:c}),k=[];if(!r)switch(w){case"draft":k.push((0,i.jsx)(O,{isMobile:l,icon:_.I$7,onClick:u,bg:r?"gray.50":"white",_hover:eu,color:"gray.600"},"draft"));break;case"fresh":k.push((0,i.jsx)(O,{isMobile:l,icon:E.vdI,bg:r?"gray.50":"white",_hover:eu,color:"gray.600",bgGradient:ep,tooltip:(0,i.jsx)(z.x6,{id:"oFsfkI"}),"data-testid":"create-comment-button",onClick:u},"fresh"));break;case"reactions-only":if(o.length>0){let e=o[0],a=o.reduce((e,t)=>(e.push(t.emoji),e),[]);k.push((0,i.jsx)(ec,{isMobile:l,onClick:t=>{g(e),t.stopPropagation()},reaction:e,user:t,badgeCount:A,emoji:e.emoji,"data-testid":"reaction-".concat(e.emoji),emojiCluster:a,canReact:n&&y},e.emoji))}break;case"single-thread":k.push((0,i.jsx)(O,{isMobile:l,icon:E.DN2,bgGradient:ep,badgeCount:A,"data-testid":"single-thread"},"first-thread"));break;case"multiple-threads":k.push((0,i.jsx)(O,{isMobile:l,bgGradient:ep,icon:E.q9p,badgeCount:A,"data-testid":"multiple-threads"},"first-thread"))}return(r&&(s.forEach((e,t)=>{let n=null!==f&&e.id===f,a=n?()=>m():()=>d(e);k.push((0,i.jsx)(O,{isMobile:l,icon:E.DN2,badgeCount:e.replies.length+1,bgGradient:ep,onClick:a,"data-testid":"thread-".concat(t),...n?ed:{}},0===t?"first-thread":"thread-".concat(t)))}),b&&(o.slice(0,7).forEach(e=>{k.push((0,i.jsx)(ec,{isMobile:l,onClick:t=>{g(e),t.stopPropagation()},"data-testid":"reaction-".concat(e.emoji),reaction:e,user:t,badgeCount:e.count,emoji:e.emoji,canReact:n&&y},e.emoji))}),j>0&&k.push((0,i.jsxs)(O,{isMobile:l,onClick:()=>{h()},bg:"gray.50",color:"yellow.800",_hover:eu,children:["+",j]},"reactions-overflow"))),"draft"===w?k.push((0,i.jsx)(O,{isMobile:l,icon:_.I$7,tooltip:(0,i.jsx)(z.x6,{id:"x8Zuns"}),onClick:u,bg:r?"gray.50":"white",_hover:eu,"data-testid":"create-comment-button-draft",color:"gray.600"},"draft")):x||l||k.push((0,i.jsx)(O,{isMobile:l,icon:E.vdI,transform:C?"scaleX(-1)":"",bgGradient:ep,tooltip:(0,i.jsx)(z.x6,{id:"oFsfkI"}),onClick:u,bg:r?"gray.50":"white",_hover:eu,"data-testid":"create-comment-button",color:"gray.600"},"fresh")),b&&n&&!x&&!l&&k.push((0,i.jsx)(O,{isMobile:l,icon:E.Q3O,transform:C?"scaleX(-1)":"",bgGradient:ep,onClick:()=>{p()},tooltip:(0,i.jsx)(z.x6,{id:"9OEgyT"}),"data-testid":"add-reaction-button",bg:"gray.50",_hover:eu,color:"gray.600"},"add-reaction"))),l)?(0,i.jsx)(D.s,{className:"block-comments-inner-stack",userSelect:"none",transitionProperty:"all",transitionDuration:"fast",flexDir:"row",flexWrap:"wrap",onClick:eh,children:k}):(0,i.jsxs)(M.B,{className:"block-comments-inner-stack",userSelect:"none",spacing:0,width:"34px",transitionProperty:"all",transitionDuration:"fast",onClick:eh,borderRadius:"full",boxShadow:"0 0 0 2px rgba(0,0,0,.1)",bg:"white",border:"1px solid transparent",onMouseDown:P.Fw,"data-testid":"block-comments-buttons",...v,children:[(0,i.jsx)(a.a,{children:k[0]}),(0,i.jsx)(R.S,{in:r,startingHeight:0,transitionEnd:{enter:{overflow:"initial"}},children:(0,i.jsx)(N.N,{children:k.length>1&&(0,i.jsx)(M.B,{spacing:1,children:k.slice(1)})})})]})});eg.displayName="BlockCommentsButtons";let em=(0,o.memo)(e=>{let{onClickAddComment:t,onClickAddReaction:n,...r}=e;return(0,i.jsx)(a.a,{className:"mobile-add-comment-widget",pos:"absolute",transform:"translate(-50%,-50%) scale(1)",mt:-6,background:"white",p:"4px",borderRadius:"full",shadow:"lg",transitionProperty:"common",transitionDuration:"normal",transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1);",zIndex:9,...r,children:(0,i.jsxs)(I.z,{spacing:1,children:[(0,i.jsx)(O,{isMobile:!0,icon:E.vdI,bg:"white",_hover:eu,color:"gray.600",bgGradient:ep,onClick:()=>{t()}},"fresh"),(0,i.jsx)(O,{isMobile:!0,icon:E.Q3O,bgGradient:ep,onClick:()=>{n()},bg:"white",_hover:eu,color:"gray.600"},"add-reaction")]})})});em.displayName="MobileAddCommentWidget";var ex=n(16842),ef=n(96990);let eb=(0,o.memo)(e=>{let{comments:t,reactions:n,isExpanded:a,avatarMax:r=4}=e,{allAvatars:l,reactionAvatars:s,commentAvatars:o}=Y({comments:t,reactions:n});return(0,i.jsxs)(M.B,{className:"avatar-group-popup",spacing:1,transitionProperty:"common",transitionDuration:"fast",onClick:e=>{e.stopPropagation()},p:"1px",ps:3,userSelect:"none",children:[!a&&(0,i.jsx)(ex.Z,{max:r,style:{fontSize:"var(--chakra-fontSizes-sm)"},size:"sm",justifyContent:"start",opacity:[0,0,0,1],transitionProperty:"common",transitionDuration:"normal",position:"relative",children:l.map((e,t)=>(0,i.jsx)(ef.e,{zIndex:l.length-t,me:-3,name:null==e?void 0:e.displayName,src:null==e?void 0:e.profileImageUrl,shadow:"base",ignoreFallback:!0},"unexpanded-".concat(null==e?void 0:e.id)))}),a&&(0,i.jsxs)(i.Fragment,{children:[o.map((e,t)=>(0,i.jsx)(ex.Z,{max:r,style:{fontSize:"var(--chakra-fontSizes-sm)"},size:"sm",justifyContent:"start",opacity:[0,0,0,1],transitionProperty:"common",transitionDuration:"normal",position:"relative",children:e.map((e,t)=>(0,i.jsx)(ef.e,{zIndex:l.length-t,me:-3,name:null==e?void 0:e.displayName,src:null==e?void 0:e.profileImageUrl,shadow:"base",ignoreFallback:!0},"comment-".concat(null==e?void 0:e.id)))},"comment-".concat(t))),n.slice(0,7).map((e,t)=>(0,i.jsx)(ex.Z,{max:r,style:{fontSize:"var(--chakra-fontSizes-sm)"},size:"sm",justifyContent:"start",opacity:[0,0,0,1],transitionProperty:"common",transitionDuration:"normal",position:"relative",children:s[e.emoji].map((e,t)=>(0,i.jsx)(ef.e,{zIndex:l.length-t,me:-3,name:null==e?void 0:e.displayName,src:null==e?void 0:e.profileImageUrl,shadow:"base",ignoreFallback:!0},"reaction-".concat(null==e?void 0:e.id)))},"reaction-".concat(t)))]})]})});eb.displayName="AvatarGroupPopup";var ey=n(77650);let ev=e=>{let{isMobile:t,emoji:n}=e,a=ey.Ru._({id:"r2ONxg"});return(0,i.jsx)(o.Suspense,{fallback:(0,i.jsx)(ei.y,{size:"sm"}),children:(0,i.jsxs)(en.E,{as:"span",sx:{".emoji-mart-emoji":{fontSize:"1em",span:{cursor:"inherit",fontSize:"1em !important"}}},children:[(0,i.jsx)("em-emoji",{size:0,native:!0,id:n})," ",a,"."]})})};var eC=n(88055),ew=n(58809),eA=n(7270),ej=n(36842),ek=n(30228);let eS=e=>{let{onCancel:t,editor:n,commentIdToHighlight:a,userCanComment:r,blockAllowsCommenting:l,getPos:s,draftComment:o,onCommentDraftUpdate:c,onCommentSave:d,isMobile:u}=e,{user:h}=(0,S.ur)(),g=(0,p.GV)(ew.Jo),m=(0,eC.h6)(g,h),x=et({editor:n,getPos:s}),f=m&&!h&&l;if(null===x)return null;let b=(0,i.jsxs)(D.s,{overflowY:"auto",direction:"column",className:"comments-list",p:u||f?0:4,children:[f&&g&&(0,i.jsx)(eA.W,{accessLink:m,doc:g,className:"comments-sign-up",showDivider:!1}),r&&(0,i.jsx)(ej.h,{draftComment:o,user:h,showUser:u,showBorder:u,onCommentDraftUpdate:c,onCommentSave:d,commentIdToHighlight:a,alwaysShowButtons:u})]});return u?b:(0,i.jsx)(ek.Pj,{offsetFromTop:x,children:b})};var eL=n(47317);let eI=e=>{let{isMobile:t,editor:n,onReactionClick:a,getPos:r}=e,l=et({editor:n,getPos:r});if(null===l)return null;let s=(0,i.jsx)(D.s,{bg:"white",p:"0",zIndex:"tooltip","data-testid":"add-reaction-popup","data-target-name":"reaction-emoji-picker",boxShadow:"none",sx:{".emoji-mart":{border:"none"}},overflow:"hidden",justify:"center",children:(0,i.jsx)(eL.pP,{perLine:9,handlePick:a,shouldFocusSearch:!t})});return t?s:(0,i.jsx)(ek.Pj,{offsetFromTop:l,children:s})};var eE=n(68068),eD=n(36071),eM=n(60628),eR=n(40691),e_=n(3674);let ez=(0,o.forwardRef)(function(e,t){let{isMobile:n,children:r,closePopup:l,drawerMinHeight:s}=e;if(n){let e=s||"calc(calc(100vh - calc(100vh - 100%)) - 1rem)";return(0,i.jsxs)(eE._s,{placement:"bottom",isOpen:!0,onClose:l,children:[(0,i.jsx)(eD.m,{}),(0,i.jsxs)(eM.z,{minH:e,maxH:e,borderTopRadius:"xl",className:"comments-wrapper","data-block-comments-popup":!0,children:[(0,i.jsx)(eR.c,{p:6,pb:2,className:ek.Vv,children:r}),(0,i.jsx)(e_.s,{})]})]})}return(0,i.jsx)(a.a,{ref:t,children:r})});var eN=n(23293);let eT=e=>{let{onCancel:t,reactions:n,onClickExistingReaction:a,editor:r,getPos:l,user:s,userCanComment:c,blockAllowsCommenting:d,isMobile:u}=e,p=et({editor:r,getPos:l}),h=n.slice(7*!u),g=h.map(e=>(0,i.jsx)(ec,{isMobile:!0,onClick:t=>{a(e),t.stopPropagation()},mr:2,mb:4,reaction:e,user:s,canReact:c&&d,badgeCount:e.count,emoji:e.emoji},e.emoji));if((0,o.useEffect)(()=>{0===h.length&&t()},[t,h]),null===p)return null;let m=(0,i.jsxs)(M.B,{spacing:4,children:[(0,i.jsx)(eN.D,{size:"md",children:(0,i.jsx)(z.x6,{id:"7ZMg79"})}),(0,i.jsx)(D.s,{flexWrap:"wrap",children:g})]});return u?m:(0,i.jsx)(ek.Pj,{offsetFromTop:p,children:(0,i.jsx)(D.s,{p:4,px:2,pb:0,flexWrap:"wrap",children:g})})};var eP=n(42670);let eH=e=>{let{comment:t,editor:n,commentIdToHighlight:a,userCanComment:r,blockAllowsCommenting:l,getPos:s,isMobile:o,closePopup:c}=e,d=n.gammaDocId,{user:u}=(0,S.ur)(),h=(0,A.d4)(x.wC),g=(0,p.GV)(ew.Jo),m=(0,eC.h6)(g,u),f=et({editor:n,getPos:s});if(null===f||!t)return null;let b=(0,i.jsxs)(D.s,{direction:"column",className:"comments-list","data-testid":"thread-view-popup",children:[m&&!u&&g&&l&&(0,i.jsx)(eA.W,{accessLink:m,doc:g,className:"comments-sign-up"}),(0,i.jsx)(eP.h,{instanceType:o?"drawer":"popup",userCanComment:r,commentIdToHighlight:a,editor:n,comment:t,selfUser:u,docId:d,editorMode:h,isRootComment:!0,borderBottomWidth:"none",closePopup:c,p:4*!o,pb:4},t.id)]});return o?b:(0,i.jsx)(ek.Pj,{offsetFromTop:f,children:b})};var eF=n(88586),eB=n(8075);let eO=e=>{let{getPos:t,editor:n,reactions:i}=e,{user:a}=(0,S.ur)(),[r]=(0,eF.nkJ)(),[l]=(0,eF.eaJ)(),s=(0,o.useCallback)(e=>{let{reaction:t}=e;if(!a)return;let i=t.docId;1===t.count&&n.commands.deleteAnnotation(t.targetId);let r=t.count-1,s=t.users.filter(e=>(null==e?void 0:e.id)!==(null==a?void 0:a.id));l({variables:{reactionInput:{docId:i,targetId:t.targetId,emoji:t.emoji}},update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(i),fragment:eF.JhL,fragmentName:"DocReactionsCreate",data:{reactions:[null==n?void 0:n.removeReaction]}})},optimisticResponse:{removeReaction:{docId:i,targetId:t.targetId,targetType:eF.yKx.Decoration,count:r,emoji:t.emoji,users:s,__typename:"Reaction"}}})},[n,l,a]);return{addReactionFn:(0,o.useCallback)(e=>{let{emoji:l}=e;if((0,K.uP)({emoji:l,user:a,reactions:i})||!a)return;let s=n.gammaDocId,o=(0,K.jj)({reactions:i,emoji:l}),c=eB.D.generate(),d=((null==o?void 0:o.count)||0)+1,u=[];o?(c=o.targetId,u=[...o.users]):n.commands.addAnnotation({id:c,pos:t()}),u.unshift(a),u.sort((e,t)=>e.id>t.id?1:-1),r({variables:{reactionInput:{docId:s,targetId:c,targetType:eF.yKx.Decoration,emoji:l}},update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(s),fragment:eF.JhL,fragmentName:"DocReactionsCreate",data:{reactions:[null==n?void 0:n.addReaction]}})},optimisticResponse:{addReaction:{docId:s,targetId:c,targetType:eF.yKx.Decoration,count:d,emoji:l,users:u,__typename:"Reaction"}}})},[r,n,t,i,a]),removeReactionFn:s}},eV={"add-comment":"350px","add-reaction":"350px","reactions-overflow":"350px"},eW=e=>{let{nodeName:t,isVisible:n,editor:a,getPos:l,comments:s,reactions:c,createDraftComment:d,cleanupDraftComment:u,onCommentDraftUpdate:h,draftComment:g,onCommentSave:m,userCanComment:f,blockAllowsCommenting:v,blockCommentId:C,enableReactions:I,mobileAddCommentPos:E,setIsButtonStackHovered:D}=e,M=(0,w.d)(),R=(0,b.Xb)(),_=(0,A.wA)(),{user:z,isUserLoading:N}=(0,S.ur)(),{isHovering:T,delayedClose:P,...H}=(0,y.ou)({enterDelay:30,leaveDelay:100}),F=!!T,B=(0,o.useRef)(null),O=(0,o.useRef)(),V=(0,A.d4)((0,x.tT)(C)),W=(0,o.useRef)(null),[U,G]=(0,o.useState)(null),K=null!==U,Q=(0,p.GV)(x.Ml),q=s.find(e=>e.id===Q)||null,J=(0,o.useCallback)(e=>{G("thread"),_((0,x.fw)({isOpen:!0,blockCommentId:C,viewingCommentId:e.id}))},[C,_]),$=(0,o.useCallback)(e=>{G("add-comment"),_((0,x.fw)({isOpen:!0,blockCommentId:C,viewingCommentId:null})),d(e)},[C,_,d]),Y=(0,o.useCallback)(()=>{G("add-reaction"),_((0,x.fw)({isOpen:!0,blockCommentId:C,viewingCommentId:null}))},[C,_]),et=(0,o.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];G(null),u(),_((0,x.fw)({isOpen:!1,blockCommentId:C,viewingCommentId:null})),e&&P(1e3)},[C,u,P,_]),{addReactionFn:en,removeReactionFn:ei}=eO({editor:a,getPos:l,reactions:c}),ea=(0,o.useCallback)(e=>{f&&(en({emoji:e.id}),M({title:(0,i.jsx)(ev,{emoji:e.id,isMobile:R}),status:"success",duration:5e3,isClosable:!1,position:R?"bottom":"top"}),et(!0))},[en,et,R,M,f]),er=(0,o.useCallback)(e=>{m(e),et(!0)},[m,et]),el=(0,o.useCallback)(e=>{if(!f)return;let t=e.reactions.find(e=>{var t;return null==(t=e.users)?void 0:t.find(e=>e.id===(null==z?void 0:z.id))});t?ei({reaction:t}):en({emoji:e.emoji})},[en,ei,z,f]),es=(0,o.useCallback)(()=>{G("reactions-overflow"),_((0,x.fw)({isOpen:!0,blockCommentId:C,viewingCommentId:null}))},[C,_]);ee({isOpen:K,popupRef:W,onClose:et});let{isExpanded:eo}=X({popup:U,isMobile:R,isHovered:F,comments:s,reactions:c,draftComment:g,enableReactions:I});(0,o.useEffect)(()=>{R||D(F)},[F,R,D]),(0,L.hx)(l,$);let ec=(0,L.f0)({comments:s,blockAllowsCommenting:v,showComment:(0,o.useCallback)(e=>{(0,k.Ib)({pos:l(),editor:a}),J({id:e})},[a,l,J])});(0,o.useEffect)(()=>{j.LF.emit(j.DN.POPUP_COMMENT_TOGGLED,{open:K})},[K]);let ed=(0,o.useCallback)(e=>{"Escape"===e.key&&et()},[et]);if(!n||N)return null;let eu=!!z&&!f,ep=0===s.length&&0===c.length;if((eu||!v)&&ep)return null;let eh=eu||!v;return(0,i.jsxs)(i.Fragment,{children:[R&&E&&(0,i.jsx)(em,{onClickAddComment:$,onClickAddReaction:Y,top:E.top,left:E.left}),(0,i.jsxs)(Z.p,{nodeName:t,className:(0,r.cx)("block-comments-stack",eo&&"is-expanded",eo&&"is-taking-action",ep&&"is-empty",!R&&V&&"other-comment-open"),isMobile:R,isEmpty:ep,isPopupOpen:K,...H,buttonRef:B,onKeyDown:ed,hasCommentsOrReactions:!ep,children:[(0,i.jsx)(eg,{isExpanded:eo,isMobile:R,user:z,userCanComment:f,blockAllowsCommenting:v,draftComment:g,reactions:c,comments:s,onClickThread:J,onClickAddComment:$,onClickAddReaction:Y,onClickExistingReaction:el,onClickReactionsOverflow:es,hideAddCommentButton:eh,onClosePopup:et,viewingCommentId:Q,enableReactions:I}),!K&&!R&&(0,i.jsx)(eb,{isExpanded:eo,comments:s,reactions:c}),K&&(0,i.jsxs)(ez,{isMobile:R,ref:W,closePopup:et,drawerMinHeight:eV[U],children:["thread"===U&&(0,i.jsx)(eH,{isMobile:R,comment:q,closePopup:et,editor:a,getPos:l,commentIdToHighlight:ec,commentsPanelRef:O,userCanComment:f,blockAllowsCommenting:v}),"add-comment"===U&&(0,i.jsx)(eS,{isMobile:R,onCancel:()=>{et()},editor:a,getPos:l,commentIdToHighlight:ec,userCanComment:f,blockAllowsCommenting:v,onCommentSave:er,draftComment:g,onCommentDraftUpdate:h}),"add-reaction"===U&&(0,i.jsx)(eI,{isMobile:R,onReactionClick:ea,editor:a,getPos:l}),"reactions-overflow"===U&&(0,i.jsx)(eT,{isMobile:R,onCancel:()=>{et()},onClickExistingReaction:el,editor:a,getPos:l,user:z,userCanComment:f,blockAllowsCommenting:v,reactions:c})]})]})]})};var eU=n(21465);let eG=e=>{let{children:t,as:n,className:a,dir:r,style:l,hideComments:s=!1,readOnly:o=!1,...d}=e,{decorations:u,editor:p}=d,g=(0,h.oR)();return!u.some(e=>e.spec.isAnnotatable)||p.isThumbnail||g||p.editorId===c.B?(0,i.jsx)(m.VR,{as:n,className:a,dir:r,style:l,children:t}):(0,i.jsx)(eZ,{as:n,className:a,dir:r,style:l,hideComments:s,readOnly:o,...d,children:t})},eZ=e=>{var t;let{children:n,decorations:c,editor:h,getPos:w,as:A,className:j,dir:k,style:S,hideComments:I,readOnly:E,node:D}=e,{isConnected:M}=(0,d.u)(),R=(0,v.pl)(c),_=C({editor:h,decorations:c}),z=(0,u.u)("blockReactions"),N=(0,g.UT)("comment"),T=(0,p.GV)(x.mi),P=(0,o.useMemo)(()=>(0,s.Ak)(5),[]),H=(0,p.GV)((0,x.ng)(P)),[F,B]=(0,o.useState)(!1),O=(0,u.u)("debugComments"),V=(0,L.yU)(c),W=V[0]||null,[U,G]=(0,o.useState)(null),Z=(0,p.jL)(),K=(0,o.useCallback)(e=>{let t=(null==e?void 0:e.getPos)||w,n=null==e?void 0:e.targetHtml,i=W;if(i)e&&(i=(0,eU.ol)(i,t,n,h));else{var a,r;i=(0,eU.CD)(t,h,n),null==(a=(r=h.commands).createDraftComment)||a.call(r,i)}G(i),Z((0,x.mF)({attached:!1}))},[Z,h,w,W]),Q=(0,o.useCallback)(()=>{var e,t,n,i,a,r;U&&(null==U||null==(t=U.text)||null==(e=t.trim())?void 0:e.length)>0?null==(n=(i=h.commands).createDraftComment)||n.call(i,U):null==(a=(r=h.commands).removeDraftComments)||a.call(r,V),G(null)},[V,h,U]),q=(0,o.useRef)(H);q.current=H,(0,o.useEffect)(()=>()=>{q.current&&Z((0,x.fw)({isOpen:!1,blockCommentId:P,viewingCommentId:null}))},[P,Z]);let J=(0,L.Zb)({draftComment:U,clearDraftComment(){var e,t,n,i;U&&(null==(n=(i=h.commands).removeDraftComments)||n.call(i,[U,...V]));let a=(0,eU.CD)(w,h);null==(e=(t=h.commands).createDraftComment)||e.call(t,a),G(a)},editor:h}),$=(0,L.$w)(c),Y=$.length>0&&!I,X=U||W,ee=(null==X||null==(t=X.text)?void 0:t.length)>0,[et,en]=(0,y.Mk)(),ei=(0,L.HQ)(c);z||(ei=[]);let ea=ei.length>0,er=T&&!I&&N,el=(0,b.Xb)()&&(H||Y||ea||!!_)||!(0,b.Xb)()&&(en||R||H||Y||ea||ee),es=N&&M,eo=H||_||F?(0,f.$3)(l.t1.colors.yellow[200],.25):void 0;return(0,i.jsxs)(m.VR,{as:A,style:{...S,position:"relative",backgroundColor:(0,b.Xb)()?void 0:eo},className:(0,r.cx)(j,"annotatable-node-view-wrapper",(0,b.Xb)()&&"is-mobile",O?"debug-comments":""),dir:k,ref:et,children:[er&&(0,i.jsx)(eW,{nodeName:D.type.name,isVisible:el,reactions:ei,blockCommentId:P,userCanComment:es,blockAllowsCommenting:!I&&!E,onCommentDraftUpdate:e=>{let{editor:t}=e;G(e=>e?{...e,json:t.view.state.doc.toJSON(),text:t.view.state.doc.textContent}:e)},cleanupDraftComment:Q,createDraftComment:K,editor:h,getPos:w,comments:$,draftComment:X,onCommentSave:J,enableReactions:z,mobileAddCommentPos:_,setIsButtonStackHovered:B}),(0,b.Xb)()&&eo?(0,i.jsx)(a.a,{bgColor:eo,children:n}):n]})}},84929:(e,t,n)=>{"use strict";n.d(t,{v:()=>eY});var i=n(6029),a=n(67909),r=n(36071),l=n(54731),s=n(17920),o=n(26385),c=n(23293),d=n(48810),u=n(96500),p=n(3674),h=n(40691),g=n(49146),m=n(23908),x=n(36693),f=n(26420),b=n(58959),y=n(20061),v=n(3448),C=n(55597),w=n(48621),A=n(47412),j=n(19564),k=n(55729),S=n(32617),L=n(15342),I=n(43634),E=n(11403),D=n(46875),M=n(84033),R=n(95197),_=n(46898),z=n(49611),N=n(78140),T=n(36999),P=n(16936),H=n(41283),F=n(83550),B=n(85595),O=n(99492),V=n(32380),W=n(77650);let U=e=>{let{onDelete:t,isDeleteDisabled:n,editor:a}=e,r=(0,_.d)(),l=(0,k.useCallback)(()=>{t();let e=r({title:(0,i.jsxs)(b.z,{children:[(0,i.jsx)(d.E,{children:(0,i.jsx)(j.x6,{id:"i+ZZMW"})}),(0,i.jsx)(z.$,{variant:"link",textDecoration:"underline",as:"span",size:"sm",cursor:"pointer",color:"inherit",onClick:()=>{(0,V.tN)(a.state),r.close(e)},children:(0,i.jsx)(j.x6,{id:"IiqYd9"})})]}),status:"info",duration:3e3,position:"top"})},[a,t,r]);return(0,i.jsxs)(N.W,{children:[(0,i.jsx)(T.I,{as:P.K,icon:(0,i.jsx)(w.g,{icon:C.Dwc}),"aria-label":W.Ru._({id:"CQDm4Q"}),variant:"plain",size:"sm"}),(0,i.jsx)(H.c,{children:(0,i.jsx)(F.r,{title:W.Ru._({id:"ZYWBTf"}),children:(0,i.jsx)(B.D,{onClick:l,isDisabled:n,color:"red.500",icon:(0,i.jsx)(w.g,{fixedWidth:!0,icon:O.yLS}),children:(0,i.jsx)(j.x6,{id:"mxPb1C"})})})})]})};var G=n(40452),Z=n(74003),K=n(95889),Q=n(99038),q=n(5061);let J=e=>{let{label:t,children:n,labelProps:a}=e,r=(0,q.fW)();return(0,i.jsxs)(o.B,{position:"absolute",top:"50%",insetStart:"50%",transform:"translate(".concat(r?"50%":"-50%",",-50%)"),alignItems:"center",w:"100%",px:16,children:[(0,i.jsx)(d.E,{fontSize:"3xl",textAlign:"center",color:"gray.400",...a,children:t}),n]})},$=(0,k.memo)(e=>{let{onUpsellClick:t}=e;return(0,i.jsxs)(J,{label:(0,i.jsx)(j.x6,{id:"GRyKgN",values:{PRO_PROPER_NOUN:Q.Kc}}),labelProps:{color:"inherit"},children:[(0,i.jsx)(d.E,{textAlign:"center",mb:"2",children:(0,i.jsx)(j.x6,{id:"RryZ/g",values:{GAMMA_PRO_PROPER_NOUN:Q.Ol}})}),(0,i.jsx)(z.$,{variant:"solid",onClick:t,children:(0,i.jsx)(j.x6,{id:"cKQRnY",values:{PRO_PROPER_NOUN:Q.Kc}})})]})});$.displayName="CardMarginElementsUpsell";var Y=n(9329),X=n(37930),ee=n(48478),et=n(6760),en=n(38036),ei=n(83004),ea=n(12562),er=n(89528),el=n(92124),es=n(57405),eo=n(83638),ec=n(25223),ed=n(13366),eu=n(98164),ep=n(94740),eh=n(66199),eg=n(18078),em=n(25311),ex=n(33750),ef=n.n(ex);let eb=e=>{let{value:t,setValue:n,placeholder:a,min:r,max:l,onUpdate:s}=e,o=(0,k.useCallback)(e=>{if(e){let t=parseInt(e);n(ef()(isNaN(t)?r:t,r,l).toString())}else n("")},[r,l,n]),c=(0,k.useCallback)(e=>{"Enter"===e.key&&(o(t),s())},[o,s,t]),d=(0,k.useCallback)(()=>{o(t),s()},[o,s,t]);return(0,i.jsx)(en.p,{type:"number",value:t,placeholder:a||"",onChange:e=>n(e.target.value),onKeyDown:c,onBlur:d,size:"sm",min:r,max:l,textAlign:"center",maxW:"16"})},ey=e=>{let{startIndex:t,startNumber:n}=e,a={height:9,bg:"gray.100",borderRadius:"sm",alignItems:"flex-end",justifyContent:"flex-end",fontSize:"xs"},r=t>2,l=r?[t-1,t,t+1]:[0,1,2,3],s=e=>{let{cardIndex:r}=e,l=(0,R.RP)(r,t,n);return(0,i.jsx)(G.s,{...a,minH:9,py:.5,px:1.5,flex:"1",children:l},r)};return(0,i.jsxs)(o.B,{spacing:2,w:"100%",children:[r&&(0,i.jsx)(e=>{let{startingIndex:t}=e,n=ef()(t-1,2,7);return(0,i.jsxs)(o.B,{spacing:.5,flex:"1",position:"relative",maxH:9,minH:9,children:[[...Array(n)].map((e,t)=>(0,i.jsx)(G.s,{...a,h:"100%",flex:"1"},t)),(0,i.jsxs)(d.E,{position:"absolute",insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)",fontSize:"xs",bg:"white",borderRadius:"sm",px:1,color:"gray.500",children:["(",t-1,")"]})]})},{startingIndex:t}),l.map(e=>(0,i.jsx)(s,{cardIndex:e},e))]})},ev=e=>{let{element:t,onUpdate:n}=e,[a,r]=(0,k.useState)((()=>{let e=(null==t?void 0:t.type)==="cardNumbers"?t.startIndex:void 0;return 1!==e&&e?2===e?"2":"other":"1"})()),[l,s]=(0,k.useState)((null==t?void 0:t.type)==="cardNumbers"&&t.startIndex&&t.startIndex>2?t.startIndex.toString():""),[c,u]=(0,k.useState)((null==t?void 0:t.type)==="cardNumbers"&&void 0!==t.startNumber&&1!==t.startNumber?t.startNumber.toString():""),p="1"===a?1:"2"===a?2:l?ef()(parseInt(l),1,1e3):void 0,h=""===c?void 0:ef()(parseInt(c),0,1e3),g=(0,k.useCallback)(()=>{n({type:"cardNumbers",startIndex:l?ef()(parseInt(l),1,1e3):void 0,startNumber:h})},[l,h,n]),m=(0,k.useCallback)(()=>{let e=c?ef()(parseInt(c),0,1e3):void 0;n({type:"cardNumbers",startIndex:(null==t?void 0:t.type)==="cardNumbers"?t.startIndex:void 0,startNumber:e})},[c,t,n]),x=(null==t?void 0:t.type)==="cardNumbers"&&(void 0!==t.startIndex||void 0!==t.startNumber);return(0,i.jsxs)(es.T,{spacing:0,children:[(0,i.jsxs)(b.z,{w:"100%",alignItems:"flex-start",p:3,children:[(0,i.jsxs)(es.T,{alignItems:"flex-start",flex:"2",spacing:4,children:[(0,i.jsxs)(eo.MJ,{children:[(0,i.jsx)(ec.l,{fontSize:"xs",fontWeight:"bold",children:(0,i.jsx)(j.x6,{id:"EgzmRy"})}),(0,i.jsxs)(es.T,{spacing:2,alignItems:"flex-start",children:[(0,i.jsx)(ed.z,{value:a,defaultValue:a,onChange:e=>{r(e),"other"===e?s(a):s(""),"1"===e?n({type:"cardNumbers",startIndex:1,startNumber:h}):"2"===e&&n({type:"cardNumbers",startIndex:2,startNumber:h})},size:"sm",children:(0,i.jsxs)(o.B,{spacing:2,children:[(0,i.jsx)(eu.s,{value:"1",children:(0,i.jsx)(d.E,{children:(0,i.jsx)(j.x6,{id:"gidUuU"})})}),(0,i.jsx)(eu.s,{value:"2",children:(0,i.jsx)(d.E,{children:(0,i.jsx)(j.x6,{id:"CfeM0j"})})}),(0,i.jsx)(eu.s,{value:"other",children:(0,i.jsx)(d.E,{children:(0,i.jsx)(j.x6,{id:"m7sNyG"})})})]})}),"other"===a&&(0,i.jsx)(eb,{value:l,setValue:s,min:1,max:1e3,onUpdate:g})]})]}),(0,i.jsxs)(eo.MJ,{children:[(0,i.jsx)(ec.l,{fontSize:"xs",fontWeight:"bold",children:(0,i.jsx)(j.x6,{id:"boZ3aq"})}),(0,i.jsx)(eb,{value:c,setValue:u,placeholder:"1",min:0,max:1e3,onUpdate:m})]})]}),(0,i.jsxs)(es.T,{spacing:1,w:"100%",alignItems:"flex-start",maxW:"16",children:[(0,i.jsx)(d.E,{fontSize:"xs",children:(0,i.jsx)(j.x6,{id:"GswZF3"})}),(0,i.jsx)(ey,{startIndex:p||1,startNumber:null!=h?h:1})]})]}),x&&(0,i.jsx)(b.z,{px:4,py:2,bg:"gray.50",w:"100%",children:(0,i.jsx)(z.$,{variant:"link",size:"xs",w:"100%",onClick:()=>{r("1"),s(""),u(""),n({type:"cardNumbers",startIndex:void 0,startNumber:void 0})},isDisabled:!x,leftIcon:(0,i.jsx)(w.g,{icon:C.ub2}),children:(0,i.jsx)(j.x6,{id:"L+rMC9"})})})]})},eC=e=>{let{element:t,position:n,showUpsell:a,onUpdate:r}=e,l=(0,q.fW)(),{flex:s}=(0,R.o)(n),o=(null==t?void 0:t.type)==="cardNumbers"?t:null,c=null==o?void 0:o.startIndex,u=null==o?void 0:o.startNumber,p={px:3,h:8,w:"100%",borderRadius:"md",fontSize:"sm",cursor:a?"not-allowed":"pointer",bg:a?"blackAlpha.50":"white",color:a?"gray.600":"inherit",justifyContent:s,border:"1px solid",borderColor:a?"transparent":"titanium.300"};return a?(0,i.jsx)(b.z,{...p,children:(0,i.jsx)(d.E,{dir:l?"rtl":void 0,children:(0,R.M0)(c,u)})}):(0,i.jsxs)(ep.A,{children:[(0,i.jsx)(eh.W,{children:(0,i.jsx)(b.z,{...p,children:(0,i.jsx)(d.E,{dir:l?"rtl":void 0,children:(0,R.M0)(c,u)})})}),(0,i.jsx)(eg.h,{maxW:"240px",p:0,overflow:"hidden",children:(0,i.jsx)(em.e,{p:0,children:(0,i.jsx)(ev,{element:t,onUpdate:r})})})]})};var ew=n(33787),eA=n(51312),ej=n(17074),ek=n(20502),eS=n(59230),eL=n(85443),eI=n(19705),eE=n(61204);let eD=e=>{let{children:t}=e;return(0,i.jsxs)(b.z,{fontSize:"xs",alignItems:"flex-start",children:[(0,i.jsx)(w.g,{icon:O.e68,fixedWidth:!0}),(0,i.jsx)(d.E,{fontSize:"xs",children:t})]})},eM=()=>(0,i.jsxs)(o.B,{spacing:1,children:[(0,i.jsx)(d.E,{fontSize:"xs",children:(0,i.jsx)(j.x6,{id:"wCgOyU"})}),(0,i.jsxs)(o.B,{spacing:.5,children:[(0,i.jsx)(eD,{children:(0,i.jsx)(j.x6,{id:"48UYx4"})}),(0,i.jsx)(eD,{children:(0,i.jsx)(j.x6,{id:"tzmFSd"})}),(0,i.jsx)(eD,{children:(0,i.jsx)(j.x6,{id:"krkjlf"})})]})]}),eR=e=>{let{currentSize:t,onSizeChange:n,onReplaceImage:a,isDisabled:r=!1}=e,l=void 0!==t;return(0,i.jsxs)(ep.A,{children:[(0,i.jsx)(eh.W,{children:(0,i.jsx)(P.K,{"aria-label":W.Ru._({id:"XyAh4B"}),icon:(0,i.jsx)(w.g,{icon:O._$s,fixedWidth:!0}),size:"sm",variant:"ghost",borderRadius:"full",color:"blackAlpha.700"})}),(0,i.jsx)(eg.h,{maxW:"260px",p:0,overflow:"hidden",children:(0,i.jsxs)(em.e,{p:0,children:[(0,i.jsxs)(es.T,{p:3,spacing:3,alignItems:"flex-start",children:[(0,i.jsxs)(eo.MJ,{children:[(0,i.jsx)(ec.l,{fontSize:"xs",fontWeight:"bold",children:(0,i.jsx)(j.x6,{id:"8J92vb"})}),(0,i.jsx)(eE.e,{isAttached:!0,size:"sm",display:"flex",w:"100%",children:Object.entries(eI.rP).map(e=>{let[a,l]=e;return(0,i.jsx)(A.Tz,{label:l.name(),placement:"top",children:(0,i.jsx)(z.$,{"aria-label":l.name(),px:"2.5",boxShadow:"none",variant:a===t?"plainSelected":"plain",bg:"md"!==a||t?void 0:"deepocean.50",flex:1,onClick:()=>{n(a)},isDisabled:r,children:l.buttonText()})},a)})})]}),(0,i.jsx)(eM,{})]}),(l||a)&&!r&&(0,i.jsxs)(b.z,{px:4,py:2,bg:"gray.50",w:"100%",justifyContent:l&&a?"space-between":"center",children:[l&&(0,i.jsx)(z.$,{variant:"link",size:"xs",onClick:()=>{n(void 0)},colorScheme:"gray",leftIcon:(0,i.jsx)(w.g,{icon:O.ub2,fixedWidth:!0}),children:(0,i.jsx)(j.x6,{id:"cl2Y/T"})}),a&&(0,i.jsx)(z.$,{variant:"link",size:"xs",onClick:a,leftIcon:(0,i.jsx)(w.g,{icon:O.VNe,fixedWidth:!0}),colorScheme:"gray",children:(0,i.jsx)(j.x6,{id:"YOzD/a"})})]})]})})]})},e_=e=>{let{result:t,isError:n}=e;if(n)return{uploadStatus:eS.A.Error,src:null,source:"image.custom"};let{name:i,src:a,meta:r}=t;return{uploadStatus:eS.A.Done,source:"image.custom",name:i,src:a,meta:r}},ez=()=>({uploadStatus:eS.A.Uploading,source:"image.custom",src:null}),eN=e=>{let{onUpdate:t,element:n,position:a,isReadonly:r,showUpsell:l}=e,{currentWorkspace:s}=(0,eL.u)(),[o,c]=(0,k.useState)("idle"),d=(0,k.useRef)(!1),u=(0,k.useMemo)(()=>{if(null==s?void 0:s.id)return ek.Fk.createUppyInstance(null==s?void 0:s.id,{onUploadStart:()=>{c("loading"),t({type:"image",imageAttrs:ez()})},onOriginalFileUpload:e=>{d.current||t({type:"image",imageAttrs:e_({result:e,isError:!1})})},onUploadComplete:e=>{d.current||(c("idle"),t({type:"image",imageAttrs:e_({result:e,isError:!1})}),null==u||u.cancelAll())},onUploadFailed:()=>{c("error"),t({type:"image",imageAttrs:e_({result:void 0,isError:!0})}),null==u||u.cancelAll()}},"cardMargins")},[null==s?void 0:s.id,t]),{onClick:p,inputElement:h}=(0,ej.c)({accept:"image/*",multiple:!1,handleFilesCallback:e=>{d.current=!1;let t=e[0];t&&(null==u||u.addFile({name:t.name,type:t.type,data:t}))}}),g=(0,R._V)(n),m=(null==n?void 0:n.type)==="image"?n.imageAttrs:void 0,x=(null==n?void 0:n.type)==="image"?n.imageSize:void 0,f="loading"===o||(null==m?void 0:m.uploadStatus)===eS.A.Uploading,y=(null==m?void 0:m.uploadStatus)===eS.A.Error||"error"===o,v="idle"===o&&!m,C=(0,q.fW)(),{flex:A}=(0,R.o)(a),S=(0,k.useCallback)(e=>{t({type:"image",imageAttrs:m,imageSize:e})},[t,m]),L=(0,k.useCallback)(()=>{d.current=!0,c("idle"),p()},[p]);return r?(0,i.jsx)(G.s,{justifyContent:A,dir:C?"rtl":void 0,gap:2,w:"100%",children:g?(0,i.jsx)(ew._,{h:eI.$V[x||"md"]||7,maxW:"100%",objectFit:"contain",src:g,alt:W.Ru._({id:"aiyf05"})}):(0,i.jsx)(eA.d,{imageElement:n,isError:(null==m?void 0:m.uploadStatus)===eS.A.Error,isLoading:(null==m?void 0:m.uploadStatus)===eS.A.Uploading})}):v?(0,i.jsxs)(i.Fragment,{children:[h,(0,i.jsx)(z.$,{dir:C?"rtl":void 0,leftIcon:(0,i.jsx)(w.g,{icon:O.MNJ,fixedWidth:!0}),variant:"plain",size:"sm",onClick:p,children:(0,i.jsx)(j.x6,{id:"m3C7sL"})})]}):(0,i.jsxs)(i.Fragment,{children:[h,(0,i.jsx)(b.z,{dir:C?"rtl":void 0,gap:2,w:"100%",justifyContent:A,children:f||y?(0,i.jsx)(eA.d,{imageElement:n,isError:y,isLoading:f}):g?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ew._,{h:eI.$V[x||"md"]||7,maxW:eI.r_,src:g,objectFit:"contain",bg:"blackAlpha.100"}),(0,i.jsx)(eR,{currentSize:x,onSizeChange:S,onReplaceImage:L,isDisabled:l})]}):null})]})};var eT=n(88720),eP=n(92699),eH=n(36433);let eF=e=>{let{position:t,element:n,onUpdate:a,showUpsell:r,isReadonly:l}=e,s=(0,q.fW)(),{logoSrc:o}=(0,eH.G)(),c=(0,L.GV)(I.SJ),{flex:d}=(0,R.o)(t),u=(0,k.useMemo)(()=>(null==n?void 0:n.type)==="themeLogo"&&"imageSize"in n?n.imageSize:void 0,[n]),p=(0,k.useCallback)(e=>{a({type:"themeLogo",imageSize:e})},[a]),h=(0,k.useCallback)(()=>{c.workspaceId?(0,eP.vd)({theme:c}):(0,eP.L6)({theme:c})},[c]);return(0,i.jsx)(G.s,{justifyContent:d,dir:s?"rtl":void 0,gap:2,w:"100%",children:o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ew._,{h:eI.$V[u||"md"]||7,maxW:"100%",objectFit:"contain",src:o,alt:W.Ru._({id:"iG7KNr"}),bg:l?void 0:"blackAlpha.100"}),!l&&(0,i.jsx)(eR,{currentSize:u,onSizeChange:p,isDisabled:r})]}):(0,i.jsx)(eT.V,{onClick:r||l?void 0:h})})};function eB(){let e=(0,Y._)(["\n      0% { transform: rotate(9deg); background: var(--chakra-colors-trueblue-100); }\n      10% { transform: rotate(-8deg); }\n      20% { transform: rotate(7deg); }\n      30% { transform: rotate(-6deg); }\n      40% { transform: rotate(5deg); }\n      50% { transform: rotate(-4deg); background: var(--chakra-colors-trueblue-100); }\n      60% { transform: rotate(3deg); }\n      70% { transform: rotate(-2deg); }\n      80% { transform: rotate(1deg); }\n      90% { transform: rotate(0deg); }\n      100% { transform: rotate(0deg); background: var(--chakra-colors-blackAlpha-50); }\n   "]);return eB=function(){return e},e}let eO={text:{key:"text",icon:O.tiU,name:(0,i.jsx)(j.x6,{id:"xeiujy"}),deleteLabel:(0,i.jsx)(j.x6,{id:"JxxCHL"}),deleteToastLabel:(0,i.jsx)(j.x6,{id:"AwHPSN"})},cardNumbers:{key:"cardNumbers",icon:O.qzJ,name:(0,i.jsx)(j.x6,{id:"LMa4Y8"}),deleteLabel:(0,i.jsx)(j.x6,{id:"gVFDdv"}),deleteToastLabel:(0,i.jsx)(j.x6,{id:"aTqpEg"})},themeLogo:{key:"themeLogo",name:(0,i.jsx)(j.x6,{id:"zYGAMY"}),icon:O.fyG,deleteLabel:(0,i.jsx)(j.x6,{id:"cty1ii"}),deleteToastLabel:(0,i.jsx)(j.x6,{id:"sa/uRd"})},image:{key:"image",name:(0,i.jsx)(j.x6,{id:"yrBphF"}),icon:O.Cyq,deleteLabel:(0,i.jsx)(j.x6,{id:"lP18tl"}),deleteToastLabel:(0,i.jsx)(j.x6,{id:"Aty05U"}),featureFlag:"cardMarginsImageUpload"}},eV=e=>{let{selectedType:t,onSelect:n,canAdd:a,showUpsell:r,onUpsellClick:l}=e;if(!t&&a)return(0,i.jsx)(F.r,{title:W.Ru._({id:"qmt9HO"}),textAlign:"start",children:Object.values(eO).map(e=>{let{key:t,icon:a,name:s,featureFlag:o}=e;return o&&!ea.of.get(o)?null:r?(0,i.jsx)(B.D,{value:t,onClick:l,icon:(0,i.jsx)(w.g,{icon:a,fixedWidth:!0}),bg:"trueblue.50",border:"1px solid white",_hover:{bg:"trueblue.50",borderColor:"trueblue.200"},_focus:{bg:"trueblue.50",borderColor:"trueblue.200"},mt:.5,children:(0,i.jsxs)(f.a,{as:"span",display:"inline-flex",gap:3,w:"100%",children:[(0,i.jsx)(f.a,{as:"span",flex:1,children:s}),(0,i.jsx)(er.Ch,{canUseFeature:!1,productFeature:"card_margin_elements",alignSelf:"center"})]})},t):(0,i.jsx)(B.D,{value:t,onClick:()=>n(t),icon:(0,i.jsx)(w.g,{icon:a,fixedWidth:!0}),children:s},t)})});if(!t)return null;let s=(0,i.jsx)(F.r,{children:(0,i.jsx)(B.D,{onClick:()=>{n(t,!0)},color:"red.500",icon:(0,i.jsx)(w.g,{icon:O.yLS,fixedWidth:!0,fontSize:"sm"}),children:eO[t].deleteLabel})});return a?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(X.i,{title:W.Ru._({id:"Nb1WK7"}),textAlign:"start",value:t,type:"radio",children:Object.values(eO).map(e=>{let{key:t,icon:a,name:r,featureFlag:l}=e;return l&&!ea.of.get(l)?null:(0,i.jsxs)(ee.k,{value:t,onClick:()=>{n(t)},children:[(0,i.jsx)(w.g,{icon:a,fixedWidth:!0}),(0,i.jsx)(f.a,{as:"span",ms:2,children:r})]},t)})}),(0,i.jsx)(et.N,{}),s]}):s},eW=(0,ei.i7)(eB()),eU=(0,k.memo)(e=>{let{selectedType:t,onSelect:n,shouldHighlight:a,canAdd:r,showUpsell:l,onUpsellClick:s}=e;return(0,i.jsxs)(N.W,{children:[t?(0,i.jsx)(T.I,{as:z.$,variant:"ghost",size:"sm",color:"black",px:"2",rightIcon:(0,i.jsx)(w.g,{icon:O.Jt$,transform:"shrink-6"}),children:eO[t].name}):(0,i.jsx)(A.Tz,{label:(0,i.jsx)(j.x6,{id:"qmt9HO"}),isDisabled:!r,placement:"top","aria-label":W.Ru._({id:"qmt9HO"}),children:(0,i.jsx)(T.I,{as:P.K,isDisabled:!r,size:"lg",variant:"ghost",fontSize:"2xl",transitionProperty:"all",transitionDuration:"normal",color:"gray.800",bg:"blackAlpha.50",animation:a?"".concat(eW," 1.5s ease-in-out"):void 0,_hover:{bg:"trueblue.100",color:"trueblue.500"},icon:(0,i.jsx)(w.g,{icon:O.QLR})})}),(0,i.jsx)(H.c,{children:(0,i.jsx)(eV,{selectedType:t,onSelect:n,canAdd:r,showUpsell:l,onUpsellClick:s})})]})});eU.displayName="CardElementMenu";let eG=(0,k.memo)(e=>{let{position:t,element:n,onUpdate:a,shouldHighlight:r,cardIndex:l,isObscured:s,isReadonly:c,isAddDisabled:u,showUpsell:p,onUpsellClick:h}=e,g=(0,_.d)(),m=(0,q.fW)(),x=null==n?void 0:n.type,b="text"===x,y="cardNumbers"===x,v=(0,k.useRef)(null),[C,w]=(0,k.useState)(b&&(null==n?void 0:n.content)||""),A=(0,k.useCallback)(e=>{a({type:"text",content:e})},[a]),j=(0,el.lW)(A,300),S=(0,k.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a({type:e},t),("text"!==e||t)&&w(""),t&&g({title:eO[e].deleteToastLabel,status:"info",duration:2e3,position:"top"})},[a,g]),{flex:L,text:I}=(0,R.o)(t),E=(0,k.useMemo)(()=>y&&void 0!==l?(0,R.RP)(l,null==n?void 0:n.startIndex,null==n?void 0:n.startNumber):"",[l,n,y]);return(0,i.jsx)(f.a,{flex:1,children:(0,i.jsxs)(o.B,{spacing:1,alignItems:L,filter:s?"grayscale(1) blur(2px)":void 0,opacity:s?.5:1,pointerEvents:s?"none":void 0,userSelect:s?"none":void 0,children:[!c&&(0,i.jsx)(f.a,{dir:m?"rtl":void 0,children:(0,i.jsx)(eU,{selectedType:x||null,onSelect:S,shouldHighlight:r,canAdd:!u,showUpsell:p,onUpsellClick:h})}),c&&(b||y)&&(0,i.jsx)(d.E,{dir:m?"rtl":void 0,fontSize:"sm",noOfLines:1,children:b?(null==n?void 0:n.content)||"":E}),!c&&b&&(0,i.jsx)(en.p,{dir:m?"rtl":void 0,ref:v,size:"sm",borderRadius:"md",bg:"white",fontSize:"sm",placeholder:W.Ru._({id:"6MDj8K"}),value:C,maxLength:200,isDisabled:p,onKeyUp:e=>{if(!p&&"Enter"===e.key){var t;null==(t=v.current)||t.blur()}},onChange:e=>{if(p)return;let t=e.target.value;w(t),j(t)},textAlign:I}),!c&&y&&(0,i.jsx)(eC,{element:n,position:t,showUpsell:p,onUpdate:a}),"image"===x&&(0,i.jsx)(eN,{onUpdate:a,element:n,position:t,isReadonly:c,showUpsell:p}),"themeLogo"===x&&(0,i.jsx)(eF,{position:t,element:n,onUpdate:a,showUpsell:p,isReadonly:c})]})})});eG.displayName="EditableCardMarginElement";let eZ=(0,k.memo)(e=>{let{visibilityLabel:t,isHidden:n,showToggleVisibilityButton:a,onToggleVisibility:r}=e;return(0,i.jsx)(J,{label:t,children:a&&(0,i.jsx)(A.Tz,{label:n?(0,i.jsx)(j.x6,{id:"G/jP6i"}):(0,i.jsx)(j.x6,{id:"Tx4/S/"}),placement:"top",children:(0,i.jsx)(P.K,{variant:"plain",size:"lg",fontSize:"2xl",color:n?"red.600":"gray.600",icon:n?(0,i.jsx)(w.g,{icon:C.k6j}):(0,i.jsx)(w.g,{icon:C.pS3}),_hover:{color:"default"},"aria-label":n?W.Ru._({id:"WY1TVs"}):W.Ru._({id:"xNpXQs"}),onClick:r})})})});eZ.displayName="MarginElementsVisibilityControls";let eK=(0,k.memo)(e=>{let{isSingleCardView:t,isHiddenFirst:n,isHiddenLast:a,hasMarginElements:r,isHiddenOnCard:l}=e;return t?r?n?(0,i.jsx)(j.x6,{id:"9weBGZ"}):a?(0,i.jsx)(j.x6,{id:"Qxmjys"}):l?(0,i.jsx)(j.x6,{id:"+gYV7s"}):(0,i.jsx)(j.x6,{id:"079GgA"}):(0,i.jsx)(j.x6,{id:"tb4e+E"}):(0,i.jsx)(j.x6,{id:"4upC5z"})});eK.displayName="VisibilityLabel";let eQ=(e,t)=>{if(!e)return;let n=t.indexOf(e);return -1===n?void 0:n},eq=e=>{let{editor:t,highlightPosition:n,cardNode:a,getPos:r,showUpsell:l}=e,s=(0,K.st)(),{cardMarginSettings:o}=(0,L.GV)(I.Uu),c=null==a?void 0:a.attrs,d=!!a,u=!(0,R.Nk)(o),{isFirstCardAndHidden:p,isLastCardAndHidden:h,isHiddenByCardSettings:g}=(0,M.j)(c),m=d&&(p||h||g),x=(0,L.GV)(I.uF),f=eQ(null==c?void 0:c.id,x),b=(0,k.useCallback)(e=>{t.commands.updateDocumentSettings({cardMarginSettings:{...o,...e}})},[t,o]),y=(0,k.useCallback)(e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=o[e],a=!!((null==i?void 0:i.type)&&t.type&&t.type!==i.type);b({[e]:n?void 0:{...!a&&(i||{}),...t}}),null==s||s.track(K.VV.CARD_MARGIN_SETTINGS_UPDATED,{elementType:t.type,position:e,action:n?"delete":a?"replace":"add"})},[s,o,b]),v=d&&!p&&!h&&u,C=(0,k.useCallback)(()=>{if(a&&r)try{t.commands.updateNestedAttributesAtPos(r(),{cardMarginSettings:{...a.attrs.cardMarginSettings,isHidden:!a.attrs.cardMarginSettings.isHidden}})}catch(e){console.error("(caught) [CardMarginsBuilder](updateVisibility): could not update card",e)}},[a,t,r]),{openUpsellModal:w}=(0,Z.I)(),A=(0,k.useCallback)(()=>{w({segmentEvent:K.VV.GAMMA_PRO_UPSELL_CARD_MARGINS})},[w]);return(0,i.jsxs)(G.s,{p:4,minH:"320px",bg:"gray.50",flexDirection:"column",justifyContent:"space-between",position:"relative",borderRadius:"md",...l&&!d&&{_before:{content:'""',position:"absolute",inset:0,borderRadius:"md",border:"2px solid transparent",background:"var(--chakra-colors-gradient-brand-bg)",mask:"linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0)",maskComposite:"subtract",opacity:.7,pointerEvents:"none"}},children:[(0,i.jsx)(G.s,{justifyContent:"space-between",gap:6,alignItems:"flex-start",dir:"ltr",children:["topLeft","topCenter","topRight"].map(e=>(0,i.jsx)(eG,{position:e,onUpdate:y(e),element:o[e],shouldHighlight:n===e,isReadonly:d,isObscured:m,cardIndex:f,showUpsell:l,onUpsellClick:A,isAddDisabled:l&&u},e))}),l&&!d?(0,i.jsx)($,{onUpsellClick:A}):(0,i.jsx)(eZ,{visibilityLabel:(0,i.jsx)(eK,{isSingleCardView:d,isHiddenFirst:p,isHiddenLast:h,hasMarginElements:u,isHiddenOnCard:g}),isHidden:g,showToggleVisibilityButton:v,onToggleVisibility:C}),(0,i.jsx)(G.s,{justifyContent:"space-between",gap:6,alignItems:"flex-end",dir:"ltr",children:["bottomLeft","bottomCenter","bottomRight"].map(e=>(0,i.jsx)(eG,{position:e,onUpdate:y(e),element:o[e],shouldHighlight:n===e,isReadonly:d,isObscured:m,cardIndex:f,showUpsell:l,onUpsellClick:A,isAddDisabled:l&&u},e))})]})};var eJ=n(61491);let e$=(0,k.memo)(e=>{let{hideFromFirst:t,hideFromLast:n,onUpdateSettings:a}=e;return(0,i.jsxs)(ep.A,{placement:"bottom-end",children:[(0,i.jsx)(eh.W,{children:(0,i.jsx)(z.$,{leftIcon:(0,i.jsx)(w.g,{icon:t||n?C.k6j:C.pS3}),rightIcon:(0,i.jsx)(w.g,{icon:O.Jt$,transform:"shrink-6"}),size:"sm",variant:"plain",children:t&&n?(0,i.jsx)(j.x6,{id:"80NdhM"}):t?(0,i.jsx)(j.x6,{id:"gidUuU"}):n?(0,i.jsx)(j.x6,{id:"vc1V76"}):(0,i.jsx)(j.x6,{id:"4upC5z"})})}),(0,i.jsx)(eg.h,{w:"fit=content",minW:"200px",children:(0,i.jsx)(em.e,{p:3,children:(0,i.jsxs)(o.B,{children:[(0,i.jsx)(A._x,{mb:1,children:(0,i.jsx)(j.x6,{id:"lLeEP7"})}),(0,i.jsx)(eJ.S,{isChecked:t,onChange:e=>{a({hideFromFirst:e.target.checked})},children:(0,i.jsx)(j.x6,{id:"1UzO8k"})}),(0,i.jsx)(eJ.S,{isChecked:n,onChange:e=>{a({hideFromLast:e.target.checked})},children:(0,i.jsx)(j.x6,{id:"uGWhnt"})})]})})})]})});e$.displayName="DisplaySettingsPopover";let eY=(0,k.memo)(e=>{let{editor:t,isOpen:n,onClose:_,cardNode:z,getPos:N,highlightPosition:T}=e,[P,H]=(0,k.useState)(0),{areElementsCurrentlyHiddenBySettings:F}=(0,M.j)(null==z?void 0:z.attrs);(0,E.Vg)(()=>{n?F&&H(1):H(0)},[F,n],[n]);let B=(0,D.R)(),O=(0,S.u)("cardMarginElements"),{cardMarginSettings:V}=(0,L.GV)(I.Uu),{hideFromFirst:W,hideFromLast:G}=V,Z=(0,R.Nk)(V),K=!!z,Q=K||B,q=(0,k.useCallback)(e=>{t.commands.updateDocumentSettings({cardMarginSettings:{...V,...e}})},[t,V]),J=(0,k.useCallback)(()=>{let e={...void 0!==W?{hideFromFirst:W}:void 0,...void 0!==G?{hideFromLast:G}:void 0};t.commands.updateDocumentSettings({cardMarginSettings:e})},[W,G,t]);return O?(0,i.jsx)(A.L8,{isDark:!1,children:(0,i.jsxs)(a.aF,{isOpen:!0,onClose:_,size:"3xl",blockScrollOnMount:!1,children:[(0,i.jsx)(r.m,{}),(0,i.jsxs)(l.$,{children:[(0,i.jsx)(s.r,{children:(0,i.jsxs)(o.B,{spacing:1,children:[(0,i.jsx)(c.D,{size:"lg",children:(0,i.jsx)(j.x6,{id:"JQFgkZ"})}),(0,i.jsx)(d.E,{fontSize:"md",fontWeight:500,letterSpacing:"normal",color:"gray.600",children:(0,i.jsx)(j.x6,{id:"F1uM5U"})})]})}),(0,i.jsx)(u.c,{}),(0,i.jsx)(p.s,{}),(0,i.jsx)(h.c,{pb:"6",pt:Q?4:6,children:(0,i.jsxs)(g.t,{variant:"soft-rounded",size:"sm",isLazy:!0,index:P,onChange:H,position:"relative",children:[(0,i.jsxs)(m.w,{position:"relative",sx:Q?{minH:8,mb:4}:void 0,children:[K&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.o,{children:(0,i.jsx)(j.x6,{id:"4upC5z"})}),(0,i.jsxs)(x.o,{children:[(0,i.jsx)(d.E,{me:F?2:void 0,as:"span",children:(0,i.jsx)(j.x6,{id:"xkzndo"})}),F&&(0,i.jsx)(f.a,{color:"red.600",as:"span",children:(0,i.jsx)(w.g,{icon:C.k6j})})]})]}),0===P&&B&&(0,i.jsxs)(b.z,{position:"absolute",justifyContent:"flex-end",insetEnd:"0",top:"0",children:[(0,i.jsx)(e$,{hideFromFirst:W,hideFromLast:G,onUpdateSettings:q}),(0,i.jsx)(U,{onDelete:J,isDeleteDisabled:Z,editor:t})]})]}),(0,i.jsxs)(y.T,{children:[(0,i.jsx)(v.K,{p:0,children:(0,i.jsx)(eq,{editor:t,highlightPosition:T,showUpsell:!B})}),(0,i.jsx)(v.K,{p:0,children:(0,i.jsx)(eq,{editor:t,highlightPosition:T,cardNode:z,getPos:N,showUpsell:!B})})]})]})})]})]})}):null});eY.displayName="CardMarginsModal"},84979:(e,t,n)=>{"use strict";n.d(t,{P:()=>a,T:()=>i});let i="non-clickable",a={clipType:null,clipPath:null,clipAspectRatio:null,width:null}},85448:(e,t,n)=>{"use strict";n.d(t,{LS:()=>i,Rb:()=>l});let i=(e,t)=>r(new a(e,null),t);class a{get type(){return this.jsonNode.type}get text(){return this.jsonNode.text}get content(){return this.jsonNode.content?this.jsonNode.content.map(e=>new a(e,this)):this.jsonNode.content}get attrs(){return this.jsonNode.attrs}set attrs(e){this.jsonNode.attrs=e}constructor(e,t){this.jsonNode=e,this.parent=t,this.__type="JSONContentNode"}}let r=(e,t)=>{if(t(e),e.content)for(let n of e.content)r(n,t)},l=e=>{let t=[];return i(e,e=>{e.text&&t.push(e.text)}),t.join(" ").trim()}},85455:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var i=n(6029),a=n(33787);let r={pdf:{icon:(0,i.jsx)(a._,{src:"/_next/static/media/pdf-icon.a0dfc5d3.svg",h:"1.35rem",w:"auto"}),accentColor:"red"},pptx:{icon:(0,i.jsx)(a._,{src:"/_next/static/media/powerpoint-icon.2df39be4.svg",h:"1.5rem",w:"auto"}),accentColor:"orange"},png:{icon:(0,i.jsx)(a._,{src:"/_next/static/media/png-icon.0a2f46dc.svg",h:"1.45rem",w:"auto"}),accentColor:"purple"},google_slides:{icon:(0,i.jsx)(a._,{src:"/_next/static/media/google-slides-icon.a22064ae.svg",h:"1.6rem",w:"auto"}),accentColor:"yellow"},linkedin:{icon:(0,i.jsx)(a._,{src:"/_next/static/media/linkedin-icon.314303f8.svg",h:"1.6rem",w:"auto"}),accentColor:"deepocean.900"}}},85684:(e,t,n)=>{"use strict";n.d(t,{R:()=>u,c:()=>d});var i=n(26886),a=n(34807),r=n(55729),l=n(22249),s=n(15342),o=n(85235),c=n(43634);let d=(e,t,n)=>{let[i,a]=(0,r.useState)(!1),[l,s]=(0,r.useState)(!1),o=(0,r.useRef)(),c=(0,r.useCallback)(t=>{a(!0),e(t)},[e]),d=(0,r.useCallback)(e=>{a(!1),s(!1),t(e)},[t]),u=(0,r.useCallback)(e=>{o.current instanceof HTMLElement&&o.current.focus(),n(e)},[n]);return{isDragging:i,isMouseDown:l,handleDragStart:c,handleDragEnd:d,handleClick:u,onMouseDown:(0,r.useCallback)(()=>{s(!0),o.current=document.activeElement||void 0},[]),onMouseUp:(0,r.useCallback)(()=>{s(!1)},[])}},u=()=>{let[e]=(0,i.U)(["(max-height: 400px)","(min-height: 401px"]),t=(0,s.GV)(c.nD),n=(0,s.GV)(c.cS),r=(0,s.GV)((0,l.DP)("right")),d=(0,a.A)({base:!1,lg:!0}),u=(0,s.GV)(c.wC);return t&&!e&&!n&&!r&&d&&u!==o.w.SLIDE_VIEW}},86014:(e,t,n)=>{"use strict";n.d(t,{lm:()=>i,qh:()=>r,u4:()=>l,wM:()=>a});class i extends Error{constructor(e,t){super(e),this.name="StreamError",this.code="stream_error",t&&(this.code=t)}}class a extends i{constructor(e){super(e),this.name="StreamTimeoutError",this.code="timeout"}}class r extends i{constructor(e){super(e),this.name="StreamOnOpenError",this.code="on_open"}}class l extends i{constructor(e){super(e),this.name="StreamUnexpectedCloseError",this.code="unexpected_close"}}},86364:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});let i=new(n(83747)).b},86687:(e,t,n)=>{"use strict";n.d(t,{ML:()=>s,dQ:()=>c,pK:()=>o,y_:()=>d});var i=n(68301),a=n(3298),r=n(77071),l=n(77249);let s=()=>{let e=(0,r.aQ)();return Object.entries(a.Ab).map(t=>{let[n,a]=t,r=e.filter(e=>{let{disabled:t,featureFlag:a,family:r}=e;return!t&&(!a||i.of.get(a))&&r===n}).map(e=>{let t=e.presetConfigurations,n=[];return t&&t.forEach(t=>{n.push({...t,icon:e.icon,variantKey:e.key,key:(0,l.Z)(e.key,t.options),visible:!0})}),{variant:e,options:n}});return{family:{key:n,...a},variants:r,visible:!0}}).filter(e=>e.variants.length>0)},o=()=>s().flatMap(e=>e.variants.flatMap(e=>e.options)),c=()=>s().reduce((e,t)=>(e[t.family.key]={family:t.family,variants:t.variants},e),{}),d=()=>o().reduce((e,t)=>(e[(0,l.Z)(t.variantKey,t.options)]=t,e),{})},86812:(e,t,n)=>{"use strict";n.d(t,{N:()=>D,S:()=>M});var i=n(37243),a=n(9922),r=n.n(a),l=n(83817),s=n.n(l),o=n(80102),c=n(63867),d=n(95889),u=n(53587),p=n(69460),h=n(77467),g=n(52762),m=n(15607),x=n(91242),f=n(23513),b=n(52055),y=n(33201),v=n(72492),C=n(67864),w=n(90010),A=n(94922),j=n(71737),k=n(61385),S=n(64895),L=n(47665),I=n(26406);let E=/^(\*\*\*)/,D=i.YY.create({name:"cardCommands",addCommands:()=>({resetCardSettings:e=>t=>{let{state:n,dispatch:i,chain:a}=t;if(!i)return!0;let r=a();return n.doc.descendants((t,n)=>{(0,y.jg)(t)&&r.updateNestedAttributesAtPos(n,e)}),!0},splitCardAtSelection:()=>e=>(M(e),!0),insertNestedCard:()=>e=>{let{state:t,chain:n,dispatch:i,editor:a}=e;if(!i)return!0;let{from:r,$from:l}=t.selection;return n().insertContentAndSelect((0,b.G)().insertCardInside).command(e=>{let{tr:t}=e,n=(0,C.ek)({editor:a,pos:r-l.parentOffset-1,tr:t});return n.length&&requestAnimationFrame(()=>{var e,t;null==(e=(t=a.commands).moveAnnotations)||e.call(t,n)}),!0}).run(),!0},convertToNestedCard:()=>e=>{let{state:t,dispatch:n,commands:i}=e;if(!n)return!0;let a=(0,o.Im)(t.schema.nodes[I.Zp.name])(t,n);return i.selectInsertedNode(),a},unnestCard:e=>t=>{let{state:n,dispatch:a,chain:r,tr:l}=t,s=n.doc.nodeAt(e);if(!s||!(0,y.jg)(s))return!1;if(!a)return!0;let o=(0,S.IV)(l,e);if(!o)return!1;let c=l.doc.resolve(e),d=(0,i.eL)(c,y.jg),u=(0,j.PD)(c),p=null;u&&(p=d?(0,S.XC)(n.doc,d.pos,!0):null);let h=e+s.nodeSize,g=r();if(p&&u&&d){let e=(0,j.eh)(d.node)?u.node.content:u.node;g.insertContentAt(p,e.toJSON()).setMeta("cardNotesHandled",!0)}return g.insertContentAt({from:e,to:h},o.node.toJSON().content).selectInsertedNode().command(t=>{let{tr:n}=t;return n.setMeta("annotationEvent",{type:"merge-cards",contentPos:o.pos,insertPos:e}),!0}).run(),!0},mergeCardsAtPos:e=>t=>{let{tr:n}=t,i=n.doc.nodeAt(e);return!!i&&!!(0,y.jg)(i)&&(0,S.c9)(e,n)},mergeCardsOnDelete:e=>t=>{let{tr:n,state:a,dispatch:r}=t;if(!r)return!0;let{selection:l}=a,s=(0,i.KP)(y.jg)(l);if(!s||!l.empty)return!1;try{if(!(0,S.jF)(l,e))return!1;return e?(0,S.Uc)(s.pos,n,a):(0,S.c9)(s.pos,n)}catch(e){return console.debug("[CardCommands] mergeCardsOnDelete failed",e),!1}},insertCardAfter:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,b.G)().insertCardInside;return t=>{let{state:n,chain:a,dispatch:r}=t;if(!r)return!0;let{selection:l}=n,s=(0,i.KP)(y.jg)(l);if(!s)return!0;let{pos:o,node:c}=s,d=o+c.nodeSize;return a().insertContentAt(d,e).selectInsertedNode().scrollIntoView().run(),!0}},deleteCardIfEmpty:e=>t=>{let{tr:n,dispatch:i,state:a}=t;if(!i)return!0;let r=!1,{from:l,to:s}=a.selection;return a.doc.nodesBetween(l,s,(t,i)=>{if((0,y.jg)(t)&&(0,I.ey)(t)&&i>k.$x){let a=n.doc.resolve(i).depth>1;n.deleteRange(i,i+t.nodeSize);let l=(0,f.n)(n.doc.resolve(i+(a?0:e?1:-1)),e?1:-1);l&&n.setSelection(l),r=!0}}),r},deleteCard:e=>t=>{let{state:n,dispatch:i,tr:a}=t;if(!i)return!0;let r=n.doc.resolve(e),l=r.depth>1,s=r.nodeAfter;if(!s||!(0,y.jg)(s))return console.error("[CardExtension.deleteCard] Cannot delete card. Node unknown"),!1;a.delete(e,e+s.nodeSize);let o=(0,f.n)(a.doc.resolve(e-!l),-1);return o&&a.setSelection(o),!0},duplicateCard:e=>t=>{let{state:n,chain:i,editor:a}=t,l=n.doc.nodeAt(e);if(!l||!(0,y.jg)(l))return console.error("[CardExtension.duplicateCard] Cannot duplicate card. Node unknown"),!1;let s=e+l.nodeSize,o=(0,v.RE)(r()(l.toJSON()));return i().insertContentAt(s,o,{updateSelection:!1}).command(e=>{let{tr:t}=e;return t.setMeta(h._,!0),!0}).run(),setTimeout(()=>{a.chain().selectInsideNodeAtPos(s).focus().run()},200),!0},rearrangeCards:e=>{let{from:t,to:n,position:i}=e;return e=>{let a,{view:r,state:l,tr:s}=e,o=l.doc.resolve(n),d=l.doc.resolve(t),u=d.pos+d.nodeAfter.nodeSize,p=new c.nh(d),h=p.content();if((a="below"===i?o.pos+o.nodeAfter.nodeSize:"above"===i?o.pos:o.pos+o.nodeAfter.nodeSize-1)===d.pos)return s.setMeta("preventDispatch",!0),!0;s.delete(p.from,p.to);let g=s.mapping.map(a);s.replaceRangeWith(g,g,h.content.firstChild);let m=s.doc.resolve(g+1);s.setSelection(new c.nh(m));let x={type:"move",insertPos:g,insertPosRaw:a,pos:d.pos,end:u};return s.setMeta("annotationEvent",x).setMeta("rearrangeCards",!0),r.focus(),!0}},rearrangeCardsById:(e,t,n)=>i=>{var a;let{dispatch:r,tr:l,editor:o}=i;if(!r)return!0;let c=(0,L.aJ)(o.state.doc);if(!c)return!1;let u=c.map(e=>e.node.attrs.id),h=t.filter(e=>u.includes(e)).map(e=>c.find(t=>t.node.attrs.id===e)).filter(e=>!!e),g=h.map(e=>({pos:e.pos,id:e.node.attrs.id})).filter(e=>{let{id:t}=e;return t&&"string"==typeof t}),m=null==(a=h[0])?void 0:a.node.attrs.id;if(!m)return!0;let x=Math.max(e.findIndex(e=>e===m),0),f=e[x-1],b=c.find(e=>e.node.attrs.id===f),y=x>0&&b?b.pos+b.node.nodeSize:c[x].pos;if(void 0===y)return!0;[...h].reverse().forEach(e=>{e&&l.replaceWith(y,y,e.node)}),h.forEach(e=>{if(!e)return;let t=l.mapping.map(e.pos);l.delete(t,t+e.node.nodeSize)});let v=(0,L.aJ)(l.doc);if(!v)return!0;let C=v.map(e=>({pos:e.pos,id:e.node.attrs.id})).filter(e=>{let{id:n}=e;return t.includes(n)}),w=C.map(e=>{var t;let{id:n,pos:i}=e,a=null==(t=g.find(e=>e.id===n))?void 0:t.pos;return a?{id:n,oldPos:a,newPos:i}:null}).filter(e=>!!e);return l.setMeta("annotationEvent",{type:"rearrange-cards",rearrangedCardPositions:w,insertPos:y}).setMeta("rearrangeCards",!0).setMeta(p.G,!0),s()(C,g)||d.zS.trackDocEvent(d.VV.CARDS_REORDERED,{card_count:t.length,method:(null==n?void 0:n.viewPreference)==="film"?"filmstrip":"list-view"}),!0},updateThemeAccentImages:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{var i;let{editor:a,commands:r}=n;if((null==(i=(0,w.lI)(a).aiOptions.imageOptions)?void 0:i.provider)==="placeholder")return!0;let l=!e||0===e.length,s=0;return a.state.doc.descendants((n,i)=>{let a=(0,A.wL)(n);if(a||(0,y.jg)(n)){let o=a&&n.attrs.background.type===g.h.NONE;(n.attrs.background.source===u.j||t&&a||o)&&(l?r.updateAttributesAtPos(i,{background:{type:a?g.h.NONE:void 0}}):(r.updateNestedAttributesAtPos(i,{background:e[s%e.length]}),s++))}}),!0}},deleteCardsById:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let{editor:a,dispatch:r,tr:l}=n;if(!r)return!0;let s=(0,i.xe)(a.state.doc,t=>(0,y.jg)(t)&&e.includes(t.attrs.id));if(!s.length)return!1;let o=s.map((e,t)=>({pos:e.pos,cardIndex:t}));s.forEach(e=>{let{node:t,pos:n}=e;l=l.delete(l.mapping.map(n),l.mapping.map(n+t.nodeSize))});let c=s[0].pos,d=(0,x.s)(l.doc.resolve(c));return d&&(l=l.setSelection(d)),t&&l.setMeta("annotationEvent",{type:"filmstrip-cut",deleted:o}),l.setMeta(p.G,!0),!0}},deleteCardsAfter:e=>t=>{let{editor:n,dispatch:i,commands:a}=t;if(!i)return!0;let r=(0,m.GY)(n.state.doc.firstChild,e=>(0,y.jg)(e)).map(e=>e.node.attrs.id);if(null===e)return a.deleteCardsById(r);let l=r.indexOf(e),s=l>-1?r.slice(l+1):[];return 0===s.length||a.deleteCardsById(s)},selectInsideNextCard:e=>t=>{let{state:n,dispatch:i,commands:a}=t;if(!i)return!0;let{selection:r}=n,l=(0,m.IV)(r.$from,y.jg)[0];if(!l||!r.empty)return!1;let s=n.doc.resolve(l.pos),o=s.index();if(e){if(o===s.parent.childCount-1)return!1;a.selectInsideNodeAtPos(l.pos+l.node.nodeSize)}else{if(0===o)return!1;let e=s.posAtIndex(o-1);a.selectInsideNodeAtPos(e,-1)}return!0}}),addInputRules:()=>[new i.fV({find:E,handler:e=>{let{state:t,range:n}=e,{tr:i}=t;M({tr:i.deleteRange(n.from,n.to),dispatch:!0})}})]}),M=e=>{let{tr:t,dispatch:n}=e;if(!n)return;let a=(0,i.KP)(y.jg)(t.selection);if(!a)return void console.error("Couldn't find parent card while splitting",t.selection);let{accent:r,body:l}=(0,A.dg)(t,a.pos);r&&l&&r.pos>l.pos&&(t.delete(r.pos,r.pos+r.node.nodeSize),t.insert(l.pos,r.node));let{selection:s}=t,{$from:o}=s,c=s.$from.parentOffset,d=s.from-c-1,u=s.$from.node().content.size-s.$from.parentOffset;t.setMeta(h._,!0),t.setMeta("annotationEvent",{type:"split-card",splitPos:o.before()});let{node:p,depth:g}=a,{type:m,attrs:b}=p,v=o.depth-g+1,C=(0,j.PD)(t.doc.resolve(a.pos));t.split(o.pos,v,[{type:m,attrs:{...b,layout:"blank"}}]);let w=(0,x.t)(t,k.Qs).pos,S=t.doc.nodeAt(w).childCount;if(0===c&&(t.delete(d,d+t.doc.nodeAt(d).nodeSize),w=t.steps[t.steps.length-1].getMap().map(w)),0===u&&S>1){let e=w+1,n=t.doc.nodeAt(e);n&&"cardNotes"!==n.type.name&&"cardLayoutItem"!==n.type.name&&t.delete(e,e+n.nodeSize)}let L=(0,j.PD)(t.doc.resolve(w));L&&t.delete(L.pos,L.pos+L.node.nodeSize);let I=(0,f.n)(t.doc.resolve(w+1)),E=t.doc.nodeAt(a.pos),D=E&&a.pos+E.nodeSize-1;if(D&&C){let e=C.node;t.insert(D,e),t.setMeta("cardNotesHandled",!0)}I&&t.setSelection(I).scrollIntoView()}},86932:(e,t,n)=>{"use strict";n.d(t,{A3:()=>v,TX:()=>C,nf:()=>w,wg:()=>S});var i=n(21938),a=n(37243),r=n(63867),l=n(97255),s=n(15342),o=n(85011),c=n(95889),d=n(43634),u=n(85235),p=n(15607),h=n(80911),g=n(6845),m=n(47665),x=n(60300),f=n(4967),b=n(53891);let y=new r.hs("expandableNodes"),v=e=>e.some(e=>e.spec.isExpandableNode),C=e=>e instanceof h.J&&0===e.side&&w(e.node),w=e=>!0===e.type.spec.expandable,A=(e,t)=>{if(!(null==t?void 0:t.from))return!1;let n=(0,p.jB)(e,t.from),i=(0,o.cH)(n);return(null==i?void 0:i.inView)===!0},j=(e,t,n)=>{let i=(0,m.Py)(e.view.nodeDOM(t)),a=(0,o.cH)(i);if(!a)return!1;let{bottomInView:r,topInView:l}=a;return"top"===n?l:r},k=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.state.selection,l=a instanceof h.J&&1===a.side?a.to:a.from;if(l<=t){if(j(e,t,"top"))return null}else if(l>=n){if(j(e,t,"bottom"))return null}else{if(A(e,a))return null;let t=e.state.doc.resolve(l);if(A(e,r.LN.findFrom(t,-1,!1))||A(e,r.LN.findFrom(t,1,!1)))return null}let s=(0,p.XL)({editor:e,side:i?"bottom":"top",margin:200});if(s.pos){let t=r.LN.findFrom(e.state.doc.resolve(s.pos),i?1:-1,!1);return(null==t?void 0:t.from)||null}return null},S=a.YY.create({name:"expandableNodes",extendNodeSchema(e){var t;return{expandable:null!=(t=(0,a.gk)((0,a.iI)(e,"expandable",e)))&&t}},addCommands:()=>({expandOrCollapseExpandableNode:e=>t=>{let{state:n,chain:i}=t,a=null!=e?e:n.selection.from,r=n.doc.nodeAt(a);if(!r||!w(r))return!1;let l=(0,s.KA)();switch(r.type.name){case"card":if(l.dispatch((0,d.mF)({attached:!1})),null===c.zS||void 0===c.zS||c.zS.track(c.VV.CARD_EXPANDED,{is_present_mode:!0,method:"enter_key"}),(0,g.Wq)(r.attrs.id))return i().descendIntoCurrentCard(a).reHighlightExpandableNode().run();return i().spotlightCollapseCard(a).reHighlightExpandableNode().run();case"toggle":{(0,b.bG)(r.attrs.id,!(0,b.vb)(r.attrs.id));let t=i();return e&&t.spotlightNextBlock(),t.reHighlightExpandableNode().run(),!0}case"image":case"video":case"embed":return l.dispatch((0,d.a)({nodeId:r.attrs.id})),!0;case"gallery":{let e=r.firstChild;if(e)return l.dispatch((0,d.a)({nodeId:e.attrs.id})),!0;return!1}default:return!1}},goToNextExpandableNode:e=>t=>{var n;let{editor:i,tr:a,state:r}=t,l=f.n.getState(i.state),s=(0,m.W0)(i,l.cardId);if(!s)return!1;let c=s.node.attrs.id,d=s.pos,u=s.pos+s.node.nodeSize,p=i.state.selection,g=C(p),b=p instanceof h.J,v=k(i,d,u,e),A=(null==(n=y.getState(r))?void 0:n.lastApplied)||+new Date;if(g&&!v&&new Date-A>3e3)return i.commands.reHighlightExpandableNode();a.setMeta(y,{});let j=b&&(-1===p.side&&e||1===p.side&&!e)?-1:0,S=Math.min(Math.max(v||(g||!b?p.from:1===p.side?p.to+j:p.from+j),d),u-1),L=(0,x.vi)(i,c,S,w,e);if(console.debug("[ExpandableNodes] goToNextExpandableNode",{posToUse:S,overridePos:v},L),!L.pos||!L.domNode||L.cardId!==c)return a.setSelection(h.J.create(i.state.doc,d,e?-1:1)),!1;let I=(0,o.cH)(L.domNode,50);return(null==I?void 0:I.inView)?(a.setSelection(h.J.create(i.state.doc,L.pos)),(0,o.H1)("editor").scrollElementIntoView({element:L.domNode,attempts:0,offsetFromTop:null}),!0):(g&&a.setSelection(h.J.create(i.state.doc,p.from,e?-1:1)),!1)},reHighlightExpandableNode:()=>e=>{let{tr:t,editor:n}=e;return t.setMeta(y,{shouldAddResetClass:!0}),requestAnimationFrame(()=>{n.commands.command(e=>{let{tr:t}=e;return t.setMeta(y,{shouldAddResetClass:!1}),!0})}),!0}}),addProseMirrorPlugins:()=>[new r.k_({key:y,state:{init:()=>({lastApplied:0,shouldAddResetClass:!1}),apply(e,t){let n=e.getMeta(y);return n?{...t,lastApplied:+new Date,...n}:t}},props:{decorations(e){let t=f.n.getState(e);if(null==t?void 0:t.pos)return l.zF.empty;let n=y.getState(e);if((0,d.wC)((0,s.KA)().getState())!==u.w.SLIDE_VIEW)return l.zF.empty;let a=e.selection;if(!C(a)||!(a instanceof h.J))return l.zF.empty;let r=a.node;return l.zF.create(e.doc,[l.NZ.node(a.from,a.from+r.nodeSize,{class:(0,i.cx)("expandable-node-selected",(null==n?void 0:n.shouldAddResetClass)&&"expandable-node-reset")},{isExpandableNode:!0})])}}})]})},86958:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});let i=e=>"calloutBox"===e.type.name},87045:(e,t,n)=>{"use strict";n.d(t,{B:()=>P});var i=n(6029),a=n(24302),r=n(26420),l=n(40452),s=n(17496),o=n(58959),c=n(29810),d=n(49611),u=n(99492),p=n(48621),h=n(47412),g=n(19564),m=n(70315),x=n(55729),f=n(74158),b=n(11403),y=n(41896),v=n(43634),C=n(15607),w=n(70787),A=n(95325),j=n(87140),k=n(32973),S=n(1739),L=n(58617),I=n(45574),E=n(89124),D=n(2320),M=n(25600),R=n(37243);let _=n(83902).A.extend({parseHTML:()=>[{tag:"p"}],renderHTML(e){let{HTMLAttributes:t}=e;return["p",(0,R.KV)(t,{dir:"auto"}),0]}}),z=()=>[A.A.configure({horizontalRule:!1,codeBlock:!1,paragraph:!1}),_,D.c,w.Ay.configure({openOnClick:!1}),k.N,L.c,E.M9,E.lw,E.BF,S.Hf,j.a,S.mk,I.Q8,M.bU],N=(0,m.v_)("mod+Enter"),T=(0,m.v_)("mod+a"),P=x.memo(e=>{let{clearContentOnSave:t=!1,editable:n=!0,saveButtonText:m=(0,i.jsx)(g.x6,{id:"tfDRzk"}),saveButtonIcon:w=(0,i.jsx)(p.g,{icon:u.isI}),initialContent:A="",placeholder:j="Reply",showBorder:k=!0,onCancelEditingClick:S,onCommentSave:L,onCreate:I=()=>{},onUpdate:E=()=>{},shouldFocus:D=!0,alwaysShowButtons:M=!1,...R}=e,_=(0,x.useMemo)(()=>z(),[]),P=(0,f.d4)(v.sX),H=(0,f.d4)(v.aQ),F=(0,y.hG)({extensions:_,content:A,onCreate:e=>{let{editor:t}=e;I({editor:t}),t.gammaDocId=P,t.gammaOrgId=H},onUpdate:e=>{let{editor:t,transaction:n}=e;E({editor:t,transaction:n})}});(0,x.useEffect)(()=>{F&&F.setOptions({editable:n})},[F,n]),(0,b.Vg)(()=>{F&&D&&F.isEditable&&F.commands.focus("end")},[F,D],[F]),(0,x.useEffect)(()=>{F&&!n&&(null==F||F.commands.setContent(A))},[F,A,n]);let{colorMode:B}=(0,a.G6)(),O="light"===B,V=e=>{T(e)&&(e.preventDefault(),null==F||F.commands.selectAll()),N(e)&&(e.preventDefault(),e.stopPropagation(),W())},W=()=>{!(!L||!F||(0,C.mf)(F.state.doc)||(0,C.nC)(F.state.doc))&&(L(F.getJSON()),t&&F.commands.clearContent(!0))};return n?(0,i.jsxs)(l.s,{"data-gamma-child-tiptap-editor":"comment-editor",direction:"column",...R,children:[(0,i.jsx)(r.a,{tabIndex:0,w:"100%",onKeyDownCapture:V,onKeyPressCapture:V,className:"comment-editor",color:O?"gray.700":"gray.200",bg:O?"white":"gray.700",...k?{border:"1px solid",borderColor:O?"gray.200":"gray.600",borderRadius:"md"}:{},sx:{"p:first-of-type::before":(null==F?void 0:F.isEmpty)?{content:'"'.concat(j,'"'),float:"left",color:O?"gray.400":"gray.500",pointerEvents:"none",height:"0"}:""},fontSize:"sm",children:(0,i.jsx)(y.$Z,{editor:F,className:"comment-editor",style:{wordBreak:"break-word",width:"100%"}})}),(0,i.jsxs)(s.S,{in:!!(M||F&&!F.isEmpty),children:[(0,i.jsx)(r.a,{h:3,children:(0,i.jsx)(i.Fragment,{})}),(0,i.jsxs)(o.z,{children:[(0,i.jsx)(c.h,{}),!!S&&(0,i.jsx)(h.Tz,{label:(0,i.jsx)(g.x6,{id:"zeQdHz"}),placement:"top",children:(0,i.jsx)(d.$,{size:"sm",variant:"hazardous",onClick:()=>{S&&S(),null==F||F.commands.clearContent(!0)},children:(0,i.jsx)(g.x6,{id:"dEgA5A"})})}),(0,i.jsx)(d.$,{size:"sm",variant:"solid",leftIcon:w,isDisabled:(null==F?void 0:F.isEmpty)||(0,C.nC)(null==F?void 0:F.state.doc),onClick:W,"data-testid":"post-comment",children:m})]})]})]}):(0,i.jsx)(r.a,{fontSize:"sm",children:(0,i.jsx)(y.$Z,{editor:F})})})},87140:(e,t,n)=>{"use strict";n.d(t,{a:()=>g,h:()=>m});var i=n(21938),a=n(37243),r=n(63867),l=n(97255),s=n(68301),o=n(15607);class c extends r.k_{removeOverlappingDecorations(e,t){let n=this.getDecorationsRanges(t),i=e.find(n.from,n.to).filter(e=>n.hasRange(e));return e.remove(i)}getDecorationsRanges(e){let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=new Set;return e.forEach(e=>{let{from:a,to:r}=e;a<t&&(t=a),r>n&&(n=r),i.add("".concat(a,":").concat(r))}),{from:t,to:n,hasRange:e=>{let{from:t,to:n}=e;return i.has("".concat(t,":").concat(n))}}}decorateDoc(e){let t=[];return e.descendants(this.decorateNode.bind(this,t)),l.zF.create(e,t)}processStep(e,t,n,i){let a=t.doc,r=t.mapping.slice(i+1),l=r.map("from"in e?e.from:e.pos),s="to"in e?r.map(e.to):l,o="slice"in e?e.slice.content.size:0;a.descendants((e,t,i,a)=>!(t+e.nodeSize<l)&&!(t>s+o)&&("document"===e.type.name||!i||this.decorateNode(n,e,t,i,a)))}constructor({key:e,decorateNode:t,options:n={}}){super({key:e,state:{init(e,t){let{doc:n}=t;return{decorations:this.decorateDoc(n)}},apply(e,t){var i,a;let r=null==(i=n.processEntireDoc)?void 0:i.call(n),l=null!=(a=n.shouldProcessStep)?a:o.Be,s=t.decorations;if(!e.steps.length&&!r)return{...t,decorations:s.map(e.mapping,e.doc)};if(r||(0,o.R3)(e))return{...t,decorations:this.decorateDoc(e.doc)};let c=[];e.steps.forEach((t,n)=>{if(l(t))return this.processStep(t,e,c,n)});let d=this.removeOverlappingDecorations(s.map(e.mapping,e.doc),c).add(e.doc,c);return{...t,decorations:d}}},props:{decorations:t=>{var n;return null==(n=e.getState(t))?void 0:n.decorations}}}),this.decorateNode=t}}var d=n(33201),u=n(67864),p=n(94922);function h(e,t,n,a,r){if((0,u.cE)(a)&&e.push(l.NZ.node(n,n+t.nodeSize,{},{isAnnotatable:!0})),(0,d.CD)(t))e.push(l.NZ.node(n,n+t.nodeSize,{class:(0,i.cx)("block","block-".concat(t.type.name),0===r&&"first-block",r===a.childCount-1&&"last-block")})),0===r&&((0,d.jg)(a)||(0,p.Eg)(a))&&e.push(l.NZ.node(n,n+t.nodeSize,{class:"first-block-in-card"},{isFirstBlockInCard:!0}));else{if(!t.isLeaf&&!t.isBlock)return!1;e.push(l.NZ.node(n,n+t.nodeSize,{class:"node-".concat(t.type.name)}))}return!0}let g=a.YY.create({name:"blockClass",addOptions:()=>({blockClass:"block"}),addProseMirrorPlugins:()=>[new c({key:new r.hs("blockClass"),decorateNode:h,options:{processEntireDoc:()=>!s.of.get("useTransactionBlockPlugin")}})]}),m=e=>!!e.find(e=>e.spec.isFirstBlockInCard)},87379:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var i=n(84462),a=n.n(i),r=n(58495);class l{_flush(){this._handle=0;let e=this._queue;this._queue=[],e.forEach(e=>{let{fn:t}=e;t()})}push(e,t){if(t){let n=this._queue.findIndex(e=>e.id===t);n>-1?this._queue.splice(n,1,{fn:e,id:t}):this._queue.push({fn:e,id:t})}else this._queue.push({fn:e,id:(0,r.Ak)(5)});this._handle||(this._handle=requestAnimationFrame(this._flush.bind(this)))}constructor(){this._queue=[],this._handle=0,this._handle=requestAnimationFrame(this._flush.bind(this))}}let s=a()(()=>new l)},87790:(e,t,n)=>{"use strict";n.d(t,{Q:()=>k});var i=n(6029),a=n(67909),r=n(36071),l=n(54731),s=n(17920),o=n(40452),c=n(3674),d=n(40691),u=n(48810),p=n(83638),h=n(25223),g=n(64268),m=n(51504),x=n(16426),f=n(61204),b=n(49611),y=n(47412),v=n(19564),C=n(55729),w=n(33619),A=n(9118),j=n(99038);let k=e=>{let{isAdminView:t=!1,isFullDoc:n,isSite:k,onClose:S,startTranslation:L}=e,[I]=(0,w.L)(),[E,D]=(0,C.useState)(I);return(0,i.jsx)(y.L8,{isDark:!1,children:(0,i.jsxs)(a.aF,{isOpen:!0,onClose:S,children:[(0,i.jsx)(r.m,{}),(0,i.jsxs)(l.$,{children:[(0,i.jsx)(s.r,{children:(0,i.jsx)(o.s,{alignItems:"center",mr:8,children:k?(0,i.jsx)(v.x6,{id:"56Urwv"}):n?(0,i.jsx)(v.x6,{id:"e2vVXR",values:{GAMMA_ARTIFACT_PROPER_NOUN:j.TP}}):(0,i.jsx)(v.x6,{id:"DLQ7Yc"})})}),(0,i.jsx)(c.s,{}),(0,i.jsxs)(d.c,{children:[(0,i.jsx)(u.E,{mb:4,children:k?(0,i.jsx)(v.x6,{id:"dZwNdR"}):n?(0,i.jsx)(v.x6,{id:"6YnROT",values:{GAMMA_ARTIFACT_PROPER_NOUN:j.TP}}):(0,i.jsx)(v.x6,{id:"WQFlqR"})}),(0,i.jsxs)(p.MJ,{children:[(0,i.jsx)(h.l,{children:(0,i.jsx)(u.E,{fontSize:"14px",children:(0,i.jsx)(v.x6,{id:"3LIgcv"})})}),(0,i.jsx)(w.j,{buttonProps:{variant:"plain",justifyContent:"flex-start",textAlign:"left",width:"100%"},locale:E,setLocale:e=>{D((0,A.xt)(e))}})]}),t&&(0,i.jsx)(o.s,{mt:4,children:(0,i.jsxs)(g.F,{status:"warning",children:[(0,i.jsx)(m._,{}),"You're using the translation feature as an admin in the PUBLIC_STATIC editor. Translations made here will not be persisted to the database and are intended for admin review process only."]})})]}),(0,i.jsx)(x.j,{children:(0,i.jsxs)(f.e,{children:[(0,i.jsx)(b.$,{variant:"ghost",colorScheme:"gray",onClick:S,color:t?{color:"orange.500"}:void 0,_hover:t?{bg:"orange.100"}:void 0,children:(0,i.jsx)(v.x6,{id:"dEgA5A"})}),(0,i.jsx)(b.$,{variant:"solid",bg:t?"orange.500":void 0,_hover:{bg:t?"orange.700":void 0},onClick:()=>L(E),children:(0,i.jsx)(v.x6,{id:"pi8x/S"})})]})})]})]})})}},87930:(e,t,n)=>{"use strict";n.d(t,{T:()=>d,U:()=>c});var i=n(37243),a=n(63867),r=n(83817),l=n.n(r),s=n(43634);class o{compute(e){let t=e.firstChild;if(!t)return this;let n=t.attrs;return l()(n,this.value)||(this.hasChanges=!0),this.value=n,this}apply(e,t){return e.docChanged&&this.compute(e.doc),this}processChanges(e){this.hasChanges&&this.value&&e((0,s.H3)({docAttrs:this.value})),this.hasChanges=!1}constructor(){this.hasChanges=!1,this.value=null}}let c=new a.hs("documentAttrs"),d=i.YY.create({name:"documentAttrs",addProseMirrorPlugins:()=>[new a.k_({key:c,state:{init:()=>new o,apply:(e,t,n,i)=>t.apply(e,i)}})]})},88055:(e,t,n)=>{"use strict";n.d(t,{jI:()=>L,h6:()=>S.h6,tr:()=>_});var i=n(6029),a=n(46898),r=n(57405),l=n(58959),s=n(23293),o=n(48810),c=n(26385),d=n(49611),u=n(80314),p=n(58297),h=n(26420),g=n(81107),m=n(99492),x=n(55597),f=n(48621),b=n(19564),y=n(77650),v=n(37219),C=n(24496),w=n(72809),A=n(99038),j=n(82927),k=n(29608),S=n(44637);let L=e=>{var t,n,p;let{accessLink:h,doc:L,refetchFn:E,...D}=e,M=!(0,k._y)(),R=(0,a.d)(),{refetch:_}=(0,j.ur)(),z=E||_,N=e=>{let{title:t,description:n}=w.m[e]||{title:(0,i.jsx)(b.x6,{id:"U7nnQt"}),description:e};R.isActive(e)||R({title:t,description:n,position:"top",id:e,status:"error",isClosable:!0,duration:null})},T=null!=(n=null==h?void 0:h.permission)?n:"view",P={manage:(0,i.jsx)(b.x6,{id:"C11Xkl",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP}}),edit:(0,i.jsx)(b.x6,{id:"C11Xkl",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP}}),comment:(0,i.jsx)(b.x6,{id:"gu6c+c",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP}}),view:(0,i.jsx)(b.x6,{id:"LoR9yH",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP}})}[T],H={manage:(0,i.jsx)(b.x6,{id:"MEeXaP"}),edit:(0,i.jsx)(b.x6,{id:"MEeXaP"}),comment:(0,i.jsx)(b.x6,{id:"dx3Kfr"}),view:(0,i.jsx)(b.x6,{id:"R2ZEYO"})}[T],F={manage:{icon:x.zLW,colorScheme:"sky"},edit:{icon:x.zLW,colorScheme:"sky"},comment:{icon:x.DN2,colorScheme:"yellow"},view:{icon:x.ao0,colorScheme:"green"}},B=null!=(p=null==L||null==(t=L.editors)?void 0:t.map(e=>e.user.displayName))?p:[],O=(()=>{switch(T){case"manage":case"edit":switch(B.length){case 0:return(0,i.jsx)(b.x6,{id:"bspMVx",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP},components:{0:(0,i.jsx)("span",{role:"img","aria-label":y.Ru._({id:"JGFG6q"})}),1:(0,i.jsx)("strong",{})}});case 1:return(0,i.jsx)(b.x6,{id:"w49thS",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP,0:B[0]},components:{0:(0,i.jsx)("span",{role:"img","aria-label":y.Ru._({id:"JGFG6q"})}),1:(0,i.jsx)("strong",{})}});case 2:return(0,i.jsx)(b.x6,{id:"Tz4Wi7",values:{0:B[0],1:B[1]},components:{0:(0,i.jsx)("span",{role:"img","aria-label":y.Ru._({id:"7Lrnj6"})}),1:(0,i.jsx)("strong",{}),2:(0,i.jsx)("strong",{})}});default:return(0,i.jsx)(b.x6,{id:"VhIJ/j",values:{0:B[0],1:B.length-1},components:{0:(0,i.jsx)("span",{role:"img","aria-label":y.Ru._({id:"7Lrnj6"})}),1:(0,i.jsx)("strong",{})}})}case"comment":return(0,i.jsx)(b.x6,{id:"vIOI7i",components:{0:(0,i.jsx)("span",{role:"img","aria-label":y.Ru._({id:"OoNfwA"})}),1:(0,i.jsx)("strong",{}),2:(0,i.jsx)("strong",{})}});default:return(0,i.jsx)(b.x6,{id:"k/HcwJ",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP},components:{0:(0,i.jsx)("strong",{})}})}})(),V=async()=>{z&&(await z(),(0,S.Us)()),R.isActive("login-complete")||R({title:(0,i.jsx)(b.x6,{id:"yFvQAN"}),description:P,position:"top",id:"login-complete",status:"success",isClosable:!0,duration:5e3})};return(0,i.jsxs)(r.T,{align:"stretch",...D,children:[(0,i.jsxs)(l.z,{spacing:4,me:6,children:[(0,i.jsx)(I,{icon:(0,i.jsx)(f.g,{icon:F[T].icon}),colorScheme:F[T].colorScheme}),(0,i.jsx)(s.D,{as:"p",size:"sm",children:H})]}),(0,i.jsx)(o.E,{fontSize:"sm",children:O}),(0,i.jsxs)(c.B,{children:[M&&(0,i.jsx)(d.$,{variant:"solid",leftIcon:(0,i.jsx)(f.g,{icon:g.FjH}),size:"md",onClick:()=>{(0,C.gG)({type:C.Xh.DOC_ACCESS_LINK,params:{docId:null==L?void 0:L.id,shareToken:h.token},errorCallback:N,doneCallback:V})},children:(0,i.jsx)(b.x6,{id:"oZyG4C"})}),(0,i.jsx)(d.$,{variant:"plain",as:u.N,target:"_blank",leftIcon:(0,i.jsx)(f.g,{icon:m.y_8}),href:"/signup",children:(0,i.jsx)(b.x6,{id:"yrlCvg"})}),(0,i.jsx)(o.E,{fontSize:"xs",color:"gray.600",children:(0,i.jsx)(b.x6,{id:"oXChp6",values:{GAMMA_PROPER_NOUN:A.On},components:{0:(0,i.jsx)(u.N,{href:v.er,isExternal:!0,fontWeight:"bold"}),1:(0,i.jsx)(u.N,{href:v.WO,isExternal:!0,fontWeight:"bold"})}})})]})]})},I=e=>{let{icon:t,colorScheme:n}=e;return(0,i.jsxs)(p.j,{size:10,bg:"linear-gradient(to bottom, var(--chakra-colors-".concat(n,"-200), var(--chakra-colors-").concat(n,"-300))"),position:"relative",children:[(0,i.jsx)(h.a,{color:"".concat(n,".600"),display:"block",mt:"0.5",textAlign:"center",children:t}),(0,i.jsx)(p.j,{size:5,position:"absolute",bottom:-1,right:-1,color:"".concat(n,".800"),bg:"".concat(n,".100"),boxShadow:"base",fontSize:"xs",children:(0,i.jsx)(f.g,{icon:x.QLR})})]})};var E=n(77364),D=n(55729),M=n(27748);let R=e=>{let{onClose:t,doc:n,...a}=e;return(0,i.jsxs)(h.a,{bg:"white",border:"0.5px solid var(--chakra-colors-gray-50)",borderRadius:"md",shadow:"md",maxWidth:"calc(".concat(M.HB,"px - 1rem)"),display:"column",p:4,position:"relative",children:[(0,i.jsx)(E.J,{size:"sm",onClick:t,position:"absolute",top:2,right:2}),(0,i.jsx)(L,{...a,doc:n,spacing:4})]})},_=(e,t)=>{let{isUserLoading:n,user:i,refetch:r}=(0,j.ur)(),l=(0,S.h6)(e,i),s=(0,a.d)(),o=(0,D.useRef)();(0,D.useEffect)(()=>{let a=t&&!i&&!n&&e&&l&&"view"!==l.permission;o.current&&s.close(o.current),a&&(o.current=s({position:"bottom-left",render:t=>{let{onClose:n}=t;return R({refetchFn:r,doc:e,accessLink:l,onClose:n})},isClosable:!0,duration:null}))},[r,i,n,l,s,e,t])}},88145:(e,t,n)=>{"use strict";n.d(t,{b:()=>u});var i=n(51684);let a=["venn","rings","bullseye","ribbon_arrows","ideas","inputs","quadrants","swoosh","infinity","square_arrows","puzzle","bubble_steps","nested_diamond","packed_circles","pinwheel","iceberg","slope","arrow_bars","hot_air_balloons","circle_hero_pic","bar_chart_image"];var r=n(68301),l=n(47512),s=n(76083),o=n(14389),c=n(98088),d=n(13357);let u=()=>Object.entries(l.cy).filter(e=>{let[t,n]=e;return!n.disabled&&(void 0===n.featureFlag||r.of.get(n.featureFlag))}).map(e=>{let[t,n]=e,{label:r,icon:l,defaultColorScheme:u,previewImage:p,defaultData:h,defaultWidth:g}=n,m="smart-diagram-".concat(t),x=()=>({templateKey:t,id:(0,c.z)(),data:{...h?h():{},colorScheme:u},horizontalAlign:"center",width:g?g*o.St:void 0}),f=e=>{let n=a.includes(t),i=x();if(n&&e){let t=(0,d.YR)(e);return{type:"smartDiagram",attrs:{...i,...t}}}return{type:"smartDiagram",attrs:i}};return{key:m,name:r,nodeName:"smartDiagram",icon:null!=l?l:i.qTS,previewImage:p,featureFlag:"smartDiagrams",keywords:["diagram","smart"],execute:e=>{e.chain().focus().insertSmartDiagram({attrs:x(),allowGeneration:a.includes(t)}).run()},dragStartFn:e=>(0,s.fS)(e,f(e)),dragEndFn:e=>{if(a.includes(t)){let{state:t}=e,{selection:n}=t,i=n.from;requestAnimationFrame(()=>{(0,d.BX)(e,t,i)})}}}})},88720:(e,t,n)=>{"use strict";n.d(t,{V:()=>u});var i=n(6029),a=n(58959),r=n(49611),l=n(48810),s=n(47412),o=n(19564),c=n(55729),d=n(5061);let u=(0,c.memo)(function(e){let{onClick:t,isCompact:n=!1}=e,c=(0,d.fW)(),u=(0,i.jsx)(o.x6,{id:"pQr8gu"}),p=(0,i.jsx)("span",{role:"img","aria-label":"warning",children:"⚠️"});return(0,i.jsxs)(a.z,{dir:c?"rtl":void 0,spacing:n?1:2,children:[t?(0,i.jsxs)(a.z,{spacing:n?1:2,children:[p,(0,i.jsx)(r.$,{variant:"link",colorScheme:"gray",fontSize:"xxs",onClick:t,children:u})]}):(0,i.jsxs)(l.E,{as:"span",display:"inline-flex",gap:2,fontSize:"xxs",children:[!n&&p,u]}),(0,i.jsx)(s.qT,{fontSize:n?"xxs":void 0,display:"block",lineHeight:"0",label:(0,i.jsx)(o.x6,{id:"ek68m3"})})]})})},88889:(e,t,n)=>{"use strict";n.d(t,{Y:()=>k,h:()=>L});var i=n(6029),a=n(26420),r=n(40452),l=n(53996),s=n(51684),o=n(97139),c=n.n(o),d=n(55729),u=n(94111),p=n(59230),h=n(15342),g=n(43634),m=n(60908),x=n(62171),f=n(58082),b=n(17485),y=n(66079),v=n(4522),C=n(21982),w=n(62695),A=n(50861),j=n(83143);let k=e=>{var t,n,l;let{image:o,editor:c,getPos:d,imageShape:u,imageSx:b,node:A,decorations:j,handleEditableClick:k,handleEditableDoubleClick:S,hasQuickActions:I=!1,isInlineColorableSvg:E=!1,editWithoutSelection:D=!1}=e,M=(0,w.j)(c,d),R=c.state.selection.from===d(),_=(0,m.SV)((null==o?void 0:o.src)||(null==o?void 0:o.tempUrl)),z=(0,m.v7)(null==o?void 0:o.src),{isDark:N,bodyColor:T}=(0,f.a)(j),P=!o||o.showPlaceholder||!o.src&&!o.tempUrl,H=null!=(l=o&&(null==(t=o.loadImageParams)?void 0:t.provider))?l:void 0,F=o&&"queued"===o.loadImageStatus&&!c.isThumbnail,{tempUrl:B,uploadStatus:O,meta:V}=o||{},W=(null==o?void 0:o.src)?(0,m.pO)(o.src,T):void 0,U=(0,h.GV)(g.nD),G=A.attrs.source,Z=W&&(0,m.Ub)(W,c.isThumbnail?m.p7:c.isSiteNavbarEditor?m.oc:{width:1e3,height:1e3},V),K=(0,m.QV)(Z,Z?void 0:B),Q={backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:E||P?void 0:K,backgroundPosition:(0,x.w3)(o),width:"100%",height:"100%",borderRadius:"circle"!==u||E?"var(--box-border-radius)":"full",transitionProperty:"border-radius",transitionDuration:"normal",...b};return(0,i.jsxs)(a.a,{position:"relative",cursor:R||D&&U?"pointer":"default",contentEditable:!1,h:"100%",onClick:U?k:void 0,onDoubleClick:U?S:void 0,transitionProperty:"filter background",transitionDuration:"normal",_hover:U&&R?{filter:N?"brightness(1.15)":"brightness(0.85)",bg:_?N?"whiteAlpha.100":"blackAlpha.100":void 0}:void 0,children:[P?(0,i.jsx)(C.Pf,{...Q,isLoading:!!F,loadingProvider:H,icon:(null==(n=y.Fn["image.custom"])?void 0:n.icon)||s.Cyq,h:"100%",hasQuickActions:I,onSelectAndFocus:()=>{U&&M()},defaultSource:G,cursor:R||D?"pointer":"default"}):z?(0,i.jsx)(m.FD,{src:W||B||"",poster:null==V?void 0:V.poster,w:"100%",h:"100%",objectFit:"cover","data-content-reference":!0}):E?(0,i.jsx)(L,{image:o,src:W||B||"",imageShape:u,imageStyles:Q}):(0,i.jsx)(r.s,{"data-content-reference":!0,"data-change-focus-point-el":!0,className:"card-layout-cell-bg",position:"relative",sx:Q}),O==p.A.Uploading&&U&&(0,i.jsx)(v.Td,{}),O==p.A.Error&&(0,i.jsx)(v.Hy,{})]})},S=e=>{try{let t=e.getBBox();if(0===t.width||0===t.height)return;return"".concat(t.x," ").concat(t.y," ").concat(t.width," ").concat(t.height)}catch(e){console.error("Error calculating viewBox:",e);return}},L=e=>{var t;let{image:n,src:a,imageShape:r,imageStyles:s}=e,o=null!=(t=b.zF[r||"square"])?t:b.zF.square,{meta:p}=n||{},h=(0,A.Kk)(a,"accessory-img-inline-svg"),[g,m]=(0,d.useState)(void 0),x=(0,d.useRef)(null),f=(null==p?void 0:p.width)&&(null==p?void 0:p.height)?"0 0 ".concat(p.width," ").concat(p.height):void 0,y=(0,d.useCallback)(()=>{var e;let t=null==(e=x.current)?void 0:e.querySelector("svg");t&&requestAnimationFrame(()=>{let e=S(t);e&&m(e)})},[]);return(0,i.jsx)(l.o,{...s,objectFit:"contain",ref:x,sx:{svg:{width:"100%",aspectRatio:null==o?void 0:o.aspectRatio,height:"unset"}},children:(0,i.jsx)(u.A,{src:h,viewBox:f||g||"0 0 512 512",className:"colorable-icon",onLoad:f?void 0:y,preProcessor:e=>{let t=(0,j.gG)(e);return c().sanitize(t,{USE_PROFILES:{svg:!0,svgFilters:!0},PARSER_MEDIA_TYPE:"image/svg+xml",ALLOWED_NAMESPACES:["http://www.w3.org/2000/svg"]})},overflow:"visible"})})}},89124:(e,t,n)=>{"use strict";n.d(t,{BF:()=>B,lw:()=>er,M9:()=>eo});var i=n(6029),a=n(48810),r=n(26476),l=n(99492),s=n(55597),o=n(47412),c=n(19564),d=n(37243),u=n(55729),p=n(39247),h=n(15342),g=n(63902),m=n(26420),x=n(48621);let f={card:l.vti,doc:l.vGi,user:l.Hzw},b=e=>{let{type:t}=e,n=f[t];return(0,i.jsx)(m.a,{as:"span",display:"inline-flex",className:"mention",minW:"5em",opacity:"0.6",borderRadius:"sm",color:"gray.700",children:(0,i.jsx)(m.a,{display:"inline-flex",py:"0.125em",children:(0,i.jsx)(x.g,{icon:n,style:{marginLeft:"0.5em",alignSelf:"center"}})})})};var y=n(19546),v=n(41896),C=n(43634),w=n(85732),A=n(70006),j=n(38934),k=n(2320),S=n(46957);let L=e=>{let{filterFn:t,getAttributesFn:n}=e;return e=>(function(e){let{type:t}=e;if(!t.isInline)throw Error("[nodePasteRule] This paste rule was only designed to consider inline nodes.");return new d._n({find:e.find,handler:t=>{let{state:n,range:i,match:a}=t,{tr:r}=n,l=i.from,s=i.to,o=(0,d.gk)(e.getAttributes,void 0,a)||{};r.replaceWith(l,s,e.type.create(o))}})})({find:e=>{let n=[...e.matchAll(A.D_)];return n?n.map(e=>{var t;return{index:null!=(t=e.index)?t:-1,text:e[0],match:e}}).filter(e=>{let n=(0,A.TY)(e.text),{cardId:i}=(0,A.$9)(e.text);return t(n,i,e)}):[]},type:e,getAttributes:e=>{let t=(0,A.TY)(e[0]),{cardId:i}=(0,A.$9)(e[0]);return n({match:e,docId:t,cardId:i})}})};var I=n(58959),E=n(80314),D=n(3276),M=n(82203),R=n.n(M),_=n(91938);let z={borderRadius:"md",padding:"0.05em 0.1em",display:"inline",color:"gray.700"},N=(0,u.forwardRef)((e,t)=>{let{mentionLabel:n,mentionIcon:r,mentionTargetUrl:l,onClick:s,hasError:o=!1,isSimpleLinkVersion:c=!1,...d}=e,u=c?R():"span";return(0,i.jsxs)(m.a,{ref:t,position:"relative","data-selection-ring":!0,className:"mention",onClick:s,...z,color:o?"gray.600":z.color,...d,as:u,...{href:c?l:void 0,cursor:(s||c)&&!o?"pointer":"default"},children:[(0,i.jsxs)(I.z,{display:"inline-flex",spacing:0,children:[r&&(0,i.jsx)(m.a,{display:"inline-block",textAlign:"center",minWidth:4,children:(0,i.jsx)(x.g,{icon:r,fixedWidth:!0,size:"sm",style:{marginInlineStart:"0.1em",marginInlineEnd:"0.3em"}})}),(0,i.jsx)(a.E,{noOfLines:1,whiteSpace:"normal",wordBreak:"break-all",flex:1,lineHeight:"normal",children:n})]}),_.$.GAMMA_PUPPETEER_SERVICE&&l&&(0,i.jsx)(E.N,{href:l,h:"100%",w:"100%",position:"absolute",zIndex:"-10","data-pdf-link":!0,top:"0",left:"0"})]})});N.displayName="MentionTag";let T=()=>(0,i.jsx)(m.a,{as:"span",className:"mention",...z,children:(0,i.jsx)(D.y,{size:"xs",opacity:"0.8",margin:"0 0.1em"})}),P="Untitled",H=e=>{let{node:t,editor:n}=e,{id:d,docId:m}=t.attrs,x=(0,h.GV)((0,p.F1)(d)),f=(0,h.GV)(C.bO).includes(d),b=(0,h.GV)(C.nD);(0,u.useEffect)(()=>{n.storage[B.name][d]=x},[x,n.storage,d]);let j=(0,u.useCallback)(e=>{(0,y.T)(n,e,d)},[n,d]),k=(0,g.oR)(),S=(0,u.useMemo)(()=>{let e=(0,A.Io)({cardId:d,docId:m||n.gammaDocId});return k?(0,w.M7)({url:e}):e},[d,m,n,k]);return(0,i.jsx)(v.VR,{as:"span",children:f?(0,i.jsx)(N,{"data-testid":"card-mention",onClick:b?void 0:j,onDoubleClick:b?j:void 0,mentionLabel:x||P,mentionIcon:l.vti,mentionTargetUrl:S}):(0,i.jsx)(o.Tz,{label:(0,i.jsx)(a.E,{children:(0,i.jsx)(c.x6,{id:"HAIPtO",components:{0:(0,i.jsx)(r.u,{fontSize:"sm",color:"blackAlpha.800"})}})}),children:(0,i.jsx)(N,{"data-testid":"card-mention",hasError:!0,mentionLabel:"Cannot find referenced card",mentionIcon:s.AEl})})})},F=e=>(0,i.jsx)(v.VR,{as:"span",children:(0,i.jsx)(b,{type:"card"})}),B=d.bP.create({name:"cardMention",addStorage:()=>({}),addOptions:()=>({HTMLAttributes:{},suggestion:{char:k.A}}),priority:j.y.CardMention,group:"inline",inline:!0,selectable:!0,atom:!0,addAttributes:()=>({id:{default:null},docId:{default:null},mentionedById:{default:null}}),addPasteRules(){return[L({filterFn:(e,t)=>e===this.editor.gammaDocId&&!!t,getAttributesFn:e=>{let{docId:t,cardId:n}=e;return{id:n,docId:t}}})(this.type)]},addCommands(){return{addCardMention:(e,t)=>{let{id:n,docId:i,mentionedById:a}=e;return e=>{var r;let{state:l,chain:s}=e,o=l.selection.$to.nodeAfter;return(null==o||null==(r=o.text)?void 0:r.startsWith(" "))&&(t.to+=1),s().focus().insertContentAt(t,[{type:this.name,attrs:{id:n,docId:i,mentionedById:a}},{type:"text",text:" "}]).run(),!0}}}},parseHTML(){return[{tag:'a[data-type="'.concat(this.name,'"]'),priority:51}]},renderHTML(e){let{HTMLAttributes:t,node:n}=e,{id:i,docId:a}=n.attrs,r=this.storage[i]||P;return["a",(0,d.KV)({"data-type":this.name,href:(0,A.Io)({docId:a,cardId:i})},this.options.HTMLAttributes,t),r]},renderText(e){let{node:t}=e,{id:n,docId:i}=t.attrs,a=this.storage[n]||P,r=(0,A.Io)({docId:i,cardId:n});return"[".concat(a,"](").concat(r,")")},addNodeView(){return this.editor.isThumbnail?(0,v.gu)(F,{update:S.z0}):(0,v.gu)(H,{update:S.z0})}});var O=n(99038);let V="docMention";var W=n(12514),U=n(77650),G=n(18833),Z=n(20664),K=n(74892),Q=n(88586),q=n(68301),J=n(14900),$=n(48932),Y=n(82927),X=n(11403);let ee=()=>U.Ru._({id:"NJnubC",values:{GAMMA_ARTIFACT_PROPER_NOUN:O.TP}}),et=(0,G.P)(m.a),en=e=>{var t,n;let{node:a,editor:r}=e,{id:s}=a.attrs,d=(0,q.u)("screenshotsEnabled"),p=(0,g.oR)(),{user:h}=(0,Y.ur)(),[m]=(0,Q.D7K)(),x=(0,X.En)(),{data:f,error:b,loading:y,subscribeToMore:C}=(0,Q.AZr)({variables:{id:s},skip:p||!s}),w=!!(!p&&h);(0,u.useEffect)(()=>{if(w)return C({document:Q.Tyz,variables:{id:s},updateQuery:(e,t)=>{let{subscriptionData:n}=t;return n.data&&n.data.doc?{doc:{...e.doc,...n.data.doc,__typename:"Doc"}}:e},onError:e=>{}})},[s,b,C,w]);let{title:j,createdTime:k,createdBy:S,editedTime:L,editors:I,docUser:E}=(null==f?void 0:f.doc)||{},{linkUrl:D,handleClick:M}=(0,$.c)({url:(0,A.LN)({docId:s,docTitle:j,absolute:!0}),nonPublishedUrl:(0,A.LN)({docId:s,docTitle:j})});(0,u.useEffect)(()=>{r.storage[V][s]=b?ee():j},[j,r.storage,s,b]);let R={src:d?null==f||null==(n=f.doc)||null==(t=n.titleCard)?void 0:t.previewUrl:K.A.src,fallbackSrc:K.A.src},_=e=>()=>{if(!h)return;let t={input:{docId:s,userId:h.id,favorited:e}};m({variables:t,update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(s),fragment:Q.pfv,data:{docUser:null==n?void 0:n.updateDocUser}})},optimisticResponse:{updateDocUser:{...E,favorited:t.input.favorited,__typename:"DocUser"}}})},{popperRef:z,referenceRef:P,isHovering:H,onMouseOver:F,onMouseOut:B,getPopperProps:U}=(0,X.bf)();return(0,i.jsxs)(v.VR,{as:"span",children:[y?(0,i.jsx)(T,{}):b?(0,i.jsx)(o.Tz,{label:(0,i.jsx)(c.x6,{id:"MnhVwn",values:{GAMMA_ARTIFACT_PROPER_NOUN:O.TP}}),children:(0,i.jsx)(N,{hasError:!0,mentionLabel:ee(),mentionIcon:l.DW4})}):D?(0,i.jsx)(N,{onMouseOver:p?void 0:F,onMouseOut:p?void 0:B,onClick:M,ref:P,isSimpleLinkVersion:p,mentionLabel:j||"",mentionIcon:l.vGi,mentionTargetUrl:D}):null,(0,i.jsx)(W.Z,{children:!b&&H&&f&&f.doc&&!p&&(0,i.jsx)(et,{width:"320px","data-target-name":"doc-mention-popup",border:"1px solid",borderColor:"gray.200",borderRadius:"lg",overflow:"hidden",shadow:"lg",maxW:"80vw",zIndex:"tooltip",ref:z,onMouseOver:F,onMouseOut:B,...U(),...X._w,children:(0,i.jsx)(Z.Dg,{createdByYou:(null==S?void 0:S.id)===(null==h?void 0:h.id),title:j||"",timestampDescription:x?(0,i.jsx)(c.x6,{id:"yxz5Og",values:{0:(0,J.Bo)(L)}}):"---",NextLink:null,href:D,onClick:M,id:s,createdByName:(null==S?void 0:S.displayName)||"",createdByEmail:(null==S?void 0:S.email)||"",createdByProfileImageUrl:(null==S?void 0:S.profileImageUrl)||"",createdTime:k,thumbnailImageUrl:R,editors:I,isFavorited:!!(null==E?void 0:E.favorited),onFavorite:_(new Date),onUnfavorite:_(null),menuEnabled:!1,openInNewWindow:!0})})})]})},ei=e=>(0,i.jsx)(v.VR,{as:"span",children:(0,i.jsx)(b,{type:"doc"})}),ea="Unknown ".concat(O.TP),er=d.bP.create({name:V,addStorage:()=>({}),addOptions:()=>({HTMLAttributes:{},suggestion:{char:k.A}}),priority:j.y.DocMention,group:"inline",inline:!0,selectable:!0,atom:!0,addAttributes:()=>({id:{default:null},mentionedById:{default:null}}),addPasteRules(){return[L({filterFn:(e,t)=>e!==this.editor.gammaDocId||!t,getAttributesFn:e=>{let{docId:t}=e;return{id:t}}})(this.type)]},addCommands(){return{addDocMention:(e,t)=>{let{id:n,mentionedById:i}=e;return e=>{var a;let{state:r,chain:l}=e,s=r.selection.$to.nodeAfter;return(null==s||null==(a=s.text)?void 0:a.startsWith(" "))&&(t.to+=1),l().focus().insertContentAt(t,[{type:this.name,attrs:{id:n,mentionedById:i}},{type:"text",text:" "}]).run(),!0}}}},parseHTML(){return[{tag:'a[data-type="'.concat(this.name,'"]'),priority:51}]},renderHTML(e){let{HTMLAttributes:t,node:n}=e,i=this.storage[n.attrs.id]||ea;return["a",(0,d.KV)({"data-type":this.name,href:(0,A.LN)({docId:n.attrs.id,absolute:!0})},this.options.HTMLAttributes,t),i]},renderText(e){let{node:t}=e,n=this.storage[t.attrs.id]||ea,i=(0,A.LN)({docId:t.attrs.id,absolute:!0});return"[".concat(n,"](").concat(i,")")},addNodeView(){return this.editor.isThumbnail?(0,v.gu)(ei,{update:S.z0}):(0,v.gu)(en,{update:S.z0})}}),el=e=>{let{node:t}=e,{label:n}=t.attrs;return(0,i.jsx)(v.VR,{as:"span",children:(0,i.jsx)(N,{mentionLabel:"@".concat(n)})})},es=e=>(0,i.jsx)(v.VR,{as:"span",children:(0,i.jsx)(b,{type:"user"})}),eo=d.bP.create({name:"mention",addOptions:()=>({HTMLAttributes:{},renderLabel(e){var t;let{options:n,node:i}=e;return"".concat(n.suggestion.char).concat(null!=(t=i.attrs.label)?t:i.attrs.id)},suggestion:{char:k.A}}),priority:j.y.UserMention,group:"inline",inline:!0,selectable:!0,atom:!0,addAttributes:()=>({id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}},profileImageUrl:{default:null,parseHTML:e=>e.getAttribute("data-profile-image-url"),renderHTML:e=>e.profileImageUrl?{"data-profile-image-url":e.profileImageUrl}:{}},mentionedById:{default:null,parseHTML:e=>e.getAttribute("data-mentioned-by-id"),renderHTML:e=>e.mentionedById?{"data-mentioned-by-id":e.mentionedById}:{}}}),addCommands(){return{addUserMention:(e,t)=>{let{id:n,label:i,profileImageUrl:a,mentionedById:r}=e;return e=>{var l;let{state:s,chain:o}=e,c=s.selection.$to.nodeAfter;return(null==c||null==(l=c.text)?void 0:l.startsWith(" "))&&(t.to+=1),o().focus().insertContentAt(t,[{type:this.name,attrs:{id:n,label:i,profileImageUrl:a,mentionedById:r}},{type:"text",text:" "}]).run(),!0}}}},parseHTML(){return[{tag:'span[data-type="'.concat(this.name,'"]')}]},renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["span",(0,d.KV)({"data-type":this.name},this.options.HTMLAttributes,n),this.options.renderLabel({options:this.options,node:t})]},renderText(e){let{node:t}=e;return this.options.renderLabel({options:this.options,node:t})},addNodeView(){return this.editor.isThumbnail?(0,v.gu)(es,{update:S.z0}):(0,v.gu)(el,{update:S.z0})}})},89263:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var i=n(55729),a=n(92739);let r=e=>{let{interceptLinkClick:t,linkUrlSafe:n,linkInterceptEnabled:r}=(0,a.i)(e),l=(0,i.useCallback)(function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i=>{if(e){if(!r){n||window.open(e,"_blank","noopener");return}!t(i)&&(n||window.open(e,"_blank","noopener"))}}},[e,t,r]);return(0,i.useMemo)(()=>({handleOpenNativeLinkWithInterstitial:l(!0),handleOpenLinkWithInterstitial:l(),linkUrlSafe:n}),[l,n])}},89481:(e,t,n)=>{"use strict";n.d(t,{S6:()=>I,XO:()=>D,ck:()=>E,p5:()=>L});var i=n(77650),a=n(37243),r=n(55729),l=n(81807),s=n(80116),o=n(34832),c=n(17859),d=n(83605),u=n(82592),p=n(41),h=n(13559),g=n(48993),m=n(6018),x=n(68301),f=n(58809),b=n(66380),y=n(22445),v=n(11390),C=n(15342),w=n(43634),A=n(82927),j=n(47665),k=n(3383),S=n(40094);let L=(e,t)=>({...e,...t,id:e.id}),I=e=>{let{editor:t,getPos:n,cardId:a}=e,u=(0,C.GV)(f.Jo),y=(0,C.CU)(),w=(0,C.GV)((0,g.wQ)(a)),{imageProvider:j,imageOptions:I}=(0,b.V)(),D=(0,r.useCallback)(async e=>{let n=e.instructions?e.instructions:e.operation?e.operation.instructions:"",{previous:i,inputHtml:r,operation:s}=e;if(!u||!u.organization)throw Error("Doc or organization not found");let p=(0,c.$F)(),g=performance.now(),f=(0,h.h)(t,y),b={interface:"edit-card",interactionId:p,inputContent:r,inputMessage:n,inputData:{custom:!!s,operation:null==s?void 0:s.key,operationGroup:null==s?void 0:s.group,imageProvider:j,...f},product:(0,v.A4)(u.organization),docId:u.id,cardId:a},C=(0,A.P9)(u.organization.id);try{(0,c.rl)(b);let e=(null==s?void 0:s.key)==="edit.translate",t=await (0,o.K8)({promptKey:"EditCardWithLayout",variables:{inputHtml:r,request:n,previousHtml:i,imageOptions:I,imageProvider:j,...f,model:x.of.get("editCardModel"),reasoningEffort:x.of.get("editCardReasoningEffort"),docId:u.id,basePromptKey:e?"TranslateCard":x.of.get("editCardPrompt")},interactionId:p,workspaceId:(null==C?void 0:C.id)||u.organization.id,opts:{maxRetries:0}}),a=(0,l.DB)(t),h=(0,d.dE)(a);return(0,c.Yh)({...b,outputContent:a,outputMessage:t.replace(a,"[outputContent]"),latency:performance.now()-g}),(0,m.w)("editCard",C,p),{output:h,interactionId:p}}catch(e){throw(0,c.tB)({...b,errorMessage:e.message,errorCode:e.code,errorName:e.name,errorStack:e.stack,outputMessage:"Error editing card",latency:performance.now()-g}),e}},[u,y,a,j,I,t]),M=(0,r.useCallback)(async e=>{let{instructions:r,operation:l}=e,o=n(),c=t.view.state.doc.nodeAt(o);if(!c)return void console.error("[AICard] Cannot append card. Node unknown");try{var d,u;y.dispatch((0,g.Ic)({cardId:a,suggestions:{status:"loading",loadingMessage:null==l||null==(d=l.loadingMessage)?void 0:d.call(l),variants:[]}}));let e=(0,k.ze)(t,o),n=(0,s.KC)(t,c),{output:p,interactionId:h}=await D({instructions:r,operation:l,inputHtml:n,previous:e});p.attrs=L(c.attrs,p.attrs),E(t,a,p,h),y.dispatch((0,g.Ic)({cardId:a,suggestions:{status:"done",interactionId:h,selected:"v1",operation:l,instructions:r,variants:[{label:i.Ru._({id:"HxF6Fk"}),isOriginal:!0,id:"original",card:c.toJSON()},{label:(null==l||null==(u=l.variationName)?void 0:u.call(l))||i.Ru._({id:"YledUl"}),isOriginal:!1,id:"v1",card:p}]}}))}catch(e){console.error("[EditCard] Error regenerating card",e),y.dispatch((0,g.Ic)({cardId:a,suggestions:{status:"error",variants:[]}}))}},[D,t,n,y,a]);return(0,r.useEffect)(()=>p.R.on("translate",e=>{let{type:t,cardId:n,language:i}=e,r=S.Jz.find(e=>"edit.translate"===e.key);"card"===t&&n===a&&r&&M({instructions:"".concat(i.englishName," (").concat(i.key,")"),operation:r})}),[a,M]),{editCard:M,status:w}},E=(e,t,n,i)=>{let r=(0,a.xe)(e.state.doc,e=>(0,j.jg)(e)&&e.attrs.id===t)[0];if(!r)return void console.warn("[useGenerateCard] Card not found. It may have been deleted while generating.");e.chain().setMeta("isEditCardVariant",!0).setMeta("cardNotesHandled",!0).insertContentAt({from:r.pos,to:r.pos+r.node.nodeSize},n).selectInsideCardBody(r.pos).run();let l=(0,w.SJ)((0,C.KA)().getState());(0,u.Sg)({editor:e,content:n,theme:l,interactionId:i})},D=e=>{let{cardId:t}=e,{isOpen:n,onClose:i,onOpen:a}=(0,y.E)({id:"TranslateCardDisclosure"}),l=(0,r.useCallback)(e=>{p.R.emit("translate",{type:"card",cardId:t,language:e}),i()},[t,i]);return{isTranslateCardOpen:n,onTranslateCardOpen:a,onTranslateCardClose:i,startTranslation:l}}},89584:(e,t,n)=>{"use strict";n.d(t,{s:()=>x});var i=n(6029),a=n(40452),r=n(26420),l=n(16936),s=n(99492),o=n(48621),c=n(47412),d=n(19564),u=n(77650),p=n(97139),h=n.n(p),g=n(55729),m=n(56288);let x=e=>{let{targetHtml:t,onTargetClick:n,isSourceContentAvailable:p,instanceType:x}=e,[f,b]=(0,g.useState)(!1),[y,v]=(0,g.useState)(!1),C=(0,g.useRef)(null),w=(0,m.EC)(),A=f?s.AeV:s.DqM,j=f?u.Ru._({id:"vLyv1R"}):u.Ru._({id:"fMPkxb"});return(0,g.useEffect)(()=>{var e;C.current&&v(!(!f&&C.current.scrollHeight<=(null==(e=C.current)?void 0:e.clientHeight)))},[f]),(0,i.jsxs)(a.s,{className:"block-target-html",ps:3,mb:2,borderInlineStartWidth:"4px",borderInlineStartStyle:"solid",borderInlineStartColor:"yellow.200",direction:"row",alignItems:"flex-end",cursor:p&&"feed"===x?"pointer":"auto",onClick:n,children:[(0,i.jsx)(c.Tz,{label:(0,i.jsx)(d.x6,{id:"/oHV5h"}),isDisabled:!("feed"===x&&!p),portalProps:{containerRef:w},children:(0,i.jsx)(r.a,{flex:1,ms:-3,ps:3,w:"100%",fontSize:"sm",noOfLines:f?void 0:3,dangerouslySetInnerHTML:{__html:t?h().sanitize(t):""},ref:C,_hover:{bgColor:"feed"===x?p?"yellow.100":"gray.50":void 0}})}),y&&(0,i.jsx)(c.Tz,{label:j,portalProps:{containerRef:w},children:(0,i.jsx)(l.K,{variant:"ghost",size:"xs","aria-label":j,icon:(0,i.jsx)(o.g,{icon:A}),onClick:()=>{b(e=>!e)},"data-target-name":"comment-target-expand-button",isRound:!0})})]})}},89603:(e,t,n)=>{"use strict";n.d(t,{N3:()=>d,Wj:()=>c,bk:()=>u,pN:()=>p,uI:()=>h});var i=n(12364),a=n.n(i),r=n(58495),l=n(63867),s=n(15342),o=n(43634);let c=(e,t)=>{let n=(0,s.KA)();n.dispatch((0,o.U)(t?{noteId:e}:{noteId:null}));let i=n.getState();!t&&(0,o.rp)(i)&&n.dispatch((0,o.Zf)({isEditingMedia:!1})),!t&&(0,o.dK)(i)&&n.dispatch((0,o.a)({nodeId:null}))},d=a()(c,30),u=()=>{let e=(0,s.KA)().getState();return(0,o.DH)(e)},p=()=>(0,r.Ak)(5),h=e=>e instanceof l.nh&&"footnote"===e.node.type.name},89703:(e,t,n)=>{"use strict";n.d(t,{G:()=>s,f:()=>o});var i=n(55729),a=n(15342),r=n(43634),l=n(15350);let s=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,a.KA)();if(!t)return void console.error("[MediaDrawer].openMediaDrawer: can't open because getStore() returned ".concat(t));e&&t.dispatch((0,l.Hy)()),t.dispatch((0,r.Zf)({isEditingMedia:!0}))},o=()=>{let e=(0,a.CU)();return(0,i.useCallback)(t=>{let{isOpen:n,shouldResetSourceKey:i=!0}=t;i&&e.dispatch((0,l.Hy)()),e.dispatch((0,r.Zf)({isEditingMedia:n}))},[e])}},90047:(e,t,n)=>{"use strict";n.d(t,{a:()=>u,e:()=>d});var i=n(17859),a=n(68301),r=n(28630),l=n(40782),s=n(59230),o=n(8327),c=n(98088);let d=e=>{let{query:t,provider:n,license:i,model:a,stylePreset:r,stylePrompt:s,artStylePreset:o,artStylePrompt:d,visualsMenuEnabled:u}=e;return t?("aiGenerated"!==n&&(t=t.split(", ")[0]),{loadImageParams:{provider:n,query:t,options:"aiGenerated"===n?{model:a,stylePreset:r,stylePrompt:s,artStylePreset:o,artStylePrompt:d,visualsMenuEnabled:u}:{license:i}},loadImageStatus:"queued",loadImageId:(0,c.z)(),source:l.j[n]}):{loadImageStatus:"error"}},u=async e=>{let{loadImageId:t,loadImageParams:n,context:a,imageStore:c}=e,{query:d,options:u,provider:h}=n,{interactionId:g,...m}=a;try{if("aiGenerated"===h){let e={...u,interactionId:g||(0,i.$F)(),steps:30,...m,prompt:d,count:1},t=await (0,r.hU)(e);if(!t[0])return{loadImageStatus:"error"};return{...t[0].attrs,tempUrl:null,loadImageStatus:"done",uploadStatus:s.A.Queued}}if("icon"===h){let{primary:e,fallback:i}=p(),a=e,r=await c.findImage({query:d,provider:a,options:n.options,loadImageId:t,count:5});if(r||(a=i,r=await c.findImage({query:d,provider:a,options:n.options,loadImageId:t,count:5})),!r)return{query:d,source:l.j[e],loadImageStatus:"error"};return{...(0,o.TF)(r,d,a),loadImageStatus:"done",uploadStatus:s.A.Queued}}{let e=await c.findImage({query:d,provider:h,options:n.options,loadImageId:t});if(!e)return{query:d,source:l.j[h],loadImageStatus:"error"};return{...(0,o.TF)(e,d,h),loadImageStatus:"done",uploadStatus:s.A.Queued}}}catch(e){return console.error("[AIStream] An error occurred while fetching image: ".concat(e.message),e.stack),{loadImageStatus:"error"}}},p=()=>{let e=a.of.get("aiIconProvider");return{primary:e,fallback:"pictographicIcons"===e?"fontawesome":"pictographicIcons"}}},90184:(e,t,n)=>{"use strict";n.d(t,{G:()=>g});var i=n(6029),a=n(74676),r=n(58959),l=n(48810),s=n(99492),o=n(48621),c=n(47412),d=n(19564),u=n(68301),p=n(89942),h=n(779);let g=e=>{var t;let{type:n,...g}=e,m=(0,u.u)("aiDebits");if((0,p.ez)("unlimited_credits"))return null;let x=null!=(t=m[n])?t:h.rA[n];return(0,i.jsx)(c.Tz,{label:(0,i.jsx)(d.x6,{id:"B7jvsP",values:{numCredits:x}}),children:(0,i.jsx)(a.E,{colorScheme:"whiteAlpha",bg:"whiteAlpha.300",textTransform:"none",textShadow:"none",fontSize:"xxs",ml:2,...g,children:(0,i.jsxs)(r.z,{spacing:1,children:[(0,i.jsx)(l.E,{children:x}),(0,i.jsx)(o.g,{icon:s.wq_,size:"sm"})]})})})}},90221:(e,t,n)=>{"use strict";n.d(t,{J:()=>x,m:()=>f});var i=n(6029),a=n(80314),r=n(831),l=n.n(r),s=n(55729),o=n(63902),c=n(83004),d=n(91938);let u=e=>{let{files:t}=e;return(0,i.jsx)(i.Fragment,{children:t.map(e=>(0,i.jsx)("link",{rel:"preload",href:e,as:"font",crossOrigin:""},e))})},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('".concat(e,"/fonts/EudoxusSans-Bold.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-Bold.woff') format('woff');\n  font-weight: bold;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-Regular.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-Regular.woff') format('woff');\n  font-weight: normal;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-Light.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-Light.woff') format('woff');\n  font-weight: 300;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-ExtraBold.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-ExtraBold.woff') format('woff');\n  font-weight: 800;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-ExtraLight.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-ExtraLight.woff') format('woff');\n  font-weight: 200;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-Medium.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-Medium.woff') format('woff');\n  font-weight: 500;\n  font-style: normal;\n  font-display: block;\n}\n")},h=["/fonts/EudoxusSans-Bold.woff","/fonts/EudoxusSans-Bold.woff2","/fonts/EudoxusSans-Regular.woff","/fonts/EudoxusSans-Regular.woff2","/fonts/EudoxusSans-Light.woff","/fonts/EudoxusSans-Light.woff2","/fonts/EudoxusSans-ExtraBold.woff","/fonts/EudoxusSans-ExtraBold.woff2","/fonts/EudoxusSans-ExtraLight.woff","/fonts/EudoxusSans-ExtraLight.woff2","/fonts/EudoxusSans-Medium.woff","/fonts/EudoxusSans-Medium.woff2"],g=h.map(e=>"".concat(d.$.FRONTEND_URL).concat(e)),m=e=>{let{shouldUsePublishedVersion:t}=e,n=p(t?d.$.FRONTEND_URL:"");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.mL,{styles:n}),(0,i.jsx)(u,{files:t?g:h})]})},x=e=>{let{fonts:t}=e,n=(0,o.oR)(),r=null==t?void 0:t.find(e=>"Eudoxus Sans"===e.id),c=(0,s.useMemo)(()=>l()((null==t?void 0:t.filter(e=>e.url))||[],"url"),[t]);return(0,i.jsxs)(i.Fragment,{children:[r?(0,i.jsx)(m,{shouldUsePublishedVersion:n}):null,c.map(e=>(0,i.jsx)(a.N,{as:"link",href:e.url,rel:"stylesheet","data-gamma-font":e.id},e.url))]})},f=e=>{let{theme:t}=e;return(0,i.jsx)(x,{fonts:null==t?void 0:t.fonts})}},90278:(e,t,n)=>{"use strict";n.d(t,{$o:()=>h,TS:()=>b,aG:()=>p,eL:()=>f,fc:()=>x,oO:()=>m,tN:()=>y});var i=n(37243),a=n(63867),r=n(15607),l=n(23460),s=n(60908),o=n(28700),c=n(36145),d=n(55424),u=n(77071);let p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ltr",n=(0,u.BJ)(e.variantKey),i={};return n.options.forEach(n=>{var a;let{key:r,defaultValue:l}=n;i[r]=null!=(a=e.options[r])?a:null==l?void 0:l({dir:t})}),i},h=e=>{var t;let n=(0,u.BJ)(e.variantKey),i=p(e);return(null==(t=n.addDirection)?void 0:t.call(n,i))||"right"},g=(e,t)=>t.nodes.smartLayout.validContent(e.content),m=e=>{let t=(0,c.p$)(e).filter(e=>(0,s.u3)(e.type));return 1===t.length&&t[0]},x=(e,t,n)=>{let i=e.posAtCoords({left:t.clientX,top:t.clientY});if(!i)return null;let a=e.state.doc.resolve(i.inside),s=(0,r.IV)(a,d.q)[0],c=(0,r.IV)(a,d.M)[0],u=n&&(0,o.H)(n),p=m(t);if(!s&&!c||u&&"image"!==u.type.name||!p)return null;let h=(0,l.xX)(t.target,e.dom,e=>e.hasAttribute("data-smart-layout-image-drop-target"));if(h){let e=h.getBoundingClientRect();return{pos:i.inside,node:u,rect:e,image:{src:null==u?void 0:u.attrs.src,source:null==u?void 0:u.attrs.source,query:null==u?void 0:u.attrs.query,name:null==u?void 0:u.attrs.name,uploadStatus:null==u?void 0:u.attrs.uploadStatus}}}return null},f=(e,t,n)=>{let a;if(!n||!g(n,e.state.schema))return null;let r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r||-1==r.inside)return null;let{doc:l}=e.state,s=l.nodeAt(r.pos),o=l.nodeAt(r.inside);if(o&&(0,d.q)(o))a={node:o,pos:r.inside};else if(s&&(0,d.q)(s))a={node:s,pos:r.pos};else{let e=l.resolve(r.inside);a=(0,i.eL)(e,d.q)}let c=a&&e.nodeDOM(a.pos),u=null==c?void 0:c.querySelector("[data-content-reference]"),p=null==u?void 0:u.getBoundingClientRect();if(!a||!p)return null;let m=l.resolve(a.pos).parent;if(!m||!(0,d.M)(m))return null;let x="right"===h(m.attrs)?t.clientX>p.left+p.width/2?"right":"left":t.clientY>p.top+p.height/2?"bottom":"top";return{pos:a.pos,node:a.node,rect:p,side:x}},b=(e,t,n)=>{var r;if(!n)return null;let l=n.content.toJSON(),s=null==l?void 0:l[0];if(e.state.selection instanceof a.nh&&"smartLayout"===e.state.selection.node.type.name||!s||(null==s?void 0:s.type)!=="smartLayout")return null;let o=null==(r=s.attrs)?void 0:r.variantKey,c=e.posAtCoords({left:t.clientX,top:t.clientY});if(!c||-1==c.inside)return null;let{doc:u}=e.state,p=u.resolve(c.inside),h=(0,i.eL)(p,d.M);if(!h)return null;let g=e.nodeDOM(h.pos),m=null==g?void 0:g.getBoundingClientRect();return m?{pos:h.pos,node:h.node,variantKey:o,rect:m}:null},y=(e,t)=>{let n=(0,i.eL)(t,d.M);n&&e.commands.selectNodeAtPos(n.pos)}},91176:(e,t,n)=>{"use strict";n.d(t,{V:()=>l});var i=n(6029),a=n(55729),r=n(4097);let l=a.forwardRef((e,t)=>{let{onDragStart:n}=(0,r.c)(),a=e.as||"div";return(0,i.jsx)(a,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})})},91242:(e,t,n)=>{"use strict";n.d(t,{s:()=>function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{doc:l}=t,s=n<0;if(!t.nodeAfter)return null;if(t.nodeAfter.inlineContent)return a.LN.near(l.resolve(t.pos+(s?t.nodeAfter.content.size+1:0)),n);let o=(0,i.xe)(t.nodeAfter,e=>e.inlineContent||!r&&a.nh.isSelectable(e));if(!o||0===o.length)return a.nh.create(l,t.pos);let c=t.start(t.depth+1)+(s?o[o.length-1].pos:o[0].pos);return e(l.resolve(c),n)},t:()=>l});var i=n(37243),a=n(63867),r=n(62040);let l=(e,t)=>{var n;let i,a=e.doc,l=e.steps.length-1,s=e.steps[l];if(!s||!(s instanceof r.Ln||s instanceof r.Wg)||0===s.slice.content.size)return null;let o=t||(null==(n=s.slice.content.child(s.slice.openStart))?void 0:n.type.name);if(e.mapping.maps[l].forEach((e,t,n)=>{null==i&&(i=n)}),null==i)return null;let c=a.nodeAt(i);if(c&&c.type.name===o)return a.resolve(i);if(!o)return console.warn("[getInsertedNodePos] Error selecting node, type not found in slice.lastChild",i),null;for(let t=s.from;t<e.mapping.map(s.to);t++){let n=e.doc.nodeAt(t);if(n&&n.type.name===o)return a.resolve(t)}return null}},92053:(e,t,n)=>{"use strict";n.d(t,{i:()=>l,t:()=>s});var i=n(79555),a=n(88586),r=n(30481);let l=new i.F({systemPromptOperation:a.mc.ChangeContentLayoutSystem,userPromptOperation:a.mc.ChangeContentLayoutUser,variables:["html","message"],params:{temperature:.7,maxTokens:1e3}}),s=new r.dV({key:"CHANGE_LAYOUT",description:"Change the display of information to use a different layout (like timeline, bullets, boxes, columns, table) or rearrange elements within a layout",classifyExamples:["turn this into a table","make each bullet into a box","could you split this into columns?","make this a timeline","could you make this more visual?","visualize this as a timeline"],classifyReply:"Sure, I'll start reformatting this as a table...",getTaskTarget:e=>"selectionRange"!==e.selectedDefaultRange?e.defaultRange:0===e.selectionRange.html.trim().length?e.cardContent:e.blockRange,prompt:l})},92137:(e,t,n)=>{"use strict";n.d(t,{n:()=>e2});var i=n(6029),a=n(24302),r=n(40452),l=n(58959),s=n(57405),o=n(77364),c=n(19564),d=n(55729),u=n(33633),p=n(647),h=n(95563),g=n(15342),m=n(35946),x=n(26420),f=n(26385),b=n(48810),y=n(91938),v=n(17859),C=n(26814),w=n(6018),A=n(66380),j=n(95889),k=n(43634),S=n(82927),L=n(11403),I=n(84130),E=n(31113),D=n(3276),M=n(77650),R=n(83743),_=n(53996),z=n(55597),N=n(48621),T=n(76083),P=n(60908);let H=e=>{let{src:t,...n}=e;return(0,i.jsx)(P.Me,{src:t,borderRadius:"md",h:"6em",resizeParams:P.p7,...n})};var F=n(12417),B=n(80180);let O=[{key:"low-quality",label:(0,i.jsx)(c.x6,{id:"9cm/hp"})},{key:"too-different",label:(0,i.jsx)(c.x6,{id:"/wLn3u"})},{key:"too-similar",label:(0,i.jsx)(c.x6,{id:"Np7sCV"})},{key:"instructions",label:(0,i.jsx)(c.x6,{id:"Tq32Jp"})},{key:"other",label:(0,i.jsx)(c.x6,{id:"/IX/7x"})}],V="ImageChat",W=e=>{var t;let{messageId:n,imageUrl:a,toolInvocation:r,chatId:l}=e,[s,o]=(0,d.useState)(void 0),c=null==(t=r.result.images.find(e=>e.attrs.src===a))?void 0:t.attrs,u=(0,d.useCallback)((e,t,i)=>{(0,v.bO)({rating:e,agentType:V,feedback:t,tags:i,imageUrl:a,toolInvocation:r,image:c,chatId:l,messageId:n,interactionId:n})},[n,a,r,c,l]),p=(0,d.useCallback)(e=>{o(e),(0,v.V2)({messageId:n,rating:e,agentType:V,imageUrl:a,toolInvocation:r,image:c,chatId:l,interactionId:n})},[n,a,r,c,l]);return c?(0,i.jsx)(x.a,{position:"relative",alignSelf:"flex-end",opacity:0,_groupHover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal",onClick:B.dG,children:(0,i.jsx)(F.f3,{trackFeedback:u,rating:s,setRating:p,RatingButtons:F.Ep,feedbackTags:O,size:"xs"})}):null};var U=n(55084);let G=(0,d.memo)(e=>{let{image:t,toolInvocation:n,onClick:a,ratingsEnabled:r,messageId:l,chatId:s,editor:o}=e,c=(0,g.GV)((0,U.X)({toolCallId:n.toolCallId,src:t.attrs.src})),d=t.attrs.src;return d?(0,i.jsxs)(x.a,{position:"relative",cursor:"pointer",onClick:a,h:"fit-content",role:"group",children:[(0,i.jsx)(H,{src:d,alt:t.attrs.query,filter:c?"brightness(0.8)":void 0,transitionProperty:"all",transitionDuration:"normal",_hover:{filter:"brightness(0.8)"},w:"100%",h:"auto",objectFit:"cover",onDragStart:()=>{o&&(0,T.fS)(o,{type:"image",attrs:t.attrs})}}),c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.a,{position:"absolute",inset:"0",borderWidth:2,borderColor:"blue.500",borderRadius:"md",pointerEvents:"none"}),(0,i.jsx)(_.o,{position:"absolute",inset:"0",pointerEvents:"none",children:(0,i.jsx)(x.a,{borderRadius:"full",p:1,color:"white",children:(0,i.jsx)(N.g,{icon:z.e68})})})]}),r&&"success"===n.result.status&&(0,i.jsx)(x.a,{position:"absolute",bottom:1,insetEnd:1,children:(0,i.jsx)(W,{chatId:s,messageId:l,imageUrl:d,toolInvocation:n})})]}):null});G.displayName="ChatToolResultImage";let Z=e=>{var t;let{onSelectImage:n,toolInvocation:a,ratingsEnabled:r,messageId:l,chatId:s,editor:o}=e;return"aborted"===a.result.status?null:"error"===a.result.status?(0,i.jsx)(x.a,{bg:"red.100",p:2,mt:2,borderRadius:"md",position:"relative",children:(0,i.jsx)(b.E,{fontSize:"xs",color:"red.600",fontWeight:"semibold",children:a.result.error})}):(0,i.jsx)(x.a,{mt:1,children:(0,i.jsx)(R.r,{columns:3,spacing:2,children:null==(t=a.result.images)?void 0:t.map(e=>(0,i.jsx)(G,{image:e,toolInvocation:a,onClick:()=>{n({toolCallId:a.toolCallId,image:e})},ratingsEnabled:r,messageId:l,chatId:s,editor:o},e.attrs.src))})})},K={generateImage:{present:()=>M.Ru._({id:"0YTg9V"}),past:()=>M.Ru._({id:"kuh/JT"})},editContent:{present:()=>M.Ru._({id:"lst4sw"}),past:()=>M.Ru._({id:"V3CaX7"})},removeBackground:{present:()=>M.Ru._({id:"RdqLb7"}),past:()=>M.Ru._({id:"gmS8TU"})},searchImage:{present:()=>M.Ru._({id:"r/Co7N"}),past:()=>M.Ru._({id:"AhoeWI"})},vectorize:{present:()=>M.Ru._({id:"Q55bBQ"}),past:()=>M.Ru._({id:"c1cnyM"})},upscale:{present:()=>M.Ru._({id:"5oQX1R"}),past:()=>M.Ru._({id:"nstbgt"})},animate:{present:()=>M.Ru._({id:"ixpQjd"}),past:()=>M.Ru._({id:"gtfeTa"})}},Q=(0,d.memo)(e=>{let{toolInvocation:t,onSelectImage:n,ratingsEnabled:a,chatId:r,editor:s}=e,o="result"!==t.state;return(0,i.jsxs)(x.a,{children:[(0,i.jsx)(l.z,{justify:"space-between",align:"center",children:(0,i.jsxs)(l.z,{children:[o&&(0,i.jsx)(D.y,{size:"xs"}),(0,i.jsx)(b.E,{fontSize:"xs",color:"gray.600",fontWeight:"semibold",children:o&&"".concat(q(t.toolName,o),"...")})]})}),"result"===t.state&&(0,i.jsx)(Z,{toolInvocation:t,onSelectImage:n,messageId:t.result.messageId,ratingsEnabled:a,chatId:r,editor:s})]})});Q.displayName="ImageChatToolCall";let q=(e,t)=>{let n=K[e]||K.editContent;return t?n.present():n.past()},J=e=>{var t;let{message:n,onSelectImage:a,chatId:r,editor:l}=e;return(0,i.jsx)(s.T,{...E.i,alignSelf:"flex-start",width:"100%",position:"relative",align:"start",children:null==(t=n.parts)?void 0:t.map((e,t)=>"text"===e.type?(0,i.jsx)(b.E,{children:e.text},t):"tool-invocation"===e.type?(0,i.jsx)(Q,{toolInvocation:e.toolInvocation,onSelectImage:a,ratingsEnabled:!0,chatId:r,editor:l},t):'Unknown part type "'.concat(e.type,'"'))})};var $=n(33787),Y=n(23293),X=n(12258);let ee=(0,d.memo)(()=>(0,i.jsx)(r.s,{direction:"column",height:"100%",justifyContent:"flex-end",children:(0,i.jsxs)(f.B,{spacing:6,alignItems:"center",p:4,borderRadius:"lg",textAlign:"center",children:[(0,i.jsx)($._,{src:X.A.src,alt:"Empty state",maxW:"200px"}),(0,i.jsxs)(f.B,{spacing:1,children:[(0,i.jsx)(Y.D,{size:"sm",fontWeight:"semibold",children:M.Ru._({id:"vscZYY"})}),(0,i.jsx)(b.E,{color:"gray.600",fontSize:"sm",children:M.Ru._({id:"VxbH2f"})})]})]})}));ee.displayName="ImageChatEmptyState";var et=n(17496),en=n(49611),ei=n(29810),ea=n(41781),er=n(99492),el=n(19783),es=n(89942),eo=n(16936),ec=n(47412),ed=n(57963),eu=n(90184),ep=n(39892);let eh=(0,d.memo)(e=>{let{placeholder:t,isLoading:n,handleSubmit:a,handleStop:o,autoFocus:u,status:p}=e,[h,g]=(0,d.useState)(""),m=(0,d.useCallback)(e=>{g(e.target.value)},[g]),x=(0,d.useRef)(null),f=(0,d.useRef)(null),y=(0,ep.ez)("unlimited_credits");return(0,d.useEffect)(()=>{let e=I.W.on("prefillMessage",e=>{var t;let{message:n}=e;g(n),null==(t=f.current)||t.focus()});return()=>{e()}},[]),(0,d.useEffect)(()=>{if(u){var e;null==(e=f.current)||e.focus()}},[u]),(0,i.jsxs)(r.s,{w:"100%",as:"form",onSubmit:e=>{console.log("[buddy] enter submit status=",p),e.preventDefault(),("ready"===p||"error"===p)&&(a(h),g(""))},ref:x,position:"relative",border:"1px solid",borderRadius:"md",borderColor:"gray.200",pt:1,outline:"1px solid",outlineColor:"transparent",transitionProperty:"all",transitionDuration:"normal",ps:4,pb:1,bg:"white",_focusWithin:{borderColor:"trueblue.500",shadow:"outline"},children:[(0,i.jsx)(ed._,{id:"edit-textarea",name:"prompt-input",variant:"unstyled",value:h,onChange:m,ref:f,placeholder:t,onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey){var t;e.preventDefault(),null==(t=e.currentTarget.form)||t.requestSubmit()}},border:"none",outline:"none",shadow:"none",initialHeight:"36px",resizeOnMount:!1,maxHeight:"33vh",overflowY:"auto",pe:16}),(0,i.jsxs)(l.z,{position:"absolute",bottom:"1.5",insetEnd:"2",zIndex:10,spacing:2,children:[(0,i.jsx)(D.y,{boxSize:8,position:"absolute",zIndex:10,pointerEvents:"none",color:"deepocean.950",opacity:+!!n,transitionProperty:"common",transitionDuration:"normal"}),(0,i.jsx)(ec.Tz,{placement:"top",label:n?(0,i.jsx)(s.T,{spacing:0,children:(0,i.jsx)(c.x6,{id:"ygCKqB"})}):(0,i.jsxs)(s.T,{spacing:0,children:[(0,i.jsx)(c.x6,{id:"4k2VbT"}),!y&&(0,i.jsx)(b.E,{color:"gray.400",children:(0,i.jsx)(eu.G,{type:"imageChat",ms:0})}),(0,i.jsx)(ec.iM,{shortcut:"Enter"})]}),children:(0,i.jsx)(eo.K,{size:"sm",icon:n?(0,i.jsx)(N.g,{icon:z.APi}):(0,i.jsx)(N.g,{icon:z.fmP}),isDisabled:!h&&!n,"aria-label":M.Ru._({id:"hQRttt"}),onClick:e=>{if(n){console.log("jordan handling stop"),e.stopPropagation(),o();return}a(h),g("")}})})]})]})});eh.displayName="ImageChatInput";var eg=n(65273),em=n(34832),ex=n(9118),ef=n(30286),eb=n(44798),ey=n(43607),ev=n(15607),eC=n(33201);let ew=e=>{let[t,n]=(0,d.useState)([]),i=(0,d.useRef)({}),[a,r]=(0,d.useState)("ready"),{generate:l}=(0,em.pt)("SuggestImageGenerates",{onStart(){r("generating"),n([])},onContent(e){n(eA(e))},onComplete(e){n(eA(e)),r("done")},onError(e){console.error("Error generating suggestions",e),r("error")},timeout:2e4}),s=(0,g.GV)(ef.H6),o=(0,ex.xt)(s),c=(0,eb.Sx)(e),u=(0,ey.lC)(e,!0),p=(0,d.useCallback)(e=>{let t=c?c():null;if(!t)return void n([]);let a=i.current[e];if(a){n(a),r("done");return}let s=(0,S.gx)();if(!s)return void n([]);let{promise:d}=l({variables:{cardHtml:t,language:o.englishName},workspaceId:s});d.then(t=>{i.current[e]=eA(t)})},[l,o,c]);return(0,L.Vg)(()=>{let t=(0,ev.IV)(e.state.selection.$from,eC.jg)[0];t&&p(t.node.attrs.id)},[p,e.state.selection],[u]),{suggestions:t,generateSuggestionsStatus:a}},eA=e=>e.split("\n").filter(Boolean);var ej=n(78140),ek=n(36999),eS=n(41283),eL=n(85595);let eI=e=>{let{suggestions:t,onSubmit:n}=e;return(0,i.jsxs)(r.s,{gap:2,flexWrap:"wrap",alignItems:"flex-start",children:[t.map((e,t)=>{var a;return(0,i.jsx)(en.$,{leftIcon:(0,i.jsx)(N.g,{icon:z._$C}),onClick:()=>n(e.prompt),borderRadius:"full",variant:"ghost",bg:"blackAlpha.100",color:"blackAlpha.800",_hover:{bg:"blackAlpha.300"},colorScheme:"blackAlpha",size:"xs",isTruncated:!0,flexShrink:0,sx:{["@media (max-height: ".concat(700,"px)")]:{display:t>0?"none":"flex"}},children:(0,i.jsx)(b.E,{isTruncated:!0,children:null!=(a=e.quick_action)?a:e.prompt})},t)}),t.length>1&&(0,i.jsxs)(ej.W,{children:[(0,i.jsxs)(ek.I,{as:en.$,leftIcon:(0,i.jsx)(N.g,{icon:z._$C}),rightIcon:(0,i.jsx)(N.g,{icon:z.Jt$}),borderRadius:"full",variant:"ghost",bg:"blackAlpha.100",color:"blackAlpha.800",_hover:{bg:"blackAlpha.300"},colorScheme:"blackAlpha",size:"xs",sx:{["@media (max-height: ".concat(700,"px)")]:{display:"flex"},["@media (min-height: ".concat(701,"px)")]:{display:"none"}},children:[t.length-1," more..."]}),(0,i.jsx)(eS.c,{children:t.slice(1).map((e,t)=>{var a;return(0,i.jsx)(eL.D,{onClick:()=>n(e.prompt),icon:(0,i.jsx)(N.g,{icon:z._$C}),children:null!=(a=e.quick_action)?a:e.prompt},t)})})]})]})},eE=e=>{let{status:t,messages:n,handleNewChat:a,manualSubmit:r,handleStop:o,editor:d}=e,u="submitted"===t||"streaming"===t,p=(0,es.ez)("unlimited_credits"),h=(0,g.GV)(U.hN),m=(0,g.GV)(U.W_);return(0,i.jsxs)(s.T,{direction:"column",align:"stretch",spacing:2,p:4,borderTop:"1px solid",borderColor:"trueblue.100",bg:"trueblue.50",children:[(0,i.jsxs)(l.z,{align:"flex-start",spacing:4,children:[m&&(0,i.jsx)(H,{src:m.src,alt:m.query,h:"auto",maxW:"5em",maxH:"5em",alignSelf:"start",shadow:"base"}),!u&&d&&(h?(0,i.jsx)(eD,{onSubmit:r,imageToEdit:h,editor:d}):(0,i.jsx)(eM,{editor:d,onSubmit:r}))]}),(0,i.jsx)(eh,{placeholder:h?M.Ru._({id:"XXCZ3T"}):M.Ru._({id:"1p/b90"}),isLoading:u,handleSubmit:r,handleStop:o,status:t}),(0,i.jsx)(et.S,{in:n.length>0||!p,children:(0,i.jsxs)(l.z,{pt:2,children:[(0,i.jsx)(en.$,{size:"sm",variant:"link",onClick:a,leftIcon:(0,i.jsx)(N.g,{icon:er.V3T,size:"sm"}),children:(0,i.jsx)(c.x6,{id:"hIQkLb"})}),(0,i.jsx)(ei.h,{}),(0,i.jsx)(el.f,{modalId:"ai-credits-modal-message-list",variant:"ghost",justify:"flex-end",segmentEvent:j.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGE_CHAT})]})})]})},eD=e=>{let{onSubmit:t,imageToEdit:n}=e,{suggestions:a,generateSuggestionsStatus:r}=(0,eg.s)(n),s=a.map(e=>({prompt:e}));return"generating"===r&&0===s.length?(0,i.jsxs)(l.z,{wrap:"wrap",children:[(0,i.jsx)(ea.E,{size:"sm",w:"5em",h:"1.25em",borderRadius:"full"}),(0,i.jsx)(ea.E,{size:"sm",w:"6em",h:"1.25em",borderRadius:"full"}),(0,i.jsx)(ea.E,{size:"sm",w:"5em",h:"1.25em",borderRadius:"full"}),(0,i.jsx)(ea.E,{size:"sm",w:"4em",h:"1.25em",borderRadius:"full"})]}):(0,i.jsx)(eI,{suggestions:s,onSubmit:t})},eM=e=>{let{editor:t,onSubmit:n}=e,{suggestions:a,generateSuggestionsStatus:r}=ew(t),s=a.map(e=>({prompt:e}));return"generating"===r&&0===s.length?(0,i.jsxs)(l.z,{wrap:"wrap",children:[(0,i.jsx)(ea.E,{size:"sm",w:"5em",h:"1.25em",borderRadius:"full"}),(0,i.jsx)(ea.E,{size:"sm",w:"6em",h:"1.25em",borderRadius:"full"}),(0,i.jsx)(ea.E,{size:"sm",w:"5em",h:"1.25em",borderRadius:"full"}),(0,i.jsx)(ea.E,{size:"sm",w:"4em",h:"1.25em",borderRadius:"full"})]}):(0,i.jsx)(eI,{suggestions:s,onSubmit:n})};var eR=n(85942);let e_=e=>{let{message:t,onSelectImage:n,previousMessage:a,chatId:r,editor:l}=e,o=(0,eR.xz)(t),c=a?(0,eR.xz)(a).flatMap(eR.Fh):[],d=o.filter(e=>{let t=(0,eR.Fh)(e);return!c.some(e=>t.some(t=>t.attrs.src===e.attrs.src))});return(0,i.jsxs)(s.T,{...E.i,bg:"periwinkle.100",maxW:"90%",alignSelf:"flex-end",borderBottomEndRadius:"0",align:"start",children:[d.map(e=>(0,i.jsx)(Q,{toolInvocation:e,onSelectImage:n,ratingsEnabled:!1,chatId:r,editor:l},e.toolCallId)),(0,i.jsx)(b.E,{children:t.content})]})};var ez=n(37243),eN=n(63867),eT=n(94922),eP=n(47665),eH=n(50861),eF=n(39977),eB=n(56603);let eO=e=>{let t=(0,g.CU)(),n=(0,g.jL)();(0,d.useEffect)(()=>{if(!e)return;let t=()=>{let t=eV(e,null==e?void 0:e.state.selection);n((0,U.iU)(t))};return e.on("update",t),e.on("selectionUpdate",t),t(),()=>{e.off("update",t),e.off("selectionUpdate",t)}},[e,n,t])},eV=(e,t)=>{if(!e||!t||!(t instanceof eN.nh))return null;let n=(0,eF.A)({editor:e,selection:t});return(null==n?void 0:n.mediaType)!=="image"?null:{attrs:n.attrs,id:n.id,relativePosition:(0,eB.JO)(e.state,t.from)}},eW=(e,t,n)=>{let i=(0,eB.d_)(e.state,t);if(!i)throw Error("Could not get absolute position from relative position");(0,eF.v)({editor:e,pos:i,attrs:n})},eU=(e,t)=>{let n=e.view,i=e.state.selection,a=e.state.doc.resolve(i.from),r=(0,ez.eL)(a,eP.jg),{mostVisible:l,visibleCards:s}=(0,eP.lA)(e),o=s.some(e=>e.pos===(null==r?void 0:r.pos)),c=(0,ev.Bi)(e,"image");if(o&&c){e.chain().insertContentAndSelect({type:"image",attrs:t}).focus().run(),setTimeout(()=>{e.commands.scrollIntoView()},300);return}try{let i=(null==l?void 0:l.pos)?(0,eT.dg)(n.state.tr,l.pos):null,a=null==i?void 0:i.body;if(a){let t=a.pos+a.node.nodeSize-1;if(e.commands.setTextSelection(t),!(0,ev.Bi)(e,"image")){let t=a.pos+2;e.commands.setTextSelection(t)}if(!(0,ev.Bi)(e,"image"))return}e.chain().insertContentAndSelect({type:"image",attrs:t}).focus().run(),setTimeout(()=>{e.commands.scrollIntoView()},300)}catch(e){console.error("Error inserting SelectedImage",e)}},eG=e=>(e=(0,eH.Ez)(e),{tempUrl:(0,P.Ub)(e.src,P.p7,e.meta),showPlaceholder:!1,...e});var eZ=n(42350),eK=n(6272),eQ=n(70965),eq=n(58495);let eJ=e=>{let{userMessage:t,imageToEdit:n,messageId:i}=e;return n&&n.src?{message:{role:"user",content:t,parts:[{type:"tool-invocation",toolInvocation:{state:"result",toolName:"image_input",toolCallId:(0,eq.Ak)(),args:{},result:{status:"success",images:[{attrs:n}],messageId:i}}}]},attachments:[{name:"image-to-edit",url:n.src}],availableTools:(0,eZ.X)({imageToEdit:n})}:{message:{role:"user",content:t},attachments:void 0,availableTools:(0,eZ.X)({imageToEdit:null})}};function e$(e){let{editor:t}=e,n=(0,g.jL)(),a=(0,g.CU)(),[r,l]=(0,d.useState)(!0);return((0,d.useEffect)(()=>{let e=eV(t,null==t?void 0:t.state.selection);n((0,U.iU)(e)),(0,U.g_)(a.getState())||n((0,U.Yr)((0,eQ.H)())),l(!1)},[]),r)?null:(0,i.jsx)(e0,{editor:t})}let eY=(0,d.memo)(e=>{let{messages:t,status:n,handleNewChat:a,handleSelectedImageChange:l,manualSubmit:s,handleStop:o,chatId:u,editor:p,error:h}=e,g=(0,d.useRef)(null),m=t.length>0,y="submitted"===n;return((0,d.useEffect)(()=>{g.current&&(g.current.scrollTop=g.current.scrollHeight)},[t]),p)?(0,i.jsxs)(r.s,{direction:"column",height:"calc(100% - 48px)",children:[(0,i.jsxs)(x.a,{flex:"1",overflow:"auto",p:4,ref:g,children:[!m&&(0,i.jsx)(ee,{}),(0,i.jsxs)(f.B,{spacing:2,flex:1,children:[t.map((e,n)=>{let a=t[n-1];return"user"===e.role?(0,i.jsx)(e_,{message:e,onSelectImage:l,previousMessage:a,chatId:u,editor:p},e.id):"assistant"===e.role?(0,i.jsx)(J,{message:e,isLoading:y,onSubmit:s,onSelectImage:l,chatId:u,editor:p},e.id):null}),y&&(0,i.jsx)(b.E,{fontSize:"xs",color:"gray.600",pt:2,px:2,children:(0,i.jsx)(c.x6,{id:"Ed99mE"})}),h&&(0,i.jsx)(b.E,{fontSize:"xs",color:"red.600",pt:2,px:2,children:String(h)})]})]}),(0,i.jsx)(eE,{status:n,messages:t,handleNewChat:a,manualSubmit:s,handleStop:o,editor:p})]}):null});eY.displayName="ImageBuddyChatInner";let eX=()=>({messageId:(0,eQ.O)(),availableTools:void 0,imageToEdit:null,insertRelativePosition:null});function e0(e){let{editor:t}=e,n=(0,g.CU)(),a=(0,g.jL)(),r=(0,g.GV)(U.yZ),l=(0,g.GV)(U.hN),s=(0,g.GV)(k.sX),o=(0,g.GV)(U.g_),c=(0,g.GV)(U.ze),{imageStyle:u}=(0,A.V)(),p=(0,d.useRef)(null),h=(0,d.useRef)(eX()),{messages:x,append:f,status:b,error:E,setMessages:D,setInput:M,stop:R}=(0,m.Y_)({id:o,initialMessages:c,api:"".concat(y.$.API_HOST,"/ai/agent/message?agentName=ImageChat"),headers:{"Content-Type":"application/json"},experimental_prepareRequestBody:e=>{let{messages:t}=e,{messageId:n,availableTools:i}=h.current||{};return{id:o,messageId:n,availableTools:i,messages:t,workspaceId:(0,S.gx)(),context:{type:"doc",docId:s}}},maxSteps:2,onToolCall:async e=>{let{toolCall:n}=e;p.current=new AbortController;let{imageToEdit:i,messageId:r}=h.current,l={workspaceId:(0,S.gx)(),docId:s,imageToEdit:null!=i?i:null,interactionId:r,messageId:r,chatId:o,abortController:p.current,preferredAiImageStyle:u};try{let e=eZ.d[n.toolName];if(!e)throw Error("Invalid tool ".concat(n.toolName));let i=await e.execute(n.args,l);if("success"===i.status&&i.images.length>0){var c,d;(0,w.w)(null!=(d=e.creditCostType)?d:"imageChat",void 0,r);let l=i.images[0];P({toolCallId:n.toolCallId,image:l}),a((0,U.n9)({image:l,toolCallId:n.toolCallId})),(null==(c=h.current)?void 0:c.insertRelativePosition)&&eW(t,h.current.insertRelativePosition,l.attrs)}return p.current=null,{...i,messageId:h.current.messageId}}catch(e){if((0,eK.z)(e))return{status:"aborted",error:"user aborted the request",messageId:h.current.messageId};return{status:"error",error:e.message,messageId:h.current.messageId}}finally{p.current=null}},credentials:"include"}),_=(0,C.tO)(void 0,"imageChat",j.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGE_CHAT),z=(0,d.useCallback)((e,t)=>{_()&&f(e,t)},[f,_]);(0,d.useEffect)(()=>{window.buddyDebug=()=>({messages:x,reducer:n.getState().BuddyChat})},[x,n]);let N=(0,d.useCallback)(()=>{R(),D([]),h.current=eX(),a((0,U.CX)({chatId:(0,eQ.H)()})),a((0,U.iU)(r))},[a,r,D,R]),T=(0,d.useCallback)(e=>{let{image:t}=e;t.attrs.src&&(0,v.Sf)({imageUrl:t.attrs.src,interactionId:h.current.messageId,chatId:o,image:t.attrs})},[o]),P=(0,L.lW)(T,2e3),H=(0,L.lW)((0,d.useCallback)(e=>{a((0,U.jf)(e))},[a]),300);(0,d.useEffect)(()=>{H(x)},[x,H]);let F=(0,d.useCallback)(()=>{var e;R(),D(e=>e.map(eR.HC)),null==(e=p.current)||e.abort()},[D,R]),B=(0,d.useCallback)(e=>{P(e);let i=eG(e.image.attrs),r=(0,U.yZ)(n.getState());if(r)a((0,U.n9)(e)),eW(t,r.relativePosition,i);else{if(!t)return;eU(t,i)}},[a,t,n,P]),O=(0,d.useCallback)(e=>{var t;let i=null==(t=(0,U.yZ)(n.getState()))?void 0:t.relativePosition,a=(0,eQ.O)(),{message:r,attachments:s,availableTools:o}=eJ({userMessage:e,imageToEdit:l,messageId:a});h.current={messageId:a,availableTools:o,imageToEdit:l,insertRelativePosition:i||null},z(r,{experimental_attachments:s}),M("")},[n,l,z,M]);return(0,d.useEffect)(()=>{let e=I.W.on("sendMessage",e=>{let{message:t}=e;O(t)});return()=>{e()}},[O]),(0,i.jsx)(eY,{messages:x,error:E,status:b,handleNewChat:N,handleSelectedImageChange:B,manualSubmit:O,handleStop:F,chatId:o,editor:t})}let e1=e=>{let{closePanel:t,isOpen:n,editor:u}=e;eO(u);let m={bgColor:(0,a.dU)("white","gray.800"),textColor:(0,a.dU)("gray.800","white")},x=(0,g.jL)();return(0,d.useEffect)(()=>{n||x((0,U.Po)(null))},[n,x]),(0,i.jsx)(p.Z,{bgColor:m.bgColor,w:"100%",children:(0,i.jsxs)(r.s,{direction:"column",w:"100%",h:"100%",children:[(0,i.jsxs)(l.z,{position:"relative",py:2,px:4,children:[(0,i.jsx)(r.s,{flex:1,children:(0,i.jsx)(s.T,{align:"start",spacing:0,children:(0,i.jsx)(h.N,{children:(0,i.jsx)(c.x6,{id:"mw/rmM"})})})}),(0,i.jsx)(o.J,{onClick:t})]}),(0,i.jsx)(e$,{editor:u})]})})};e1.panelPosition="right",e1.panelName="image-chat",e1.canCollapse=!1,e1.minWidth=400;let e2=()=>{let{togglePanel:e,isPanelOpen:t}=(0,u.ww)(e1);return{toggleBuddyChatPanel:e,isBuddyChatPanelOpen:t}}},92198:(e,t,n)=>{"use strict";n.d(t,{H:()=>v});var i=n(6029),a=n(78140),r=n(36999),l=n(49611),s=n(33787),o=n(26420),c=n(12514),d=n(41283),u=n(37930),p=n(48478),h=n(40452),g=n(74676),m=n(99492),x=n(48621),f=n(55729),b=n(68301),y=n(66079);let v=f.memo(e=>{var t;let{currentSource:n,onChange:f,isValidSource:v}=e,C=null==n||null==(t=n.image)?void 0:t.src,w=(0,b.mt)();return(0,i.jsxs)(a.W,{children:[(0,i.jsx)(r.I,{as:l.$,w:"100%",textAlign:"start",rightIcon:(0,i.jsx)(x.g,{icon:m.Jt$}),leftIcon:C?(0,i.jsx)(s._,{h:"1em",w:"1em",objectFit:"cover",src:C}):(null==n?void 0:n.icon)?(0,i.jsx)(x.g,{icon:null==n?void 0:n.icon,color:"var(--chakra-colors-trueblue-600)",fixedWidth:!0}):void 0,mb:4,"data-testid":"media-drawer-menu-button",flexShrink:"0",children:(0,i.jsx)(o.a,{noOfLines:1,wordBreak:"break-all",overflowX:"hidden",textOverflow:"ellipsis",children:(null==n?void 0:n.label())||"Source"})}),(0,i.jsx)(c.Z,{children:(0,i.jsx)(d.c,{zIndex:"modalPopover",maxH:"60vh",overflowY:"auto",pos:"relative","data-media-drawer-menu":!0,children:Object.entries(y.jU).map(e=>{var t;let[a,r]=e,l=r.filter(e=>!(e.checkDisabled&&e.checkDisabled())&&!e.disabled&&(!e.featureFlag||!!w[e.featureFlag])&&v(e));return 0===l.length?null:(0,i.jsx)(u.i,{title:null!=(t=y.K4[a]())?t:a,type:"radio",onChange:f,value:null==n?void 0:n.key,children:l.map(e=>{let{label:t,key:n,icon:a,image:r,badge:l}=e;return(0,i.jsx)(p.k,{value:n,children:(0,i.jsxs)(h.s,{direction:"row",align:"center",children:[r?(0,i.jsx)(s._,{display:"inline",marginInlineEnd:2,h:"1em",w:"1em",objectFit:"contain",src:r.src}):a?(0,i.jsx)(o.a,{display:"inline",marginInlineEnd:2,color:"trueblue.600",children:(0,i.jsx)(x.g,{icon:a})}):(0,i.jsx)(i.Fragment,{}),t(),l&&(0,i.jsx)(g.E,{marginInlineStart:2,colorScheme:"green",children:l()})]})},n)})},a)})})})]})});v.displayName="MediaDrawerMenu"},92397:(e,t,n)=>{"use strict";n.d(t,{Ib:()=>f,M7:()=>v,OM:()=>y,Tv:()=>m,Ub:()=>w,hT:()=>x});var i=n(37243),a=n(63867),r=n(15342),l=n(85011),s=n(25745),o=n(43634),c=n(15607),d=n(23460),u=n(85235),p=n(6845),h=n(61385),g=n(47665);let m=(e,t,n)=>{let a=e=>{let t=(0,g.jg)(e),i="boolean"!=typeof n||(0,p.Wq)(e)===n;return t&&i},r=e.state.doc.nodeAt(t),l=e.state.doc.resolve(t);return r&&a(r)?{node:r,pos:t,start:l.start,depth:l.depth}:(0,i.eL)(e.state.doc.resolve(t),a)},x=(e,t)=>{try{let n=(e,t)=>(0,g.jg)(e)&&t===h.$x,i=e.resolve(t),a=e.nodeAt(t);if(a&&n(a,i.depth+1))return{node:a,pos:t};return(0,c.Ft)(i,n)}catch(e){console.error("[findTopCardNodeParent] error",e);return}},f=e=>{let{pos:t,editor:n}=e,i=(0,c.TK)(n.state.doc.resolve(t),g.jg).map(e=>e.node.attrs.id);(0,p.wE)(i,!1)},b=async e=>{let{cardId:t,pos:n,editor:i,cardEl:r,isNested:o=!1,origin:c="editor"}=e;if(!r)return void console.error("[scrollToCard] no cardEl specified");(0,p.wE)(t,!1),f({pos:n,editor:i}),await (0,l.H1)("editor").scrollElementIntoView({element:r,delay:o?h.M2:0}),i.commands.command(e=>{let{tr:t}=e;return t.setSelection(a.LN.near(i.state.doc.resolve(n))).setMeta(s.H,c),!0})},y=e=>{let{cardId:t,editor:n}=e;if(!t)return;let i=(0,r.KA)();if((0,o.wC)(i.getState())===u.w.SLIDE_VIEW)return void n.commands.spotlightCardById(t);let a=document.querySelector('[data-card-id="'.concat(t,'"]'));if(!a)return;let{pos:l}=(0,g.W0)(n,t)||{};if(!l)return;let s=n.state.doc.resolve(l).depth>h.$x;b({cardId:t,pos:l,editor:n,cardEl:a,isNested:s})},v=(e,t,n)=>{let i,a=t.target;if(a.closest(".".concat(h.p$))&&!a.closest("[data-outside-card-body]")||n&&!C(n,e.state.schema))return null;let r=a.closest(".".concat(h.QJ));if(!r)return{pos:e.state.doc.content.size-1};let l=r.querySelector(".".concat(h.p$)),s=null==l?void 0:l.getBoundingClientRect();if(!s)return null;let{doc:o}=e.state;try{let t=e.posAtDOM(r,0);if(-1===t)return null;let n=(0,c.TK)(o.resolve(t),g.jg);if(0===n.length)return null;i=n[n.length-1]}catch(e){return console.error("(caught) [checkBetweenCardsDropTarget] error finding parent node:",e),null}let{node:u,pos:p}=i;if(!p||!u)return null;let[m]=(0,d.qp)(l),x=m+s.top,f=m+s.bottom,b=m+t.clientY;return b<x?{pos:p}:b>f?{pos:p+u.nodeSize}:null},C=(e,t)=>t.nodes.card.validContent(e.content),w=(e,t)=>{let n=(0,c.GY)(e,e=>"cardLayoutItem"===e.type.name);return n.length>0?{node:n[0].node,pos:t+n[0].pos+1}:{node:e,pos:t}}},92685:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var i=n(6029),a=n(53996),r=n(96500);let l=()=>(0,i.jsx)(a.o,{h:"20px",children:(0,i.jsx)(r.c,{mx:1,borderColor:"gray.300",orientation:"vertical"})})},92739:(e,t,n)=>{"use strict";n.d(t,{i:()=>m});var i=n(83817),a=n.n(i),r=n(55729),l=n(68301),s=n(89942),o=n(15342),c=n(63902),d=n(43634),u=n(82927),p=n(28615),h=n(9131),g=n(22911);let m=(e,t)=>{let{showLinkInterstitial:n}=(0,h.bX)(),i=(0,o.GV)(d.sK),m=(0,o.GV)(d.RW),x=(0,o.GV)(d.IO,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a()(...t)}),f=(0,s.tN)(i),b=(0,l.u)("knownGoodHostnames"),y=!!(0,u.ur)().user,v=(0,c.oR)(),C=(null==e?void 0:e.startsWith("/"))||(null==e?void 0:e.startsWith("#")),w=p.D1||f,A=p.D1||m||C,j=v?A:w,k=(0,r.useMemo)(()=>j?"trusted":(0,g.L)(e,x,b),[e,x,b,j]),S=(0,r.useMemo)(()=>j||y&&"unknown"===k?e:(0,g.F)(e,x,b),[j,e,y,k,x,b]);return{interceptLinkClick:(0,r.useCallback)(i=>{if(e&&"trusted"!==k&&(!y||"unknown"!==k))return(i.preventDefault(),i.stopPropagation(),"untrusted"===k)?console.warn("[interceptLinkClick] Untrusted link clicked",e):null==n||n(e,t),!0},[e,k,y,n,t]),linkUrlSafe:S,linkTrustLevel:k,linkInterceptEnabled:!1===j,isUntrusted:"untrusted"===k}}},92938:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var i=n(23513);let a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.nodeAfter;if(!a)return!1;e.deleteRange(t.pos,t.pos+a.nodeSize);let r=e.doc.nodeAt(t.pos),l=t.pos,s=1;(!n&&t.nodeBefore||n&&!r&&t.nodeBefore)&&(l=t.pos-t.nodeBefore.nodeSize,s=-1);let o=e.doc.resolve(l+1),c=(0,i.n)(e.doc.resolve(s>0?o.pos:o.end()),s);return c&&e.setSelection(c),!0}},94297:(e,t,n)=>{"use strict";n.d(t,{M:()=>c});var i=n(84462),a=n.n(i),r=n(33612),l=n.n(r),s=n(30892),o=n(63674);let c=a()(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"complement",{matchBrightness:i=!1,contrastColor:a,minContrast:r=3,lightnessRange:c}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=Array.from(new Set(t));if(0===u.length)return new Map;if(1===u.length){let t=l()(e);return a&&(0,s.vd)(t,a,r),new Map([[u[0],t.toHex8String()]])}return new Map([...(()=>{switch(n){case"monochrome":{let t=l()(e),n=c||{min:15,max:95};if(a){let e=(e,t,n)=>{let i=d(e,t);return(0,s.vd)(i,a,r,n),Math.round(100*i.toHsl().l)};n.min=e(t,n.min,"lighten"),n.max=e(t,n.max,"darken")}let o=(n.max-n.min)/u.length,p=t.getBrightness();return new Map(u.map((e,a)=>{let r=d(t,n.min+o*a);return i&&(0,s.jB)(r,p),[e,r]}))}case"spin":{let t=l()(e),n=t.getBrightness(),a=Math.ceil((u.length-1)/2),r=360/u.length<22?360/u.length:22,c=(0,o.xV)(u.map((e,l)=>{let o=0;l<a&&(o=-((a-l)*r*1)),l>a&&(o=(l-a)*r);let c=t.clone().spin(o);return i&&(0,s.jB)(c,n),c}),u.length%2==0?a:a+1);return new Map(u.map((e,t)=>[e,c[t]]))}default:case"complement":case"complement2":{let t=l()(e),a=180/(u.length-1),r=t.getBrightness();return new Map(u.map((e,l)=>{let o=t.clone().spin(a*l*("complement2"===n?-1:1));return i&&(0,s.jB)(o,r),[e,o]}))}case"alternating":{let t=l()(e),n=t.toHsl().l<.5?t.clone().lighten(30):t.clone().darken(30),a=t.getBrightness();return new Map(u.map((e,r)=>{let l=r%2==0?t.clone():n.clone();return i&&(0,s.jB)(l,a),[e,l]}))}}})().entries()].map(e=>{let[t,n]=e;return[t,n.toHex8String()]}))});function d(e,t){let n=e.toHsl();return n.l=t,l()(n)}},94920:(e,t,n)=>{"use strict";n.d(t,{U:()=>s,h:()=>l});var i=n(6029),a=n(55729);let r=(0,a.createContext)({state:{navItemPreviewRefMap:{}},setNavItemPreviewRef:()=>{throw Error("context not initialized")},editor:null,setEditor:()=>{throw Error("context not initialized")}}),l=e=>{let{children:t}=e,[n,l]=(0,a.useState)(null),[s,o]=(0,a.useState)({navItemPreviewRefMap:{}}),c=a.useMemo(()=>{let e=[],t=null,n=()=>{let n;t=null;let i={...s.navItemPreviewRefMap},a=!1;for(;n=e.shift();){let[e,t]=n;i[e]!==t&&(i[e]=t,a=!0)}a&&o(e=>({...e,navItemPreviewRefMap:i}))},i=()=>{t&&(clearTimeout(t),t=null)};return(a,r)=>{i(),e.push([a,r]),t=setTimeout(n,0)}},[s.navItemPreviewRefMap]);return(0,i.jsx)(r.Provider,{value:{state:s,setNavItemPreviewRef:c,editor:n,setEditor:l},children:t})};function s(){return(0,a.useContext)(r)}},94922:(e,t,n)=>{"use strict";n.d(t,{Eg:()=>v,Fm:()=>f,OH:()=>b,dg:()=>h,in:()=>c,l0:()=>p,lH:()=>u,o_:()=>C,sP:()=>s,tZ:()=>d,wL:()=>y,zr:()=>o});var i=n(52762),a=n(15607),r=n(47665),l=n(15597);let s=e=>["left","right"].includes(e),o=e=>{let{layout:t,parentCards:n,isMobileDevice:i}=e;return i&&"left"===t?"mobileLeft":i&&"right"===t?"mobileRight":s(t)&&c(n)?"blank":t},c=e=>e.some(e=>s(e.attrs.layout)),d=e=>{let t=u(e),n={};return Object.entries(t.items).forEach(e=>{var t;let[i,a]=e,r=null!=(t=null==a?void 0:a.style)?t:{gridArea:i};n['> [data-layout-item-id="'.concat(i,'"]')]=r}),n},u=e=>l.qA[null!=e?e:"blank"]||l.qA.blank,p=e=>{let t={},n=e.pos,i=e.nodeAfter;return i?i.descendants((e,i)=>{if(!(0,r.sw)(e))return!1;t[e.attrs.itemId]={node:e,pos:n+1+i}}):console.error("[getCardLayoutItems] could not find card node at pos ".concat(n)),t},h=(e,t)=>p(e.doc.resolve(t)),g=(e,t,n)=>{let i=e.doc.resolve(t.pos+1),a=i.blockRange(e.doc.resolve(i.end()));a&&e.wrap(a,[{type:n.nodes.cardLayoutItem}]).setMeta("annotationEvent",{type:"wrap-nodes",start:a.start,end:a.end,level:1})},m=(e,t,n,i)=>{let a=n.nodes.cardLayoutItem.createAndFill({itemId:"body",...i});e.insert(t+1,a)},x=(e,t,n,a)=>{let r=n.nodes.cardAccentLayoutItem.createAndFill({itemId:"accent",background:{type:i.h.NONE},...a});e.insert(t+1,r)},f=(e,t,n,i)=>{let a=e.doc.nodeAt(t),l=h(e,t);if("responsive"===(0,r.g6)(a)){if(0===Object.keys(l).length){g(e,{node:a,pos:t},n),i.items.accent&&x(e,t,n);return}i.items.body&&!l.body&&m(e,t,n),i.items.accent&&!l.accent?x(e,t,n):l.accent&&"cardLayoutItem"===l.accent.node.type.name&&b(e,l.accent.pos,l.accent.node,n)}},b=(e,t,n,i)=>{e.replaceRangeWith(t,t+n.nodeSize,i.nodes.cardAccentLayoutItem.createAndFill({...n.attrs}))},y=e=>"cardAccentLayoutItem"===e.type.name&&"accent"===e.attrs.itemId,v=e=>"cardLayoutItem"===e.type.name&&"body"===e.attrs.itemId,C=e=>{let t=(0,a.GY)(e,y)[0];if(t)return t.node.attrs.background}},95011:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});var i=n(20615),a=n(60908);class r{getKey(e){let{query:t,provider:n,options:i}=e;return"".concat(n,"__").concat(t,"__").concat(JSON.stringify(i))}markUsed(e){this.usedImages.add(e)}isUsed(e){return this.usedImages.has(e)}async findImage(e){let t,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(e.loadImageId){let t=this.foundImages.get(e.loadImageId);if(t)return t}await this.loadImageResults(e);let i=this.getKey(e);return this.validImagePromises.has(i)?(t=this.validImagePromises.get(i).then(()=>this.findValidImage(e)),this.validImagePromises.set(i,t)):t=this.findValidImage(e),this.validImagePromises.set(i,t),t.then(t=>(t&&n&&this.markUsed(t.imageUrl),t&&e.loadImageId&&this.foundImages.set(e.loadImageId,t),t))}async findValidImage(e){let t=this.getKey(e);for(let e of this.results.get(t)){let{image:t}=e;if(!this.isUsed(t.imageUrl)&&(void 0===e.isValid&&(e.isValid=await (0,a.Ef)(t.imageUrl)),e.isValid))return e.image}return null}async loadImageResults(e){let{query:t,provider:n,options:r,count:l}=e,s=this.getKey({query:t,provider:n,options:r});if(this.results.has(s))return;if(this.requestPromises.has(s))return void await this.requestPromises.get(s);this.debugRequests.push(s);let o=(0,i.g)({query:t,count:l,options:r,provider:n}).then(e=>e.filter(e=>(0,a.zk)(e.imageUrl))).then(e=>{let t=e.map(e=>({image:e,isValid:void 0}));return this.results.set(s,t),e});this.requestPromises.set(s,o),await o}debugInfo(){return{requests:this.debugRequests}}constructor(){this.usedImages=new Set,this.results=new Map,this.requestPromises=new Map,this.validImagePromises=new Map,this.debugRequests=[],this.generateImagePromises=new Map,this.foundImages=new Map}}},95017:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var i=n(37243),a=n(42725),r=n.n(a),l=n(64022),s=n.n(l);let o=i.YY.create({name:"updateAttributesAtPos",addCommands:()=>({updateAttributesAtPos:(e,t)=>n=>{let{tr:i}=n;return Object.entries(t).forEach(t=>{let[n,a]=t;i.setNodeAttribute(e,n,a)}),!0},updateNestedAttributesAtPos:(e,t)=>n=>{let{tr:i}=n,a=i.doc.nodeAt(e);return!!a&&(Object.entries(t).forEach(t=>{let[n,r]=t,l=s()(r)?{...a.attrs[n],...r}:r;i.setNodeAttribute(e,n,l)}),!0)},updateAttributeKeyPathAtPos:(e,t,n)=>i=>{var a;let{tr:l,state:s}=i,o=null==(a=s.doc.nodeAt(e))?void 0:a.attrs;if(!o)return!1;let c=JSON.parse(JSON.stringify(o));return Object.entries(r()(c,t,n)).forEach(t=>{let[n,i]=t;l.setNodeAttribute(e,n,i)}),!0}})})},95081:(e,t,n)=>{"use strict";n.d(t,{q:()=>w});var i=n(83004),a=n(23050);let r="transparent",l=(0,i.i7)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),s=(0,i.i7)({"0%":{opacity:.5,color:"var(--chakra-colors-trueblue-500)"},"100%":{opacity:1,color:"inherit"}}),o={".autocomplete-loading":{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:"2px",borderBottomColor:r,borderLeftColor:r,animation:"".concat(l," ").concat("0.45s"," linear infinite"),width:"var(--spinner-size)",height:"var(--spinner-size)","--spinner-size":"1em",marginLeft:"0.25em",color:"var(--chakra-colors-trueblue-500)"},".autocomplete-inserted":{animation:"".concat(s," ").concat(a.B2,"ms ease-out")},".autocomplete-highlight":{backgroundColor:"#84c1fa45"}};var c=n(29608),d=n(39659);let u={backgroundRepeat:"no-repeat",backgroundSize:"11px",backgroundPosition:"8px center",fontSize:"13px",fontWeight:"bold",color:"var(--chakra-colors-trueblue-400)",position:"absolute",zIndex:1,top:"0px",left:"0px",backgroundColor:"var(--chakra-colors-trueblue-100)",padding:"4px 12px",paddingLeft:"24px",borderRadius:"0 0 4px 4px",pointerEvents:"none"},p={".block-card":{transitionProperty:"opacity",transitionDuration:"normal"},".ai-generate-streaming-card":{"&.node-card":{pointerEvents:(0,c.Xb)()?void 0:"none !important"},"&.node-card > [data-node-view-wrapper] > .card-wrapper > .card-body":{_before:{content:"''",position:"absolute",inset:"0px",zIndex:1,boxShadow:"0px 0px 0px 5px var(--chakra-colors-trueblue-100)",borderRadius:"inherit",pointerEvents:"none"}},".streaming-cursor__label":{_after:{...u,backgroundImage:'/**/url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512" fill="'.concat("%23553bff",'">\x3c!--! Font Awesome Pro 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M245.8 45.9C241.9 37.4 233.4 32 224 32s-17.9 5.4-21.8 13.9L142.7 174.7 13.9 234.2C5.4 238.1 0 246.6 0 256s5.4 17.9 13.9 21.8l128.8 59.5 59.5 128.8c3.9 8.5 12.4 13.9 21.8 13.9s17.9-5.4 21.8-13.9l59.5-128.8 128.8-59.5c8.5-3.9 13.9-12.4 13.9-21.8s-5.4-17.9-13.9-21.8L305.3 174.7 245.8 45.9z"/></svg>\')'),content:"var(--ai-generating-label)"}}},"&.buddy-active":{".buddy-active-card > [data-node-view-wrapper] > .card-wrapper > .card-body":{_before:{content:"''",position:"absolute",inset:"0px",zIndex:1,boxShadow:"0px 0px 0px 1px #2208CC",borderRadius:"inherit",pointerEvents:"none"}}},"&.sal-active":{".block-card:not(.sal-active-card, .sal-active-card-parent)":{opacity:.5},".sal-active-card > [data-node-view-wrapper] > .card-wrapper > .card-body":{_before:{content:"''",position:"absolute",inset:"0px",zIndex:1,boxShadow:"0px 0px 0px 5px #2208CC",borderRadius:"inherit",pointerEvents:"none"},_after:{...u,backgroundColor:"#2208CC",backgroundImage:'/**/url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 512 512" fill="'.concat("%23ffffff",'">\x3c!--! Font Awesome Pro 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M327.5 85.2c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L384 128l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L448 128l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L448 64 426.8 7.5C425.1 3 420.8 0 416 0s-9.1 3-10.8 7.5L384 64 327.5 85.2zM205.1 73.3c-2.6-5.7-8.3-9.3-14.5-9.3s-11.9 3.6-14.5 9.3L123.3 187.3 9.3 240C3.6 242.6 0 248.3 0 254.6s3.6 11.9 9.3 14.5l114.1 52.7L176 435.8c2.6 5.7 8.3 9.3 14.5 9.3s11.9-3.6 14.5-9.3l52.7-114.1 114.1-52.7c5.7-2.6 9.3-8.3 9.3-14.5s-3.6-11.9-9.3-14.5L257.8 187.4 205.1 73.3zM384 384l-56.5 21.2c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L384 448l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L448 448l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L448 384l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L384 384z"/></svg>\')'),padding:"4px 12px",paddingLeft:"0",width:"16px",borderRadius:"full",content:"''",left:"2px",top:"-2px",height:"16px",transform:"translate(0%,-50%)"}},".sal-active-card-parent":{".block:not(.sal-active-card)":{opacity:.5},".sal-active-card":{".block":{opacity:1}}},".sal-selection-text":{backgroundColor:"rgba(100, 100, 100, 0.25)",...d.w}}};var h=n(66849),g=n(2067);let m=".125em",x={transitionDuration:"slow",transitionTimingFunction:"ease-out"},f=".comments-wrapper, .block-comments-circle",b="> :is(".concat(f,")"),y="> :not(".concat(f,"), [data-spotlight-parent] > *"),v=e=>{let t=e?.2:.65;return{"&.react-renderer > [data-node-view-wrapper]":{[y]:{transitionProperty:"filter, transform",...x,filter:"opacity(".concat(t,") blur(").concat(e?m:"0",")")},[b]:{transitionProperty:"opacity",...x,filter:"opacity(".concat(t,")  blur(").concat(e?m:"0",")"),"&[data-is-popup-open=true]":{filter:"none"},_hover:{filter:"none"}}},"&:not(.react-renderer)":{transitionProperty:"filter, transform",...x,filter:"opacity(".concat(t,")  blur(").concat(e?m:"0",")")}}},C={"[data-spotlight-dim]":{opacity:.2},".spotlightable":{...v(!1),transitionProperty:"filter, transform",...x,cursor:"pointer"},".spotlightable:hover":{transform:"scale(1.05)"},".spotlightable.after-spotlight":v(!0),".spotlightable.spotlight-block, .spotlight-block .spotlightable":{"&.react-renderer > [data-node-view-wrapper]":{[y]:{opacity:"1",filter:"none"},[b]:{filter:"none"}},"&:not(.react-renderer)":{filter:"none"}}},w={...o,".ProseMirror":{"&.spotlight-active":C,...p,".block-card":{transitionProperty:"opacity",transitionDuration:"normal"},"&.card-notes-active":{".block-card:not(.card-notes-active-parent-card)":{opacity:.5},".card-notes-active-parent-card .block-card":{opacity:"revert"},".card-notes-active-parent-card > [data-node-view-wrapper] > .card-wrapper > .card-body":{_before:{content:"''",position:"absolute",inset:"0px",zIndex:1,boxShadow:"0px 0px 0px 5px var(--chakra-colors-trueblue-100)",borderRadius:"inherit",pointerEvents:"none"}}},...h.F,...g.p,".card-present-mode":{"&--doc":{transform:"translateY(0)",position:"relative",zIndex:1},"&--presentCollapsed":{transform:"translateY(0)",position:"relative",zIndex:1},"&--presentPrev":{transform:"translateY(-100%)",position:"fixed",zIndex:2},"&--presentCurrent":{transform:"translateY(0)","@media print":{transform:"none"},position:"fixed",zIndex:3},"&--presentNext":{transform:"translateY(100%)",position:"fixed",zIndex:2},"&--presentParent":{transform:"translateY(0)",position:"fixed",zIndex:2}},".document-content.is-doc-mode":{".card-wrapper":{"&:hover":{".card-divider":{opacity:1},".manage-card-controls":{opacity:1}}}},".document-content":{".card-wrapper":{"&:hover":{".card-footer-reactions":{opacity:1},".card-collapsed":{".card-footer-reactions":{display:"none"}}}}}},".ProseMirror-dropcursor":{transitionProperty:"inset",transitionDuration:"fast",borderRadius:"md",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",outline:"1px solid",outlineColor:"whiteAlpha.800",pointerEvents:"none",backdropFilter:"blur(4px)","&::after":{backgroundColor:"gray.600",color:"whiteAlpha.900",px:"8px",py:"2px",borderRadius:"sm",fontWeight:"medium",shadow:"md",fontSize:"sm",w:"max-content",pointerEvents:"none",display:"none"},'&[data-type="column"]::after':{content:'"Drop to add column"',position:"absolute",top:"-2em",display:"block"}}}},95197:(e,t,n)=>{"use strict";n.d(t,{D3:()=>r,M0:()=>h,M3:()=>s,Nk:()=>a,RP:()=>p,_V:()=>o,cP:()=>u,o:()=>c});var i=n(59230);let a=e=>{let{hideFromFirst:t,hideFromLast:n,...i}=e;return Object.values(i).every(e=>!e)},r=e=>{let{hideFromFirst:t,hideFromLast:n,...i}=e;return Object.values(i).some(e=>(null==e?void 0:e.type)==="themeLogo")},l=e=>{var t,n;return(null==e?void 0:e.type)==="image"&&(null==e||null==(t=e.imageAttrs)?void 0:t.src)&&(null==e||null==(n=e.imageAttrs)?void 0:n.uploadStatus)===i.A.Done},s=(e,t)=>!(null==e?void 0:e.type)||"text"===e.type&&!e.content||"image"===e.type&&!l(e)||"themeLogo"===e.type&&null===t,o=e=>{var t,n;return(null==e?void 0:e.type)!=="image"?null:null!=(n=null==e||null==(t=e.imageAttrs)?void 0:t.src)?n:null},c=e=>{let{flex:t,text:n}={Left:{flex:"flex-start",text:"left"},Center:{flex:"center",text:"center"},Right:{flex:"flex-end",text:"right"}}[e.replace(/^(top|bottom)/,"")];return{flex:t,text:n}},d={top:/^top/,bottom:/^bottom/,left:/Left$/,right:/Right$/,center:/Center$/},u=(e,t)=>d[e].test(t),p=(e,t,n)=>{let i=(null!=t?t:1)-1;return e<i?"":((null!=n?n:1)+(e-i)).toString()},h=(e,t,n)=>{let i=null!=e?e:1,a=null!=t?t:1,r="";2===i?r="—,":i>2&&(r="...,");let l=a+1,s=a+2;return n&&1===i?"".concat(a,", ").concat(l,", ").concat(s,", ").concat(s+1,"..."):"".concat(r," ").concat(a,", ").concat(l,", ").concat(s,"...")}},95465:(e,t,n)=>{"use strict";n.d(t,{K:()=>l});var i=n(91938),a=n(58809),r=n(15342);let l=()=>{var e,t;let n=(0,r.GV)(a.Jo);if(!n)return!1;let l=i.$.SHARE_TOKEN,s=null==(e=n.accessLinks)?void 0:e.some(e=>""===e.token),o=null==(t=n.accessLinks)?void 0:t.some(e=>null===e.permission);return!!l||!!s&&!o}},95663:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});let i=n(35658).Ay.extend({parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration=line-through",consuming:!1},{style:"text-decoration-line=line-through",consuming:!1}],addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}}})},96197:(e,t,n)=>{"use strict";n.d(t,{CG:()=>I,D8:()=>L,JD:()=>m,Kl:()=>h,L0:()=>v,QN:()=>f,Qg:()=>k,Tn:()=>M,_G:()=>S,_t:()=>u,cq:()=>p,gC:()=>x,i4:()=>C,lD:()=>E,rO:()=>D,uC:()=>j,w7:()=>y});var i=n(94289),a=n(63867),r=n(23513),l=n(46675),s=n(39078),o=n(61292),c=n(48413),d=n(14503);function u(e){let t=(0,d.t6)(e),n=t.node(-1),i=t.start(-1),a=c.J.get(n);return{...e instanceof l.HT?a.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):a.findCell(t.pos-i),map:a,table:n,tableStart:i}}function p(e,t){let{tableStart:n,col:i,table:a,colMinPercent:r,newColSize:l=20}=t,u=c.J.get(a),p=i>0?-1:0;(0,d.Ui)(u,a,i+p)&&(p=0==i||i==u.width?null:0);for(let t=0;t<u.height;t++){let r=t*u.width+i;if(i>0&&i<u.width&&u.map[r-1]==u.map[r]){let l=u.map[r],s=a.nodeAt(l);e.setNodeMarkup(e.mapping.map(n+l),void 0,(0,d.uH)(s.attrs,i-u.colCount(l))),t+=s.attrs.rowspan-1}else{let l=null==p?(0,o.e)(a.type.schema).cell:a.nodeAt(u.map[r+p]).type,s=u.positionAt(t,i,a);e.insert(e.mapping.map(n+s),l.createAndFill())}}let{colWidths:h}=a.attrs,g=(0,s.KJ)(h,i,l,r);return h.length===g.length?(e.setMeta("preventDispatch",!0),!1):(e.setNodeMarkup(n-1,void 0,{colWidths:[...g]}),!0)}function h(e,t,n){if(!(0,d.aH)(e))return!1;let i=u(e);if(0==i.left&&i.right==i.map.width)return!1;let r=[];for(let e=i.right-1;!function(e,t,n){let{map:i,tableStart:a,table:r}=t,l=e.mapping.maps.length;for(let t=0;t<i.height;){let s=t*i.width+n,o=i.map[s],c=r.nodeAt(o);if(n>0&&i.map[s-1]==o||n<i.width-1&&i.map[s+1]==o)e.setNodeMarkup(e.mapping.slice(l).map(a+o),void 0,(0,d.Pn)(c.attrs,n-i.colCount(o)));else{let t=e.mapping.slice(l).map(a+o);e.delete(t,t+c.nodeSize)}t+=c.attrs.rowspan}}(t,i,e),r.push(e),e!=i.left;e--)i.table=i.tableStart?t.doc.nodeAt(i.tableStart-1):t.doc,i.map=c.J.get(i.table);let l=(0,s.XC)(i.table.attrs.colWidths,r);if(t.setNodeMarkup(i.tableStart-1,void 0,{colWidths:l}),i.right===i.map.width){let e=i.tableStart+i.map.positionAt(0,i.left-1,i.table),n=t.doc.resolve(e),r=a.LN.near(n);t.setSelection(r)}return n&&n(t),!0}function g(e,t,n){let{map:i,tableStart:a,table:r}=t,l=a;for(let e=0;e<n;e++)l+=r.child(e).nodeSize;let s=[],c=n>0?-1:0;(function(e,t,n){let i=(0,o.e)(t.type.schema).header_cell;for(let a=0;a<e.width;a++)if(t.nodeAt(e.map[a+n*e.width]).type!=i)return!1;return!0})(i,r,n+c)&&(c=0==n||n==i.height?null:0);for(let t=0,l=i.width*n;t<i.width;t++,l++)if(n>0&&n<i.height&&i.map[l]==i.map[l-i.width]){let n=i.map[l],s=r.nodeAt(n).attrs;e.setNodeMarkup(a+n,void 0,(0,d.ob)(s,"rowspan",s.rowspan+1)),t+=s.colspan-1}else{let e=null==c?(0,o.e)(r.type.schema).cell:r.nodeAt(i.map[l+c*i.width]).type;s.push(e.createAndFill())}return e.insert(l,(0,o.e)(r.type.schema).row.create(null,s)),e}function m(e,t){if(!(0,d.aH)(e.selection))return!1;if(t){let n=u(e.selection);t(g(e.tr,n,n.top))}return!0}function x(e,t){if(!(0,d.aH)(e.selection))return!1;if(t){let n=u(e.selection);t(g(e.tr,n,n.bottom))}return!0}function f(e,t,n){if(!(0,d.aH)(e))return!1;let i=u(e);if(0==i.top&&i.bottom==i.map.height)return!1;for(let e=i.bottom-1;!function(e,t,n){let{map:i,table:a,tableStart:r}=t,l=0;for(let e=0;e<n;e++)l+=a.child(e).nodeSize;let s=l+a.child(n).nodeSize,o=e.mapping.maps.length;e.delete(l+r,s+r);for(let t=0,l=n*i.width;t<i.width;t++,l++){let s=i.map[l];if(n>0&&s==i.map[l-i.width]){let n=a.nodeAt(s).attrs;e.setNodeMarkup(e.mapping.slice(o).map(s+r),void 0,(0,d.ob)(n,"rowspan",n.rowspan-1)),t+=n.colspan-1}else if(n<i.width&&s==i.map[l+i.width]){let l=a.nodeAt(s),c=l.type.create((0,d.ob)(l.attrs,"rowspan",l.attrs.rowspan-1),l.content),u=i.positionAt(n+1,t,a);e.insert(e.mapping.slice(o).map(r+u),c),t+=l.attrs.colspan-1}}}(t,i,e),e!=i.top;e--)i.table=i.tableStart?t.doc.nodeAt(i.tableStart-1):t.doc,i.map=c.J.get(i.table);if(i.bottom===i.map.height){let e=i.tableStart+i.map.positionAt(i.top-1,0,i.table),n=t.doc.resolve(e),r=a.LN.near(n);t.setSelection(r)}return n&&n(t),!0}function b(e){let t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function y(e,t){let n=e.selection;if(!(n instanceof l.HT)||n.$anchorCell.pos==n.$headCell.pos)return!1;let a=u(e.selection),{map:r}=a;if(function(e,t){let{width:n,height:i,map:a}=e,r=t.top*n+t.left,l=r,s=(t.bottom-1)*n+t.left,o=r+(t.right-t.left-1);for(let e=t.top;e<t.bottom;e++){if(t.left>0&&a[l]==a[l-1]||t.right<n&&a[o]==a[o+1])return!0;l+=n,o+=n}for(let e=t.left;e<t.right;e++){if(t.top>0&&a[r]==a[r-n]||t.bottom<i&&a[s]==a[s+n])return!0;r++,s++}return!1}(r,a))return!1;if(t){let n=e.tr,s={},o=i.FK.empty,c,u;for(let e=a.top;e<a.bottom;e++)for(let t=a.left;t<a.right;t++){let i=r.map[e*r.width+t],l=a.table.nodeAt(i);if(!s[i])if(s[i]=!0,null==c)c=i,u=l;else{b(l)||(o=o.append(l.content));let e=n.mapping.map(i+a.tableStart);n.delete(e,e+l.nodeSize)}}if(n.setNodeMarkup(c+a.tableStart,void 0,(0,d.ob)((0,d.uH)(u.attrs,u.attrs.colspan,a.right-a.left-u.attrs.colspan),"rowspan",a.bottom-a.top)),o.size){let e=c+1+u.content.size,t=b(u)?c+1:e;n.replaceWith(t+a.tableStart,e+a.tableStart,o)}n.setSelection(new l.HT(n.doc.resolve(c+a.tableStart))),t(n)}return!0}function v(e,t){var n;let i=(0,o.e)(e.schema);return(n=e=>{let{node:t}=e;return i[t.type.spec.tableRole]},(e,t)=>{let i,a,r=e.selection;if(r instanceof l.HT){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;i=r.$anchorCell.nodeAfter,a=r.$anchorCell.pos}else{if(!(i=(0,d.HF)(r.$from)))return!1;a=(0,d.KW)(r.$from).pos}if(1==i.attrs.colspan&&1==i.attrs.rowspan)return!1;if(t){let s,o=i.attrs,c=[],p=o.colwidth;o.rowspan>1&&(o=(0,d.ob)(o,"rowspan",1)),o.colspan>1&&(o=(0,d.ob)(o,"colspan",1));let h=u(e.selection),g=e.tr;for(let e=0;e<h.right-h.left;e++)c.push(p?(0,d.ob)(o,"colwidth",p&&p[e]?[p[e]]:null):o);for(let e=h.top;e<h.bottom;e++){let t=h.map.positionAt(e,h.left,h.table);e==h.top&&(t+=i.nodeSize);for(let a=h.left,r=0;a<h.right;a++,r++)(a!=h.left||e!=h.top)&&g.insert(s=g.mapping.map(t+h.tableStart,1),n({node:i,row:e,col:a}).createAndFill(c[r]))}g.setNodeMarkup(a,n({node:i,row:h.top,col:h.left}),c[0]),r instanceof l.HT&&g.setSelection(new l.HT(g.doc.resolve(r.$anchorCell.pos),s&&g.doc.resolve(s))),t(g)}return!0})(e,t)}function C(e,t){return function(n,i){var a;if(!(0,d.aH)(n.selection))return!1;let r=(0,d.t6)(n.selection);if((null==(a=r.nodeAfter)?void 0:a.attrs[e])===t)return!1;if(i){let a=n.tr;n.selection instanceof l.HT?n.selection.forEachCell((n,i)=>{n.attrs[e]!==t&&a.setNodeMarkup(i,void 0,(0,d.ob)(n.attrs,e,t))}):a.setNodeMarkup(r.pos,void 0,(0,d.ob)(r.nodeAfter.attrs,e,t)),i(a)}return!0}}function w(e,t,n){let i=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1});for(let e=0;e<i.length;e++){let a=t.table.nodeAt(i[e]);if(a&&a.type!==n.header_cell)return!1}return!0}function A(e,t){if((t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic)return function(t,n){if(!(0,d.aH)(t.selection))return!1;if(n){let i=(0,o.e)(t.schema),a=u(t.selection),r=t.tr,l=a.map.cellsInRect("column"==e?new c.r(a.left,0,a.right,a.map.height):"row"==e?new c.r(0,a.top,a.map.width,a.bottom):a),s=l.map(e=>a.table.nodeAt(e));for(let e=0;e<l.length;e++)s[e].type==i.header_cell&&r.setNodeMarkup(a.tableStart+l[e],i.cell,s[e].attrs);if(0==r.steps.length)for(let e=0;e<l.length;e++)r.setNodeMarkup(a.tableStart+l[e],i.header_cell,s[e].attrs);n(r)}return!0};return function(t,n){if(!(0,d.aH)(t.selection))return!1;if(n){let i=(0,o.e)(t.schema),a=u(t.selection),r=t.tr,l=w("row",a,i),s=w("column",a,i),d=+!!("column"===e?l:"row"===e&&s),p="column"==e?new c.r(0,d,1,a.map.height):"row"==e?new c.r(d,0,a.map.width,1):a,h="column"==e?s?i.cell:i.header_cell:"row"==e?l?i.cell:i.header_cell:i.cell;a.map.cellsInRect(p).forEach(e=>{let t=e+a.tableStart,n=r.doc.nodeAt(t);n&&r.setNodeMarkup(t,h,n.attrs)}),n(r)}return!0}}let j=A("row",{useDeprecatedLogic:!0}),k=A("column",{useDeprecatedLogic:!0}),S=A("cell",{useDeprecatedLogic:!0});function L(e){return function(t,n){if(!(0,d.aH)(t.selection))return!1;let i=function(e,t){if(t<0){let t=e.nodeBefore;if(t)return e.pos-t.nodeSize;for(let t=e.index(-1)-1,n=e.before();t>=0;t--){let i=e.node(-1).child(t);if(i.childCount)return n-1-i.lastChild.nodeSize;n-=i.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;let t=e.node(-1);for(let n=e.indexAfter(-1),i=e.after();n<t.childCount;n++){let e=t.child(n);if(e.childCount)return i+1;i+=e.nodeSize}}}((0,d.t6)(t.selection),e);if(null==i)return!1;if(n){let e=t.doc.resolve(i);n(t.tr.setSelection(a.U3.between(e,(0,d.fx)(e))).scrollIntoView())}return!0}}function I(e,t,n){let i=e.$anchor;for(let e=i.depth;e>0;e--)if("table"==i.node(e).type.spec.tableRole){t.delete(i.before(e),i.after(e)).scrollIntoView();let a=(0,r.i)(t);return a&&t.setSelection(a),n&&n(t),!0}return!1}let E=(e,t,n)=>e instanceof l.HT&&!!(e.isSelectingAllCells()&&e.everyCell(b))&&I(e,t,n),D=(e,t,n)=>e instanceof l.HT&&!!e.isRowSelection()&&!!e.everyCell(b)&&f(e,t,n),M=(e,t,n)=>e instanceof l.HT&&!!e.isColSelection()&&!!e.everyCell(b)&&h(e,t,n)},96632:(e,t,n)=>{"use strict";n.d(t,{L:()=>y,g:()=>v});var i=n(6029),a=n(46898),r=n(90394),l=n(26385),s=n(48810),o=n(19564),c=n(77650),d=n(55729),u=n(58809),p=n(15342),h=n(11618),g=n(95465),m=n(43634),x=n(85235),f=n(70006),b=n(74471);let y=e=>{let{cardId:t}=e,n=(0,p.GV)(m.wC),i=(0,p.GV)(u.Jo),l=(0,f.Io)({cardId:t,docId:null==i?void 0:i.id,isPresentMode:n===x.w.SLIDE_VIEW}),s=(0,a.d)(),{onCopy:o}=(0,r.i)(l);return{onCopyLinkClick:(0,d.useCallback)(()=>{o(),s({title:c.Ru._({id:"BVYvMa"}),status:"success",duration:3e3,position:"top"})},[o,s])}},v=e=>{let{attrs:t}=e,n=(0,g.K)(),{onCopyLinkClick:a}=y({cardId:t.id});return(0,i.jsx)(b.I,{onClick:e=>{var t;if(e.target&&(null==(t=e.target)?void 0:t.closest('[data-testid="open-share"]')))return void e.preventDefault();a()},label:n?(0,i.jsx)(o.x6,{id:"F0YmUY"}):(0,i.jsxs)(l.B,{spacing:"0",children:[(0,i.jsx)(s.E,{children:(0,i.jsx)(o.x6,{id:"afMspw"})}),(0,i.jsx)(s.E,{fontSize:"xxs",color:"gray.400",children:(0,i.jsx)(o.x6,{id:"OpeWZK"})})]}),children:(0,i.jsx)(h.E,{isLocked:!n})})}},97256:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});var i=n(55729),a=n(22445);let r=()=>{let{isOpen:e,onClose:t,onOpen:n}=(0,a.E)({id:"card-margins-elements"}),[r,l]=(0,i.useState)();return{isCardMarginsModalOpen:e,onCloseCardMarginsModal:t,onOpenCardMarginsModal:n,positionToHighlight:r,setPositionToHighlight:l}}},97315:(e,t,n)=>{"use strict";n.d(t,{N:()=>p});var i=n(6029),a=n(24302),r=n(40452),l=n(26385),s=n(48810),o=n(29810),c=n(99492),d=n(48621),u=n(19564);let p=e=>{let{formatLabel:t,icon:n,rightIcon:p=c.a_I,accentColor:h,onClick:g,exportInProgress:m,exportInProgressNote:x,badge:f,customLabel:b,customInProgressMessage:y}=e,v=(0,a.dU)("gray.50","whiteAlpha.100"),C=(0,a.dU)("gray.200","gray.600"),w=(0,a.dU)("".concat(h,".100"),"".concat(h,".200")),A=h.endsWith("00")?h:w,j=(0,a.dU)("gray.300","gray.600");return(0,i.jsxs)(r.s,{alignItems:"stretch",overflow:"hidden",onClick:g,borderRadius:"md",border:"1px",borderColor:(0,a.dU)("gray.200","gray.600"),bgColor:m?C:v,cursor:m?"progress":void 0,disabled:m,as:"button",transitionProperty:"common",transitionDuration:"normal",_hover:m?{}:{boxShadow:"var(--chakra-shadows-md)",borderColor:"inherit",color:"inherit"},children:[(0,i.jsx)(r.s,{bgColor:m?j:A,filter:m?"grayscale(1)":void 0,width:14,minWidth:14,minH:14,alignItems:"center",justifyContent:"center",fontSize:"2xl",children:n}),(0,i.jsxs)(l.B,{alignItems:"flex-start",spacing:0,p:4,justifyContent:"center",children:[!m&&(0,i.jsxs)(s.E,{fontWeight:"medium",children:[b||(0,i.jsx)(u.x6,{id:"i3Tbgc",values:{formatLabel:t}})," ",f]}),m&&(0,i.jsxs)(s.E,{fontWeight:"medium",textAlign:"start",children:[y||(0,i.jsx)(u.x6,{id:"wRvCQ6",values:{formatLabel:t}})," ",x]})]}),(0,i.jsx)(o.h,{}),!m&&(0,i.jsx)(r.s,{alignItems:"center",ps:4,pe:6,children:(0,i.jsx)(d.g,{icon:p,size:"1x"})})]})}},97984:(e,t,n)=>{"use strict";n.d(t,{f:()=>s,r:()=>o});var i=n(37243),a=n(84548),r=n(30892),l=n(38934);let s=a.Ay.extend({name:"highlight",priority:l.y.Highlight,excludes:"textColor highlight",addAttributes:()=>({variant:{},hex:{}}),addCommands(){var e;return{...null==(e=this.parent)?void 0:e.call(this),setHighlightColor:e=>t=>{let{commands:n}=t;return n.setMark(this.name,{hex:e,variant:null})}}},parseHTML:()=>[{tag:"mark[class=highlight]"},{tag:"mark[highlight-color]",getAttrs(e){let t=e.getAttribute("highlight-color");return!!t&&{hex:t}}}],renderHTML(e){let{HTMLAttributes:t,mark:n}=e,a=n.attrs.hex&&(0,r.$p)(n.attrs.hex),l="var(".concat(a?"--highlight-color-dark":"--highlight-color-light",")"),s=["--highlight-color: ".concat(n.attrs.hex),"color: ".concat(l),"--link-color: ".concat(l),"--link-color-hover:".concat("var(".concat(a?"--highlight-link-color-hover-dark":"--highlight-link-color-hover-light",")"))].join("; ");return["mark",(0,i.KV)(this.options.HTMLAttributes,t,{class:"highlight",style:s})]},renderHTMLforAI(e){let{mark:t}=e;return["mark",{"highlight-color":t.attrs.hex}]}}).configure({multicolor:!0}),o=i.CU.create({name:"textColor",excludes:"highlight textColor",priority:l.y.TextColor,addAttributes:()=>({variant:{},hex:{}}),addCommands(){return{setTextColor:e=>t=>{let{commands:n}=t;return n.setMark(this.name,{hex:e,variant:null})}}},parseHTML:()=>[{tag:"span[class=textColor]"},{tag:"span[text-color]",getAttrs(e){let t=e.getAttribute("text-color");return!!t&&{hex:t}}}],renderHTML(e){let{HTMLAttributes:t,mark:n}=e;return["span",(0,i.KV)(t,{class:"textColor",style:n.attrs.hex?"--text-color: ".concat(n.attrs.hex):void 0})]},renderHTMLforAI(e){var t;let{mark:n}=e;return["span",{"text-color":null!=(t=n.attrs.hex)?t:n.attrs.variant}]}})},98026:()=>{},98071:(e,t,n)=>{"use strict";n.d(t,{JH:()=>u,Nu:()=>h,jh:()=>d,kB:()=>p});var i=n(77650),a=n(37243),r=n(21157),l=n.n(r),s=n(52762),o=n(33201),c=n(94922);let d=(e,t)=>{var n,i;let{background:a,fitType:r}=e,{allowFit:l}=(0,c.lH)(t);return l?r||((null==a||null==(i=a.image)||null==(n=i.meta)?void 0:n.has_transparency)?"fit":"fill"):"fill"},u=(e,t)=>{var n;let{allowFit:i}=(0,c.lH)(t);return i&&(null==(n=e.background)?void 0:n.type)===s.h.IMAGE},p=(e,t,n)=>{let i=(0,a.eL)(e.state.doc.resolve(t),o.jg);t&&(n?e.commands.updateAttributesAtPos(t,{background:{type:s.h.NONE}}):(null==i?void 0:i.pos)&&(e.commands.setCardLayout(i.pos,"blank"),e.commands.selectInsideCardBody(i.pos)))},h=e=>"blank"===e?i.Ru._({id:"6JcK6b"}):"behind"===e?i.Ru._({id:"SQOVlA"}):i.Ru._({id:"T8aKxO",values:{0:l()(e)}})},98088:(e,t,n)=>{"use strict";n.d(t,{p:()=>c,z:()=>o});var i=n(58495),a=n(63867),r=n(67200),l=n(77467);let s=new a.hs("UniqueMediaId"),o=()=>(0,i.Ak)(5),c=l.S.extend({name:"UniqueMediaId"}).configure({attributeName:"id",types:["image","embed","video","smartLayoutCell","mediaPlaceholder","cardImageItem"],initialValue:o,filterTransaction:r.kz,pluginKey:s})},98874:(e,t,n)=>{"use strict";n.d(t,{BT:()=>a,mw:()=>r,rO:()=>s,vG:()=>l});var i=n(77650);let a=25,r=15,l=10,s=()=>({sm:{targetColumns:4,label:()=>i.Ru._({id:"4Revpc"}),width:l},md:{targetColumns:3,label:()=>i.Ru._({id:"agPptk"}),width:r},lg:{targetColumns:2,label:()=>i.Ru._({id:"k7rCa/"}),width:20},xl:{targetColumns:1,label:()=>i.Ru._({id:"vp6Yr4"}),width:a}})},98968:(e,t,n)=>{"use strict";n.d(t,{HI:()=>S,IG:()=>y,Im:()=>C,NZ:()=>f,Pb:()=>g,hk:()=>D,jG:()=>L,ni:()=>b,qK:()=>x,tz:()=>j,w5:()=>E,wG:()=>A,yL:()=>v,yg:()=>w});var i=n(37243),a=n(94289);n(55729);var r=n(89703),l=n(17928),s=n(73014),o=n(15607),c=n(67864),d=n(47665),u=n(45943),p=n(36145),h=n(50861);let g=e=>"gallery"===e.type.name,m=e=>(0,i.eL)(e,g),x=e=>!!m(e),f=e=>{let{decorations:t}=e;return t.some(e=>e.spec.inGallery)},b=e=>{let{decorations:t}=e;return t.some(e=>"grid"===e.spec.layout)},y=e=>{var t;let{decorations:n}=e;return null==(t=n.find(e=>e.spec.thumbHeight))?void 0:t.spec.thumbHeight},v=e=>{var t;let{decorations:n}=e;return null==(t=n.find(e=>e.spec.thumbSpacing))?void 0:t.spec.thumbSpacing},C=e=>{let{decorations:t}=e;return t.some(e=>"logo"===e.spec.layout)},w=e=>{var t;let{decorations:n}=e,i=null==(t=n.find(e=>e.spec.children))?void 0:t.spec.children;return i?(0,o.F2)(i):[]},A=e=>{let t=(0,c.rV)(e.$from);t&&!(0,d.jg)(t.node)?l.LF.emit(l.DN.CREATE_COMMENT_FROM_SELECTION,{selectionPos:e.from,parentPos:t.pos,text:(0,s.Lo)(e.node)}):l.LF.emit(l.DN.CREATE_COMMENT_FROM_SELECTION,{selectionPos:e.from,parentPos:e.from,text:(0,s.Lo)(e.node)})},j=(e,t,n,i)=>{let a,r;if(n&&!k(n,e.state.schema))return null;let l=e.posAtCoords({left:t.clientX,top:t.clientY});if(!l)return null;let{doc:s}=e.state,{pos:c}=l,d=s.resolve(c),u=m(d);if(u&&u.node.childCount>0)c=l.pos,(a=(0,o.q0)(c,e))||c!=u.pos+u.node.nodeSize-1||(c-=1,a=(0,o.q0)(c,e)),r=u.node;else{c=l.inside;try{r=s.resolve(c).nodeAfter}catch(e){return null}if(!r||!(0,h.Bv)(r)||r==(null==n?void 0:n.content.firstChild)||i)return null;let t=d.parent;if(t&&!I(e.state.schema,t))return null;if("image"===r.type.name){var p;let t=e.nodeDOM(c);a=null==t||null==(p=t.querySelector("[data-node-image-testid]"))?void 0:p.getBoundingClientRect()}else a=(0,o.q0)(c,e)}if(!a)return null;let g=t.clientX-a.left,x=a.right-t.clientX,f=g>x?"right":"left";return("left"==f?g<0:x<0)&&!u?null:{pos:c,side:f,rect:a,node:r}},k=(e,t)=>e.content.size>0&&t.nodes.gallery.validContent(e.content),S=(e,t)=>{var n;let i=null==(n=e.dragging)?void 0:n.slice;if(!i){let e=[...t.dataTransfer.items];return e.length>0&&e.every(e=>e.type.startsWith("image/"))}return k(i,e.state.schema)},L=(e,t,n)=>{let i=(0,p.dM)(n,t);return(0,u.kf)(t)||k(t,e)||i&&i.length>0},I=(e,t)=>{let n=e.nodes[t.type.name];return!!n&&n.validContent(a.FK.fromJSON(e,[{type:"gallery",content:[]}]))},E=(e,t)=>"calc(".concat(.25*e,"em + ").concat(t,"em)"),D=(e,t)=>{try{var n;let i=e(),a=t.state.doc.nodeAt(i);if(!a)return;let l=null==(n=a.lastChild)?void 0:n.attrs.source,s=i+(null==a?void 0:a.nodeSize)-1;t.chain().insertContentAt(s,{type:"mediaPlaceholder",attrs:{source:l||"image.custom"}}).run(),setTimeout(()=>{t.commands.focus(),t.commands.setNodeSelection(s),(0,r.G)()})}catch(e){console.error("(caught) [GalleryView] addImage",e)}}},99923:(e,t,n)=>{"use strict";n.d(t,{R:()=>i,k:()=>a});let i="fromInnerEditor",a="fromOuterEditor"}}]);
//# sourceMappingURL=6083-fdb1bc885d32a03c.js.map