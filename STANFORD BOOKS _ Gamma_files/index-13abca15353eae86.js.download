(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3332,5397],{6766:(e,i,s)=>{"use strict";s.d(i,{H:()=>d});var t=s(41352),l=s(81221),n=s(91938),r=s(87996),a=s(52297);let o=e=>{let i="",s=!1;if("transloadit"in e){let{failed:t,transloadit:l}=e;s=!!t.length,i=l[0].results[":original"][0].url}else{if(!("results"in e))return{sourceUrl:i,success:!1};i=e.results[":original"][0].url}return s?{sourceUrl:i,success:!1}:{sourceUrl:i,success:!0}},d=(e,i)=>{let s=new t.Ay({...r.ux,restrictions:{...r.ux.restrictions,allowedFileTypes:r.J4}});return s.use(l.Ay,{assemblyOptions:async()=>{let i=n.$.TRANSLOADIT_FILE_TEMPLATE_ID,{signature:s,expires:t}=await (0,a.N)(i);return{params:{auth:{key:n.$.TRANSLOADIT_AUTH_KEY,expires:t},template_id:i},fields:{orgId:e},signature:s}},waitForEncoding:!0}),new Promise((e,t)=>{s.on("complete",i=>{let{success:s,sourceUrl:l}=o(i);s?e(l):t("Could not get sourceUrl from upload result")}),s.on("transloadit:complete",i=>{let{success:s,sourceUrl:l}=o(i);s?e(l):t("Could not get sourceUrl from result")}),s.on("error",e=>{t(e)}),s.on("restriction-failed",(e,i)=>{console.error("[uploadFontFile] restriction failed on file",e,"error",i),t(i)}),s.addFile({name:i.name,type:i.type,data:i}),r.ux.autoProceed||s.upload()})}},13271:(e,i,s)=>{"use strict";s.d(i,{Q:()=>o});var t=s(6029),l=s(21938),n=s(74499),r=s(45460),a=s(2241);let o=(0,r.R)(function(e,i){let{children:s,...r}=e,{status:o,index:d}=(0,n.P$)(),c=(0,n.jw)();return(0,t.jsx)(a.B.div,{ref:i,"data-status":o,__css:c.number,...r,className:(0,l.cx)("chakra-step__number",e.className),children:s||d+1})})},17703:(e,i,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(95906)}])},20715:(e,i,s)=>{"use strict";s.d(i,{Jp:()=>o,cg:()=>r,dd:()=>a});var t=s(95889),l=s(29608),n=s(37605);let r=e=>{let{doc_id:i,source:s,source_doc_id:l,channel:r,format:a,extra:o}=e;null===t.zS||void 0===t.zS||t.zS.track(n.VV.DOC_CREATED,{doc_id:i,source_doc_id:l,source:s,channel:r,extra:o,format:a})},a=e=>{let{docId:i,type:s,source:r}=e;if(!i)return void console.debug("[trackDocShareLinkCopiedEvent]: doc_id is required");null===t.zS||void 0===t.zS||t.zS.track(n.VV.DOC_SHARELINK_COPIED,{doc_id:i,source:r,type:s,device:(0,l.ZI)()})},o=e=>{let{fileId:i,source:s}=e;if(!i)return void console.debug("[trackFileShareLinkCopiedEvent]: file_id is required");null===t.zS||void 0===t.zS||t.zS.track(n.VV.FILE_SHARELINK_COPIED,{file_id:i,source:s,device:(0,l.ZI)()})}},30742:(e,i,s)=>{"use strict";s.d(i,{g:()=>t});let t=(0,s(30477).w)({d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",displayName:"ArrowBackIcon"})},32805:(e,i,s)=>{"use strict";s.d(i,{D:()=>p});var t=s(6029),l=s(10500),n=s(85595),r=s(58959),a=s(62176),o=s(48810),d=s(29810),c=s(48621),x=s(55729),h=s(8139),u=s(38390);let j={deck:"generationPreferredDeckStyle",document:"generationPreferredDocumentStyle",social:"generationPreferredSocialStyle"},p=e=>{let{onSelectStyleTemplate:i,docFormatCategory:s,selectedStyleTemplate:p}=e,{updateUserSettings:m}=(0,u.T)(),g=(0,x.useCallback)((e,i)=>{let s=j[e];s&&m({set:{[s]:i}})},[m]);return(0,t.jsx)(t.Fragment,{children:s.styleTemplates.map(e=>{let x=h.S9[e];return(0,t.jsx)(n.D,{id:e,role:"group",transition:"none",onClick:()=>{g(s.formatType,e),i(e)},children:(0,t.jsxs)(r.z,{py:"1.5",cursor:"pointer",spacing:"2",w:"100%",children:[p&&(0,t.jsx)(a.Z,{fontSize:"0.8em",opacity:+(p===e),children:(0,t.jsx)(l.S,{})}),(0,t.jsx)(c.g,{fixedWidth:!0,icon:x.icon}),(0,t.jsx)(o.E,{children:x.label()}),(0,t.jsx)(d.h,{}),(0,t.jsx)(o.E,{color:"gray.500",fontSize:"sm",children:x.cardDimensionsDesc()})]})},e)})})}},34906:(e,i,s)=>{"use strict";s.d(i,{B:()=>c});var t=s(6029),l=s(48810),n=s(40452),r=s(26385),a=s(23293),o=s(7178);let d={renderNode:{[s(3050).BLOCKS.PARAGRAPH]:function(e,i){return(0,t.jsx)(l.E,{color:"gray.600",children:i})}}},c=e=>{let{category:i}=e,s=i.description?(0,o.i)(i.description,d):null;return(0,t.jsx)(n.s,{direction:"row",alignItems:"flex-start",justify:"space-between",children:(0,t.jsxs)(r.B,{mb:6,children:[(0,t.jsx)(a.D,{size:"md",children:i.title}),s&&s]})})}},36647:(e,i,s)=>{var t=s(68988),l=s(16799),n=s(87567);e.exports=function(e){return function(i,s,r){var a=Object(i);if(!l(i)){var o=t(s,3);i=n(i),s=function(e){return o(a[e],e,a)}}var d=e(i,s,r);return d>-1?a[o?i[d]:d]:void 0}}},40926:(e,i,s)=>{"use strict";s.d(i,{OM:()=>r,eo:()=>a});var t=s(19515),l=s.n(t),n=s(91938);s(74892);let r=e=>e?"production"!==n.$.APPLICATION_ENVIRONMENT?e.stagingDocId||"oltspxg8obq2nzc":e.docId:void console.warn("[getDocIdForEnv] Deck is undefined. This is unexpected."),a=e=>e&&l()(e.map(e=>e.decks))||[]},43724:(e,i,s)=>{e.exports=s(36647)(s(76560))},59724:(e,i,s)=>{"use strict";s.d(i,{a:()=>o});var t=s(81278),l=s(55729),n=s(20746),r=s(70006),a=s(65148);let o=e=>{let[i,s]=(0,n.F)(a.E.lastHomeUrl,"/"),o=(0,t.useRouter)();(0,l.useEffect)(()=>{let i=i=>{e&&(0,r.dD)(i)&&s(i)};return o.events.on("routeChangeStart",i),o.events.on("hashChangeStart",i),()=>{o.events.off("routeChangeStart",i),o.events.off("hashChangeStart",i)}},[o.events,s,e])};s(1771)},61461:(e,i,s)=>{"use strict";s.d(i,{W:()=>o});var t=s(6029),l=s(21938);function n(e){return(0,t.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 20 20","aria-hidden":"true",height:"1em",width:"1em",...e,children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}var r=s(74499),a=s(42732);function o(e){let{status:i}=(0,r.P$)(),s=(0,r.jw)();return(0,t.jsx)(a.I,{as:"complete"===i?n:void 0,__css:s.icon,...e,className:(0,l.cx)("chakra-step__icon",e.className)})}},62070:(e,i,s)=>{"use strict";s.d(i,{x:()=>r});var t=s(6029),l=s(24357),n=s(74499);function r(e){let{complete:i,incomplete:s,active:r}=e,a=(0,n.P$)(),o=null;switch(a.status){case"complete":o=(0,l.J)(i,a);break;case"incomplete":o=(0,l.J)(s,a);break;case"active":o=(0,l.J)(r,a)}return o?(0,t.jsx)(t.Fragment,{children:o}):null}},65092:(e,i,s)=>{"use strict";s.d(i,{C:()=>x});var t=s(6029),l=s(5858),n=s(21938),r=s(55729),a=s(74499),o=s(45460),d=s(8527),c=s(2241);let x=(0,o.R)(function(e,i){let s=(0,d.o)("Stepper",e),{children:o,index:x,orientation:h="horizontal",showLastSeparator:u=!1,...j}=(0,l.M)(e),p=r.Children.toArray(o),m=p.length;return(0,t.jsx)(c.B.div,{ref:i,"aria-label":"Progress","data-orientation":h,...j,__css:s.stepper,className:(0,n.cx)("chakra-stepper",e.className),children:(0,t.jsx)(a.jf,{value:s,children:p.map((e,i)=>(0,t.jsx)(a.V$,{value:{index:i,status:i<x?"complete":i>x?"incomplete":"active",orientation:h,showLastSeparator:u,count:m,isFirst:0===i,isLast:i===m-1},children:e},i))})})})},71671:(e,i,s)=>{"use strict";s.d(i,{A:()=>t});let t={src:"/_next/static/media/gamma-logomark.a54f294c.png",height:256,width:256,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAeFBMVEVMaXHcDvH2h29hMdDkZ4bhIPHJI93GMMmIA/7JAf/+lV3pHuDVB/fydXuyAP/8o0uHEfHCMckwAP9dBf/9fGz/qz31dX1oKdclAv//bXO2E/T7aH33XY2DHuT2kF75n01oEvewHfv+W7jWMeb/oWR6Dv/IUML7ZqU3nJtjAAAAIXRSTlMAvfS2i/soFHV1KXSOunTrc20qjs+SuYG+ifqS8uG3kPbVSKmjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARUlEQVR4nAXBBQKAIAAAsRMRsLsTMP7/QzegmUIA3V5vp2qNsds67rbC+Dl8FmsovDyCwcXEkejP0qXoLPpuITWggjyBH5MtA9fdDIrUAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},74499:(e,i,s)=>{"use strict";s.d(i,{P$:()=>r,V$:()=>n,jf:()=>a,jw:()=>o});var t=s(54578),l=s(59436);let[n,r]=(0,t.q)({name:"StepContext"}),[a,o]=(0,l.Wh)("Stepper")},77940:(e,i,s)=>{"use strict";s.d(i,{J:()=>o});var t=s(6029),l=s(21938),n=s(74499),r=s(45460),a=s(2241);let o=(0,r.R)(function(e,i){let{status:s}=(0,n.P$)(),r=(0,n.jw)();return(0,t.jsx)(a.B.h3,{ref:i,"data-status":s,...e,__css:r.title,className:(0,l.cx)("chakra-step__title",e.className)})})},78801:(e,i,s)=>{"use strict";s.d(i,{S:()=>o});var t=s(6029),l=s(21938),n=s(74499),r=s(45460),a=s(2241);let o=(0,r.R)(function(e,i){let{status:s}=(0,n.P$)(),r=(0,n.jw)();return(0,t.jsx)(a.B.div,{ref:i,"data-status":s,...e,__css:r.indicator,className:(0,l.cx)("chakra-step__indicator",e.className)})})},90211:(e,i,s)=>{"use strict";s.d(i,{m:()=>o});var t=s(6029),l=s(21938),n=s(74499),r=s(45460),a=s(2241);let o=(0,r.R)(function(e,i){let{orientation:s,status:r,isLast:o,showLastSeparator:d}=(0,n.P$)(),c=(0,n.jw)();return o&&!d?null:(0,t.jsx)(a.B.div,{ref:i,role:"separator","data-orientation":s,"data-status":r,__css:c.separator,...e,className:(0,l.cx)("chakra-step__separator",e.className)})})},91613:(e,i,s)=>{"use strict";s.d(i,{p:()=>d});var t=s(6029),l=s(72994),n=s(21938),r=s(74499),a=s(45460),o=s(2241);let d=(0,a.R)(function(e,i){let{orientation:s,status:a,showLastSeparator:d}=(0,r.P$)(),c=(0,r.jw)();return(0,t.jsx)(o.B.div,{ref:i,"data-status":a,"data-orientation":s,"data-stretch":(0,l.s)(d),__css:c.step,...e,className:(0,n.cx)("chakra-step",e.className)})})},92843:(e,i,s)=>{"use strict";s.d(i,{l:()=>p});var t=s(6029),l=s(5858),n=s(9524),r=s(78015),a=s(72994),o=s(55729),d=s(21938),c=s(45460),x=s(2241);let h=(0,c.R)(function(e,i){let{children:s,placeholder:l,className:n,...r}=e;return(0,t.jsxs)(x.B.select,{...r,ref:i,className:(0,d.cx)("chakra-select",n),children:[l&&(0,t.jsx)("option",{value:"",children:l}),s]})});h.displayName="SelectField";var u=s(79056),j=s(8527);let p=(0,c.R)((e,i)=>{let s=(0,j.o)("Select",e),{rootProps:o,placeholder:d,icon:c,color:p,height:m,h:g,minH:v,minHeight:b,iconColor:y,iconSize:C,...w}=(0,l.M)(e),[E,k]=(0,r.l)(w,n.GF),S=(0,u.t)(k),T={paddingEnd:"2rem",...s.field,_focus:{zIndex:"unset",...s.field?._focus}};return(0,t.jsxs)(x.B.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:p},...E,...o,children:[(0,t.jsx)(h,{ref:i,height:g??m,minH:v??b,placeholder:d,...S,__css:T,children:e.children}),(0,t.jsx)(f,{"data-disabled":(0,a.s)(S.disabled),...(y||p)&&{color:y||p},__css:s.icon,...C&&{fontSize:C},children:c})]})});p.displayName="Select";let m=e=>(0,t.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,t.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),g=(0,x.B)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),f=e=>{let{children:i=(0,t.jsx)(m,{}),...s}=e,l=(0,o.cloneElement)(i,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,t.jsx)(g,{...s,className:"chakra-select__icon-wrapper",children:(0,o.isValidElement)(i)?l:null})};f.displayName="SelectIcon"},95906:(e,i,s)=>{"use strict";let t;s.r(i),s.d(i,{HomePage:()=>lx,__N_SSG:()=>lc,default:()=>lh});var l=s(6029),n=s(55729),r=s(74158),a=s(57309),o=s(32619),d=s(59724),c=s(87768),x=s(19564),h=s(82328),u=s(68301),j=s(8909),p=s(27229),m=s(58959),g=s(26385),f=s(26420),v=s(80314),b=s(56570),y=s(69388),C=s(41781),w=s(99492),E=s(48621),k=s(99452),S=s.n(k),T=s(81278),A=s.n(T),I=s(24351),_=s(88586),D=s(1079),F=s(96804),O=s(82927),R=s(40452),P=s(23293),L=s(48810),z=s(49611),N=s(74676),B=s(89942),M=s(68422),U=s(29608);let W=()=>{let{isOpen:e,onOpen:i,onClose:s}=(0,p.j)({id:"create-site-modal"}),t=(0,B.Fd)(),r=(0,u.u)("createSiteAi"),a=t&&(!(0,U.Xb)()||(0,U.Xb)()),{push:o}=(0,T.useRouter)(),[d,c]=(0,n.useState)(!1),h=(0,n.useCallback)(async()=>{c(!0),await o("/create/generate?ref=sites-dashboard"),c(!1)},[o]),{displayName:j,ariaLabel:v,icon:b}=M.mQ[M.n8.SITES];return(0,l.jsxs)(R.s,{flex:"1",mb:4*!(0,U.Xb)(),direction:"column",children:[(0,l.jsx)(f.a,{w:["100%","auto"],children:(0,l.jsx)(m.z,{h:"1.5em",children:(0,l.jsxs)(P.D,{size:"sm","data-testid":"sites-view-header",children:[(0,l.jsx)(E.g,{icon:b,"aria-label":v()})," ",(0,l.jsx)(L.E,{as:"span",ms:2,children:j})]})})}),a&&(0,l.jsxs)(R.s,{flex:"1",mb:4*!(0,U.Xb)(),direction:"column",children:[(0,l.jsxs)(g.B,{direction:{base:"column",lg:"row"},spacing:2,mt:4,children:[r&&(0,l.jsx)(z.$,{"data-testid":"create-from-aipartner-button",variant:"special",onClick:h,isLoading:d,leftIcon:(0,l.jsx)(E.g,{icon:w.QLR}),rightIcon:(0,l.jsx)(N.E,{textShadow:"none",children:"AI"}),children:(0,l.jsx)(x.x6,{id:"6/5iNu"})}),!(0,U.Xb)()&&(0,l.jsx)(z.$,{w:"auto","data-testid":"create-site-button",isDisabled:!t,variant:r?"plain":"solid",onClick:i,leftIcon:(0,l.jsx)(E.g,{icon:w.QLR}),children:(0,l.jsx)(x.x6,{id:"h3eRam"})})]}),(0,l.jsx)(F.B,{isOpen:e,onClose:s})]})]})};var H=s(36062),V=s(80074),G=s(33787),Y=s(29810),$=s(77650),K=s(82203),Q=s.n(K),X=s(73867),J=s(74892),Z=s(46091),q=s(44141),ee=s(78140),ei=s(36999),es=s(16936),et=s(12514),el=s(41283),en=s(6760),er=s(85595),ea=s(67909),eo=s(36071),ed=s(54731),ec=s(17920),ex=s(3674),eh=s(40691),eu=s(64268),ej=s(51504),ep=s(26476),em=s(16426),eg=s(47412),ef=s(14900);let ev=e=>{var i,s,t;let{site:n}=e,r=(0,u.u)("workspaceTemplates"),{isOpen:a,onOpen:o}=(0,p.j)({id:"site-menu-".concat(null==n?void 0:n.id)}),{isOpen:d,onOpen:c,onClose:h}=(0,p.j)({id:"site-menu-".concat(null==n?void 0:n.id)}),j=n&&(0,q.jY)({site:n,path:"/"});return n?(0,l.jsxs)(ee.W,{isLazy:!0,closeOnSelect:!1,children:[(0,l.jsx)(ei.I,{"data-dashboard-site-menu":!0,as:es.K,size:"xs",variant:"ghost",borderRadius:"full",onClick:o,icon:(0,l.jsx)(E.g,{fixedWidth:!0,icon:w.vHW}),color:"gray.400",_hover:{color:"gray.700",bg:"gray.200"},children:(0,l.jsx)(x.x6,{id:"7L01XJ"})}),a&&n&&(0,l.jsx)(et.Z,{children:(0,l.jsxs)(el.c,{maxW:"sm",zIndex:"overlay",children:[(0,l.jsxs)(f.a,{px:4,py:0,wordBreak:"break-word",children:[(0,l.jsx)(L.E,{children:null==n?void 0:n.name}),(0,l.jsx)(L.E,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,l.jsx)(x.x6,{id:"MXSt4t",values:{0:(0,ef.Yq)(null==n?void 0:n.createdTime,"MMMM do, yyyy")}})}),(null==n||null==(i=n.createdBy)?void 0:i.email)&&(null==n||null==(s=n.createdBy)?void 0:s.email)&&(0,l.jsx)(eg.Tz,{label:null==n||null==(t=n.createdBy)?void 0:t.email,children:(0,l.jsx)(L.E,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,l.jsx)(x.x6,{id:"t490IT",values:{0:n.createdBy.displayName}})})})]}),(null==n?void 0:n.currentDeployment)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(en.N,{}),(0,l.jsx)(er.D,{onClick:c,icon:(0,l.jsx)(E.g,{fixedWidth:!0,icon:w.$3n}),children:(0,l.jsx)(x.x6,{id:"aKkjQq"})})]}),r&&(0,l.jsx)(eg.Tz,{label:(0,l.jsx)(x.x6,{id:"VxhFkP"}),shouldWrapChildren:!0,children:(0,l.jsx)(er.D,{onClick:c,icon:(0,l.jsx)(E.g,{fixedWidth:!0,icon:w.qIE}),isDisabled:!0,children:(0,l.jsx)(x.x6,{id:"FZQC0K"})})}),j&&(null==n?void 0:n.currentDeployment)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(en.N,{}),(0,l.jsx)(er.D,{href:j,as:Q(),target:"_blank",icon:(0,l.jsx)(E.g,{fixedWidth:!0,icon:w.fLi}),children:(0,l.jsx)(x.x6,{id:"OHFiKG"})})]})]})}),(0,l.jsx)(eb,{isOpen:d,onClose:h})]}):(0,l.jsx)(l.Fragment,{})},eb=e=>{let{isOpen:i,onClose:s}=e,t=(0,eg.lp)("Mod+A"),n=(0,eg.lp)("Mod+C"),r=(0,eg.lp)("Mod+V"),a=(0,eg.lp)("Shift+click");return(0,l.jsxs)(ea.aF,{blockScrollOnMount:!1,isOpen:i,onClose:s,size:"2xl",children:[(0,l.jsx)(eo.m,{}),(0,l.jsxs)(ed.$,{children:[(0,l.jsx)(ec.r,{children:(0,l.jsx)(x.x6,{id:"aKkjQq"})}),(0,l.jsx)(ex.s,{}),(0,l.jsx)(eh.c,{children:(0,l.jsxs)(g.B,{spacing:"3",children:[(0,l.jsx)(L.E,{children:(0,l.jsx)(x.x6,{id:"jMrUjv",components:{0:(0,l.jsx)("strong",{})}})}),(0,l.jsxs)(eu.F,{children:[(0,l.jsx)(ej._,{}),(0,l.jsxs)(g.B,{spacing:"1",children:[(0,l.jsx)(L.E,{fontWeight:"700",children:(0,l.jsx)(x.x6,{id:"7L2CH/"})}),(0,l.jsx)(L.E,{children:(0,l.jsx)(x.x6,{id:"vQ3sVj",values:{selectMultipleCommand:a,pasteShortcut:r},components:{0:(0,l.jsx)(ep.u,{}),1:(0,l.jsx)("strong",{}),2:(0,l.jsx)(ep.u,{})}})})]})]}),(0,l.jsx)(G._,{borderRadius:"md",src:"https://static.gamma.app/images/copy-cards-tutorial-7802f23d.gif"}),(0,l.jsx)(eu.F,{colorScheme:"gray",fontSize:"sm",children:(0,l.jsx)(L.E,{fontSize:"sm",children:(0,l.jsx)(x.x6,{id:"KoiAlx",values:{selectAllShortcut:t,copyShortcut:n,pasteShortcut:r},components:{0:(0,l.jsx)(ep.u,{}),1:(0,l.jsx)(ep.u,{}),2:(0,l.jsx)(ep.u,{})}})})})]})}),(0,l.jsx)(em.j,{children:(0,l.jsx)(z.$,{variant:"solid",onClick:s,children:(0,l.jsx)(x.x6,{id:"DPfwMq"})})})]})]})},ey=e=>"recent"===e||"favorites"===e,eC=e=>({all:{ready:!0,filter:{}},recent:{ready:!0,filter:{sortBy:{field:_.vY2.LastViewed,direction:_.UEL.Desc}}},private:{ready:!0,filter:{isPrivate:!0}},createdByYou:{ready:!!e,filter:{createdBy:null==e?void 0:e.id}},favorites:{ready:!0,filter:{sortBy:{field:_.vY2.Favorited,direction:_.UEL.Desc}}}}),ew=e=>{let{sortBy:i,filterBy:s,docUser:t,doc:n}=e;if("favorites"===s)return(0,l.jsx)(x.x6,{id:"8a9FIL",values:{0:(0,ef.Bo)(null==t?void 0:t.favorited)}});if("recent"===s)return(0,l.jsx)(x.x6,{id:"yJynx8",values:{0:(0,ef.Bo)(null==t?void 0:t.lastViewed)}});let r={[_.vY2.LastViewed]:(0,l.jsx)(x.x6,{id:"yJynx8",values:{0:(0,ef.Bo)(null==t?void 0:t.lastViewed)}}),[_.vY2.CreatedTime]:(0,l.jsx)(x.x6,{id:"oJFw5Q",values:{0:(0,ef.Bo)(null==n?void 0:n.createdTime)}}),[_.vY2.EditedTime]:(0,l.jsx)(x.x6,{id:"yxz5Og",values:{0:(0,ef.Bo)(null==n?void 0:n.editedTime)}})};return(null==r?void 0:r[i])||(0,l.jsx)(x.x6,{id:"yxz5Og",values:{0:(0,ef.Bo)(null==n?void 0:n.editedTime)}})};var eE=s(70006);let ek=e=>{var i;let{site:s,doc:t,sortBy:r,filterBy:a,isOffline:o}=e,{user:d}=(0,O.ur)(),c=(null==s?void 0:s.createdBy)||(null==t?void 0:t.createdBy),h=(null==s?void 0:s.previewUrl)||(null==t||null==(i=t.titleCard)?void 0:i.previewUrl),{docUser:u}=t||{},j=t&&ew({sortBy:r,docUser:u,filterBy:a,doc:t}),p=null==s?void 0:s.id,v=(null==t?void 0:t.id)?t.id:s&&"routes"in s?(0,q.FX)(s):void 0,b=(0,q.H3)((0,q.yo)(null==s?void 0:s.domains))[0],C=(0,n.useMemo)(()=>v&&p&&(0,eE.pF)({docId:v}),[v,p]),k=(null==s?void 0:s.enabled)&&!(null==s?void 0:s.archived)&&!(null==t?void 0:t.archived)&&!o;return C?(0,l.jsxs)(H.Q,{as:y.E,bg:"white",borderRadius:"5px",shadow:"md",_focusWithin:{shadow:"outline",_hover:{shadow:"outline"}},cursor:"pointer",_hover:{shadow:"lg",bgColor:"gray.50"},transition:"box-shadow .2s ease",role:"group",className:"highlight-mask",children:[(0,l.jsx)(f.a,{pos:"absolute",top:-2,insetStart:2,insetEnd:2,bottom:"calc(66%)",border:"1px solid var(--chakra-colors-blackAlpha-300)",bg:"whiteAlpha.600",zIndex:0,borderRadius:"md"}),(0,l.jsx)(f.a,{pos:"absolute",top:-1,insetStart:1,insetEnd:1,bottom:"calc(66%)",bg:"whiteAlpha.900",border:"1px solid var(--chakra-colors-blackAlpha-400)",zIndex:0,borderRadius:"md"}),(0,l.jsxs)(R.s,{direction:"column",wordBreak:"break-word",alignContent:"space-between",height:"100%",children:[(0,l.jsx)(H.r,{href:C,as:Q(),borderRadius:"md",children:(0,l.jsx)(V.g,{ratio:40/21,bgColor:"gray.50",children:(0,l.jsxs)(R.s,{borderBottomWidth:"1px",borderBottomColor:"gray.50",pos:"relative",overflow:"hidden",borderTopRadius:"md",children:[(0,l.jsx)(G._,{src:h,fit:"cover",fallbackSrc:J.A.src}),(null==s?void 0:s.enabled)&&(0,l.jsx)(N.E,{pos:"absolute",size:"xs",bottom:2,insetStart:2,colorScheme:"blackAlpha",bg:"gray.50",color:"gray.600",textTransform:"none",children:(0,l.jsxs)(m.z,{spacing:1,children:[(0,l.jsx)(E.g,{fixedWidth:!0,icon:w.Ge5}),(0,l.jsx)(L.E,{children:(0,l.jsx)(x.x6,{id:"ebQKK7"})})]})})]})})}),(0,l.jsxs)(R.s,{p:3,position:"relative",direction:"column",justifyContent:"space-between",h:"100%",alignItems:"flex-start",children:[(0,l.jsx)(H.r,{href:C,as:Q(),children:(0,l.jsxs)(g.B,{spacing:0,mb:2,children:[(0,l.jsx)(L.E,{noOfLines:2,children:null==s?void 0:s.name}),(0,l.jsxs)(m.z,{children:[(null==s?void 0:s.faviconUrl)&&(0,l.jsx)(G._,{maxW:"16px",maxH:"16px",src:null==s?void 0:s.faviconUrl}),(0,l.jsx)(L.E,{noOfLines:1,color:"gray.500",fontSize:"xs",wordBreak:"break-all",children:null==b?void 0:b.name})]})]})}),(0,l.jsx)(R.s,{direction:"column",w:"100%",children:(0,l.jsxs)(R.s,{mt:2,align:"flex-start",w:"100%",justify:"space-between",children:[c&&(0,l.jsx)(X.S,{createdByYou:c.id===(null==d?void 0:d.id),createdByName:c.displayName||$.Ru._({id:"rtir7c"}),createdByProfileImageUrl:c.profileImageUrl,timestampDescription:j}),(0,l.jsx)(Y.h,{}),k&&(0,l.jsx)(ev,{site:s})]})})]})]})]}):(0,l.jsx)(l.Fragment,{})},eS=(0,Z.A)(ek);var eT=s(75748);let eA=e=>i=>{let{isInOfflineMode:s}=(0,h.u)(),{offlineHeading:t,offlineDescription:n,...r}=i;return s?(0,l.jsx)(R.s,{h:"100%",w:"100%",direction:"column",justifyContent:"center",children:(0,l.jsx)(eT.r,{isConnected:!1,heading:t,description:n,size:"lg",bg:"none"})}):(0,l.jsx)(e,{...r})};var eI=s(26545);let e_={base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},eD=eA(e=>{let{isSidebarVisible:i,setIsSidebarVisible:s}=e,{currentWorkspace:t}=(0,O.ur)(),r=(0,u.u)("createSiteAi"),{push:a}=(0,T.useRouter)(),{isOpen:o,onOpen:d,onClose:c}=(0,p.j)({id:"create-site-modal"}),[h,j]=(0,n.useState)(!1),{data:k,loading:A,error:R}=(0,_._qT)({variables:{workspaceId:null==t?void 0:t.id},skip:!(null==t?void 0:t.id),fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),P=(0,n.useCallback)(async()=>{r?(j(!0),await a("/create/generate?ref=sites-dashboard"),j(!1)):d()},[r,d,a]),L=(null==k?void 0:k.sites)&&S()(null==k?void 0:k.sites,"updatedTime","desc");return!L||0!==L.length||A||R?(0,l.jsxs)(f.a,{w:"100%","data-testid":"sites-view-container",children:[(0,l.jsx)(eI.e,{isSidebarVisible:i,setIsSidebarVisible:s,children:(0,l.jsx)(W,{})}),(0,l.jsxs)(g.B,{children:[A&&(0,l.jsxs)(b.x,{templateColumns:e_,gap:6,children:[(0,l.jsx)(y.E,{as:C.E,borderRadius:"5px",height:"200px"}),(0,l.jsx)(y.E,{as:C.E,borderRadius:"5px",height:"200px"}),(0,l.jsx)(y.E,{as:C.E,borderRadius:"5px",height:"200px"})]}),!A&&!R&&(0,l.jsx)(b.x,{templateColumns:e_,gap:6,children:null==L?void 0:L.map(e=>(0,l.jsx)(ek,{site:e},e.id))})]}),(0,l.jsx)(F.B,{isOpen:o,onClose:c})]}):(0,l.jsxs)(m.z,{spacing:4,flex:1,h:"100%",maxW:"3xl",margin:"auto",children:[(0,l.jsx)(g.B,{align:"flex-start",justify:"center",spacing:6,flex:1,children:(0,l.jsx)(f.a,{alignSelf:"center",children:(0,l.jsx)(I.p,{title:(0,l.jsx)(x.x6,{id:"A18DXx"}),description:(0,l.jsx)(x.x6,{id:"49K0aF"}),primaryActionLabel:(0,l.jsx)(x.x6,{id:"JHMOcq"}),onPrimaryAction:P,primaryButtonProps:{leftIcon:(0,l.jsx)(E.g,{icon:w.QLR}),isLoading:h},secondaryActionLabel:(0,l.jsx)(x.x6,{id:"zwWKhA"}),secondaryButtonProps:{rightIcon:(0,l.jsx)(E.g,{icon:w.vMs}),as:v.N,href:D.C.CREATE_SITE,isExternal:!0}})})}),(0,l.jsx)(F.B,{isOpen:o,onClose:c})]})});var eF=s(41960),eO=s(29768),eR=s(92130),eP=s(96990),eL=s(21559),ez=s(20664),eN=s(72737),eB=s(98694);let eM=e=>'[data-doc-grid-item-id="'.concat(e,'"]'),eU=n.memo(e=>{let{user:i,currentWorkspace:s,currentChannelId:t,viewPreference:r}=e,a=(0,u.u)("screenshotsEnabled"),o=(0,n.useRef)(null),d=(0,n.useRef)(null),[c,x]=(0,n.useState)(null),h=(0,eL.u)().getMonitor();(0,n.useEffect)(()=>h.subscribeToOffsetChange(()=>{if(!h.getItem()||!o.current||!d.current)return;let e=h.getClientOffset();if(!e)return;let{x:i,y:s}=e;o.current.style.transform="translate(".concat(i,"px, ").concat(s,"px)")}),[h]),(0,n.useEffect)(()=>h.subscribeToStateChange(()=>{let e=h.getItemType(),i=h.getItem();if(e!==eB.v||null===i){x(null),o.current.style.transform="translate(0px, 0px)";return}let s=document.querySelector(eM(i.id));if(s){let e=s.getBoundingClientRect();d.current.style.width="".concat(e.width,"px"),d.current.style.height="".concat(e.height,"px")}x(i)}),[h]);let j=(0,n.useMemo)(()=>{var e,n,o,d,x;if(!c)return null;let h=(0,eN.PR)({doc:c,user:i,currentWorkspace:s,channelToExclude:t}),u={src:a?null==(e=c.titleCard)?void 0:e.previewUrl:J.A.src,fallbackSrc:J.A.src};return"list"===r?(0,l.jsx)(eF.X,{width:"100%",children:(0,l.jsxs)(eO.Tr,{children:[(0,l.jsx)(eR.Td,{}),(0,l.jsx)(eR.Td,{w:"50%",children:c.title||""}),(0,l.jsx)(eR.Td,{children:(0,l.jsx)(eg.Op,{tags:h,NextLink:Q()})}),(0,l.jsx)(eR.Td,{color:"gray.600"}),(0,l.jsx)(eR.Td,{children:(0,l.jsxs)(m.z,{children:[(0,l.jsx)(eP.e,{shadow:"md",borderWidth:"1px",size:"xs",src:null==c||null==(d=c.createdBy)?void 0:d.profileImageUrl}),(0,l.jsx)(L.E,{children:null==c||null==(x=c.createdBy)?void 0:x.displayName})]})})]})}):(0,l.jsx)(ez.Dg,{id:"temp",title:c.title||"",thumbnailImageUrl:u,NextLink:R.s,createdTime:c.createdTime,href:"",editors:c.editors,tags:h,createdByName:(null==(n=c.createdBy)?void 0:n.displayName)||"",createdByProfileImageUrl:null==(o=c.createdBy)?void 0:o.profileImageUrl,createdByEmail:"",menuEnabled:!1})},[c,i,s,a,t,r]);return(0,l.jsx)(et.Z,{children:(0,l.jsx)(R.s,{ref:o,display:c?"block":"none",position:"fixed",pointerEvents:"none",zIndex:"overlay",left:0,top:0,children:(0,l.jsx)(R.s,{ref:d,transform:"scale(".concat(c?.5:1,")"),transition:"transform .2s ease",transformOrigin:"0 0",children:j})})})});eU.displayName="DocGridItemCustomDragLayer";var eW=s(51888);function eH(){return t||((t=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),t}let eV=(0,n.memo)(e=>{let{user:i,currentWorkspace:s,doc:t,currentChannelId:r,sortBy:a,filterBy:o,canDuplicate:d,canEditDoc:c,canManageDoc:x,createdByYou:h,isOffline:j,handleDuplicateDoc:p,handleFavoriteDoc:m,handleTrash:g,handlePermanentDelete:f,handleRestoreDoc:v,handleShareClick:b,handleRenameClick:y,handleRemoveFromChannel:C,handleRemixThis:w,isRemixLoading:E,handleCopyAsTemplate:k}=e,{id:S,title:T,createdTime:A,archived:I,titleCard:_,docUser:D,createdBy:F}=t,O=ew({sortBy:a,docUser:D,filterBy:o,doc:t}),R=(0,u.u)("screenshotsEnabled"),P=(0,eN.PR)({doc:t,user:i,currentWorkspace:s,channelToExclude:r}),L={src:R?null==_?void 0:_.previewUrl:J.A.src,fallbackSrc:J.A.src},z=(0,U.Xb)(),N=(0,u.u)("mobileSharePanel")&&z?x:c,B=!!r,M=!!t.site,[W,H,V]=(0,eW.i)({type:eB.v,item:()=>t,options:{dropEffect:"copy",doc:t},collect:e=>({isDragging:e.isDragging()})},[x,t]);return((0,n.useEffect)(()=>{V(eH())},[V]),M)?(0,l.jsx)(eS,{site:t.site,doc:t,filterBy:o,sortBy:a,isOffline:j}):(0,l.jsx)(ez.Dg,{ref:H,id:S,title:T||"",thumbnailImageUrl:L,NextLink:Q(),href:(0,eE.LN)({docId:S}),createdByYou:h,createdTime:A,timestampDescription:O,createdByName:(null==F?void 0:F.displayName)||"",createdByProfileImageUrl:null==F?void 0:F.profileImageUrl,createdByEmail:(null==F?void 0:F.email)||"",isDuplicateEnabled:d,isShareEnabled:N,isRenameEnabled:c,isTrashAndRestoreEnabled:x,isTrashed:I,isFavorited:!!(null==D?void 0:D.favorited),isRemoveFromChannelEnabled:B,onDuplicate:()=>p(t),onFavorite:m(new Date,t),onUnfavorite:m(null,t),onTrash:()=>g(t.id),onPermanentDelete:f?()=>f(t):void 0,onRestore:()=>v(t.id),onShareClick:()=>b(t.id),onRename:()=>y(t),onRemoveFromChannel:()=>C(t,r),onRemixThis:w?()=>w(t):void 0,isRemixLoading:E,onCopyAsTemplate:k?()=>{k(t)}:void 0,tags:P,menuEnabled:!j,isOffline:j},S)});eV.displayName="DocGridItemWrapper";var eG=s(10500),eY=s(61204),e$=s(37930);let eK=e=>{var i;let{sortBy:s,sortDirection:t,setSortBy:n,setSortDirection:r,size:a="sm",dateDisplayOption:o,setDateDisplayOption:d,options:c,showSortOrderToggle:h,disableSorting:u}=e;return(0,l.jsxs)(eY.e,{variant:"ghost",colorScheme:"blackAlpha",size:a,ml:-3,children:[(0,l.jsxs)(ee.W,{closeOnSelect:!1,children:[(0,l.jsx)(ei.I,{as:z.$,isDisabled:u,variant:"ghost",size:a,rightIcon:(0,l.jsx)(E.g,{icon:w.Jt$,"aria-label":"Open menu"}),fontWeight:"600",color:"gray.500",children:(null==(i=c.find(e=>e.key===o))?void 0:i.label)||"Date"}),(0,l.jsx)(et.Z,{children:(0,l.jsx)(el.c,{minWidth:"240px",children:(0,l.jsx)(e$.i,{fontSize:"sm",defaultValue:"alpha",title:$.Ru._({id:"IEY4J0"}),type:"radio",children:c.map(e=>{let i=o===e.key;return(0,l.jsx)(er.D,{icon:i?(0,l.jsx)(eG.S,{}):(0,l.jsx)(f.a,{w:3}),value:e.key,onClick:()=>{d(e.key),n(e.key),r(_.UEL.Desc)},children:e.label},e.key)})})})})]}),h&&(0,l.jsx)(eg.Tz,{label:(0,l.jsx)(x.x6,{id:"TZml21"}),children:(0,l.jsx)(es.K,{color:"title"!==s?"gray.600":"gray.300",isDisabled:u,"aria-label":"sort",onClick:()=>{s!==_.vY2.Title?r(t===_.UEL.Asc?_.UEL.Desc:_.UEL.Asc):r(_.UEL.Desc),n(o)},icon:(0,l.jsx)(E.g,{icon:w.rLo})})})]})};var eQ=s(96414),eX=s(42706),eJ=s(59142),eZ=s(54920),eq=s(55597),e0=s(38944),e1=s(79958),e6=s(40162);let e2=e=>{var i,s;let{doc:t,dateDisplayOption:l}=e,n=null==t?void 0:t.updatedTime;l===_.vY2.LastViewed&&(n=null==t||null==(i=t.docUser)?void 0:i.lastViewed),l===_.vY2.Favorited&&(n=null==t||null==(s=t.docUser)?void 0:s.favorited),l===_.vY2.CreatedTime&&(n=null==t?void 0:t.createdTime);try{return(0,ef.ak)(n)}catch(e){return"--"}},e4=(0,Z.A)(e=>{var i,s,t;let{doc:n,dateDisplayOption:r}=e,a=(0,eE.LN)({docId:n.id}),o=e2({doc:n,dateDisplayOption:r}),{site:d}=n||{};return(0,l.jsxs)(eO.Tr,{_hover:{bg:"blackAlpha.50"},role:"group","data-doc-list-item-id":n.id,children:[(0,l.jsx)(eR.Td,{}),(0,l.jsx)(eR.Td,{minW:"280px",children:(0,l.jsxs)(m.z,{children:[(0,l.jsx)(v.N,{href:a,as:Q(),_hover:{color:"var(--chakra-colors-trueblue-500) !important"},children:(null==d?void 0:d.name)||n.title}),(0,l.jsx)(N.E,{size:"xs",colorScheme:"blackAlpha",bg:"gray.50",color:"gray.600",textTransform:"none",children:(0,l.jsxs)(m.z,{spacing:1,children:[(0,l.jsx)(E.g,{fixedWidth:!0,icon:w.Ge5}),(0,l.jsx)(L.E,{children:(0,l.jsx)(x.x6,{id:"ebQKK7"})})]})}),(null==d?void 0:d.routes)&&(null==d||null==(i=d.routes)?void 0:i.length)>1&&(0,l.jsx)(N.E,{colorScheme:"blackAlpha",bg:"gray.50",color:"gray.600",children:(0,l.jsxs)(m.z,{spacing:1,children:[(0,l.jsx)(E.g,{fixedWidth:!0,icon:w.vGi}),(0,l.jsx)(L.E,{children:null==d?void 0:d.routes.length})]})})]})}),(0,l.jsx)(eR.Td,{zIndex:2,_groupHover:{opacity:1}}),(0,l.jsx)(eR.Td,{color:"gray.600",pe:-2,children:(0,l.jsx)(L.E,{children:o})}),(0,l.jsx)(eR.Td,{alignContent:"center",pe:-2,children:(0,l.jsxs)(m.z,{children:[(0,l.jsx)(eP.e,{shadow:"md",borderWidth:"1px",size:"xs",src:null==n||null==(s=n.createdBy)?void 0:s.profileImageUrl}),(0,l.jsx)(L.E,{children:null==n||null==(t=n.createdBy)?void 0:t.displayName})]})}),(0,l.jsx)(eR.Td,{isNumeric:!0,children:(0,l.jsx)(ev,{site:n.site})})]},n.id)}),e5=e=>{var i,s;let{doc:t,dateDisplayOption:l}=e,n=null==t?void 0:t.updatedTime;l===_.vY2.LastViewed&&(n=null==t||null==(i=t.docUser)?void 0:i.lastViewed),l===_.vY2.Favorited&&(n=null==t||null==(s=t.docUser)?void 0:s.favorited),l===_.vY2.CreatedTime&&(n=null==t?void 0:t.createdTime);try{return(0,ef.ak)(n)}catch(e){return"--"}},e9=e=>{var i,s,t;let{doc:r,handleShareClick:a,dateDisplayOption:o,tags:d,handleFavoriteDoc:c,user:u,menu:j,canManageDoc:p}=e,{isInOfflineMode:g}=(0,h.u)(),f=(0,eE.LN)({docId:r.id}),b=e5({doc:r,dateDisplayOption:o}),[y,C,w]=(0,eW.i)({type:eB.v,item:()=>r,options:{dropEffect:"copy",doc:r},collect:e=>({isDragging:e.isDragging()})},[p,r]);(0,n.useEffect)(()=>{w(eH())},[w]);let E=!!(null==r||null==(i=r.docUser)?void 0:i.favorited);return r.site?(0,l.jsx)(e4,{doc:r,dateDisplayOption:o}):(0,l.jsxs)(eO.Tr,{ref:C,_hover:{bg:"blackAlpha.50"},role:"group","data-doc-list-item-id":r.id,children:[(0,l.jsx)(eR.Td,{children:c&&(!g||E)&&(0,l.jsx)(ez.Zu,{isFavorited:E,onFavorite:c(new Date,r),onUnfavorite:c(null,r),disableInteractions:g})}),(0,l.jsx)(eR.Td,{minW:"280px",children:(0,l.jsx)(v.N,{as:Q(),href:f,_hover:{color:"var(--chakra-colors-trueblue-500) !important"},children:r.title||""})}),(0,l.jsx)(eR.Td,{zIndex:2,_groupHover:{opacity:1},children:(0,l.jsxs)(e6.B,{_groupHover:{opacity:1},children:[(0,l.jsx)(eg.Op,{tags:d,NextLink:Q(),overflowButtonLabel:$.Ru._({id:"K0UBDD"}),isDisabled:g}),!g&&(0,eN.U5)(r,u)?(0,l.jsxs)(z.$,{size:"xs",variant:"ghost",colorScheme:"blackAlpha",fontWeight:"500",_hover:{color:"gray.700",bg:"blackAlpha.50"},opacity:0,_groupHover:{opacity:1},transitionProperty:"none",onClick:()=>a(r.id),children:[(0,l.jsx)(x.x6,{id:"Z8lGw6"}),"â€¦"]}):null]})}),(0,l.jsx)(eR.Td,{color:"gray.600",pe:-2,children:(0,l.jsx)(L.E,{children:b})}),(0,l.jsx)(eR.Td,{alignContent:"center",pe:-2,children:(0,l.jsxs)(m.z,{children:[(0,l.jsx)(eP.e,{shadow:"md",borderWidth:"1px",size:"xs",src:null==r||null==(s=r.createdBy)?void 0:s.profileImageUrl}),(0,l.jsx)(L.E,{children:null==r||null==(t=r.createdBy)?void 0:t.displayName})]})}),(0,l.jsx)(eR.Td,{isNumeric:!0,children:!g&&!!j&&j})]},r.id)},e3=(e,i)=>{let s=ey(e),t=s?e0.CW:e0.Zv;return{displayOptions:t,showSortOrderToggle:!s||"recent"===e&&i===_.vY2.LastViewed||"favorites"===e&&i===_.vY2.Favorited,enableTitleSort:!s}},e8=e=>{let{user:i,currentWorkspace:s,userHasNoWorkspaces:t,docs:n,currentChannelId:r,dateDisplayOption:a,sortBy:o,sortDirection:d,setDateDisplayOption:c,setSortBy:h,setSortDirection:u,filterBy:j,isOffline:p,handleDuplicateDoc:m,handleFavoriteDoc:g,handleTrash:v,handlePermanentDelete:b,handleRestoreDoc:y,handleShareClick:C,handleRenameClick:w,handleRemoveFromChannel:k,handleRemixThis:S,isRemixLoading:T,handleCopyAsTemplate:A}=e,I=(0,O.IM)(),{displayOptions:D,showSortOrderToggle:F,enableTitleSort:R}=e3(j,a);return(0,l.jsx)(eQ.K,{pt:4,maxW:"100%",children:(0,l.jsxs)(eF.X,{colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",variant:"simple",children:[(0,l.jsx)(eX.d,{children:(0,l.jsxs)(eO.Tr,{color:"gray.700",children:[(0,l.jsx)(eJ.Th,{w:4}),(0,l.jsxs)(eJ.Th,{justifyContent:"space-between",minW:"280px",children:[R&&(0,l.jsx)(z.$,{ms:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{h(_.vY2.Title),u(d===_.UEL.Asc?_.UEL.Desc:_.UEL.Asc)},rightIcon:(0,l.jsx)(f.a,{color:o===_.vY2.Title?"gray.600":"gray.300",children:(0,l.jsx)(E.g,{icon:o===_.vY2.Title?d===_.UEL.Asc?eq.xBV:eq.S$_:eq.OM7})}),children:(0,l.jsx)(x.x6,{id:"MHrjPM"})}),!R&&(0,l.jsx)(x.x6,{id:"MHrjPM"})]}),(0,l.jsx)(eJ.Th,{children:(0,l.jsx)(x.x6,{id:"HSh8u/"})}),(0,l.jsx)(eJ.Th,{w:32,pe:-2,children:(0,l.jsx)(eK,{size:"sm",sortBy:o,sortDirection:d,setSortBy:h,setSortDirection:u,options:D,showSortOrderToggle:F,exclude:[_.vY2.Title],dateDisplayOption:a,setDateDisplayOption:c,disableSorting:p})}),(0,l.jsx)(eJ.Th,{w:32,children:(0,l.jsx)(x.x6,{id:"UE2beD"})}),(0,l.jsx)(eJ.Th,{})]})}),(0,l.jsx)(eZ.N,{children:null==n?void 0:n.map(e=>{var n,o,d;let c=I.can("view",e)&&!t,x=I.can("manage",e)&&!t,h=I.can("edit",e)&&!t,u=(0,eN.PR)({doc:e,user:i,currentWorkspace:s,channelToExclude:r}),j=!!r;return(0,l.jsx)(e9,{canManageDoc:x,user:i,tags:u,doc:e,dateDisplayOption:a,handleFavoriteDoc:g,handleShareClick:C,menu:(0,l.jsx)(ez.MD,{href:(0,eE.LN)({docId:e.id}),title:(0,e1.B)(e.title),createdByName:(null==e||null==(n=e.createdBy)?void 0:n.displayName)||"",createdByEmail:(null==e||null==(o=e.createdBy)?void 0:o.email)||"",createdTime:e.createdTime,isDuplicateEnabled:c,isTrashAndRestoreEnabled:x,isRenameEnabled:h,isRemoveFromChannelEnabled:j,isShareEnabled:h,isTrashed:!!(null==e?void 0:e.archived),isFavorited:null==(d=e.docUser)?void 0:d.favorited,onDuplicate:()=>m(e),onFavorite:g(new Date,e),onUnfavorite:g(null,e),onTrash:()=>v(e.id),onPermanentDelete:b?()=>b(e):void 0,onRestore:()=>y(e.id),onShareClick:()=>C(e.id),onRename:()=>w(e),onRemoveFromChannel:()=>k(e,r),onRemixThis:S?()=>{S(e)}:void 0,isRemixLoading:T,onCopyAsTemplate:A?()=>{A(e)}:void 0})},e.id)})})]})})};var e7=s(53996),ie=s(49309),ii=s(40556);let is=e=>{let{onClose:i,doc:s}=e,{permanentlyDeleteDoc:t,isPermanentlyDeletingDoc:r}=(0,ii.I)({refetchQueries:["GetDocs","GetChannelDocActivity"]}),a=(0,n.useCallback)(()=>{t&&t(s.id).then(i)},[s.id,i,t]);return(0,l.jsxs)(ea.aF,{onClose:i,isOpen:!0,children:[(0,l.jsx)(eo.m,{}),(0,l.jsxs)(ed.$,{children:[(0,l.jsx)(ec.r,{children:(0,l.jsx)(x.x6,{id:"u85NBF"})}),(0,l.jsx)(ex.s,{isDisabled:r}),(0,l.jsx)(eh.c,{children:(0,l.jsxs)(g.B,{spacing:4,children:[(0,l.jsx)(L.E,{children:(0,l.jsx)(x.x6,{id:"dLUUOA",values:{0:s.title}})}),(0,l.jsx)(L.E,{color:"red.500",children:(0,l.jsx)(x.x6,{id:"2xOCJW"})})]})}),(0,l.jsx)(em.j,{children:(0,l.jsxs)(eY.e,{children:[(0,l.jsx)(z.$,{variant:"ghost",onClick:i,children:(0,l.jsx)(x.x6,{id:"dEgA5A"})}),(0,l.jsx)(z.$,{variant:"hazardous",onClick:a,isLoading:r,children:(0,l.jsx)(x.x6,{id:"0Lbaux"})})]})})]})]})};var it=s(32617),il=s(11525),ir=s(72480),ia=s(18351),io=s(5221),id=s(99745),ic=s(83638),ix=s(25223),ih=s(38036),iu=s(5061),ij=s(99038);let ip=e=>{var i;let{isOpen:s,onClose:t,doc:r}=e,a=(0,iu.fW)()?w.CeG:w.dmS,{push:o}=(0,T.useRouter)(),[d,c]=(0,n.useState)(null==r?void 0:r.title),[h,u]=(0,n.useState)(!1),[j,p]=(0,n.useState)(!1),m=(0,n.useCallback)(async()=>{p(!0),r&&(await new Promise(e=>setTimeout(e,200)),u(!0),p(!1))},[r]),v=(0,n.useCallback)(()=>{r&&o((0,eE.LN)({docId:r.id}))},[r,o]),b=(0,n.useCallback)(()=>{o("/#templates")},[o]);return(0,l.jsxs)(ea.aF,{isOpen:s,onClose:t,size:"lg",children:[(0,l.jsx)(eo.m,{}),(0,l.jsxs)(ed.$,{children:[(0,l.jsx)(ec.r,{children:(0,l.jsx)(x.x6,{id:"FZQC0K"})}),(0,l.jsx)(ex.s,{}),(0,l.jsx)(eh.c,{children:(0,l.jsxs)(g.B,{spacing:8,children:[(0,l.jsx)(L.E,{children:(0,l.jsx)(x.x6,{id:"PfuRo+",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:ij.Ix}})}),(0,l.jsx)(f.a,{borderRadius:"md",overflow:"hidden",p:2,position:"relative",border:"3px solid",borderStyle:"dotted",bg:h?"transparent":"gray.50",borderColor:h?"transparent":"gray.200",transitionProperty:"all",transitionDuration:"normal",children:(0,l.jsxs)(g.B,{spacing:2,transform:h?"scale(1) ":"scale(0.9) ",transitionProperty:"all",transitionDuration:"normal",children:[(0,l.jsx)(G._,{src:(null==r||null==(i=r.titleCard)?void 0:i.previewUrl)||J.A.src,fallbackSrc:J.A.src,fit:"cover",borderRadius:"md",boxShadow:"lg"}),(0,l.jsx)(L.E,{fontSize:"lg",children:d})]})}),h?(0,l.jsxs)(eu.F,{status:"success",children:[(0,l.jsx)(ej._,{}),(0,l.jsxs)(g.B,{spacing:0,children:[(0,l.jsx)(io.X,{children:(0,l.jsx)(x.x6,{id:"iLt90Y"})}),(0,l.jsx)(id.T,{children:(0,l.jsx)(x.x6,{id:"Dp2AEq",values:{templateName:d}})})]})]}):(0,l.jsxs)(ic.MJ,{isRequired:!0,isInvalid:!d,isDisabled:j,children:[(0,l.jsx)(ix.l,{children:(0,l.jsx)(x.x6,{id:"5OwALL"})}),(0,l.jsx)(ih.p,{placeholder:null==r?void 0:r.title,value:d,onChange:e=>c(e.target.value)}),(0,l.jsx)(ic.eK,{children:(0,l.jsx)(x.x6,{id:"wnh66N",values:{GAMMA_ARTIFACT_PROPER_NOUN:ij.TP}})})]})]})}),(0,l.jsx)(em.j,{children:h?(0,l.jsxs)(eY.e,{children:[(0,l.jsx)(z.$,{variant:"plain",onClick:b,children:(0,l.jsx)(x.x6,{id:"VrCCB4"})}),(0,l.jsx)(z.$,{variant:"solid",onClick:v,rightIcon:(0,l.jsx)(E.g,{icon:a,fixedWidth:!0}),children:(0,l.jsx)(x.x6,{id:"bHboUQ"})})]}):(0,l.jsx)(z.$,{variant:"solid",onClick:m,isDisabled:!d||j,isLoading:j,children:(0,l.jsx)(x.x6,{id:"70RJbN"})})})]})]})};var im=s(49405),ig=s(62927),iv=s(5291),ib=s(25991),iy=s(15342);let iC=e=>{let{enabled:i,variables:s}=e,{data:t}=(0,_.JUt)({variables:s,skip:!i,fetchPolicy:"cache-only",nextFetchPolicy:"cache-only"}),l=(0,iy.GV)(ib.XH);return{docs:(0,n.useMemo)(()=>((null==t?void 0:t.docs.edges.map(e=>e.node))||[]).filter(e=>l.includes(e.id)),[t,l]),loading:!1,pageInfo:{hasNextPage:!1,hasPreviousPage:!1,startCursor:null,endCursor:null},fetchMore:async()=>{},showPaginationControls:!1,activeDocs:void 0}},iw=e=>{var i,s;let{activeTab:t,currentChannelId:l,channelPreview:r,filterBy:a,sortBy:o,sortDirection:d,user:c,currentWorkspace:x}=e,{isInOfflineMode:h}=(0,_.utY)(),j=(0,iy.GV)(ib.yy),p=(0,u.u)("channelActivity"),m={filter:{},ready:!0};l?m={filter:{channelId:l,...eC(c)[a].filter},ready:!0}:t===M.n8.ALL||t===M.n8.SHARED_WITH_YOU||t===M.n8.SITES?m=eC(c)[a]:t===M.n8.TRASH&&(m={filter:{archived:!0},ready:!0});let g={workspaceId:null==x?void 0:x.id,first:50,archived:!1,...m.filter,...{sortBy:{field:t===M.n8.TRASH?e0.Hd.includes(o)?_.vY2.EditedTime:o:"recent"===a?_.vY2.LastViewed:"favorites"===a?_.vY2.Favorited:o,direction:d}}},f=iC({enabled:j,variables:g}),v=!!(null==r?void 0:r.id),b=l||(null==r?void 0:r.id),{data:y,networkStatus:C,fetchMore:w}=(0,_.JUt)({variables:g,skip:!c||!m.ready||v||t===M.n8.SHARED_WITH_YOU,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),E=(0,iv.go)();(0,n.useEffect)(()=>{E(((null==y?void 0:y.docs.edges.map(e=>e.node))||[]).map(e=>e.id),new Date().toISOString())},[y,E]);let{data:k}=(0,_.EDe)({variables:{first:50,channelId:null==r?void 0:r.id},skip:!v}),{data:S,networkStatus:T,fetchMore:A}=(0,_.eLs)({variables:g,skip:t!==M.n8.SHARED_WITH_YOU,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),I=!p||!b,{data:D,subscribeToMore:F}=(0,_.S$W)({variables:{first:50,channelId:b},skip:I,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"});(0,n.useEffect)(()=>{if(F&&!I)return F({document:_.kPx,variables:{channelId:b},updateQuery:(e,i)=>{let{subscriptionData:s}=i;return s.data&&s.data.channelDocActivity?{channelDocActivity:{edges:s.data.channelDocActivity.slice(0,50).map(e=>({node:e})),pageInfo:e.channelDocActivity.pageInfo,__typename:"DocActivityConnection"}}:e},onError:e=>{}})},[b,F,I]);let O=v?null==k?void 0:k.previewChannelDocs:t===M.n8.SHARED_WITH_YOU?null==S?void 0:S.sharedDocs:null==y?void 0:y.docs,R=(null==D||null==(i=D.channelDocActivity)?void 0:i.edges)&&(null==D||null==(s=D.channelDocActivity)?void 0:s.edges.map(e=>e.node).filter(e=>e.editors&&e.editors.length>0||e.presenters&&e.presenters.length>0))||void 0,P=null==O?void 0:O.edges.map(e=>e.node).filter(e=>{var i;return!l||(null==e||null==(i=e.channels)?void 0:i.find(e=>e.id===l))}),L=null==y?void 0:y.docs.pageInfo,z=null==L?void 0:L.endCursor,N=w||A,B=(0,n.useCallback)(()=>N({variables:{after:z}}),[N,z]),U=[ig.p.loading,ig.p.setVariables].includes(C)||[ig.p.loading,ig.p.setVariables].includes(T),W=!U&&(null==L?void 0:L.hasNextPage)&&(null==L?void 0:L.endCursor);return h?f:{docs:P,loading:U,pageInfo:L,fetchMore:B,showPaginationControls:W,activeDocs:R}};var iE=s(6807),ik=s(65148);let iS=e=>{let{currentChannelId:i,activeTab:s}=e,[t,l]=(0,iE.M)(ik.E.viewPreferences,"grid"),[r,a]=(0,n.useState)(_.vY2.EditedTime),[o,d]=(0,n.useState)(_.UEL.Desc),[c,x]=(0,n.useState)(()=>i?"all":"recent"),[h,u]=(0,n.useState)(e0.eT);return(0,n.useEffect)(()=>{s===M.n8.ALL?x("recent"):x("all")},[i,s,x]),(0,n.useEffect)(()=>{"createdByYou"===c?(u(_.vY2.CreatedTime),a(_.vY2.CreatedTime)):"recent"===c?u(_.vY2.LastViewed):"favorites"===c?u(_.vY2.Favorited):(a(_.vY2.EditedTime),u(_.vY2.EditedTime))},[c,a,u]),{viewPreference:t,setViewPreference:l,sortBy:r,setSortBy:a,sortDirection:o,filterBy:c,setFilterBy:x,setSortDirection:d,dateDisplayOption:h,setDateDisplayOption:u}};var iT=s(87386),iA=s(62522),iI=s(42721);let i_=()=>{let[e]=(0,_.bME)();return(0,n.useCallback)(async i=>{var s;let{prompt:t,templateDocId:l,format:n,numCards:r,locale:a,styleTemplate:o}=i;return null==(s=(await e({variables:{input:{workspaceId:(0,iI.gx)(),generationType:_.xbH.Remix,input:{prompt:t,settings:{...(0,iA.Xg)(),...(0,iA.Mv)(n),numCards:r,templateDocId:l,imageProvider:u.of.get("aiGeneratorDefaultImageProvider"),locale:a,editorMode:"structured",styleTemplate:o}}}}})).data)?void 0:s.createDocGeneration},[e])};var iD=s(90010);let iF=()=>{let e=(0,T.useRouter)(),[i]=(0,_.gRu)(),s=i_(),[t,l]=(0,n.useState)(!1);return{remixThis:(0,n.useCallback)(async n=>{if(!t){l(!0);try{var r,a,o,d,c;let{data:t}=await i({variables:{id:n.id}}),{docGenerateInput:l,currentSnapshot:x}=null!=(o=null==t?void 0:t.doc)?o:{},{format:h,settings:u}=null!=l?l:{},j=await s({prompt:"",templateDocId:n.id,format:h,locale:null!=(c=null!=(d=(0,iD.nM)({content:null==x||null==(r=x.content)?void 0:r.default}))?d:null==u?void 0:u.locale)?c:"en",numCards:(0,iT.getNumCardsFromJSONContent)(null==x||null==(a=x.content)?void 0:a.default),styleTemplate:null==u?void 0:u.styleTemplate});j&&await e.push("/remix/".concat(j.id))}finally{l(!1)}}},[s,i,e,t]),isLoading:t}},iO=e=>{let{shared:i,trash:s}=e;return(0,l.jsx)(e7.o,{minH:"sm",pt:12,children:(0,l.jsx)(I.p,{title:(0,l.jsx)(x.x6,{id:"Fi5Y2s",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:ij.Ix}}),description:i?(0,l.jsx)(x.x6,{id:"RhQJH0",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:ij.Ix}}):s?(0,l.jsx)(x.x6,{id:"5o4MI2",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:ij.Ix}}):(0,l.jsx)(x.x6,{id:"a+m4bH",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:ij.Ix}}),primaryActionLabel:(0,l.jsx)(x.x6,{id:"4fP2xv",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:ij.Ix}}),primaryButtonProps:{as:Q(),href:"/#".concat(e0.Jj)}})})};var iR=s(65100);let iP=[,,].fill(1),iL=[,,,,].fill(1),iz=e=>{let{viewPreference:i="grid"}=e;return"grid"===i?(0,l.jsx)(f.a,{width:"100%","data-testid":"docs-view-skeleton",children:(0,l.jsx)(b.x,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},gap:6,children:iP.map((e,i)=>(0,l.jsx)(y.E,{as:C.E,borderRadius:"5px",height:"240px"},i))})}):(0,l.jsx)(f.a,{width:"100%","data-testid":"docs-view-skeleton",children:(0,l.jsx)(eQ.K,{pt:4,maxW:"100%",children:(0,l.jsx)(eF.X,{colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",variant:"simple",children:(0,l.jsx)(eZ.N,{children:iL.map((e,i)=>(0,l.jsx)(eO.Tr,{children:(0,l.jsx)(eR.Td,{as:C.E,height:"36px",mb:2})},i))})})})})};var iN=s(7761);let iB=()=>({all:{key:"all",label:(0,l.jsx)(x.x6,{id:"N40H+G"}),ariaLabel:$.Ru._({id:"N40H+G"}),icon:(0,l.jsx)(E.g,{icon:w.vGi,fixedWidth:!0})},offline:{key:"offline",label:(0,l.jsx)(x.x6,{id:"U6pRQr"}),ariaLabel:$.Ru._({id:"U6pRQr"}),icon:(0,l.jsx)(E.g,{icon:w.Jyj,fixedWidth:!0})},recent:{key:"recent",label:(0,l.jsx)(x.x6,{id:"AOvC3b"}),ariaLabel:$.Ru._({id:"AOvC3b"}),icon:(0,l.jsx)(E.g,{icon:w.a$,fixedWidth:!0})},private:{key:"private",label:(0,l.jsx)(x.x6,{id:"zwBp5t"}),ariaLabel:$.Ru._({id:"zwBp5t"}),icon:(0,l.jsx)(E.g,{icon:w.DW4,fixedWidth:!0})},createdByYou:{key:"createdByYou",label:(0,l.jsx)(x.x6,{id:"WZTg05"}),ariaLabel:$.Ru._({id:"WZTg05"}),icon:(0,l.jsx)(E.g,{icon:w.VFr,fixedWidth:!0})},favorites:{key:"favorites",label:(0,l.jsx)(x.x6,{id:"X9kySA"}),ariaLabel:$.Ru._({id:"X9kySA"}),icon:(0,l.jsx)(E.g,{icon:w.yy,fixedWidth:!0})}}),iM=["all","offline","recent","createdByYou","favorites"],iU=()=>iM.map(e=>({...iB()[e]})),iW=["all","offline","recent","createdByYou","favorites"],iH=()=>iW.map(e=>({...iB()[e]})),iV=["all","recent","favorites"],iG=()=>iV.map(e=>({...iB()[e]})),iY=(e,i)=>{let s={default:iU(),channel:iH(),shared:iG()}[i];return e?s.map(e=>({...e,isDisabled:"offline"!==e.key})):s.filter(e=>"offline"!==e.key)},i$=e=>{let{activeTab:i,currentChannelId:s,filterBy:t,setFilterBy:r}=e,{isInOfflineMode:a}=(0,h.u)(),o=iY(a,s?"channel":i===M.uL.SHARED_WITH_YOU?"shared":"default"),d=a?"offline":t,c=iB()[d],x=(0,n.useCallback)(e=>{a||r(e.key)},[a,r]);return(0,l.jsx)(iN.x,{selectedOption:c,setSelectedOption:x,options:o,dropdownButtonLeftIcon:(0,l.jsx)(E.g,{icon:w.mRM,fixedWidth:!0}),dropdownMenuTitle:$.Ru._({id:"MwX53Z"})})},iK=e=>{var i;let{filterBy:s,sortBy:t,sortDirection:n,setSortBy:r,setSortDirection:a,size:o="sm",disableSorting:d=!1}=e,c=ey(s),h=c?e0.CW:e0.Zv.concat({key:_.vY2.Title,label:$.Ru._({id:"MHrjPM"})});return(0,l.jsxs)(eY.e,{variant:"ghost",size:o,zIndex:"2",children:[!(0,U.Xb)()&&!c&&(0,l.jsxs)(ee.W,{closeOnSelect:!0,children:[(0,l.jsx)(ei.I,{as:z.$,variant:"ghost",size:o,rightIcon:(0,l.jsx)(E.g,{icon:w.Jt$,"aria-label":"Open menu"}),fontWeight:"600",color:"gray.600",isDisabled:d,children:(null==h||null==(i=h.find(e=>e.key===t))?void 0:i.label)||(0,l.jsx)(x.x6,{id:"acZeX2"})}),(0,l.jsx)(et.Z,{children:(0,l.jsx)(el.c,{minWidth:"240px",zIndex:"overlay",children:(0,l.jsx)(e$.i,{defaultValue:"alpha",title:$.Ru._({id:"/HgF9q"}),type:"radio",children:h.map(e=>{let i=t===e.key;return(0,l.jsx)(er.D,{icon:i?(0,l.jsx)(eG.S,{}):(0,l.jsx)(f.a,{w:3}),value:e.key,onClick:()=>r(e.key),children:e.label},e.key)})})})})]}),(c||h.find(e=>e.key===t))&&(0,l.jsx)(eg.Tz,{label:(0,l.jsx)(x.x6,{id:"TZml21"}),children:(0,l.jsx)(es.K,{color:"gray.600","aria-label":"sort",isDisabled:d,onClick:()=>a(n===_.UEL.Asc?_.UEL.Desc:_.UEL.Asc),icon:(0,l.jsx)(E.g,{icon:w.rLo})})})]})},iQ=e=>{let{activeTab:i,currentChannelId:s,filterBy:t,sortBy:n,sortDirection:r,viewPreference:a,setFilterBy:o,setSortBy:d,setSortDirection:c,setViewPreference:x,shouldShowCategoryFilters:h,shouldShowSortOptions:u,shouldShowViewToggle:j,shouldDisableSorting:p}=e;return h||u||j?(0,l.jsxs)(g.B,{direction:"row",alignItems:"center",children:[h&&(0,l.jsx)(i$,{activeTab:i,filterBy:t,setFilterBy:o,currentChannelId:s}),(0,l.jsx)(Y.h,{}),(0,l.jsxs)(m.z,{alignItems:"center",children:[u&&(0,l.jsx)(iK,{filterBy:t,sortBy:n,sortDirection:r,setSortBy:d,setSortDirection:c,disableSorting:p}),j&&(0,l.jsx)(iX,{viewPreference:a,setViewPreference:x})]})]}):(0,l.jsx)(l.Fragment,{})},iX=e=>{let{viewPreference:i,setViewPreference:s}=e,t="list"===i;return(0,l.jsxs)(m.z,{spacing:0,bg:"gray.200",p:.5,borderRadius:"full",children:[(0,l.jsx)(z.$,{size:"sm","data-testid":"view-toggle-grid",variant:t?"ghost":"plain",color:t?"gray.600":"trueblue.500",onClick:()=>s("grid"),children:(0,l.jsxs)(m.z,{children:[(0,l.jsx)(E.g,{icon:w.Qyz}),(0,l.jsx)(L.E,{display:["none","none","none","none","block"],children:(0,l.jsx)(x.x6,{id:"CXDHcv"})})]})}),(0,l.jsx)(z.$,{size:"sm","data-testid":"view-toggle-list",variant:t?"plain":"ghost",color:t?"trueblue.500":"gray.600",onClick:()=>s("list"),children:(0,l.jsxs)(m.z,{children:[(0,l.jsx)(E.g,{icon:w.ckx}),(0,l.jsx)(L.E,{display:["none","none","none","none","block"],children:(0,l.jsx)(x.x6,{id:"2BBAbc"})})]})})]})};var iJ=s(88571),iZ=s(83550),iq=s(96500),i0=s(16491),i1=s(91938),i6=s(26899),i2=s(92699);let i4=e=>{let i=(0,u.u)("docImport"),s=(0,u.u)("pptImport");return i||s?(0,l.jsx)(i0.G_,{clientId:i1.$.GOOGLE_DRIVE_IMPORT_CLIENT_ID,children:(0,l.jsx)(i5,{...e})}):null},i5=e=>{let{handleImport:i,isDisabled:s,buttonProps:t}=e,{isOpen:n,onOpen:r,onClose:a}=(0,p.j)({id:"import-plain-modal"}),{push:o}=(0,T.useRouter)(),d=(0,u.u)("themeImportAi");return(0,l.jsxs)(ee.W,{children:[(0,l.jsx)(ei.I,{as:z.$,onFocus:e=>e.preventDefault(),"data-testid":"import-doc-button",isDisabled:s,leftIcon:(0,l.jsx)(E.g,{icon:w.$MS}),rightIcon:(0,l.jsx)(E.g,{icon:w.Jt$}),sx:{span:{flexGrow:0}},...t,children:(0,l.jsx)(x.x6,{id:"l3s5ri"})}),(0,l.jsx)(et.Z,{children:(0,l.jsxs)(el.c,{maxW:"350px",zIndex:"tooltip",children:[(0,l.jsxs)(iZ.r,{title:$.Ru._({id:"4b3oEV"}),children:[(0,l.jsx)(er.D,{icon:(0,l.jsx)(E.g,{icon:eq.p7g,fixedWidth:!0}),onClick:()=>{o("/create/import?ref=home")},children:(0,l.jsxs)(m.z,{align:"flex-start",children:[(0,l.jsxs)(g.B,{spacing:0,children:[(0,l.jsx)(L.E,{children:(0,l.jsx)(x.x6,{id:"QIFgHt"})}),(0,l.jsx)(L.E,{fontSize:"xs",color:"gray.500",children:(0,l.jsx)(x.x6,{id:"viFd4B"})})]}),(0,l.jsx)(Y.h,{}),(0,l.jsx)(N.E,{h:"fit-content",colorScheme:"trueblue",ms:2,children:(0,l.jsx)(x.x6,{id:"jsQZMk"})})]})}),(0,l.jsx)(er.D,{icon:(0,l.jsx)(E.g,{icon:w.$MS,fixedWidth:!0}),onClick:r,children:(0,l.jsxs)(g.B,{spacing:0,children:[(0,l.jsx)(L.E,{children:(0,l.jsx)(x.x6,{id:"yCc/Nz"})}),(0,l.jsx)(L.E,{fontSize:"xs",color:"gray.500",children:(0,l.jsx)(x.x6,{id:"G3+qfy"})})]})})]}),d&&(0,l.jsx)(iZ.r,{title:$.Ru._({id:"f8fH8W"}),children:(0,l.jsx)(er.D,{icon:(0,l.jsx)(E.g,{icon:w.fyG,fixedWidth:!0}),onClick:async()=>{await o("#themes"),setTimeout(()=>{(0,i2.yJ)()},200)},children:(0,l.jsxs)(m.z,{align:"flex-start",children:[(0,l.jsxs)(g.B,{spacing:0,children:[(0,l.jsx)(L.E,{children:(0,l.jsx)(x.x6,{id:"NYdkQ8"})}),(0,l.jsx)(L.E,{fontSize:"xs",color:"gray.500",children:(0,l.jsx)(x.x6,{id:"uejFEJ"})})]}),(0,l.jsx)(Y.h,{}),(0,l.jsx)(N.E,{h:"fit-content",colorScheme:"trueblue",ms:2,children:(0,l.jsx)(x.x6,{id:"jsQZMk"})})]})})})]})}),(0,l.jsxs)(ea.aF,{isOpen:n,onClose:a,size:"4xl",trapFocus:!1,closeOnOverlayClick:!1,children:[(0,l.jsx)(eo.m,{}),(0,l.jsxs)(ed.$,{children:[(0,l.jsx)(ec.r,{children:(0,l.jsxs)(m.z,{spacing:3,children:[(0,l.jsx)(E.g,{icon:w.$MS}),(0,l.jsx)(L.E,{children:(0,l.jsx)(x.x6,{id:"F6aY4g"})})]})}),(0,l.jsx)(iq.c,{}),(0,l.jsx)(ex.s,{}),(0,l.jsx)(eh.c,{py:4,px:{base:4,md:6},children:(0,l.jsx)(g.B,{spacing:4,align:"center",justify:"center",children:(0,l.jsx)(i6.J,{onImportComplete:i})})}),(0,l.jsx)(em.j,{children:(0,l.jsx)(z.$,{variant:"solid",onClick:a,children:(0,l.jsx)(x.x6,{id:"dEgA5A"})})})]})]})]})};var i9=s(37243),i3=s(82957),i8=s(66607);let i7=(e,i,s)=>{var t;let l,n=(0,i3.C)(),r=(0,i9.getSchema)(n),{slice:a}=(0,i8.S)(e,r,i,{preserveWhitespace:!1}),o=(null==(t=a.toJSON())?void 0:t.content)||[];if(o.every(e=>"card"===e.type))l=(0,iT.createDocWithCards)(s,o);else{let e=o.filter(e=>r.nodes[e.type].isBlock)||[];l=(0,iT.createDocWithCards)(s,[{type:"card",content:e}])}return console.debug("Parsing imported doc",{doc:l,slice:a,splitContent:o,html:e}),l};var se=s(95889),si=s(8139);let ss=e=>{let{isDisabled:i,channelId:s}=e,{push:t}=(0,T.useRouter)(),r=s?"?channelId=".concat(s):"",a=(0,n.useCallback)(()=>t("/create".concat(r)),[t,r]);return(0,l.jsx)(z.$,{"data-testid":"create-from-ai-button",isDisabled:i,variant:"special",onClick:a,leftIcon:(0,l.jsx)(E.g,{icon:w.QLR}),rightIcon:(0,l.jsx)(N.E,{colorScheme:"trueblue",textShadow:"none",children:"AI"}),children:(0,l.jsx)(x.x6,{id:"BOqY23"})})};var st=s(96833),sl=s(32805);let sn=e=>{let{createBlank:i,isDisabled:s}=e,t=(0,iD.Bi)(),r=(e,s)=>{i({docSettings:si.S9[s].docSettings(),format:e})};return(0,l.jsxs)(eY.e,{isAttached:!0,children:[(0,l.jsx)(eg.Tz,{label:"gamma.new",placement:"top",openDelay:250,children:(0,l.jsx)(z.$,{"data-testid":"create-doc-button",isDisabled:s,variant:"plain",onClick:()=>r("deck","deck_default"),leftIcon:(0,l.jsx)(E.g,{icon:w.QLR}),flex:1,children:(0,l.jsx)(x.x6,{id:"exOjhh"})})}),(0,l.jsxs)(ee.W,{placement:"bottom-end",children:[(0,l.jsx)(ei.I,{as:es.K,variant:"plain",icon:(0,l.jsx)(E.g,{fixedWidth:!0,icon:w.Jt$}),borderInlineStart:"none",isDisabled:s}),(0,l.jsx)(el.c,{maxH:"50vh",overflowY:"scroll",zIndex:"tooltip",children:t.map((e,i)=>{let s=i===t.length-1;return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(iZ.r,{title:e.name(),children:(0,l.jsx)(sl.D,{docFormatCategory:e,onSelectStyleTemplate:i=>{r(e.formatType,i)}})}),!s&&(0,l.jsx)(en.N,{})]},i)})})]})]})};var sr=s(22832),sa=s(23908),so=s(36693),sd=s(20061),sc=s(3448),sx=s(58297),sh=s(3276),su=s(49146);let sj=e=>{let{categories:i,onSelectCategory:s}=e;return(0,l.jsx)(R.s,{children:(0,l.jsx)(sa.w,{w:"2xs",borderInlineEndWidth:"1px",borderColor:"gray.200",pe:2,children:i.map((e,i)=>(0,l.jsxs)(so.o,{justifyContent:"flex-start",onClick:()=>s(i),children:[(0,l.jsx)(f.a,{as:"span",fontWeight:"semibold",me:2,children:(0,l.jsx)(E.g,{icon:e.icon,fixedWidth:!0})}),(0,l.jsx)(f.a,{as:"span",noOfLines:1,children:e.name()})]},e.formatType))})})},sp={document:(0,l.jsx)(x.x6,{id:"CJc+kL"}),social:(0,l.jsx)(x.x6,{id:"i428uj"}),deck:(0,l.jsx)(x.x6,{id:"DJO5Ev"}),webpage:(0,l.jsx)(x.x6,{id:"3a0qNO"})},sm=[],sg=e=>{let{categories:i,onItemClick:s}=e,{push:t}=(0,T.useRouter)(),n=(0,iu.fW)()?w.CeG:w.dmS,r=0===sm.length;return(0,l.jsx)(sd.T,{w:"100%",children:i.map(e=>{let i=sp[e.formatType];return(0,l.jsx)(sc.K,{mt:-2,children:(0,l.jsxs)(g.B,{spacing:12,w:"100%",children:[(0,l.jsxs)(g.B,{spacing:6,children:[(0,l.jsxs)(g.B,{spacing:2,children:[(0,l.jsx)(P.D,{size:"md",as:"h2",children:i}),(0,l.jsx)(L.E,{children:e.description()})]}),(0,l.jsx)(e6.B,{children:e.styleTemplates.map(i=>{let t=si.S9[i],n=t.label();return(0,l.jsx)(e6.Q,{as:z.$,h:"auto",variant:"plain",borderColor:"gray.200",borderRadius:"md",size:"sm",display:"inline-flex",alignItems:"center",gap:3,w:36,flexDirection:"column",px:2,py:4,onClick:()=>{s({formatType:e.formatType,styleTemplate:i})},children:(0,l.jsxs)(g.B,{spacing:4,w:"100%",alignItems:"center",children:[(0,l.jsx)(sx.j,{bg:"".concat(e.accentColor,".100"),size:"12",color:"".concat(e.accentColor,".600"),children:(0,l.jsx)(E.g,{fixedWidth:!0,icon:t.icon})}),(0,l.jsxs)(g.B,{spacing:0,children:[(0,l.jsx)(L.E,{fontSize:"md",children:n}),(0,l.jsx)(L.E,{color:"gray.500",fontSize:"sm",children:t.cardDimensionsDesc()})]})]})},i)})})]}),(0,l.jsx)(g.B,{spacing:0,w:"100%",children:(0,l.jsxs)(g.B,{spacing:2,w:"100%",children:[(0,l.jsxs)(R.s,{justifyContent:"space-between",w:"100%",alignItems:"center",children:[(0,l.jsx)(P.D,{size:"md",as:"h2",children:(0,l.jsx)(x.x6,{id:"rK+c0Q"})}),r?(0,l.jsx)(l.Fragment,{}):(0,l.jsx)(z.$,{size:"sm",onClick:()=>{},rightIcon:(0,l.jsx)(E.g,{icon:n}),children:(0,l.jsx)(x.x6,{id:"kyJSgj"})})]}),r&&(0,l.jsx)(f.a,{bg:"gray.50",py:12,px:20,borderRadius:"md",children:(0,l.jsx)(I.p,{size:"md",title:(0,l.jsx)(x.x6,{id:"CKuhci"}),description:(0,l.jsx)(x.x6,{id:"lr4yZK",values:{GAMMA_ARTIFACT_PROPER_NOUN:ij.TP}}),primaryActionLabel:(0,l.jsx)(x.x6,{id:"mrenWs"}),primaryButtonProps:{variant:"solid",rightIcon:(0,l.jsx)(E.g,{icon:n,fixedWidth:!0})},onPrimaryAction:()=>{t("/#templates")}})})]})})]})},e.formatType)})})},sf=e=>{let{onItemClick:i,isLoading:s}=e,[t,r]=(0,n.useState)(0),a=(0,iD.Bi)();return(0,l.jsxs)(R.s,{h:"100%",children:[s&&(0,l.jsx)(R.s,{justifyContent:"center",alignItems:"center",w:"100%",h:"100%",position:"absolute",zIndex:1e3,bg:"whiteAlpha.800",children:(0,l.jsx)(sh.y,{})}),(0,l.jsxs)(su.t,{variant:"soft-rounded",index:t,onChange:r,orientation:"vertical",size:"md",isLazy:!0,w:"100%",children:[(0,l.jsx)(sj,{categories:a,onSelectCategory:e=>r(e)}),(0,l.jsx)(sg,{categories:a,onItemClick:i})]})]})},sv=e=>{let{isOpen:i,onClose:s,onItemClick:t,isLoading:n}=e;return(0,l.jsxs)(ea.aF,{isOpen:i,onClose:s,size:"6xl",children:[(0,l.jsx)(eo.m,{}),(0,l.jsxs)(ed.$,{overflow:"hidden",children:[(0,l.jsx)(ec.r,{children:(0,l.jsx)(x.x6,{id:"gjocHX",values:{GAMMA_ARTIFACT_PROPER_NOUN:ij.TP}})}),(0,l.jsx)(ex.s,{}),(0,l.jsx)(eh.c,{h:"100%",children:(0,l.jsx)(sf,{onItemClick:t,isLoading:n})}),(0,l.jsx)(em.j,{alignItems:"center",bg:"gray.50",borderTop:"1px solid",borderColor:"gray.200",children:(0,l.jsx)(L.E,{fontSize:"sm",color:"gray.700",textAlign:"center",w:"100%",children:(0,l.jsx)(x.x6,{id:"hUHXk1",values:{GAMMA_ARTIFACT_PROPER_NOUN:ij.TP},components:{0:(0,l.jsx)(sr.C,{bg:"blackAlpha.100",fontSize:"inherit"})}})})})]})]})},sb=e=>{let{createBlank:i,isCreateDocInProgress:s}=e,{isOpen:t,onOpen:r,onClose:a}=(0,p.j)({id:"new-from-blank-v2-modal"}),o=(0,n.useCallback)(async e=>{let{formatType:s,styleTemplate:t}=e,l=si.S9[t].docSettings();await i({docSettings:l,format:s})},[i]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eg.Tz,{label:"gamma.new",placement:"top",openDelay:250,children:(0,l.jsx)(z.$,{"data-testid":"create-doc-button",isDisabled:s,variant:"plain",onClick:r,leftIcon:(0,l.jsx)(E.g,{icon:w.QLR}),children:(0,l.jsx)(x.x6,{id:"exOjhh"})})}),t&&(0,l.jsx)(sv,{isOpen:t,onClose:a,onItemClick:o,isLoading:s})]})},sy={GoogleDocs:"import_google_doc",GoogleSlides:"import_google_slides",DocxUpload:"import_docx",PptxUpload:"import_pptx",WebpageUrl:"import_webpage",PdfUpload:"import_pdf"},sC=e=>{let{currentWorkspace:i,description:s,ariaLabel:t,displayName:r,icon:a,showCreateButton:o,channel:d,isChannelPreview:c,isOffline:h}=e,j=(0,u.u)("aiWizard"),p=(0,u.u)("workspaceTemplates"),v=(0,se.st)(),[b,{data:y,loading:C}]=(0,iJ.m)(),w=C||!!((null==y?void 0:y.createDoc)||!i)||h,k=(0,n.useCallback)(e=>{b({...e,channelId:null==d?void 0:d.id,source:"blank"})},[null==d?void 0:d.id,b]),S=(0,n.useCallback)(async e=>{let{html:i,filename:s,source:t,src:l,latency:n}=e,r="GoogleDocs"===t||"DocxUpload"===t||"PdfUpload"===t,a=i7(i,{splitOnHeadings:r,splitOnDividers:!0,nested:r},"PptxUpload"===t||"GoogleSlides"===t?{format:si.S9.deck_traditional.formatType,settings:{...si.S9.deck_traditional.docSettings()}}:void 0);null==v||v.track(se.VV.DOC_IMPORTED,{source:t,src:l,with_ai:!1,latency:n}),b({document:a,channelId:null==d?void 0:d.id,title:s,source:sy[t]})},[v,b,null==d?void 0:d.id]);return(0,l.jsxs)(R.s,{flex:"1",mb:4*!(0,U.Xb)(),direction:"column",children:[(0,l.jsxs)(f.a,{w:["100%","auto"],children:[(0,l.jsxs)(m.z,{h:"1.5em",children:[(0,l.jsxs)(P.D,{size:"sm","data-testid":"docs-view-header",children:[a&&(0,l.jsx)(E.g,{icon:a,"aria-label":t()})," ",(0,l.jsx)(L.E,{as:"span",ms:2,children:r})]}),(0,l.jsx)(Y.h,{})]}),s&&(0,l.jsx)(L.E,{color:"gray.600",fontSize:"sm",children:s}),d&&(0,l.jsxs)(g.B,{direction:"row",alignItems:"center",mt:4,children:[(0,l.jsx)(eg.KZ,{overflowTooltipLabel:"See everyone",size:"xs",avatars:(null==d?void 0:d.members)||[],max:6}),(0,l.jsx)(L.E,{fontSize:"sm",ms:2,children:(0,l.jsx)(x.x6,{id:"pkIIls",values:{0:d.memberCount||0}})}),(0,l.jsx)(Y.h,{display:{base:"flex",lg:"none"}}),!c&&d&&(0,l.jsx)(f.a,{justifyContent:{base:"flex-end",lg:"flex-start"},children:(0,l.jsx)(st.S,{channel:d,workspaceId:null==i?void 0:i.id})})]})]}),o&&(0,l.jsxs)(g.B,{direction:{base:"column",lg:"row"},spacing:2,mt:4,children:[j&&(0,l.jsx)(ss,{isDisabled:w,channelId:null==d?void 0:d.id}),!(0,U.Xb)()&&(p?(0,l.jsx)(sb,{isCreateDocInProgress:w,createBlank:k}):(0,l.jsx)(sn,{isDisabled:w,createBlank:k})),o&&!(0,U.Xb)()&&(0,l.jsx)(i4,{handleImport:S,isDisabled:w})]})]})};var sw=s(2318);let sE=e=>{let{editors:i,user:s}=e,t=(0,sw.Hz)(i,null==s?void 0:s.id);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eg.KZ,{size:"xs",overflowTooltipLabel:$.Ru._({id:"25VyZX"}),shouldAnimate:!1,max:3,avatars:t.map(e=>{let{displayName:i,profileImageUrl:s,id:t}=e;return{name:i||"",id:t,profileImageUrl:s,color:"white"}})}),(0,l.jsx)(g.B,{spacing:0,children:(0,l.jsx)(L.E,{fontSize:"xs",color:"gray.500",children:(0,l.jsx)(x.x6,{id:"27Yldc",values:{0:t.length}})})})]})},sk=e=>{let{presenters:i,user:s}=e,t=(0,sw.Hz)(i,null==s?void 0:s.id);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eg.KZ,{overflowTooltipLabel:$.Ru._({id:"25VyZX"}),shouldAnimate:!1,size:"xs",max:3,avatars:t.map(e=>{let{displayName:i,profileImageUrl:s,id:t}=e;return{name:i||"",id:t,profileImageUrl:s,color:"white"}})}),(0,l.jsx)(g.B,{spacing:0,children:(0,l.jsx)(L.E,{fontSize:"xs",color:"gray.500",children:(0,l.jsx)(x.x6,{id:"u2htxq",values:{0:t.length}})})})]})},sS=e=>{let{activeDocs:i,filterBy:s}=e,t=(0,u.u)("screenshotsEnabled"),{user:n}=(0,O.ur)(),{favoriteDoc:r}=(0,ii.I)({refetchQueries:["GetDocs","GetChannelDocActivity"]});return(0,l.jsxs)(f.a,{bg:"blackAlpha.100",my:4,pt:2,borderRadius:"md",border:"1px solid #000",borderColor:"blackAlpha.100",children:[(0,l.jsxs)(L.E,{px:6,fontSize:"sm",fontWeight:"600",color:"gray.600",mt:2,children:[(0,l.jsx)(E.g,{icon:w.qAe})," ",(0,l.jsx)(x.x6,{id:"/sL1z7"})]}),(0,l.jsx)(b.x,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},gap:6,p:6,pt:3,children:null==i?void 0:i.map(e=>{var i;let{doc:s,editors:a,presenters:o}=e,{title:d,id:c,titleCard:x,createdTime:h}=s,u={src:t?null==x?void 0:x.previewUrl:J.A,fallbackSrc:J.A.src},j=o&&o.length>0,p=!j&&a&&a.length>0,g=(0,eE.LN)({docId:c}),f=(0,l.jsxs)(m.z,{px:2,py:1,bg:"green.100",borderRadius:"md",w:"100%",children:[p&&(0,l.jsx)(sE,{editors:a,user:n}),j&&(0,l.jsx)(sk,{presenters:o,user:n})]});return(0,l.jsx)(ez.Dg,{createdTime:h,title:d,NextLink:Q(),href:g,id:c,thumbnailImageUrl:u,isFavorited:null==(i=s.docUser)?void 0:i.favorited,onFavorite:r(new Date,s),onUnfavorite:r(null,s),menuEnabled:!1,activity:f},c)})})]})},sT=(0,n.memo)(e=>{let{activeTab:i,channel:s,isChannelPreview:t,activeDocs:n,sortDirection:r,sortBy:a,filterBy:o,viewPreference:d,setSortBy:c,setSortDirection:x,setViewPreference:h,setFilterBy:u,isOffline:j}=e,p=!(0,U.Xb)()&&i!==M.uL.TEMPLATES,m=!!(i===M.uL.ALL||i===M.uL.SHARED_WITH_YOU||s),{currentWorkspace:g}=(0,O.ur)(),{displayName:v,description:b,ariaLabel:y,icon:C,showCreateButton:w}=M.mQ[i],E=(null==s?void 0:s.name)||v;return(0,l.jsxs)(f.a,{w:"100%",mb:6,children:[(0,l.jsx)(sC,{displayName:E,ariaLabel:y,description:b,icon:C,showCreateButton:w&&!t,currentWorkspace:g,channel:s,isChannelPreview:t,isOffline:j}),n&&n.length>0&&(0,l.jsx)(sS,{activeDocs:n,filterBy:o}),(0,l.jsx)(iQ,{activeTab:i,filterBy:o,sortBy:a,sortDirection:r,setViewPreference:h,setFilterBy:u,setSortBy:c,setSortDirection:x,viewPreference:d,shouldShowCategoryFilters:m,currentChannelId:(null==s?void 0:s.id)||null,shouldShowSortOptions:p&&"grid"===d,shouldShowViewToggle:p,shouldDisableSorting:j})]})});sT.displayName="DocsViewTopbar";var sA=s(46898),sI=s(5091);let s_=e=>{let{onClose:i,doc:s}=e,[t,{loading:r}]=(0,_.cGn)(),a=(0,sA.d)(),[o,d]=(0,n.useState)(()=>s.title),[c,h]=(0,n.useState)("Untitled"),[u,j]=(0,n.useState)(null),p=(0,n.useCallback)(e=>{d(e.target.value)},[]),m=(0,n.useRef)(null),{data:g}=(0,_.YDl)({variables:{docId:s.id,snapshotId:s.currentSnapshotId},skip:!(null==s?void 0:s.currentSnapshotId)||!(null==s?void 0:s.id)}),f=!!u;(0,n.useEffect)(()=>{(null==g?void 0:g.snapshot)&&h((null==g?void 0:g.snapshot)&&(0,iT.getCardTitle)(g.snapshot.content.default.content[0].content[0])||$.Ru._({id:"wja8aL"}))},[null==g?void 0:g.snapshot]);let v=(0,n.useCallback)(()=>{let e=!!(o&&o.length);t({variables:{id:s.id,titleEdited:e,title:e?o:c}}).then(()=>{a({title:(0,l.jsx)(x.x6,{id:"ZYAPMn",values:{GAMMA_ARTIFACT_PROPER_NOUN:ij.TP,0:o.length>0?o:c}}),position:"top",status:"success",duration:5e3}),j(null),i()}).catch(e=>{console.error(e),j(e.message)})},[s.id,i,o,a,t,c]);return(0,l.jsxs)(ea.aF,{closeOnOverlayClick:!1,isOpen:!0,initialFocusRef:m,onClose:i,children:[(0,l.jsx)(eo.m,{}),(0,l.jsxs)(ed.$,{children:[(0,l.jsx)(ec.r,{children:(0,l.jsx)(x.x6,{id:"2wxgft"})}),(0,l.jsx)(ex.s,{}),(0,l.jsx)(eh.c,{children:(0,l.jsx)(R.s,{mt:4,w:"100%",direction:"column",children:(0,l.jsxs)(ic.MJ,{isInvalid:f,children:[(0,l.jsx)(ih.p,{value:o,placeholder:c,ref:m,_placeholder:{opacity:1,color:"gray.300"},onKeyDown:e=>{"Enter"===e.key&&v()},onChange:p}),f&&(0,l.jsx)(sI.Wt,{children:u})]})})}),(0,l.jsx)(em.j,{children:(0,l.jsxs)(eY.e,{children:[(0,l.jsx)(z.$,{variant:"ghost",onClick:i,children:(0,l.jsx)(x.x6,{id:"dEgA5A"})}),(0,l.jsx)(z.$,{isLoading:r,variant:"solid",onClick:v,children:(0,l.jsx)(x.x6,{id:"2wxgft"})})]})})]})]})},sD=e=>{let{userHasNoWorkspaces:i,isSidebarVisible:s,setIsSidebarVisible:t,currentChannelId:r,activeChannel:a,channelPreview:o,activeTab:d,isOffline:c}=e,{user:h,currentWorkspace:u}=(0,O.ur)(),[j,m]=(0,n.useState)(!1),[g,v]=(0,n.useState)(null),[b,y]=(0,n.useState)(null),{isOpen:C,onOpen:w,onClose:E}=(0,p.j)({id:"ConfirmPermanentlyDeleteModal"}),{isOpen:k,onOpen:S,onClose:T}=(0,p.j)({id:"SaveCopyAsTemplateModal"}),[A,I]=(0,n.useState)(null),[D,F]=(0,n.useState)(null),[R,{data:P}]=(0,_.gto)({variables:{id:g},returnPartialData:!0,nextFetchPolicy:"cache-first"}),{favoriteDoc:L,trashDoc:N,restoreDoc:B}=(0,ii.I)({refetchQueries:["GetDocs","GetSharedDocs","GetChannelDocActivity"]}),U=(0,im.Z)(),{removeDocChannel:W}=(0,ia.k)(),H=(0,O.IM)(),{isSharePanelOpen:V,onSharePanelOpen:G,onSharePanelClose:Y,view:$,setView:K}=(0,il.R)(),{isOpen:Q,onOpen:X,onClose:J}=(0,p.j)({id:"RenameDocModalDisclosure"}),{viewPreference:Z,setViewPreference:q,sortBy:ee,setSortBy:ei,sortDirection:es,filterBy:et,setFilterBy:el,setSortDirection:en,dateDisplayOption:er,setDateDisplayOption:ea}=iS({currentChannelId:r,activeTab:d}),{docs:eo,loading:ed,showPaginationControls:ec,fetchMore:ex,activeDocs:eh}=iw({filterBy:et,activeTab:d,currentChannelId:r,channelPreview:o,user:h,currentWorkspace:u,sortBy:ee,sortDirection:es});(0,n.useEffect)(()=>{g&&R({variables:{id:g}})},[g,R]);let eu=(0,n.useCallback)(e=>{y(e),w()},[w]),ej=(0,n.useCallback)(e=>{v(e),G()},[G]),ep=(0,n.useCallback)((e,i)=>{W(e,i)},[W]),em=(0,n.useCallback)(e=>{U({docId:e.id,source:"dashboard_docs_view_duplicate"})},[U]),eg=(0,n.useCallback)(e=>{var i,s;F({id:e.id,title:null!=(i=e.title)?i:"",titleCard:null!=(s=e.titleCard)?s:null}),S()},[S]),ef=(0,n.useCallback)(e=>{I(e),X()},[X]),{remixThis:ev,isLoading:eb}=iF(),ey=(0,it.u)("remix"),eC=(0,it.u)("workspaceTemplates"),ew=(0,n.useCallback)(e=>{ev(e)},[ev]),eE=!ed&&eo&&(null==eo?void 0:eo.length)>0;return(0,l.jsxs)(f.a,{width:"100%",children:[!i&&(0,l.jsx)(iR.e,{isSidebarVisible:s,setIsSidebarVisible:t,children:(0,l.jsx)(sT,{activeTab:d,channel:o||a,activeDocs:eh,isChannelPreview:!!o,sortDirection:es,sortBy:ee,filterBy:et,viewPreference:Z,setSortBy:ei,setSortDirection:en,setViewPreference:q,setFilterBy:el,isOffline:c})}),(0,l.jsxs)(f.a,{width:"100%","data-testid":"docs-view-container",children:[(0,l.jsx)(eU,{user:h,currentWorkspace:u,currentChannelId:r,viewPreference:Z}),ed&&(0,l.jsx)(iz,{viewPreference:Z}),!ed&&(null==eo?void 0:eo.length)===0&&(0,l.jsx)(iO,{shared:d===M.uL.SHARED_WITH_YOU,trash:d===M.uL.TRASH}),"list"===Z&&eE&&(0,l.jsx)(e8,{dateDisplayOption:er,setDateDisplayOption:ea,user:h,currentWorkspace:u,userHasNoWorkspaces:i,filterBy:et,isOffline:c,docs:eo,currentChannelId:r,sortBy:ee,sortDirection:es,setSortBy:ei,setSortDirection:en,handleDuplicateDoc:em,handleFavoriteDoc:L,handleTrash:N,handlePermanentDelete:eu,handleRestoreDoc:B,handleShareClick:ej,handleRenameClick:ef,handleRemoveFromChannel:ep,handleRemixThis:ey?ew:void 0,isRemixLoading:eb,handleCopyAsTemplate:eC?eg:void 0}),"grid"===Z&&eE&&(0,l.jsx)(ie.S,{"data-testid":"docs-view-doc-grid",children:eo.map(e=>{var s;let t=H.can("view",e)&&!i,n=H.can("edit",e)&&!i,a=H.can("manage",e)&&!i;return(0,l.jsx)(eV,{user:h,currentWorkspace:u,doc:e,currentChannelId:r,sortBy:ee,filterBy:et,canDuplicate:t,createdByYou:(null==e||null==(s=e.createdBy)?void 0:s.id)===(null==h?void 0:h.id),handleDuplicateDoc:em,handleFavoriteDoc:L,handleTrash:N,handlePermanentDelete:eu,handleRenameClick:ef,handleRemoveFromChannel:ep,handleRestoreDoc:B,handleShareClick:ej,handleRemixThis:ey?ew:void 0,isRemixLoading:eb,handleCopyAsTemplate:eC?eg:void 0,canEditDoc:n,canManageDoc:a,isOffline:c},e.id)})}),V&&(0,l.jsx)(ir._,{doc:null==P?void 0:P.doc,isSharePanelOpen:V,onSharePanelClose:()=>{v(null),Y()},onSharePanelOpen:G,view:$,setView:K,showSiteSettings:!1}),Q&&(0,l.jsx)(s_,{doc:A,onClose:J}),k&&(0,l.jsx)(ip,{isOpen:k,onClose:T,doc:D}),ec&&(0,l.jsx)(e7.o,{p:6,children:(0,l.jsx)(z.$,{isLoading:j,onClick:()=>{m(!0),ex().finally(()=>{m(!1)})},size:"sm",children:(0,l.jsx)(x.x6,{id:"yQ2kGp"})})}),C&&b&&(0,l.jsx)(is,{doc:b,onClose:E})]})]})};var sF=s(83743);let sO=e=>{let[i]=(0,_.Ist)(),[s]=(0,_.Fbj)();return(0,n.useCallback)(t=>{let l=t.uploadFontFiles.filter(e=>("existing"===e.status||"created"===e.status)&&e.fontFile.sourceUrl).map(e=>{let{name:i,weight:s,isItalic:t,fileType:l,sourceUrl:n}=e.fontFile,r={name:i,weight:s,isItalic:t,fileType:l,sourceUrl:n};return"existing"===e.status&&e.fontFile.id&&(r.id=e.fontFile.id),r});if("edit"!==t.mode)return i({variables:{input:{name:t.fontName,fontFiles:l,workspaceId:e}},refetchQueries:["GetWorkspaceFonts"]});{let i=[{op:_._SX.Add,path:"/name",value:t.fontName},{op:_._SX.Replace,path:"/fontFiles",value:l}];return s({variables:{input:{id:t.fontId,workspaceId:e,data:i}},refetchQueries:["GetWorkspaceFonts"]})}},[i,e,s])},sR=e=>{let i=(0,sA.d)(),[s,{loading:t}]=(0,_.QDl)();return{archiveFontFn:(0,n.useCallback)(async(t,n)=>s({variables:{id:t,workspaceId:e},refetchQueries:["GetWorkspaceFonts"]}).then(e=>(i({title:(0,l.jsx)(x.x6,{id:"w+hpl4",values:{name:n}}),status:"success",duration:2e3,isClosable:!0,position:"top"}),e)),[s,e,i]),isArchiving:t}},sP=e=>{let{onClose:i,font:s,orgId:t}=e,{archiveFontFn:r,isArchiving:a}=sR(t),o=(0,n.useCallback)(()=>{r(s.id,s.name).then(i).catch(e=>{console.error("[FontDeleteModal] Error deleting font",e)})},[r,s.id,s.name,i]);return(0,l.jsxs)(ea.aF,{onClose:i,isOpen:!0,children:[(0,l.jsx)(eo.m,{}),(0,l.jsxs)(ed.$,{children:[(0,l.jsx)(ec.r,{children:(0,l.jsx)(x.x6,{id:"Tf88pC",values:{0:s.name}})}),(0,l.jsx)(ex.s,{isDisabled:a}),(0,l.jsx)(eh.c,{children:(0,l.jsxs)(g.B,{spacing:4,children:[(0,l.jsx)(L.E,{fontWeight:"bold",children:(0,l.jsx)(x.x6,{id:"GG34Oa"})}),(0,l.jsx)(L.E,{children:(0,l.jsx)(x.x6,{id:"0v/7qb"})}),(0,l.jsx)(L.E,{color:"red.500",children:(0,l.jsx)(x.x6,{id:"2xOCJW"})})]})}),(0,l.jsx)(em.j,{children:(0,l.jsxs)(eY.e,{children:[(0,l.jsx)(z.$,{variant:"ghost",onClick:i,children:(0,l.jsx)(x.x6,{id:"dEgA5A"})}),(0,l.jsx)(z.$,{variant:"hazardous",onClick:o,isLoading:a,children:(0,l.jsx)(x.x6,{id:"04FTaq"})})]})})]})]})},sL=e=>{let{children:i,...s}=e;return(0,l.jsx)(R.s,{border:"1px solid",borderColor:"gray.200",minH:36,maxH:36,minW:"100%",borderRadius:"lg",alignItems:"center",justifyContent:"center",transition:"all",transitionDuration:"normal",_hover:{background:"white",color:"trueblue.600",cursor:"pointer"},...s,children:i})};var sz=s(57405),sN=s(74907);let sB=()=>(0,l.jsxs)(eu.F,{status:"warning",children:[(0,l.jsx)(ej._,{}),(0,l.jsxs)(L.E,{children:[(0,l.jsxs)("strong",{children:[(0,l.jsx)(x.x6,{id:"S89SGJ"})," ",(0,l.jsx)("span",{role:"img","aria-label":"Crying emoji",children:"\uD83D\uDE22"}),"."]})," ",(0,l.jsx)(x.x6,{id:"5FjY+D",components:{0:(0,l.jsx)(sr.C,{colorScheme:"purple"}),1:(0,l.jsx)(sr.C,{colorScheme:"pink"})}})]})]});var sM=s(4192);let sU=e=>{let{fileExtension:i}=e;return(0,l.jsx)(sM.vw,{size:"sm",justifyContent:"center",background:i===_.AKY.Ttf?"deepocean.100":"pink.100",children:i.toUpperCase()})},sW=e=>{let{fontFamily:i,fontWeight:s,isItalic:t,headingText:n}=e;return(0,l.jsx)(P.D,{fontFamily:'"'.concat(i,'"'),noOfLines:1,lineHeight:"base",fontWeight:s,fontStyle:t?"italic":"normal",children:n||i})},sH=e=>{let i=[...e.reduce((e,i)=>{let s=e.findIndex(e=>e.isItalic===i.isItalic&&e.weight===i.weight);if(-1===s)return[...e,i];if(e[s].fileType===i.fileType)return e;let t={...i,fileTypes:[i.fileType,e[s].fileType]};return[...e.slice(0,s),t,...e.slice(s+1)]},[])];return i.sort((e,i)=>e.weight!==i.weight?e.weight-i.weight:e.isItalic!==i.isItalic?!1===e.isItalic?-1:1:0),i},sV=e=>{var i;let{font:s,onClose:t,onEditClick:r,onDeleteClick:a}=e,o=(0,n.useMemo)(()=>sH(s.fontFiles||[]),[s.fontFiles]);return(0,l.jsxs)(ea.aF,{isOpen:!0,onClose:t,size:"3xl",blockScrollOnMount:!1,children:[(0,l.jsx)(eo.m,{}),(0,l.jsxs)(ed.$,{children:[(0,l.jsx)(ec.r,{children:s.name}),(0,l.jsx)(ex.s,{}),(0,l.jsx)(iq.c,{mb:"4"}),(0,l.jsx)(eh.c,{children:(0,l.jsxs)(sz.T,{mb:4,spacing:6,align:"stretch",children:[(null==(i=s.fontFiles)?void 0:i.length)===0&&(0,l.jsx)(sB,{}),o.map(e=>{var i,t;let n=!!(e.fileType===_.AKY.Otf||(null==(i=e.fileTypes)?void 0:i.includes(_.AKY.Otf))),r=!!(e.fileType===_.AKY.Ttf||(null==(t=e.fileTypes)?void 0:t.includes(_.AKY.Ttf)));return(0,l.jsx)(sG,{fontName:s.name,weight:e.weight,isItalic:e.isItalic,hasOTF:n,hasTTF:r},e.id)})]})}),(0,l.jsxs)(em.j,{justifyContent:"space-between",children:[(0,l.jsx)(z.$,{variant:"hazardous",onClick:a,children:(0,l.jsx)(x.x6,{id:"cnGeoo"})}),(0,l.jsxs)(eY.e,{children:[(0,l.jsx)(z.$,{variant:"plain",onClick:r,children:(0,l.jsx)(x.x6,{id:"ePK91l"})}),(0,l.jsx)(z.$,{variant:"solid",onClick:t,children:(0,l.jsx)(x.x6,{id:"DPfwMq"})})]})]})]})]})},sG=e=>{let{fontName:i,weight:s,isItalic:t,hasOTF:n,hasTTF:r}=e,a=(0,l.jsxs)(l.Fragment,{children:[(0,sN.w)()[s]," ",t?(0,l.jsx)(x.x6,{id:"pzutoc"}):""]}),o=(0,l.jsxs)(l.Fragment,{children:[i," ",a]}),d=(0,l.jsxs)(l.Fragment,{children:[s," - ",a]});return(0,l.jsxs)(R.s,{justify:"space-between",gap:"10px",children:[(0,l.jsxs)(g.B,{spacing:2,children:[(0,l.jsx)(L.E,{color:"gray.600",children:d}),(0,l.jsx)(sW,{fontFamily:i,fontWeight:s.toString(),isItalic:t,headingText:o})]}),(0,l.jsxs)(m.z,{align:"center",children:[r&&(0,l.jsx)(sU,{fileExtension:_.AKY.Ttf}),n&&(0,l.jsx)(sU,{fileExtension:_.AKY.Otf})]})]})};var sY=s(69413);let s$=e=>{let{font:i,onClick:s,onEditClick:t,onDeleteClick:n}=e,r=(0,sY.jI)((null==i?void 0:i.fontFiles)||[]),a=(0,sY.Eu)(i.fontFiles||[]),o=(0,sY.g9)(a,700)||700,d=(0,sY.Q3)(null==i?void 0:i.fontFiles);return(0,l.jsxs)(g.B,{children:[(0,l.jsx)(sL,{bg:"white",justifyContent:"flex-start",p:6,onClick:s,children:(0,l.jsxs)(g.B,{maxW:"100%",children:[(0,l.jsx)(sW,{fontWeight:o.toString(),isItalic:d,fontFamily:i.name,headingText:i.name}),(0,l.jsx)(x.x6,{id:"B2DVf/",values:{styleCount:r},components:{0:(0,l.jsx)(L.E,{color:"orange.600"}),1:(0,l.jsx)(f.a,{as:"span",mr:1}),2:(0,l.jsx)(E.g,{icon:eq.QJT})}})]})}),(0,l.jsxs)(R.s,{children:[(0,l.jsx)(L.E,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:i.name}),(0,l.jsx)(Y.h,{}),(0,l.jsxs)(ee.W,{children:[(0,l.jsx)(ei.I,{as:es.K,isRound:!0,size:"sm",variant:"ghost",icon:(0,l.jsx)(E.g,{icon:w.vHW}),"aria-label":$.Ru._({id:"eqqNgX"})}),(0,l.jsxs)(el.c,{children:[(0,l.jsx)(er.D,{icon:(0,l.jsx)(E.g,{icon:w.MT7,fixedWidth:!0}),onClick:t,children:(0,l.jsx)(x.x6,{id:"ePK91l"})}),(0,l.jsx)(en.N,{}),(0,l.jsx)(er.D,{color:"red.500",icon:(0,l.jsx)(E.g,{icon:w.yLS,fixedWidth:!0}),onClick:n,children:(0,l.jsx)(x.x6,{id:"cnGeoo"})})]})]})]})]})};var sK=s(58495),sQ=s(20502);let sX=(e,i)=>{let s=0;return new Promise((t,l)=>{let n=()=>{let r=setTimeout(()=>{++s<i.maxRetries?n():l("timed out")},i.timeout);e().then(t).catch(l).finally(()=>{clearTimeout(r)})};n()})},sJ={existingFont:null,mode:"create",fontId:void 0,hasUploadedFonts:!1,fontName:"",uploadFontFiles:[]};function sZ(e,i){switch(i.type){case"NEW_FONT_UPLOAD":case"RESET_FONT_UPLOAD":return sJ;case"EDIT_EXISTING_FONT":{let{font:e}=i.data;return{existingFont:e,mode:"edit",fontId:e.id,fontName:e.name,hasUploadedFonts:!0,uploadFontFiles:e.fontFiles.map(e=>({fontFile:e,uploadId:e.id,status:"existing",errorMessage:null}))}}case"EDIT_FONT_NAME":{let{fontName:s}=i.data;return{...e,fontName:s}}case"UPLOAD_FONT_FILE_UPLOAD_STARTED":{let{data:s}=i,t={fontFile:{id:s.uploadId,name:s.name,weight:s.weight,isItalic:s.isItalic,fileType:s.fileType},uploadId:s.uploadId,status:"uploading",errorMessage:null},l=e.fontName?e.fontName:s.familyName;return{...e,fontName:l,hasUploadedFonts:!0,uploadFontFiles:[...e.uploadFontFiles,t]}}case"UPLOAD_FONT_FILE_UPLOAD_ERROR":{let{uploadId:s,errorMessage:t}=i.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>s===e.uploadId?{...e,status:"error",errorMessage:t}:e)}}case"UPLOAD_FONT_FILE_UPLOAD_SUCCESS":{let{uploadId:s,sourceUrl:t}=i.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>{if(s===e.uploadId){let i={...e.fontFile,sourceUrl:t};return{...e,status:"created",errorMessage:null,fontFile:i}}return e})}}case"EDIT_UPLOAD_FONT_FILE_WEIGHT":{let{uploadId:s,weight:t}=i.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>e.uploadId===s?{...e,fontFile:{...e.fontFile,weight:t}}:e)}}case"EDIT_UPLOAD_FONT_FILE_STYLE":{let{uploadId:s,isItalic:t}=i.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>e.uploadId===s?{...e,fontFile:{...e.fontFile,isItalic:t}}:e)}}case"DELETE_UPLOAD_FONT_FILE":{let{uploadId:s}=i.data;return{...e,uploadFontFiles:e.uploadFontFiles.filter(e=>e.uploadId!==s)}}default:throw Error("Unhandled action type: ".concat(i))}}var sq=s(61491),s0=s(92843);let s1=e=>{let{fontFiles:i,fontWeight:s,dispatch:t}=e,[r,a]=(0,n.useState)(!1);if(!i)return null;let o=(0,l.jsxs)(l.Fragment,{children:[s," - ",(0,sN.w)()[s]]}),d=(0,sY.H9)(i),c=!!Object.keys(d).length;return(0,l.jsx)(eQ.K,{children:(0,l.jsxs)(eF.X,{colorScheme:"blackAlpha",mb:8,borderRadius:"md",children:[(0,l.jsx)(eX.d,{children:(0,l.jsx)(eg.Tz,{placement:"top",isDisabled:!c,label:(0,l.jsx)(x.x6,{id:"KXcsLu"}),shouldWrapChildren:!0,children:(0,l.jsxs)(eg._x,{mb:"2",cursor:c?"help":void 0,color:c?"yellow.600":void 0,children:[c&&(0,l.jsx)(E.g,{icon:eq.QJT})," ",o]})})}),(0,l.jsx)(eZ.N,{children:i.map(e=>(0,l.jsx)(s6,{uploadFontFile:e,dispatch:t,duplicates:d,isHoveringOnADuplicate:r,setIsHoveringOnADuplicate:a},e.uploadId))})]})})},s6=e=>{let{uploadFontFile:i,duplicates:s,isHoveringOnADuplicate:t,setIsHoveringOnADuplicate:r,dispatch:a}=e,o=(0,sA.d)(),{fontFile:d,errorMessage:c,uploadId:h}=i,u=void 0===d.sourceUrl&&!c,j=s[h],p=(0,sY.G0)(Object.keys((0,sN.w)())),v=t&&j?"yellow.100":j?"yellow.50":"blackAlpha.50",b=(0,n.useCallback)(()=>{a({type:"DELETE_UPLOAD_FONT_FILE",data:{uploadId:h}}),o({title:(0,l.jsx)(x.x6,{id:"NHHKzo",values:{0:d.name}}),status:"info",duration:1e3,isClosable:!0,position:"top"})},[a,d.name,o,h]),y=j?d.isItalic?(0,l.jsx)(x.x6,{id:"yvnLC0",values:{0:d.weight}}):(0,l.jsx)(x.x6,{id:"QiSKej",values:{0:d.weight}}):"";return(0,l.jsxs)(eO.Tr,{minH:12,width:"100%",background:v,children:[(0,l.jsx)(eR.Td,{py:1,fontSize:"sm",textOverflow:"ellipsis",width:80,pl:0,children:(0,l.jsxs)(m.z,{ml:4,spacing:3,children:[(0,l.jsx)(sU,{fileExtension:d.fileType||_.AKY.Ttf}),(0,l.jsx)(eg.Tz,{placement:"right",label:y,children:(0,l.jsxs)(g.B,{width:"100%",pl:1,spacing:0,cursor:j?"help":"auto",onMouseOver:()=>{r(j)},onMouseOut:()=>{r(!1)},children:[(0,l.jsx)(eg.Tz,{label:(0,l.jsx)(x.x6,{id:"e3mFaa"}),placement:"top",isDisabled:!c,children:(0,l.jsxs)(L.E,{color:c?"red.600":void 0,children:[d.name," ",u?(0,l.jsx)(sh.y,{ml:1,size:"xs",color:"gray"}):c&&(0,l.jsx)(f.a,{as:"span",color:"red.600",children:(0,l.jsx)(E.g,{icon:eq.QJT})})]})}),j&&(0,l.jsx)(L.E,{fontSize:"xs",color:"yellow.700",children:(0,l.jsx)(x.x6,{id:"mAsucF"})})]})})]})}),(0,l.jsx)(eR.Td,{py:1,minW:12,children:(0,l.jsx)(eg.Tz,{"aria-label":$.Ru._({id:"+7pOZT"}),label:(0,l.jsx)(x.x6,{id:"+7pOZT"}),placement:"top",children:(0,l.jsx)(f.a,{children:(0,l.jsx)(sq.S,{size:"sm",isChecked:d.isItalic,onChange:e=>{a({type:"EDIT_UPLOAD_FONT_FILE_STYLE",data:{uploadId:h,isItalic:e.target.checked}})},children:(0,l.jsx)(L.E,{fontSize:"sm",children:(0,l.jsx)(x.x6,{id:"pzutoc"})})})})})}),(0,l.jsx)(eR.Td,{minW:"16",py:"1",pr:"2",children:(0,l.jsx)(s0.l,{bg:"revert",value:d.weight,size:"sm",onChange:e=>{a({type:"EDIT_UPLOAD_FONT_FILE_WEIGHT",data:{uploadId:h,weight:parseInt(e.target.value,10)}})},children:(0,l.jsx)("optgroup",{label:$.Ru._({id:"rgzUkd"}),children:p.map(e=>(0,l.jsxs)("option",{value:e,children:[e," - ",(0,sN.w)()[e]]},e))})})}),(0,l.jsx)(eR.Td,{py:"1",px:"0",children:(0,l.jsx)(eg.Tz,{placement:"top",label:(0,l.jsx)(x.x6,{id:"9cmpNe"}),children:(0,l.jsx)(es.K,{"aria-label":$.Ru._({id:"9cmpNe"}),colorScheme:"red",icon:(0,l.jsx)(E.g,{icon:w.yLS}),variant:"ghost",onClick:b})})})]})},s2=e=>{let{fontFiles:i,dispatch:s}=e,t=(0,n.useMemo)(()=>Object.fromEntries(Object.entries((0,sY.L_)(i)).map(e=>{let[i,s]=e,t=[...s];return t.sort((e,i)=>e.fontFile.fileType!==i.fontFile.fileType?e.fontFile.fileType===_.AKY.Ttf?-1:1:e.fontFile.isItalic!==i.fontFile.isItalic?!1===e.fontFile.isItalic?-1:1:0),[i,t]})),[i]);if(!i)return null;let r=(0,sY.G0)(Object.keys((0,sN.w)()));return(0,l.jsxs)(l.Fragment,{children:[0===i.length&&(0,l.jsx)(sB,{}),r.map(e=>{let i=t[e];return i?(0,l.jsx)(s1,{fontFiles:i,dispatch:s,fontWeight:e},e):null})]})},s4=e=>{let{fontName:i,fontFiles:s,dispatch:t,onFontFileUploadClick:r}=e,a=(0,n.useCallback)(e=>{t({type:"EDIT_FONT_NAME",data:{fontName:e.target.value}})},[t]),o=0===i.length;return(0,l.jsx)(eh.c,{children:(0,l.jsxs)(sz.T,{align:"stretch",mb:"4",children:[(0,l.jsxs)(R.s,{justifyContent:"space-between",gap:6,children:[(0,l.jsxs)(ic.MJ,{isInvalid:o,flex:2,children:[(0,l.jsx)(ix.l,{children:(0,l.jsx)(x.x6,{id:"5qk/OL"})}),(0,l.jsx)(ih.p,{type:"text",placeholder:$.Ru._({id:"NFz66a"}),value:i,onChange:a}),o&&(0,l.jsx)(sI.Wt,{alignSelf:"flex-start",children:(0,l.jsx)(x.x6,{id:"YtAPjw"})})]}),(0,l.jsxs)(g.B,{mt:8,flex:1,children:[(0,l.jsx)(z.$,{leftIcon:(0,l.jsx)(E.g,{icon:w.MNJ}),onClick:r,children:(0,l.jsx)(x.x6,{id:"BLNAld"})}),(0,l.jsx)(L.E,{textAlign:"center",fontSize:"xs",color:"gray.600",children:(0,l.jsx)(x.x6,{id:"GYK/1H",values:{GAMMA_PROPER_NOUN:ij.On}})})]})]}),(0,l.jsx)(s2,{fontFiles:s,dispatch:t})]})})};var s5=s(51684);let s9=e=>{let{uploadTip:i,children:s}=e;return(0,l.jsxs)(sz.T,{align:"stretch",children:[(0,l.jsx)(R.s,{width:"100%",alignItems:"center",justifyContent:"center",minH:32,userSelect:"none",background:"gray.50",borderRadius:"md",p:4,mb:1,children:(0,l.jsx)(g.B,{spacing:0,children:s})}),(0,l.jsx)(L.E,{color:"gray.600",fontSize:"sm",children:i})]})},s3=()=>(0,l.jsx)(eu.F,{status:"warning",margin:"0 auto",maxW:412,lineHeight:"var(--chakra-lineHeights-base)",children:(0,l.jsx)(L.E,{fontSize:"xs",color:"yellow.800",children:(0,l.jsx)(x.x6,{id:"K0VJ2a",values:{GAMMA_PROPER_NOUN:ij.On},components:{0:(0,l.jsx)("strong",{}),1:(0,l.jsx)("strong",{})}})})}),s8=e=>{let{onFontFileUploadClick:i}=e;return(0,l.jsx)(eh.c,{children:(0,l.jsxs)(sz.T,{mb:"4",spacing:"8",borderRadius:"md",children:[(0,l.jsxs)(P.D,{textAlign:"center",size:"md",fontWeight:"600",children:[(0,l.jsx)("span",{role:"img","aria-label":"idea",children:"\uD83D\uDCA1"})," ",(0,l.jsx)(x.x6,{id:"O70dt2"})]}),(0,l.jsxs)(sF.r,{columns:{base:1,md:3},spacing:4,width:"100%",children:[(0,l.jsx)(s9,{uploadTip:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(x.x6,{id:"F/H43B",components:{0:(0,l.jsx)("strong",{})}})}),children:(0,l.jsx)(P.D,{size:"lg",children:"Inter"})}),(0,l.jsxs)(s9,{uploadTip:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(x.x6,{id:"b2oYEF",components:{0:(0,l.jsx)("strong",{})}})}),children:[(0,l.jsxs)(L.E,{children:["inter-",(0,l.jsx)("strong",{children:"regular"}),".ttf"," ",(0,l.jsx)(f.a,{color:"green.400",as:"span",children:(0,l.jsx)(E.g,{icon:s5.e68})})]}),(0,l.jsxs)(L.E,{children:["inter-",(0,l.jsx)("strong",{children:"italic"}),".ttf"," ",(0,l.jsx)(f.a,{color:"green.400",as:"span",children:(0,l.jsx)(E.g,{icon:s5.e68})})]}),(0,l.jsxs)(L.E,{children:["inter-",(0,l.jsx)("strong",{children:"bold"}),".ttf"," ",(0,l.jsx)(f.a,{color:"green.400",as:"span",children:(0,l.jsx)(E.g,{icon:s5.e68})})]})]}),(0,l.jsxs)(s9,{uploadTip:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(x.x6,{id:"xjFrIG",components:{0:(0,l.jsx)("strong",{}),1:(0,l.jsx)("strong",{})}})}),children:[(0,l.jsxs)(L.E,{children:[(0,l.jsx)(L.E,{color:"gray.600",as:"span",children:(0,l.jsx)(E.g,{icon:w.bLf})})," ","...-regular",(0,l.jsx)(sr.C,{colorScheme:"purple",children:".ttf"})]}),(0,l.jsxs)(L.E,{children:[(0,l.jsx)(L.E,{color:"gray.600",as:"span",children:(0,l.jsx)(E.g,{icon:w.bLf})})," ","...-regular",(0,l.jsx)(sr.C,{colorScheme:"pink",children:".otf"})]})]})]}),(0,l.jsxs)(sz.T,{spacing:4,children:[(0,l.jsx)(z.$,{leftIcon:(0,l.jsx)(E.g,{icon:w.MNJ}),variant:"solid",onClick:i,children:(0,l.jsx)(x.x6,{id:"NQrqa1"})}),(0,l.jsx)(L.E,{textAlign:"center",fontSize:"xs",color:"gray.600",children:(0,l.jsx)(x.x6,{id:"GYK/1H",values:{GAMMA_PROPER_NOUN:ij.On}})}),(0,l.jsx)(s3,{})]})]})})};var s7=s(6766),te=s(17074);let ti=e=>{let i=e.uploadFontFiles.every(e=>("created"===e.status||"existing"===e.status)&&e.fontFile.sourceUrl);return e.fontName&&i},ts=e=>{let{onClose:i,orgId:s,font:t}=e,[r,a]=n.useReducer(sZ,sJ),o=(0,sA.d)();(0,n.useEffect)(()=>{t?a({type:"EDIT_EXISTING_FONT",data:{font:t}}):a({type:"NEW_FONT_UPLOAD"})},[a,t]);let[d,c]=(0,n.useState)(!1),h=ti(r),u=sO(s),j=(0,sY.M$)(r),p=(0,n.useCallback)(()=>{a({type:"RESET_FONT_UPLOAD"}),i()},[a,i]),m=(0,n.useCallback)(e=>{Promise.all(e.map(async e=>{let i=(0,sK.Ak)();try{let s=await (0,sY.J3)(e);a({type:"UPLOAD_FONT_FILE_UPLOAD_STARTED",data:{uploadId:i,fileType:(0,sY.yA)(e.name),name:e.name,...s}})}catch(s){let i=s instanceof sY.Cr;i||console.error("[FontUploadModal] There was an error parsing ".concat(e.name),e,s),o({title:(0,l.jsx)(x.x6,{id:"zr0u7y",values:{0:e.name}}),description:i?(0,l.jsx)(x.x6,{id:"zQ722b"}):(0,l.jsx)(x.x6,{id:"SuKrYu"}),status:"error",isClosable:!0,position:"top",duration:null});return}try{let t=await sX(()=>(0,s7.H)(s,e),{maxRetries:3,timeout:2e4});a({type:"UPLOAD_FONT_FILE_UPLOAD_SUCCESS",data:{uploadId:i,sourceUrl:t}})}catch(s){a({type:"UPLOAD_FONT_FILE_UPLOAD_ERROR",data:{uploadId:i,errorMessage:s instanceof Error?s.message:"There was an error uploading ".concat(e.name)}})}})).catch(e=>{console.error("[FontUploadModal] error while uploading font files",e)})},[a,s,o]),{onClick:g,inputElement:f}=(0,te.c)({handleFilesCallback:m,multiple:!0,accept:sQ.J4.join(",")}),v=(0,n.useCallback)(()=>{c(!0),u(r).then(()=>{"create"===r.mode?o({title:(0,l.jsx)(x.x6,{id:"MXSt4t",values:{0:r.fontName}}),status:"success",duration:1e3,isClosable:!0,position:"top"}):"edit"===r.mode&&o({title:(0,l.jsx)(x.x6,{id:"P2ieni",values:{0:r.fontName}}),status:"success",duration:2e3,isClosable:!0,position:"top"})}).catch(e=>{o({title:"edit"===r.mode?(0,l.jsx)(x.x6,{id:"K45zvU"}):(0,l.jsx)(x.x6,{id:"FL7N1y",values:{0:r.fontName}}),status:"error",duration:5e3,isClosable:!0,position:"top"}),console.error("[FontUploadModal] error ".concat("edit"===r.mode?"editing":"creating"," font"),e)}).finally(()=>{c(!1),i()})},[i,u,r,o]),b=(0,sY.jI)(r.uploadFontFiles.map(e=>e.fontFile));return(0,l.jsxs)(ea.aF,{isOpen:!0,closeOnOverlayClick:!1,onClose:p,size:"3xl",children:[(0,l.jsx)(eo.m,{}),(0,l.jsxs)(ed.$,{children:[(0,l.jsx)(ec.r,{children:r.hasUploadedFonts?r.fontName?r.fontName:(0,l.jsx)(x.x6,{id:"yT14LZ"}):(0,l.jsx)(x.x6,{id:"O7HGjV"})}),(0,l.jsx)(ex.s,{isDisabled:d}),(0,l.jsx)(iq.c,{mb:"4"}),f,r.hasUploadedFonts?(0,l.jsx)(s4,{fontFiles:r.uploadFontFiles,fontName:r.fontName,dispatch:a,onFontFileUploadClick:g}):(0,l.jsx)(s8,{onFontFileUploadClick:g}),(0,l.jsx)(iq.c,{mb:1}),(0,l.jsx)(em.j,{children:r.hasUploadedFonts?(0,l.jsxs)(R.s,{flex:1,mb:"2",alignItems:"center",justifyContent:"space-between",children:[(0,l.jsx)(L.E,{children:(0,l.jsx)(x.x6,{id:"yDnXlV",values:{numOfStyles:b}})}),(0,l.jsxs)(eY.e,{children:[(0,l.jsx)(z.$,{variant:"ghost",onClick:i,children:(0,l.jsx)(x.x6,{id:"dEgA5A"})}),(0,l.jsx)(z.$,{isDisabled:!h||!j,variant:"solid",onClick:v,isLoading:d,children:"edit"===r.mode?(0,l.jsx)(x.x6,{id:"tfDRzk"}):(0,l.jsx)(x.x6,{id:"N/mjN3"})})]})]}):(0,l.jsx)(z.$,{variant:"ghost",onClick:i,children:(0,l.jsx)(x.x6,{id:"dEgA5A"})})})]})]})};var tt=s(89528),tl=s(84287),tn=s(90221);let tr=e=>{let{label:i,icon:s,onClick:t}=e,n=(0,B.ez)("custom_fonts");return(0,l.jsx)(sL,{bg:"gray.50",onClick:t,children:(0,l.jsxs)(g.B,{align:"center",children:[(0,l.jsx)(L.E,{fontSize:"x-large",children:s}),(0,l.jsx)(L.E,{children:i}),(0,l.jsx)(tt.Ch,{productFeature:"custom_fonts",canUseFeature:n})]})})};var ta=s(77364),to=s(51567),td=s(2002),tc=s(53756),tx=s(20939),th=s(68068),tu=s(60628),tj=s(8064);let tp=(0,n.memo)(e=>{let{selectedImageAttrs:i,setSelectedImageAttrs:s,finalFocusRef:t,isOpen:n,onClose:r}=e;return(0,l.jsxs)(th._s,{isOpen:n,placement:"right",onClose:r,finalFocusRef:t,size:"lg",children:[(0,l.jsx)(eo.m,{}),(0,l.jsxs)(tu.z,{children:[(0,l.jsx)(ex.s,{}),(0,l.jsx)(ec.r,{children:(0,l.jsx)(L.E,{fontSize:"3xl",fontWeight:"bold",children:(0,l.jsx)(x.x6,{id:"O+LXs1"})})}),(0,l.jsx)(eh.c,{children:(0,l.jsx)(tj.o,{currentAttributes:i,updateAttributes:s,savedMediaContext:_.rWX.Dashboard,editType:"node",canShowEmptyState:!0,resetToPlaceholder:()=>{}})})]})]})});tp.displayName="AIImagesEditPanel";var tm=s(38420),tg=s(1139),tf=s(60908);let tv=e=>{var i;let{image:s,onClick:t,imageRef:n,isSelected:r,onMouseOver:a,onMouseDown:o}=e;return(0,l.jsxs)(y.E,{ref:n,_hover:{cursor:"pointer"},position:"relative",children:[(0,l.jsx)(G._,{onMouseOver:a,onMouseDown:o,src:(0,tf.bI)(null==s||null==(i=s.attrs)?void 0:i.src,{width:500}),draggable:!1,w:"100%",h:"100%",objectFit:"cover",onClick:t,borderRadius:"md",filter:r?"brightness(0.6)":void 0,transition:"filter 0.2s"}),(0,l.jsx)(tg.z,{in:r,children:(0,l.jsx)(f.a,{pointerEvents:"none",color:"white",pos:"absolute",inset:0,borderRadius:"md",children:(0,l.jsx)(e7.o,{h:"100%",w:"100%",children:(0,l.jsx)(E.g,{icon:w.e68,size:"2xl"})})})})]})},tb=e=>{let{images:i,onImageClick:s,onImageMouseOver:t,onImageMouseDown:r,imageRef:a,loading:o,canFetchMore:d,fetchMore:c,isFetchingMore:h,selectedImages:u}=e,j=(0,n.useMemo)(()=>!i||o?{}:i.reduce((e,i)=>{let s=new Date(i.createdTime).toISOString().slice(0,7);return e[s]||(e[s]=[]),e[s].push(i),e},{}),[i,o]);return(0,l.jsxs)(R.s,{direction:"column",align:"stretch",children:[Object.entries(j).map(e=>{let[i,n]=e;return(0,l.jsxs)(R.s,{direction:"column",mb:4,children:[(0,l.jsx)(L.E,{fontSize:"lg",fontWeight:"semibold",me:4,children:(0,ef.Yq)(i,"MMM yyyy")}),(0,l.jsx)(tm.i,{columnsCountBreakPoints:{350:1,750:2,900:3,1200:4,1400:5},children:(0,l.jsx)(tm.A,{gutter:"0.5rem",children:n.map(e=>(0,l.jsx)(tv,{image:e,onClick:()=>s(e.attrs),onMouseOver:i=>t(i,e.id),onMouseDown:i=>r(i,e.id),imageRef:a,isSelected:u.has(e.id)},e.id))})})]},i)}),d&&(0,l.jsx)(z.$,{variant:"plain",onClick:c,mt:4,isLoading:h,children:(0,l.jsx)(x.x6,{id:"yQ2kGp"})})]})},ty=e=>{let{isDisabled:i,onClick:s}=e;return(0,l.jsx)(z.$,{isDisabled:i,variant:"special",onClick:s,leftIcon:(0,l.jsx)(E.g,{icon:w.QLR}),rightIcon:(0,l.jsx)(N.E,{textShadow:"none",children:(0,l.jsx)(x.x6,{id:"QaFhiw"})}),children:(0,l.jsx)(x.x6,{id:"u4O+RH"})})},tC=e=>{let{description:i,ariaLabel:s,displayName:t,icon:n,isDeletingMany:r,showCreateButton:a,onOpen:o,isSelectionMode:d,onEnterSelectionMode:c,onExitSelectionMode:h}=e,u=(0,it.u)("aiImageBulkDelete");return(0,l.jsxs)(R.s,{flex:"1",mb:4*!(0,U.Xb)(),direction:"column",children:[(0,l.jsxs)(f.a,{w:["100%","auto"],children:[(0,l.jsxs)(m.z,{h:"1.5em",children:[(0,l.jsxs)(P.D,{size:"sm","data-testid":"ai-images-view-header",children:[n&&(0,l.jsx)(E.g,{icon:n,"aria-label":s()})," ",(0,l.jsx)(L.E,{as:"span",ms:2,children:t})]}),(0,l.jsx)(Y.h,{})]}),i&&(0,l.jsx)(L.E,{color:"gray.600",fontSize:"sm",children:i})]}),a&&(0,l.jsxs)(g.B,{direction:{base:"column",lg:"row"},spacing:2,mt:4,children:[(0,l.jsx)(ty,{isDisabled:!1,onClick:o}),u&&(0,l.jsx)(z.$,{isLoading:r,leftIcon:d?void 0:(0,l.jsx)(E.g,{icon:w.QLR}),onClick:d?h:c,children:d?(0,l.jsx)(x.x6,{id:"dEgA5A"}):(0,l.jsx)(x.x6,{id:"rG3WVm"})})]})]})},tw=e=>1===e.buttons,tE=n.memo(()=>(0,l.jsxs)(f.a,{alignSelf:"flex-start",children:[(0,l.jsx)(sz.T,{align:"stretch",spacing:4,width:"100%",children:(0,l.jsx)(C.E,{height:"24px",width:"130px",borderRadius:"sm",startColor:"gray.50",endColor:"gray.300",opacity:"25%"})}),(0,l.jsx)(Y.h,{height:2}),(0,l.jsx)(sF.r,{columns:{base:2,md:3},spacing:"0.5rem",children:[void 0,void 0,void 0].map((e,i)=>(0,l.jsx)(C.E,{height:{base:"125px",lg:"200px"},width:{base:"125px",lg:"200px"},borderRadius:"sm",startColor:"gray.50",endColor:"gray.300",opacity:"25%"},i))})]}));tE.displayName="AIImageHistorySkeleton";let tk=e=>{let{onCancel:i,numImages:s,onDelete:t,onUnselectAll:n,isDeletingMany:r}=e;return(0,l.jsx)(R.s,{position:"sticky",bottom:4,zIndex:1e3,justifyContent:"center",children:(0,l.jsxs)(R.s,{alignItems:"center",width:450,borderColor:"deepocean.100",borderStyle:"solid",borderWidth:"1px",borderRadius:56,justifyContent:"space-between",p:3,backgroundColor:"white",shadow:"md",margin:5,children:[(0,l.jsx)(L.E,{color:"deepocean.950",fontSize:"sm",fontWeight:"semibold",children:(0,l.jsx)(x.x6,{id:"PNGwbe",values:{numImages:s}})}),(0,l.jsxs)(g.B,{direction:["column","row"],alignItems:"center",children:[(0,l.jsx)(z.$,{size:"sm",onClick:n,isDisabled:0===s||r,children:(0,l.jsx)(x.x6,{id:"HlKgQk"})}),(0,l.jsx)(z.$,{size:"sm",variant:"hazardous",onClick:t,leftIcon:(0,l.jsx)(E.g,{icon:w.yLS}),isDisabled:0===s,isLoading:r,children:(0,l.jsx)(x.x6,{id:"cnGeoo"})}),(0,l.jsx)(ta.J,{onClick:i,size:"sm",isDisabled:r})]})]})})};var tS=s(34906),tT=s(40926),tA=s(3844);let tI=e=>{let{deck:i}=e,s=(0,tT.OM)(i),t=(0,eE.LN)({docId:s,path:"example"});return(0,l.jsx)(ez.Dg,{title:i.title||"",menuEnabled:!0,href:t,id:s,createdTime:new Date().toISOString(),thumbnailImageUrl:{src:null==i?void 0:i.previewImageUrl,fallbackSrc:J.A.src},NextLink:Q(),onFavorite:void 0,isTrashAndRestoreEnabled:!1,createdByName:(null==i?void 0:i.authorDisplayName)||"Gamma",createdByProfileImageUrl:(null==i?void 0:i.authorImageUrl)||tA.A.src,isDuplicateEnabled:!1},s)},t_=e=>{let{category:i}=e;if(!i)return(0,l.jsx)(l.Fragment,{});let s=i.decks;return(0,l.jsxs)(f.a,{mb:8,children:[(0,l.jsx)(tS.B,{category:i}),(0,l.jsx)(ez.SW,{children:null==s?void 0:s.map(e=>(0,l.jsx)(tI,{deck:e},e.docId))})]},i.id)};var tD=s(30742),tF=s(30645);let tO="260px";var tR=s(20925),tP=s(30034);let tL="template-preview-modal-body",tz=e=>{let{doc:i,theme:s,snapshotContent:t,setEditor:n}=e;return(0,l.jsxs)(R.s,{w:"100%",flex:1,direction:"column",className:"".concat(tL),align:"center",overflowY:"auto",overflowX:"auto",justifyContent:"flex-start",h:"100%",borderWidth:"1px",borderStyle:"solid",borderColor:"gray.200",css:{"--editor-width":"calc(100vw - ".concat(tO," - var(--chakra-sizes-32) - 2px)")},children:[(0,l.jsx)(tP.s,{}),(0,l.jsx)(tR.bw,{animationsEnabled:!1,isStatic:!1,theme:s||void 0,initialContent:t,doc:i,docId:i.id,readOnly:!0,scrollingParentSelector:".".concat(tL),onCreate:e=>{let{editor:i}=e;return n(i)}},i.id)]})};var tN=s(27250);let tB=e=>{let{isChecked:i,setTheme:s,theme:t}=e;return(0,l.jsxs)(f.a,{as:H.Q,p:2,transition:"all 0.2s ease-in-out",bgColor:i?"deepocean.100":"white",textAlign:"start",tabIndex:0,borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_focus:{boxShadow:i?void 0:"outline"},outline:"none",onClick:()=>s(t),_hover:{bgColor:i?"deepocean.100":"deepocean.50"},"data-theme-id":t.id,"data-testid":i?"current-theme-preview":void 0,cursor:"pointer",children:[(0,l.jsx)(tN.q,{theme:t}),(0,l.jsxs)(g.B,{direction:"row",spacing:1,pt:1,children:[i&&(0,l.jsx)(eG.S,{w:3,h:"auto",me:1,color:"deepocean.700"}),(0,l.jsx)(L.E,{fontSize:"sm",noOfLines:1,"data-testid":"theme-name",color:i?"deepocean.700":void 0,children:t.name})]})]})},tM=e=>{let{heading:i,themes:s,currentTheme:t,setTheme:n}=e;return(0,l.jsxs)(g.B,{spacing:2,children:[(0,l.jsx)(eg._x,{children:i}),(0,l.jsx)(g.B,{spacing:4,p:1,pe:4,children:null==s?void 0:s.map((e,i)=>{let s=e.id===(null==t?void 0:t.id);return(0,l.jsx)(tB,{theme:e,setTheme:n,isChecked:s},i)})})]})},tU=e=>{let{templateTheme:i,setTheme:s,currentTheme:t,themes:n,onCloneClick:r,isCloneButtonDisabled:a}=e;return(0,l.jsxs)(R.s,{w:tO,ms:4,direction:"column",children:[(0,l.jsx)(f.a,{w:"100%",pb:8,children:(0,l.jsx)(z.$,{w:"100%",variant:"solid",size:"lg",onClick:r,isDisabled:a,children:(0,l.jsx)(x.x6,{id:"p6eI8J"})})}),(0,l.jsxs)(g.B,{spacing:6,overflowY:"auto",h:"100%",pb:8,children:[(0,l.jsx)(tM,{heading:(0,l.jsx)(x.x6,{id:"mdLv9o"}),themes:i?[i]:[],currentTheme:t,setTheme:s}),(0,l.jsx)(tM,{heading:(0,l.jsx)(x.x6,{id:"mvmJyu"}),themes:n||[],currentTheme:t,setTheme:s}),(0,l.jsx)(g.B,{spacing:4,p:1,pe:4,children:(0,l.jsx)(R.s,{alignItems:"center",justifyContent:"center",border:"1px solid",borderColor:"gray.200",borderRadius:"lg",background:"gray.50",minH:36,_hover:{background:"white",color:"trueblue.600",cursor:"pointer"},onClick:()=>r({openThemeEditor:!0}),children:(0,l.jsxs)(g.B,{textAlign:"center",children:[(0,l.jsx)(L.E,{fontSize:"xl",children:(0,l.jsx)(E.g,{icon:w.q_k})}),(0,l.jsx)(L.E,{children:(0,l.jsx)(x.x6,{id:"YHI6sk"})})]})})}),(0,l.jsx)(f.a,{px:2,py:4,children:(0,l.jsxs)(L.E,{textAlign:"center",fontSize:"sm",color:"gray.600",children:[(0,l.jsx)(x.x6,{id:"k0ByBj",values:{GAMMA_ARTIFACT_PROPER_NOUN:ij.TP}})," ",(0,l.jsx)("span",{role:"img","aria-label":"thumbs-up",children:"\uD83D\uDC4D"})]})})]})]})},tW=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ec.r,{children:(0,l.jsx)(C.E,{w:"80%",h:"48px"})}),(0,l.jsx)(ex.s,{}),(0,l.jsxs)(eh.c,{display:"flex",overflow:"hidden",children:[(0,l.jsx)(R.s,{flex:1,children:(0,l.jsx)(e7.o,{w:"100%",bg:"gray.50",children:(0,l.jsx)(sh.y,{})})}),(0,l.jsxs)(R.s,{w:tO,ms:4,direction:"column",children:[(0,l.jsx)(C.E,{w:"100%",h:"48px",mb:4}),(0,l.jsx)(C.E,{w:"50%",h:8,mb:4}),(0,l.jsx)(C.E,{w:"100%",h:36,mb:4}),(0,l.jsx)(C.E,{w:"100%",h:36,mb:4}),(0,l.jsx)(C.E,{w:"100%",h:36,mb:4})]})]}),(0,l.jsx)(em.j,{children:(0,l.jsx)(C.E,{w:48,h:"42px"})})]}),tH=e=>{let{onClose:i,heading:s,errorMessage:t,onBackClick:n}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(ec.r,{children:[!!n&&(0,l.jsx)(es.K,{"aria-label":"Back",icon:(0,l.jsx)(tD.g,{}),variant:"ghost",onClick:n,me:2}),s]}),(0,l.jsx)(ex.s,{}),(0,l.jsx)(eh.c,{display:"flex",overflow:"hidden",className:"template-preview-modal-body",children:(0,l.jsx)(R.s,{direction:"column",justify:"center",align:"center",w:"100%",children:(0,l.jsx)(tF.K,{title:(0,l.jsx)(x.x6,{id:"zwZQVm"}),message:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.x6,{id:"u4Djqb"}),(0,l.jsx)("br",{}),!!t&&t]})})})}),(0,l.jsx)(em.j,{children:(0,l.jsx)(z.$,{variant:"solid",onClick:i,children:(0,l.jsx)(x.x6,{id:"yz7wBu"})})})]})},tV=e=>{var i;let{previewDeck:s,onBackClick:t,forceChannelId:r,onClose:a}=e,[o,d]=(0,n.useState)(!1),c=(0,im.Z)(),x=(0,tT.OM)(s);(0,se.JQ)(e=>{e.track(se.VV.DOC_VIEWED,{doc_id:x}),e.track(se.VV.EXAMPLE_VIEWED,{doc_id:x})});let{data:h,loading:u,error:j}=(0,_.exD)({variables:{id:x},skip:!x,fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),{data:p}=(0,_.Snx)({variables:{workspaceId:null,archived:!1},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),m=(null==p?void 0:p.themes)||[],g=(0,se.st)(),f=null==h?void 0:h.doc,v=null==f?void 0:f.theme,[b,y]=(0,n.useState)(v),C=(0,n.useRef)(!1),[w,E]=(0,n.useState)(),k=!s||u,S=j||j,T=null==f||null==(i=f.currentSnapshot)?void 0:i.content.default,A=[...m.filter(e=>e.id!==(null==v?void 0:v.id))];(0,n.useEffect)(()=>{v&&!C.current&&(y(v),C.current=!0)},[v]),(0,n.useEffect)(()=>{if(w){let e=null==b?void 0:b.config.accentBackgrounds;if(!e||0===e.length){T&&w.commands.setContent(T);return}w.commands.updateThemeAccentImages(e)}},[T,w,b]);let I=(0,n.useCallback)(e=>{y(e),null==g||g.track(se.VV.IN_APP_TEMPLATE_THEME_CLICKED,{theme_id:e.id})},[g]),D=(0,n.useCallback)(e=>{let{openThemeEditor:i}=e;f&&T&&(d(!0),i&&(null==g||g.track(se.VV.IN_APP_TEMPLATE_CREATE_THEME_CLICKED,{source_doc_id:f.id})),c({docId:f.id,initialContent:T,channelId:r,newWindow:!(0,U.sX)(),onSuccess:a,openThemeEditor:i,source:i?"template_modal_preview":"template_modal_preview_create_theme"}))},[f,T,c,r,g,a]);return k?(0,l.jsx)(tW,{}):!S&&s&&f&&T?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(ec.r,{children:[!!t&&(0,l.jsx)(es.K,{"aria-label":"Back",icon:(0,l.jsx)(tD.g,{}),variant:"ghost",onClick:t,me:2}),s.title]}),(0,l.jsx)(ex.s,{}),(0,l.jsxs)(eh.c,{display:"flex",overflow:"hidden",children:[(0,l.jsx)(tz,{doc:f,snapshotContent:T,theme:b,setEditor:E}),(0,l.jsx)(tU,{setTheme:I,currentTheme:b,templateTheme:v,themes:A,onCloneClick:D,isCloneButtonDisabled:o})]})]}):(S&&console.error("[TemplatePreview] Error loading template: ".concat(null==S?void 0:S.message)),(0,l.jsx)(tH,{onClose:a,onBackClick:t,heading:(null==s?void 0:s.title)?s.title:"Error loading template",errorMessage:null==S?void 0:S.message}))},tG=e=>{let{isOpen:i,onClose:s,forceDocId:t=null,forceChannelId:r=null,forceCategoryId:a=null}=e,d=(0,iy.GV)(o.Pg),[c,x]=(0,n.useState)(t),h=(0,tT.eo)(d),u=null==h?void 0:h.find(e=>(0,tT.OM)(e)===c);return(0,l.jsxs)(ea.aF,{isOpen:i,onClose:s,size:"full",returnFocusOnClose:!1,children:[(0,l.jsx)(eo.m,{}),(0,l.jsx)(ed.$,{borderRadius:"xl",m:6,minH:"calc(100vh - var(--chakra-sizes-12))",h:"calc(100vh - var(--chakra-sizes-12))",w:"calc(100vw - var(--chakra-sizes-12))",children:(0,l.jsx)(tV,{onBackClick:t?void 0:()=>x(null),previewDeck:u,forceChannelId:r,onClose:s})})]})},tY={transitionProperty:"common",transitionDuration:"normal",transform:"scale(.9)",opacity:0,_groupFocus:{opacity:1,transform:"scale(1)"},_groupHover:{opacity:1,transform:"scale(1)"},_focus:{opacity:1,shadow:"outline"}},t$=e=>{let{deck:i,onPreviewClick:s,forceChannelId:t=null,onCloseEnclosingModal:r}=e,{isOpen:a,onOpen:o,onClose:d}=(0,p.j)({id:"template-browser-modal"}),c=(0,tT.OM)(i),h=(0,im.Z)(),[u,j]=(0,n.useState)(!1),{title:m,previewImageUrl:v}=i,b=s?()=>s(c):o,C=(0,n.useCallback)(()=>{if(!c)return void console.error("[TemplateGridItem] docIdToUse is required to clone");r||j(!0),h({docId:c,channelId:t,source:r?"template_modal_griditem":"template_dashboard_griditem",newWindow:!(0,U.sX)(),onSuccess:()=>{r?r():setTimeout(()=>{j(!1)},3e3)}})},[c,h,t,r]);return c?(0,l.jsxs)(y.E,{role:"group",position:"relative",children:[(0,l.jsxs)(g.B,{children:[(0,l.jsxs)(f.a,{tabIndex:0,role:"group",borderRadius:"5px",shadow:"md",_focus:{shadow:"outline"},_focusWithin:{shadow:"outline"},_hover:{shadow:"lg"},position:"relative",overflow:"hidden",transition:"box-shadow .2s ease",color:"white",onClick:e=>{var i,s;(null==(i=e.target)?void 0:i.closest('[data-target-name="use-template-button"]'))||(null==(s=e.target)?void 0:s.closest('[data-target-name="preview-button"]'))||b()},cursor:"pointer",children:[(0,l.jsx)(V.g,{ratio:40/21,bgColor:"gray.50",children:(0,l.jsx)(G._,{src:v,fallbackSrc:J.A.src,fit:"cover"})}),(0,l.jsx)(R.s,{alignItems:"center",justifyContent:"center",position:"absolute",inset:0,zIndex:2,children:(0,l.jsxs)(g.B,{direction:"column",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,l.jsx)(z.$,{...tY,size:"sm","data-target-name":"use-template-button",variant:"solid",onClick:C,isDisabled:u,children:(0,l.jsx)(x.x6,{id:"QNtP5M"})}),(0,l.jsx)(z.$,{"data-target-name":"preview-button",...tY,onClick:b,w:"fit-content",size:"xs",variant:"plain",textDecoration:"none !important",children:(0,l.jsx)(x.x6,{id:"rdUucN"})})]})}),(0,l.jsx)(f.a,{position:"absolute",inset:0,bg:"blackAlpha.300",zIndex:1,transitionProperty:"common",transitionDuration:"normal",opacity:0,_groupFocus:{opacity:1},_groupHover:{opacity:1}})]}),(0,l.jsx)(L.E,{fontSize:"md",children:m})]}),(0,l.jsx)(tG,{forceDocId:c,isOpen:a,onClose:d})]}):(console.error(["[TemplateGridItem] docIdToUse is not defined",i]),(0,l.jsx)(l.Fragment,{}))},tK=e=>{let{category:i}=e;if(!i)return(0,l.jsx)(l.Fragment,{});let s=i.decks;return(0,l.jsxs)(f.a,{mb:8,children:[(0,l.jsx)(tS.B,{category:i}),(0,l.jsx)(ez.SW,{children:null==s?void 0:s.map(e=>(0,l.jsx)(t$,{deck:e},e.docId))})]},i.id)};var tQ=s(79536),tX=s(95695),tJ=s(91792),tZ=s(67310),tq=s(49023),t0=s(1057);let t1=e=>{let{themes:i,type:s,globalFontsMap:t}=e,r=(0,n.useMemo)(()=>[...i].sort(t0._1),[i]),a=(0,n.useMemo)(()=>e=>{if("archived"!==s)return()=>{"custom"===s?(0,i2.vd)({theme:e}):"standard"===s&&(0,i2.L6)({theme:e})}},[s]);return(0,l.jsx)(g.B,{children:(0,l.jsx)(sF.r,{columns:[1,2,2,3,5],spacing:6,children:r.map(e=>{let i=e.bodyFont&&!t[e.bodyFont]||e.headingFont&&!t[e.headingFont];return(0,l.jsx)(tQ.e,{type:s,theme:e,isChecked:!1,hasCustomFonts:!!i,onThemeClicked:a(e),placeholderPadding:0},e.id)})})})};var t6=s(75178);let t2=e=>{let{category:i}=e;if(!i)return(0,l.jsx)(l.Fragment,{});let s=i.decks;return(0,l.jsxs)(f.a,{mb:8,children:[(0,l.jsx)(tS.B,{category:i}),(0,l.jsx)(ez.SW,{children:null==s?void 0:s.map(e=>(0,l.jsx)(t$,{deck:e},e.docId))})]},i.id)},t4=()=>{let e=(0,iy.GV)(o.Pg);return(0,l.jsx)(l.Fragment,{children:e&&(null==e?void 0:e.length)>0&&(null==e?void 0:e.map(e=>(0,l.jsx)(t2,{category:e},e.id)))})},t5=[{icon:(0,l.jsx)(E.g,{icon:w.aEb,fixedWidth:!0}),title:(0,l.jsx)(x.x6,{id:"Z9qr0V"}),description:(0,l.jsx)(x.x6,{id:"v97pUA",values:{GAMMA_ARTIFACT_PROPER_NOUN:ij.TP},components:{0:(0,l.jsx)(ep.u,{}),1:(0,l.jsx)(E.g,{icon:w.Dwc})}})},{icon:(0,l.jsx)(E.g,{icon:w.Bwz,fixedWidth:!0}),title:(0,l.jsx)(x.x6,{id:"hMn6kD"}),isPlanned:!0,description:(0,l.jsx)(x.x6,{id:"hItpb6"})},{icon:(0,l.jsx)(E.g,{icon:w.jTw,fixedWidth:!0}),title:(0,l.jsx)(x.x6,{id:"6LJuyY"}),isPlanned:!0,description:(0,l.jsx)(x.x6,{id:"x4bRBV"})}],t9=[],t3=e=>{let{onAddGammaClick:i}=e;return 0===t9.length?(0,l.jsxs)(g.B,{align:"center",spacing:6,children:[(0,l.jsx)(I.p,{title:(0,l.jsx)(x.x6,{id:"CKuhci"}),description:(0,l.jsx)(x.x6,{id:"lr4yZK",values:{GAMMA_ARTIFACT_PROPER_NOUN:ij.TP}}),children:(0,l.jsx)(z.$,{variant:"solid",onClick:i,leftIcon:(0,l.jsx)(E.g,{icon:w.QLR}),children:(0,l.jsx)(x.x6,{id:"E/qjf9",values:{GAMMA_ARTIFACT_PROPER_NOUN:ij.TP}})})}),(0,l.jsxs)(g.B,{spacing:4,children:[(0,l.jsx)(P.D,{size:"sm",children:(0,l.jsx)(x.x6,{id:"ZMGyHS"})}),(0,l.jsx)(sF.r,{columns:{base:1,lg:3},gap:4,children:t5.map((e,i)=>{let{icon:s,title:t,description:n,isPlanned:r}=e;return(0,l.jsxs)(y.E,{bg:"white",flexDirection:"column",alignItems:"flex-start",py:3,px:4,as:g.B,children:[(0,l.jsx)(f.a,{fontSize:"xl",children:s}),(0,l.jsxs)(P.D,{alignSelf:"flex-start",size:"sm",color:"gray.800",children:[t,r&&(0,l.jsx)(N.E,{display:"inline",colorScheme:"yellow",ms:1,fontSize:"xs",children:(0,l.jsx)(x.x6,{id:"iAXogw"})})]}),(0,l.jsx)(L.E,{fontSize:"sm",children:n})]},i)})})]})]}):(0,l.jsx)("div",{children:"WorkspaceTemplatesList"})},t8=e=>{let{isSidebarVisible:i,setIsSidebarVisible:s}=e,{displayName:t,ariaLabel:r,icon:a}=M.mQ[M.n8.TEMPLATES],[o,d]=(0,n.useState)("custom"),c=(0,n.useCallback)(()=>{console.log('You clicked "add a gamma"')},[]);return(0,l.jsxs)(g.B,{w:"100%","data-testid":"templates-view-v2-container",children:[(0,l.jsxs)(eI.e,{isSidebarVisible:i,setIsSidebarVisible:s,children:[(0,l.jsxs)(P.D,{size:"sm","data-testid":"templates-view-v2-header",children:[a&&(0,l.jsx)(E.g,{icon:a,"aria-label":r()})," ",(0,l.jsx)(L.E,{as:"span",ms:2,children:t})]}),(0,l.jsx)(L.E,{fontSize:"md",mt:"2",color:"gray.600",children:(0,l.jsx)(x.x6,{id:"/Mh+5U"})}),(0,l.jsx)(g.B,{direction:{base:"column",lg:"row"},spacing:2,my:4,children:(0,l.jsx)(z.$,{onClick:c,variant:"solid",children:(0,l.jsx)(x.x6,{id:"E/qjf9",values:{GAMMA_ARTIFACT_PROPER_NOUN:ij.TP}})})}),(0,l.jsx)(eg.NP,{activeTabKey:o,tabs:[{key:"custom",label:(0,l.jsx)(x.x6,{id:"8Tg/JR"}),icon:(0,l.jsx)(E.g,{icon:w.qIE,fixedWidth:!0})},{key:"standard",label:(0,l.jsx)(x.x6,{id:"TJBHlP"}),icon:(0,l.jsx)(f.a,{boxSize:4,children:(0,l.jsx)(t6.T,{})})},{key:"archived",label:(0,l.jsx)(x.x6,{id:"TdfEV7"}),icon:(0,l.jsx)(E.g,{icon:w.LX6,fixedWidth:!0})}],onTabClick:e=>d(e.key)})]}),"custom"===o&&(0,l.jsx)(t3,{onAddGammaClick:c}),"standard"===o&&(0,l.jsx)(t4,{}),"archived"===o&&(0,l.jsx)(l.Fragment,{children:"To do"})]})},t7=eA(e=>{let{isSidebarVisible:i,setIsSidebarVisible:s}=e,{displayName:t,description:r,ariaLabel:a,icon:o,showCreateButton:d}=M.mQ[M.uL.IMAGES],{query:c}=(0,T.useRouter)();(0,to.o)("new");let[h,u]=(0,n.useState)(null),j=(0,n.useRef)(new Set),m=(0,sA.d)(),[g,b]=(0,n.useState)(new Set),y=(0,n.useCallback)(e=>{b(i=>{let s=new Set(i);return s.add(e),s})},[]),C=(0,n.useCallback)(e=>{b(i=>{let s=new Set(i);return s.delete(e),s})},[]),[,w]=(0,tx.Je)(),{isOpen:E,onOpen:k,onClose:S}=(0,p.j)(),A=(0,n.useCallback)(()=>{for(let e of j.current)m.close(e);j.current.clear(),w("gray.200"),k()},[k,w,m]),[D,F]=(0,n.useState)(),O=(0,n.useCallback)(()=>{w(void 0),b(new Set),F(void 0),S()},[S,w]),{isOpen:P,onOpen:z,onClose:N}=(0,p.j)(),B=(0,n.useRef)(null),{history:U,isLoading:W,loadMore:H,isLoadingMore:V,canLoadMore:G,deleteMany:Y,isDeletingMany:K}=(0,tc.X)({scope:"user",count:50,savedMediaContext:_.rWX.Dashboard}),Q=(0,n.useCallback)(e=>{E||(u(e),z())},[E,z]),X=(0,n.useCallback)((e,i)=>{E&&null!=D&&tw(e)&&("select"==D?y(i):C(i))},[E,D,y,C]),J=(0,n.useCallback)((e,i)=>{E&&(g.has(i)?(F("deselect"),C(i)):(F("select"),y(i)))},[E,y,g,C]);return(0,n.useEffect)(()=>{"true"===c.new&&z()},[c.new,z,c]),(0,l.jsxs)(R.s,{w:"100%",h:"100%",direction:"column",position:"relative",children:[(0,l.jsx)(eI.e,{isSidebarVisible:i,setIsSidebarVisible:s,children:(0,l.jsx)(tC,{isDeletingMany:K,displayName:t,ariaLabel:a,description:r,icon:o,showCreateButton:d&&(null==U?void 0:U.length)>0,onOpen:z,isSelectionMode:E,onEnterSelectionMode:A,onExitSelectionMode:O})}),(0,l.jsxs)(f.a,{flex:1,children:[W?(0,l.jsx)(tE,{}):(null==U?void 0:U.length)?(0,l.jsx)(tb,{images:null!=U?U:[],selectedImages:g,onImageClick:Q,onImageMouseOver:X,onImageMouseDown:J,imageRef:B,loading:W,canFetchMore:G,fetchMore:H,isFetchingMore:V}):(0,l.jsx)(sz.T,{display:"flex",flexDirection:"column",alignItems:"center",margin:"auto",flex:1,h:"100%",maxW:"3xl",justifyContent:"center",children:(0,l.jsx)(f.a,{maxW:"360px",children:(0,l.jsx)(I.p,{title:td.G.title,description:td.G.description,children:(0,l.jsx)(ty,{isDisabled:!1,onClick:z})})})}),E&&(0,l.jsx)(tk,{numImages:g.size,isDeletingMany:K,onUnselectAll:()=>{b(new Set)},onCancel:O,onDelete:async()=>{let e=await Y(Array.from(g)),i=g.size;O();let s=m(e.success?{title:(0,l.jsx)(R.s,{children:(0,l.jsxs)(L.E,{children:[(0,l.jsx)(x.x6,{id:"EYWRYY",values:{numImages:i}}),(0,l.jsx)(v.N,{textDecoration:"underline",ms:1,onClick:()=>{e.undo(),m.close(s)},children:(0,l.jsx)(x.x6,{id:"9uI/rE"})})]})}),status:"success",isClosable:!0,duration:3e3,position:"top"}:{title:$.Ru._({id:"Y0UUjO",values:{numImages:i}}),status:"error",isClosable:!0,duration:2e3,position:"top"});j.current.add(s)}})]}),(0,l.jsx)(tp,{isOpen:P,onClose:()=>{u({}),N()},finalFocusRef:B,selectedImageAttrs:null!=h?h:{},setSelectedImageAttrs:u})]})}),le=eA(e=>{let{isSidebarVisible:i,setIsSidebarVisible:s}=e,t=(0,iy.GV)(o.Pg),{isOpen:n,onOpen:r,onClose:a}=(0,p.j)({id:"template-browser-modal"});if((0,U.Xb)())return A().replace("/"),null;let{displayName:d,ariaLabel:c,icon:x}=M.mQ[M.n8.TEMPLATES];return(0,l.jsxs)(f.a,{w:"100%","data-testid":"templates-view-container",children:[(0,l.jsx)(eI.e,{isSidebarVisible:i,setIsSidebarVisible:s,children:(0,l.jsxs)(P.D,{size:"sm","data-testid":"templates-view-header",children:[x&&(0,l.jsx)(E.g,{icon:x,"aria-label":c()})," ",(0,l.jsx)(L.E,{as:"span",ms:2,children:d})]})}),t&&(null==t?void 0:t.length)>0&&(null==t?void 0:t.map(e=>(0,l.jsx)(tK,{category:e},e.id))),n&&(0,l.jsx)(tG,{isOpen:!0,onClose:a})]})}),li=eA(e=>{let{isSidebarVisible:i,setIsSidebarVisible:s}=e,t=(0,iy.GV)(o.dB),{displayName:n,ariaLabel:r,description:a,icon:d}=M.mQ[M.n8.INSPIRATION];return(0,l.jsxs)(f.a,{w:"100%","data-testid":"inspiration-view-container",children:[(0,l.jsx)(eI.e,{isSidebarVisible:i,setIsSidebarVisible:s,children:(0,l.jsxs)(P.D,{size:"sm","data-testid":"inspiration-view-header",children:[d&&(0,l.jsx)(E.g,{icon:d,"aria-label":r()})," ",(0,l.jsx)(L.E,{as:"span",ms:2,children:n})]})}),t&&(null==t?void 0:t.length)>0&&(null==t?void 0:t.map(e=>(0,l.jsx)(t_,{category:e},e.id)))]})}),ls=eA(e=>{let{isSidebarVisible:i,setIsSidebarVisible:s}=e,[t,r]=(0,n.useState)("custom"),{currentWorkspace:a}=(0,O.ur)();(0,tq.t)();let{globalFontsMap:o}=(0,tJ.II)(),d=(0,T.useRouter)(),{data:c,loading:h,called:j}=(0,_.Snx)({variables:{workspaceId:null==a?void 0:a.id,archived:!1},skip:!a}),{data:p}=(0,_.Snx)({variables:{workspaceId:null,archived:!1}}),[m,{data:v,loading:b}]=(0,_.Oc4)({variables:{workspaceId:null==a?void 0:a.id,archived:!0},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"});(0,n.useEffect)(()=>{"archived"===t&&a&&m()},[a,t,m]);let k=(null==v?void 0:v.themes)||[],S=(null==c?void 0:c.themes)||[],A=(null==p?void 0:p.themes)||[],D=!j||h||b,{displayName:F,description:R,ariaLabel:N,icon:B}=M.mQ[M.n8.THEMES],U=tX.K1.map(e=>({key:e,...(0,tX.k9)()[e]})),W="custom"===t?S:"archived"===t?k:A,H=(0,u.u)("themeImportAi")&&a,V=U.find(e=>e.key===t),G=0!==W.length;(0,tJ.SZ)(d.query.themeId);let Y="custom"===t&&!G&&!D;return(0,l.jsxs)(f.a,{w:"100%","data-testid":"themes-view-container",children:[(0,l.jsx)(tP.s,{}),(0,l.jsxs)(eI.e,{isSidebarVisible:i,setIsSidebarVisible:s,children:[(0,l.jsxs)(P.D,{size:"sm",fontWeight:"600","data-testid":"themes-view-header",children:[B&&(0,l.jsx)(E.g,{icon:B,"aria-label":N()})," ",(0,l.jsx)(L.E,{as:"span",ms:2,children:F})]}),(0,l.jsx)(L.E,{fontSize:"md",mt:"2",color:"gray.600",children:R}),(0,l.jsx)(g.B,{direction:{base:"column",lg:"row"},spacing:2,my:4,children:(0,l.jsxs)(eY.e,{size:"md",children:[a&&(0,l.jsx)(eg.Tz,{label:(0,l.jsx)(x.x6,{id:"LPcaN9"}),placement:"top",children:(0,l.jsx)(z.$,{variant:"solid",leftIcon:(0,l.jsx)(E.g,{icon:w.QLR}),onClick:i2._E,"data-testid":"new-theme-button",children:(0,l.jsx)(x.x6,{id:"FiwgR9"})})}),H&&(0,l.jsx)(eg.Tz,{label:(0,l.jsx)(x.x6,{id:"OPW4Wb"}),placement:"top",children:(0,l.jsx)(z.$,{variant:"plain",leftIcon:(0,l.jsx)(E.g,{icon:w.$MS}),onClick:i2.yJ,children:(0,l.jsx)(x.x6,{id:"/Zo0hK"})})})]})}),(0,l.jsx)(iN.x,{selectedOption:V,setSelectedOption:e=>r(e.key),options:U,dropdownButtonLeftIcon:(0,l.jsx)(E.g,{icon:w.mRM,fixedWidth:!0}),dropdownMenuTitle:$.Ru._({id:"MwX53Z"})})]}),D&&(0,l.jsx)(f.a,{width:"100%","data-testid":"themes-skeleton",children:(0,l.jsx)(sF.r,{columns:[1,2,2,3,5],spacing:6,children:[1,2,3,4,5,6,7,8].map(e=>(0,l.jsx)(y.E,{as:C.E,borderRadius:"5px",height:"144px"},e))})}),!D&&G&&(0,l.jsx)(t1,{themes:W,type:t,globalFontsMap:o}),"archived"===t&&!G&&!D&&(0,l.jsx)(x.x6,{id:"IrP0/5"}),Y&&(0,l.jsx)(e7.o,{minH:"sm",pt:12,children:(0,l.jsx)(f.a,{maxW:"400px",children:(0,l.jsx)(I.p,{title:(0,l.jsx)(x.x6,{id:"aTESP9"}),description:(0,l.jsx)(x.x6,{id:"/2Z+bx"})})})}),(0,l.jsx)(tZ.n,{})]})}),lt=eA(e=>{let{isSidebarVisible:i,setIsSidebarVisible:s}=e,{currentWorkspace:t}=(0,O.ur)(),{openUpsellModal:r}=(0,tl.I)(),a=(0,B.ez)("custom_fonts"),[o,d]=(0,n.useState)(null),{data:c,error:h,loading:u}=(0,_.Ztt)({variables:{workspaceId:null==t?void 0:t.id,archived:!1},skip:!t}),{isOpen:j,onOpen:m,onClose:v}=(0,p.j)(),{isOpen:b,onOpen:y,onClose:C}=(0,p.j)(),{isOpen:k,onOpen:S,onClose:T}=(0,p.j)(),A=(0,n.useCallback)((e,i)=>()=>{if(!a)return void r({segmentEvent:se.VV.GAMMA_PRO_UPSELL_CALLOUT_CUSTOM_FONTS});d(e),"edit"===i?m():(y(),v()),T()},[a,r,y,T,m,v]),I=(0,n.useCallback)(()=>{if(!a)return void r({segmentEvent:se.VV.GAMMA_PRO_UPSELL_CALLOUT_CUSTOM_FONTS});d(null),m()},[a,r,m]),D=(0,n.useCallback)(e=>()=>{d(e),S()},[S]),{displayName:F,description:R,ariaLabel:z,icon:N}=M.mQ[M.n8.FONTS],U=((null==c?void 0:c.fonts)||[]).filter(e=>!e.archived),W=U.map(e=>({id:e.id,name:e.name,url:e.cssUrl})),H=U.length;return(0,l.jsxs)(f.a,{w:"100%","data-testid":"fonts-view-container",children:[(0,l.jsx)(tn.J,{fonts:W}),(0,l.jsxs)(eI.e,{isSidebarVisible:i,setIsSidebarVisible:s,children:[(0,l.jsxs)(P.D,{size:"sm","data-testid":"fonts-view-header",children:[N&&(0,l.jsx)(E.g,{icon:N,"aria-label":z()})," ",(0,l.jsx)(L.E,{as:"span",ms:2,children:F})]}),(0,l.jsx)(L.E,{fontSize:"md",mt:"2",mb:"6",color:"gray.600",children:R})]}),(0,l.jsxs)(g.B,{children:[(0,l.jsx)(L.E,{color:"gray.600",children:(0,l.jsx)(x.x6,{id:"GOR0mG",values:{numOfFonts:H}})}),(0,l.jsxs)(sF.r,{columns:{base:1,md:2,xl:3,"2xl":4},spacing:6,children:[(0,l.jsx)(tr,{label:(0,l.jsx)(x.x6,{id:"O7HGjV"}),icon:(0,l.jsx)(E.g,{icon:w.MNJ}),onClick:I}),!u&&!h&&U.map(e=>(0,l.jsx)(s$,{font:e,onEditClick:A(e,"edit"),onDeleteClick:A(e,"delete"),onClick:D(e)},e.id))]})]}),j&&t&&(0,l.jsx)(ts,{onClose:v,orgId:t.id,font:o}),b&&t&&o&&(0,l.jsx)(sP,{onClose:C,orgId:t.id,font:o}),k&&o&&(0,l.jsx)(sV,{onClose:T,onEditClick:A(o,"edit"),onDeleteClick:A(o,"delete"),font:o})]})}),ll=()=>{let e=(0,u.u)("workspaceTemplates"),{isInOfflineMode:i}=(0,h.u)(),{activeTab:s,userHasNoWorkspaces:t,currentChannelId:n,channelPreview:r,isSidebarVisible:a,setIsSidebarVisible:o,sitesEnabled:d,activeChannel:c}=(0,j.q)();switch(s){case"all":return(0,l.jsx)(sD,{activeTab:s,userHasNoWorkspaces:t,isSidebarVisible:a,setIsSidebarVisible:o,currentChannelId:n,activeChannel:c,channelPreview:r,isOffline:i});case"sites":if(d)return(0,l.jsx)(eD,{isSidebarVisible:a,setIsSidebarVisible:o,offlineHeading:(0,l.jsx)(x.x6,{id:"Dof5VE"}),offlineDescription:(0,l.jsx)(x.x6,{id:"u0EQli"})});case"images":return(0,l.jsx)(t7,{isSidebarVisible:a,setIsSidebarVisible:o,offlineHeading:(0,l.jsx)(x.x6,{id:"4v2FOG"}),offlineDescription:(0,l.jsx)(x.x6,{id:"x+pag6"})});case"templates":if(e)return(0,l.jsx)(t8,{isSidebarVisible:a,setIsSidebarVisible:o});return(0,l.jsx)(le,{isSidebarVisible:a,setIsSidebarVisible:o,offlineHeading:(0,l.jsx)(x.x6,{id:"YYsmce"}),offlineDescription:(0,l.jsx)(x.x6,{id:"lMx/ij"})});case"inspiration":return(0,l.jsx)(li,{isSidebarVisible:a,setIsSidebarVisible:o,offlineHeading:(0,l.jsx)(x.x6,{id:"dkw/zY"}),offlineDescription:(0,l.jsx)(x.x6,{id:"8S3Eta"})});case"themes":return(0,l.jsx)(ls,{isSidebarVisible:a,setIsSidebarVisible:o,offlineHeading:(0,l.jsx)(x.x6,{id:"6P6zXk"}),offlineDescription:(0,l.jsx)(x.x6,{id:"TVO3Di"})});case"fonts":return(0,l.jsx)(lt,{isSidebarVisible:a,setIsSidebarVisible:o,offlineHeading:(0,l.jsx)(x.x6,{id:"lPCuxG"}),offlineDescription:(0,l.jsx)(x.x6,{id:"jD6dRp"})});default:return(0,l.jsx)(sD,{activeTab:s,userHasNoWorkspaces:t,isSidebarVisible:a,setIsSidebarVisible:o,currentChannelId:n,activeChannel:c,channelPreview:r,isOffline:i})}};var ln=s(95669),lr=s.n(ln);let la=()=>(0,l.jsxs)(R.s,{"data-testid":"home",width:"100%",height:"100%",children:[(0,l.jsx)(lr(),{children:(0,l.jsx)("title",{children:"Gamma"})}),(0,l.jsxs)(R.s,{"data-testid":"doc-root-main",flex:"1",py:6,px:1,w:"100vw",bg:"gray.50",direction:"column",marginLeft:{base:"0"},minH:"var(--100vh)",transition:"margin .2s ease",children:[(0,l.jsx)(C.E,{height:"42px",w:"30%",mb:2}),(0,l.jsx)(C.E,{height:"24px",w:"100%",mb:2}),(0,l.jsx)(C.E,{height:"24px",w:"100%",mb:10}),(0,l.jsx)(R.s,{width:"100%",children:(0,l.jsx)(iz,{})})]})]});var lo=s(63315),ld=s(11403),lc=!0;let lx=e=>{let{templateCategories:i,inspirationCategories:s}=e,t=(0,ld.En)(),x=(0,r.wA)();(0,n.useEffect)(()=>{x((0,o.pE)({templateCategories:i})),x((0,o.PZ)({inspirationCategories:s}))},[i,s,x]),(0,d.a)(!0),(0,c.l)();let h=(0,a.hh)();return t&&h?(0,l.jsx)(ll,{},"home-v2"):(0,l.jsx)(la,{},"home-skeleton")},lh=(0,lo.M)(lx)},99733:(e,i,s)=>{"use strict";s.d(i,{_:()=>l});var t=s(46980);function l(){let{isEditing:e,getEditButtonProps:i,getCancelButtonProps:s,getSubmitButtonProps:l}=(0,t.nE)();return{isEditing:e,getEditButtonProps:i,getCancelButtonProps:s,getSubmitButtonProps:l}}}},e=>{var i=i=>e(e.s=i);e.O(0,[4624,7963,5088,8375,3868,4003,1337,1921,5429,4728,3588,7461,1089,6083,8689,7653,9536,5038,817,925,6441,2726,6899,5712,5499,2034,636,6593,8792],()=>i(17703)),_N_E=e.O()}]);
//# sourceMappingURL=index-13abca15353eae86.js.map