"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3539],{17206:(e,t,n)=>{n.d(t,{n:()=>T,j:()=>V});var i=n(6029),r=n(12514),s=n(40452),o=n(64268),a=n(26385),l=n(48810),d=n(49611),u=n(77364),c=n(99492),x=n(48621),p=n(55729),m=n(5061),j=n(15342),h=n(43634),y=n(29608),b=n(28615),f=n(11403),v=n(6807),g=n(85732),O=n(68986),A=n(19564),w=n(68301),N=n(70006),M=n(99038),k=n(80314),_=n(67604),P=n(47117),E=n(86025),R=n(14900),C=n(95889),U=n(82927),D=n(74003),B=n(86992),I=n(14322),F=n(65148);let G=[{Component:()=>{let e=(0,w.u)("outageButterbar");if(!e.enabled)return null;let{header:t,text:n,buttonLink:r,buttonText:s,key:o,pathnameRegexp:a}=e;return(0,i.jsx)(V,{definition:{key:o,header:t,text:n,buttonText:s,buttonLink:r,conditions:()=>!a||null!==window.location.pathname.match(new RegExp(a))}})},key:"outage-butterbar"},{Component:()=>"NORMAL"===(0,w.u)("openAiStatus")?null:(0,i.jsx)(V,{definition:{key:"ai-service-status",header:(0,i.jsx)(A.x6,{id:"1Agl06"}),text:(0,i.jsx)(A.x6,{id:"cCl6WD"}),ttl:86400,conditions:()=>(0,N.a5)(window.location.pathname)}}),key:"ai-service-status-butterbar"},{Component:()=>{var e,t,n;let{user:r,currentWorkspace:s}=(0,U.ur)(),{subscription:o,product:a}=(0,D.I)(),{launchFailedPaymentFlow:l,failedPaymentFlowEnabled:d}=(0,E.yf)({subscription:o,workspace:s,autoLaunch:!1});if(!o||!a)return null;let{name:u,dontChurnMessage:c}=(0,B.O)()[a],{status:x,expirationTime:p,id:m}=o,j=(0,R.Yq)(p,"MMMM do, yyyy"),h=(null==o||null==(e=o.createdByUser)?void 0:e.id)===(null==r?void 0:r.id),y=(0,I.AY)(),b=p>Date.now();if("unpaid"!==x&&"past_due"!==x&&!b)return null;let f=y&&(h||!(null==o?void 0:o.createdByUser))?(0,i.jsx)(A.x6,{id:"velw1T",values:{expirationFormatted:j,GAMMA_PROPER_NOUN:M.On,productName:u},components:{0:(0,i.jsx)(k.N,{href:d?void 0:y,onClick:d?l:void 0,isExternal:!0,textDecoration:"underline"})}}):(0,i.jsx)(A.x6,{id:"9aBOfk",values:{expirationFormatted:j,GAMMA_PROPER_NOUN:M.On,productName:u,0:null==(t=o.createdByUser)?void 0:t.displayName,1:null==(n=o.createdByUser)?void 0:n.email},components:{0:(0,i.jsx)("b",{}),1:(0,i.jsx)("b",{})}});return(0,i.jsx)(V,{definition:{key:"payment-overdue-".concat(m),header:(0,i.jsx)(A.x6,{id:"Lac1Vj",values:{GAMMA_PROPER_NOUN:M.On,productName:u}}),text:(0,i.jsxs)(i.Fragment,{children:[c," ",f]}),buttonText:(0,i.jsx)(A.x6,{id:"WLvqZR"}),buttonLink:d?void 0:y,buttonOnClick:d?l:void 0}})},key:"payment-overdue-butterbar"},{Component:()=>{let{subscription:e,openUpsellModal:t}=(0,D.I)();if(!e)return null;let{status:n,expirationTime:r,id:s}=e;if(!(new Date>(0,_.A)(r)&&new Date<(0,P.A)((0,_.A)(r),{days:10})))return null;let o=()=>t({segmentEvent:C.VV.GAMMA_PRO_UPSELL_SUBSCRIPTION_EXPIRED_BUTTERBAR}),a=(0,i.jsx)(k.N,{onClick:o,isExternal:!0,textDecoration:"underline",children:(0,i.jsx)(A.x6,{id:"mj68q/"})});return(0,i.jsx)(V,{definition:{key:"subscription-expired-".concat(s),header:(0,i.jsx)(A.x6,{id:"0hHZEf",values:{GAMMA_PROPER_NOUN:M.On}}),text:(0,i.jsxs)(i.Fragment,{children:["unpaid"===n||"past_due"===n?(0,i.jsx)(A.x6,{id:"QdgXJv"}):""," ",a]}),buttonText:(0,i.jsx)(A.x6,{id:"kwkhPe"}),buttonOnClick:o}})},key:"subscription-expired-butterbar"},{Component:()=>{var e,t,n;let{user:r}=(0,U.ur)(),{subscription:s,product:o}=(0,D.I)();if(!s||!o)return null;let{status:a,expirationTime:l,id:d,cancellationRequestedTime:u}=s;if(!("canceled"!=a&&u&&new Date<(0,_.A)(l)&&new Date>(0,P.A)((0,_.A)(l),{days:-7})))return null;let c=(null==s||null==(e=s.createdByUser)?void 0:e.id)===(null==r?void 0:r.id),x=(0,I.AY)(),p=(0,R.Yq)(l,"MMMM do, yyyy"),{name:m,dontChurnMessage:j}=(0,B.O)()[o],h=!c&&(null==s?void 0:s.createdByUser)?(0,i.jsx)(A.x6,{id:"z4DeyC",values:{expirationFormatted:p,GAMMA_PROPER_NOUN:M.On,productName:m,0:null==(t=s.createdByUser)?void 0:t.displayName,1:null==(n=s.createdByUser)?void 0:n.email},components:{0:(0,i.jsx)("b",{}),1:(0,i.jsx)("b",{})}}):(0,i.jsx)(A.x6,{id:"qP91+f",values:{expirationFormatted:p,GAMMA_PROPER_NOUN:M.On,productName:m},components:{0:(0,i.jsx)(k.N,{href:x,isExternal:!0,textDecoration:"underline"})}});return(0,i.jsx)(V,{definition:{key:"subscription-ending-soon-".concat(d),header:(0,i.jsx)(A.x6,{id:"66dedh",values:{GAMMA_PROPER_NOUN:M.On,productName:m}}),text:(0,i.jsxs)(i.Fragment,{children:[j," ",h]}),buttonText:(0,i.jsx)(A.x6,{id:"3jHA5d"}),buttonLink:x}})},key:"upcoming-cancellation-butterbar"},{key:"tablet-browser-warning",header:(0,i.jsx)(A.x6,{id:"JAtlMu",values:{GAMMA_PROPER_NOUN:M.On}}),text:(0,i.jsx)(A.x6,{id:"9JlCFS",values:{GAMMA_PROPER_NOUN:M.On}}),conditions:()=>(0,y.Pg)(),dismissKey:F.E.lastDismissedPreferredBrowserMessage},{key:"desktop-browser-warning",header:(0,i.jsx)(A.x6,{id:"3S0+Wy",values:{GAMMA_PROPER_NOUN:M.On}}),text:(0,i.jsx)(A.x6,{id:"Tf7VpJ"}),conditions:()=>S()&&(0,y.bh)(),dismissKey:F.E.lastDismissedPreferredBrowserMessage}],S=()=>(0,y.z3)()||!(0,y.H8)()&&!(0,y.nr)()&&!(0,y.yE)(),T=e=>{let{isViewOnly:t}=e,n=(0,f.En)(),o=(0,j.GV)(h.VJ);if(t||!n||(0,y.rA)()||b.D1||(0,g.NF)()||o)return null;let a=G.map(e=>"Component"in e?(0,i.jsx)(e.Component,{},e.key):(0,i.jsx)(V,{definition:e},e.key));return(0,i.jsx)(r.Z,{children:(0,i.jsx)(s.s,{"data-testid":"butterbar",direction:"column",top:2,pos:"absolute",zIndex:"toast",sx:{"> *:not(:first-child)":{display:"none"}},children:a})})},V=e=>{let{definition:t}=e,n=(0,m.fW)(),{key:r,dismissKey:j="butterbar-dismiss-".concat(r),header:h,text:y,buttonText:b,buttonLink:f,buttonOnClick:g=f?()=>window.open(f,"_blank"):void 0,conditions:A,ttl:w}=t,[N,M]=(0,v.M)(j,!1);if((0,p.useEffect)(()=>{if(w&&N)new Date().getTime()-new Date(N).getTime()>1e3*w&&O.x.removeItem(j)},[j,N,w]),A&&!A()||N)return null;let k=b&&g;return(0,i.jsxs)(o.F,{gap:4,position:"fixed",insetStart:"50%",transform:"translateX(".concat(n?"50%":"-50%",")"),shadow:"lg",width:{base:"calc(100% - 1rem)",md:"auto"},flexDirection:{base:"column",lg:"row"},alignItems:{base:"flex-start",lg:"center"},colorScheme:"pink",variant:"solid",children:[(0,i.jsxs)(a.B,{spacing:0,flex:1,pe:{base:12,lg:0},children:[(0,i.jsx)(l.E,{fontWeight:"bold",children:h}),(0,i.jsx)(l.E,{opacity:"0.7",fontSize:"xs",children:y})]}),k&&(0,i.jsx)(d.$,{flexShrink:0,variant:"plain",size:"sm",rightIcon:f?(0,i.jsx)(x.g,{icon:c.Ju_}):void 0,onClick:g,children:b}),(0,i.jsx)(s.s,{alignSelf:"flex-start",position:{base:"absolute",lg:"static"},insetEnd:4,top:4,children:(0,i.jsx)(u.J,{variant:"solid-alert",size:"sm",onClick:()=>{M(String(new Date))}})})]})}},83539:(e,t,n)=>{n.d(t,{k:()=>a});var i=n(6029),r=n(40452),s=n(17206);let o=e=>{let{children:t,withFooter:n,isViewOnly:o}=e;return(0,i.jsxs)(r.s,{direction:"column",width:"100%",height:"100%",minHeight:"var(--100vh)",bgColor:"gray.50",color:"gray.700",children:[(0,i.jsx)(s.n,{isViewOnly:o}),(0,i.jsx)(r.s,{zIndex:"1",id:"main",flex:"1",justifyContent:"center",alignItems:"center",direction:"column",position:"relative",children:t}),n&&(0,i.jsxs)(r.s,{fontSize:"12px",color:"gray.400",pb:8,id:"footer",justifyContent:"center",children:["\xa9 ",new Date().getFullYear()," Gamma Tech, Inc."]})]})};function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withFooter:!1,isViewOnly:!1},{withFooter:n,isViewOnly:r}=t,s=t=>(0,i.jsx)(o,{withFooter:n,isViewOnly:r,children:(0,i.jsx)(e,{...t})});return"getInitialProps"in e&&(s.getInitialProps=e.getInitialProps),s}}}]);
//# sourceMappingURL=3539-badf6bb324c6c58d.js.map